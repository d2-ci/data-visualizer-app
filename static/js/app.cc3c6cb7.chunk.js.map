{"version":3,"sources":["D2App/modules/formatDate.js","D2App/assets/chart-error-graphic.png","D2App/modules/settings.js","D2App/api/index.js","D2App/api/organisationUnits.js","D2App/modules/history.js","D2App/D2Shim.js","D2App/reducers/visualization.js","D2App/modules/options.js","D2App/modules/layout.js","D2App/modules/fields/baseFields.js","D2App/modules/layoutAdapters.js","D2App/modules/orgUnit.js","D2App/reducers/ui.js","D2App/modules/seriesItems.js","D2App/modules/ui.js","D2App/modules/current.js","D2App/reducers/current.js","D2App/reducers/dimensions.js","D2App/reducers/recommendedIds.js","D2App/reducers/metadata.js","D2App/reducers/settings.js","D2App/reducers/user.js","D2App/modules/fields/nestedFields.js","D2App/modules/fields/index.js","D2App/api/visualization.js","D2App/actions/visualization.js","D2App/actions/current.js","D2App/actions/dimensions.js","D2App/actions/ui.js","D2App/actions/metadata.js","D2App/api/settings.js","D2App/actions/settings.js","D2App/actions/user.js","D2App/reducers/chart.js","D2App/actions/snackbar.js","D2App/reducers/loader.js","D2App/actions/loader.js","D2App/actions/index.js","D2App/components/Snackbar/styles/Snackbar.style.js","D2App/components/Snackbar/Snackbar.js","D2App/reducers/snackbar.js","D2App/reducers/index.js","D2App/configureStore.js","D2App/components/UpdateButton/UpdateButton.js","D2App/components/DownloadMenu/styles/DownloadMenu.style.js","D2App/api/analytics.js","D2App/components/DownloadMenu/DownloadMenu.js","D2App/components/Interpretations/InterpretationsButton.js","D2App/components/HideButton/HideButton.js","D2App/modules/layoutValidation.js","D2App/api/userDataStore.js","D2App/components/UpdateButton/UpdateVisualizationContainer.js","D2App/components/VisualizationOptions/styles/VisualizationOptions.style.js","D2App/components/VisualizationOptions/Options/SelectBaseOption.js","D2App/components/VisualizationOptions/Options/AggregationType.js","D2App/components/VisualizationOptions/Options/CheckboxBaseOption.js","D2App/components/VisualizationOptions/Options/ShowDimensionLabels.js","D2App/components/VisualizationOptions/Options/SkipRounding.js","D2App/components/VisualizationOptions/Options/ColTotals.js","D2App/components/VisualizationOptions/Options/ColSubTotals.js","D2App/components/VisualizationOptions/Options/RowTotals.js","D2App/components/VisualizationOptions/Options/RowSubTotals.js","D2App/components/VisualizationOptions/Options/HideEmptyColumns.js","D2App/components/VisualizationOptions/Options/HideEmptyRows.js","D2App/components/VisualizationOptions/Options/NumberType.js","D2App/components/VisualizationOptions/Options/RadioBaseOption.js","D2App/components/VisualizationOptions/Options/LegendDisplayStyle.js","D2App/components/VisualizationOptions/Options/TextBaseOption.js","D2App/components/VisualizationOptions/Options/Title.js","D2App/components/VisualizationOptions/Options/DisplayDensity.js","D2App/components/VisualizationOptions/Options/FontSize.js","D2App/components/VisualizationOptions/Options/DigitGroupSeparator.js","D2App/components/VisualizationOptions/Options/MeasureCriteria.js","D2App/components/VisualizationOptions/Options/ParamReportingPeriod.js","D2App/components/VisualizationOptions/Options/ParamOrganisationUnit.js","D2App/components/VisualizationOptions/Options/ParamParentOrganisationUnit.js","D2App/components/VisualizationOptions/Options/Regression.js","D2App/components/VisualizationOptions/Options/Cumulative.js","D2App/components/VisualizationOptions/Options/SortOrder.js","D2App/components/VisualizationOptions/Options/TopLimit.js","D2App/modules/options/pivotTableConfig.js","D2App/components/VisualizationOptions/Options/CumulativeValues.js","D2App/components/VisualizationOptions/Options/ShowData.js","D2App/components/VisualizationOptions/Options/HideEmptyRowItems.js","D2App/components/VisualizationOptions/Options/RegressionType.js","D2App/components/VisualizationOptions/Options/TargetLineValue.js","D2App/components/VisualizationOptions/Options/TargetLineLabel.js","D2App/components/VisualizationOptions/Options/TargetLine.js","D2App/components/VisualizationOptions/Options/BaseLineValue.js","D2App/components/VisualizationOptions/Options/BaseLineLabel.js","D2App/components/VisualizationOptions/Options/BaseLine.js","D2App/components/VisualizationOptions/Options/RangeAxisMinValue.js","D2App/components/VisualizationOptions/Options/RangeAxisMaxValue.js","D2App/components/VisualizationOptions/Options/AxisRange.js","D2App/components/VisualizationOptions/Options/RangeAxisSteps.js","D2App/components/VisualizationOptions/Options/RangeAxisDecimals.js","D2App/components/VisualizationOptions/Options/RangeAxisLabel.js","D2App/components/VisualizationOptions/Options/DomainAxisLabel.js","D2App/components/VisualizationOptions/Options/NoSpaceBetweenColumns.js","D2App/components/VisualizationOptions/Options/HideLegend.js","D2App/components/VisualizationOptions/Options/HideTitle.js","D2App/components/VisualizationOptions/Options/Subtitle.js","D2App/components/VisualizationOptions/Options/HideSubtitle.js","D2App/modules/options/columnConfig.js","D2App/components/VisualizationOptions/Options/PercentStackedValues.js","D2App/modules/options/stackedColumnConfig.js","D2App/modules/options/lineConfig.js","D2App/modules/options/areaConfig.js","D2App/modules/options/pieConfig.js","D2App/components/VisualizationOptions/VisualizationOptions.js","D2App/modules/options/config.js","D2App/components/VisualizationOptions/VisualizationOptionsManager.js","D2App/components/MenuBar/MenuBar.js","D2App/modules/error.js","D2App/components/MenuBar/styles/MenuBar.style.js","D2App/assets/InterpretationIcon.js","D2App/components/TitleBar/styles/TitleBar.style.js","D2App/components/TitleBar/TitleBar.js","D2App/modules/currentAnalyticalObject.js","D2App/assets/ColumnIcon.js","D2App/assets/StackedColumnIcon.js","D2App/assets/BarIcon.js","D2App/assets/StackedBarIcon.js","D2App/assets/PieIcon.js","D2App/assets/GaugeIcon.js","D2App/assets/LineIcon.js","D2App/assets/AreaIcon.js","D2App/assets/RadarIcon.js","D2App/assets/YearOverYearLineIcon.js","D2App/assets/YearOverYearColumnIcon.js","D2App/assets/SingleValueIcon.js","D2App/assets/GlobeIcon.js","D2App/assets/PivotTableIcon.js","D2App/components/VisualizationTypeSelector/MenuItemIcon.js","D2App/components/VisualizationTypeSelector/VisualizationTypeMenuItem.js","D2App/components/VisualizationTypeSelector/styles/VisualizationTypeSelector.style.js","D2App/components/VisualizationTypeSelector/VisualizationTypeSelector.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/DropDownButton.style.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/DropDownButton.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/Menu.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/Menu.style.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/AddToLayoutButton.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/AddToLayoutButton.style.js","D2App/components/DimensionsPanel/Dialogs/DialogManager.js","D2App/actions/recommendedIds.js","D2App/modules/dnd.js","D2App/components/DimensionsPanel/styles/DimensionsPanel.style.js","D2App/components/AxisSetup/styles/AxisSetup.style.js","D2App/components/AxisSetup/AxisSetup.js","D2App/components/AxisSetup/constants.js","D2App/components/DimensionsPanel/DimensionsPanel.js","D2App/components/Interpretations/styles/Interpretations.style.js","D2App/components/Interpretations/Interpretations.js","D2App/components/Visualization/styles/Visualization.style.js","../../../src/modules/fields/baseFields.js","../../../src/modules/fields/nestedFields.js","../../../src/modules/fields/index.js","../../../src/api/visualization.js","../../../src/api/analytics.js","../../../src/modules/options.js","../../../src/modules/analytics.js","../../../src/widgets/LoadingMask.js","../../../src/ChartPlugin.js","../../../src/styles/PivotPlugin.style.js","../../../src/PivotPlugin.js","../../../src/index.js","D2App/components/Visualization/styles/BlankCanvas.style.js","D2App/components/Visualization/BlankCanvas.js","D2App/components/Visualization/Visualization.js","D2App/actions/chart.js","D2App/assets/MoreHorizontalIcon.js","D2App/components/Layout/styles/Menu.style.js","D2App/components/Layout/Menu.js","D2App/components/Layout/styles/Tooltip.style.js","D2App/components/Layout/Tooltip.js","D2App/assets/DynamicDimensionIcon.js","D2App/components/Layout/styles/style.js","D2App/components/Layout/styles/Chip.style.js","D2App/components/Layout/Chip.js","D2App/components/Layout/DefaultLayout/styles/DefaultLayout.style.js","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.style.js","D2App/components/Layout/DefaultLayout/DefaultAxis.js","D2App/components/Layout/DefaultLayout/DefaultLayout.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearAxis.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearAxis.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearSelect.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearSelect.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearLayout.style.js","D2App/modules/yearOverYear.js","D2App/components/Layout/YearOverYearLayout/YearOverYearLayout.js","D2App/components/Layout/PieLayout/PieLayout.js","D2App/components/Layout/Layout.js","D2App/modules/metadata.js","D2App/components/App.js","D2App/modules/theme.js","D2App/AppWrapper.js","D2App/middleware/metadata.js"],"names":["formatDate","value","uiLocale","global","Intl","DateTimeFormat","year","month","day","format","Date","substr","replace","module","exports","SYSTEM_SETTINGS","extractUserSettings","settings","displayNameProperty","keyAnalysisDisplayProperty","keyUiLocale","onError","error","console","log","apiFetchOrganisationUnitRoot","url","join","getInstance","then","d2","Api","getApi","get","organisationUnits","catch","apiFetchOrganisationUnitLevels","organisationUnitLevels","createHashHistory","D2Shim","children","initConfig","appConfig","useConfig","useState","params","setParams","useEffect","a","async","baseUrl","apiVersion","d2Init","getUserSettings","userSettings","d2Config","i18n","sources","add","ouLevels","location","history","initD2","ScreenCover","CircularLoader","SET_VISUALIZATION","CLEAR_VISUALIZATION","DEFAULT_VISUALIZATION","state","action","type","sGetVisualization","visualization","sGetInterpretations","interpretations","options","baseLineLabel","defaultValue","undefined","requestable","baseLineValue","cumulativeValues","domainAxisLabel","hideEmptyRowItems","hideLegend","noSpaceBetweenColumns","percentStackedValues","rangeAxisDecimals","rangeAxisLabel","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","regressionType","showData","targetLineLabel","targetLineValue","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","title","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","legendSet","legendDisplayStyle","displayDensity","fontSize","digitGroupSeparator","reportingPeriod","organisationUnit","parentOrganisationUnit","grandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","computedOptions","baseLine","targetLine","axisRange","getOptionsForUi","Object","entries","reduce","map","option","props","isNotDefault","optionsFromVisualization","prop","Boolean","getOptionsFromVisualization","pick","keys","reportParams","ADD_TO_LAYOUT_OPTIONS","axisId","AXIS_ID_COLUMNS","name","t","AXIS_ID_ROWS","AXIS_ID_FILTERS","menuLabels","columns","rows","filters","getFilteredLayout","layout","excludedIds","ids","Array","isArray","filter","dim","includes","getInverseLayout","forEach","id","getRetransfer","transfer","visType","inverseLayout","dimensionIds","retransfer","sourceAxis","destinationAxisId","dimensionsAtDestination","length","getAxisMaxNumberOfDimensions","getAvailableAxes","find","axis","getFieldObject","fieldsByType","reportTable","chart","excluded","eventReport","reportTable_eventReport","chart_eventChart","eventReport_eventChart","reportTable_chart_eventReport","reportTable_eventReport_eventChart","reportTable_chart_eventReport_eventChart","extractName","propObj","markExcluded","fieldObj","moveExcludedToEnd","acc","current","curIndex","array","slice","charAt","push","shift","getAllFieldObjectsByType","fields","key","concat","pieLayoutAdapter","yearOverYearLayoutAdapter","DIMENSION_ID_PERIOD","singleValueLayoutAdapter","DIMENSION_ID_DATA","isOuLevelIntId","ouIdHelper","hasLevelPrefix","Number","isInteger","parseInt","removePrefix","convertOuLevelsToUids","ouDimension","layoutGetDimension","DIMENSION_ID_ORGUNIT","dimensionGetItems","some","item","replaceNumericOuLevel","ouIntId","ouUid","l","level","assign","addLevelPrefix","replaceNumericOuLevelWithUid","updatedOuItems","layoutReplaceDimension","removeLastPathSegment","path","match","lastIndexOf","getOuPath","metadata","parentGraphMap","SET_UI","SET_UI_FROM_VISUALIZATION","SET_UI_TYPE","SET_UI_OPTIONS","SET_UI_LAYOUT","ADD_UI_LAYOUT_DIMENSIONS","REMOVE_UI_LAYOUT_DIMENSIONS","SET_UI_ITEMS","ADD_UI_ITEMS","REMOVE_UI_ITEMS","SET_UI_PARENT_GRAPH_MAP","ADD_UI_PARENT_GRAPH_MAP","SET_UI_ACTIVE_MODAL_DIALOG","SET_UI_YEAR_ON_YEAR_SERIES","SET_UI_YEAR_ON_YEAR_CATEGORY","CLEAR_UI","TOGGLE_UI_RIGHT_SIDEBAR_OPEN","SET_UI_RIGHT_SIDEBAR_OPEN","SET_UI_INTERPRETATION","CLEAR_UI_INTERPRETATION","SET_AXES","DEFAULT_UI","VIS_TYPE_COLUMN","itemsByDimension","yearOverYearSeries","yearOverYearCategory","activeModalDialog","rightSidebarOpen","interpretation","axes","getUiFromVisualization","transfers","newLayout","dimensionId","itemIds","currentItemIds","dxItems","Set","itemIdsToRemove","castArray","rootOrganisationUnit","relativePeriod","sGetUi","ui","sGetUiType","sGetUiOptions","sGetUiLayout","sGetUiItems","sGetUiYearOverYearSeries","sGetUiYearOverYearCategory","sGetUiParentGraphMap","sGetUiActiveModalDialog","sGetUiRightSidebarOpen","sGetUiInterpretation","sGetAxes","getAxisIdByDimensionId","sGetUiItemsByDimension","dimension","sGetDimensionIdsFromLayout","values","sGetAxisSetup","items","getAxesFromSeriesItems","seriesItems","vis","currentState","defaultVisType","layoutGetAxisIdDimensionIdsObject","layoutGetDimensionIdItemIdsObject","getParentGraphMapFromVisualization","isYearOverYear","getAdaptedUiByType","VIS_TYPE_YEAR_OVER_YEAR_LINE","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","yearOverYearUiAdapter","VIS_TYPE_PIE","pieUiAdapter","VIS_TYPE_SINGLE_VALUE","VIS_TYPE_GAUGE","singleValueUiAdapter","dimensionIdsByAxis","ouAxis","orgUnit","getAxesFromUi","object","dimensionCreate","getOptionsFromUi","optionsFromUi","getSeriesItemsFromUi","destinationMap","sourceMap","propName","seriesItemsObj","arr","getSingleValueCurrentFromUi","axesFromUi","layoutGetDimensionItems","singleValueAxesFromUi","getPieCurrentFromUi","getYearOverYearCurrentFromUi","dxItem","f","SET_CURRENT","SET_CURRENT_FROM_UI","CLEAR_CURRENT","DEFAULT_CURRENT","getDefaultFromUi","sGetCurrent","sGetCurrentFromUi","SET_DIMENSIONS","SET_SELECTED_DIMENSION","DEFAULT_DIMENSIONS","sGetDimensions","dimensions","SET_RECOMMENDED_IDS","DEFAULT_RECOMMENDED_IDS","sGetRecommendedIds","recommendedIds","DEFAULT_METADATA","sGetMetadata","SET_SETTINGS","ADD_SETTINGS","DEFAULT_SETTINGS","keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator","sGetSettings","sGetSettingsDisplayNameProperty","sGetRootOrgUnit","sGetRelativePeriod","sGetUiLocale","DEFAULT_USER","username","isSuperuser","fromD2ToUserObj","d2Object","authorities","has","NAME","DIMENSION_ITEM","LEGEND_SET","USER","ITEMS","COMMENTS","AXIS","nestedFields","user","comments","extendFields","field","getFieldsStringByType","sort","apiFetchVisualization","models","apiSaveVisualization","modelDefinition","api","apiEndpoint","queryString","skipTranslations","skipSharing","query","encodeURIComponent","update","post","acSetVisualization","acClear","acSetCurrent","acSetCurrentFromUi","tSetCurrentFromUi","dispatch","getState","acSetDimensions","keyBy","sortBy","d","toLowerCase","tSetDimensions","onSuccess","displayNameProp","apiFetchDimensions","acSetUi","acSetUiFromVisualization","acSetUiType","acSetUiOptions","acSetUiLayout","acAddUiLayoutDimensions","acRemoveUiLayoutDimensions","acSetUiItems","acAddUiItems","acRemoveUiItems","acSetUiYearOverYearSeries","acSetUiYearOverYearCategory","acAddParentGraphMap","acSetParentGraphMap","acSetUiActiveModalDialog","acToggleUiRightSidebarOpen","acSetUiRightSidebarOpen","acSetUiInterpretation","acClearUiInterpretation","acSetAxes","acAddMetadata","apiFetchSystemSettings","s","acSetSettings","acAddSettings","tAddSettings","extraSettings","fetchedSettings","systemSettings","acReceivedUser","sGetChart","acReceivedSnackbarMessage","RECEIVED_SNACKBAR_MESSAGE","acCloseSnackbar","CLOSE_SNACKBAR","DEFAULT_LOADING","isLoading","loadingError","sGetLoadError","loader","acSetLoadError","acClearLoadError","tDoLoadVisualization","interpretationId","model","toJSON","i","fromUi","fromVisualization","fromCurrent","clearVisualization","fromLoader","container","display","alignItems","icon","marginRight","closeIcon","marginLeft","width","height","cursor","warning","backgroundColor","colors","yellow500","color","black","red500","white","connect","sGetSnackbar","variant","message","duration","open","onClose","fromSnackbar","setTimeout","withStyles","styles","classes","autoHideDuration","className","onClick","DEFAULT_SNACKBAR","snackbar","combineReducers","sGetAxisSetupItems","obj","fromMetadata","configureStore","args","middleware","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","UpdateButton","Button","data-test","primary","arrowIcon","menuAnchorOrigin","vertical","horizontal","submenuAnchorOrigin","apiDownloadImage","formData","fetch","method","body","headers","Headers","defaultHeaders","res","blob","apiDownloadData","idScheme","req","analytics","request","fromModel","withFormat","withPath","withOutputIdScheme","URL","buildUrl","origin","pathname","buildQuery","searchParams","append","_defineProperty","defineProperty","enumerable","configurable","writable","DownloadMenu","target","setState","anchorEl","dataType","payload","URLSearchParams","createObjectURL","toggleMenu","toggleSubmenu","schemeSubmenu","advancedSubmenu","this","event","currentTarget","disableRipple","disableFocusRipple","disabled","anchorOrigin","getContentAnchorEl","component","downloadImage","style","downloadData","Component","theme","spacing","unit","marginTop","size","HideButton","secondary","dxName","FIXED_DIMENSIONS","errorLabels","defaultSeries","series","getAxisName","defaultCategory","category","defaultPe","pie","dx","data","pe","yearOverYear","seriesPeriod","categoryPeriod","singleValue","validateDimension","dimensionIsValid","requireItems","Error","validateAxis","isValid","isAxisValid","validateLayout","validatePieLayout","validateYearOverYearLayout","validateSingleValueLayout","validateDefaultLayout","CURRENT_AO_KEY","hasNamespace","currentUser","dataStore","getNamespace","create","apiSave","namespace","ns","set","apiFetch","apiSaveAOInUserDataStore","apiFetchAOFromUserDataStore","mapDispatchToProps","getCurrent","getCurrentFromUi","onUpdate","fromActions","renderComponent","err","urlContainsCurrentAOKey","pathWithoutInterpretation","tabBar","tabSection","spacers","dp16","tabSectionTitle","grey900","tabSectionOption","tabSectionOptionItem","dp8","tabSectionOptionText","dp14","tabSectionOptionToggleable","dp4","tabSectionOptionComplexInline","ownProps","enabled","onChange","onToggle","checked","label","helpText","toggleable","selected","String","Checkbox","dense","SingleSelectField","inputWidth","SingleSelectOption","AggregationType","ShowDimensionLabels","SkipRounding","ColTotals","ColSubTotals","RowTotals","RowSubTotals","HideEmptyColumns","HideEmptyRows","NumberType","RadioGroupField","Radio","LegendDisplayStyle","placeholder","inline","Input","InputField","Title","defaultProps","DisplayDensity","FontSize","DigitGroupSeparator","OperatorSelect","SingleSelect","tabIndex","inputMaxWidth","ValueInput","MeasureCriteria","defaultState","op1","v1","op2","v2","split","_op","_v","_op2","_v2","paddingBottom","Label","Field","onClear","ParamReportingPeriod","ParamOrganisationUnit","ParamParentOrganisationUnit","Regression","Cumulative","SortOrder","TopLimit","content","React","Children","toArray","CumulativeValues","ShowData","HideEmptyRowItems","RegressionType","TargetLineValue","TargetLineLabel","BaseLineValue","BaseLineLabel","RangeAxisMinValue","RangeAxisMaxValue","AxisRange","Help","RangeAxisSteps","RangeAxisDecimals","RangeAxisLabel","DomainAxisLabel","NoSpaceBetweenColumns","HideLegend","HideTitle","visualizationType","VIS_TYPE_PIVOT_TABLE","RadioGroup","hideTitleSelector","createSelector","uiOptions","Subtitle","HideSubtitle","PercentStackedValues","VisualizationOptions","activeTabKey","tabKey","sections","FieldSet","Legend","tabs","generateTabContent","optionsConfig","VIS_TYPE_BAR","columnConfig","VIS_TYPE_STACKED_COLUMN","VIS_TYPE_STACKED_BAR","stackedColumnConfig","VIS_TYPE_LINE","VIS_TYPE_RADAR","lineConfig","VIS_TYPE_AREA","areaConfig","pieConfig","pivotTableConfig","getOptionsByType","generateTabs","activeTabIndex","findIndex","tab","TabBar","index","Tab","selectTab","VisualizationOptionsManager","toggleVisualizationOptionsDialog","dialogIsOpen","handler","Modal","large","ModalTitle","ModalContent","ModalActions","ButtonStrip","getPrimaryOnClick","onOpen","onNew","getOnRename","details","onRenameVisualization","getOnSave","onSaveVisualization","getOnSaveAs","getOnDelete","onDeleteVisualization","getOnError","MenuBar","context","menuBar","updateButton","small","fileId","fileType","apiObjectName","onRename","onSave","onSaveAs","onDelete","grow","contextTypes","PropTypes","description","updatedVisualization","updatedCurrent","copy","status","response","uid","what","httpStatusCode","parseError","background","padding","fontWeight","textTransform","flex","InterpretationIcon","viewBox","version","xmlns","stroke","strokeWidth","fill","fillRule","transform","x","y","opacity","rx","strokeLinecap","strokeLinejoin","points","titleBar","justifyContent","cell","borderRadius","margin","suffix","paddingLeft","grey700","interpretationIcon","titleUnsaved","grey500","fontStyle","titleDirty","TITLE_UNSAVED","TITLE_DIRTY","defaultTitleStyle","defaultInterpretationStyle","getTitleText","titleState","stateProps","dispatchProps","getTitleState","titleText","interpretationDate","created","titleStyle","getCustomTitleStyle","getSuffix","getPathForOrgUnit","prepareCurrentAnalyticalObject","appendCompleteParentGraphMap","appendPathsToOrgUnits","appendNames","appendDimensionItemNamesToAnalyticalObject","displayName","removeUnnecessaryAttributesFromAnalyticalObject","ColumnIcon","paddingRight","StackedColumnIcon","BarIcon","StackedBarIcon","PieIcon","cx","cy","r","strokeDasharray","mask","GaugeIcon","LineIcon","AreaIcon","RadarIcon","YearOverYearLineIcon","YearOverYearColumnIcon","SingleValueIcon","GlobeIcon","xlinkHref","PivotTableIcon","MenuItemIcon","iconType","VisualizationTypeMenuItem","isSelected","menuItem","listItemIcon","listItemSvg","disableTypography","listItemText","button","dropDownArrow","menu","maxWidth","menuDivider","border","borderBottom","borderColor","grey300","flexDirection","float","marginBottom","whiteSpace","textAlign","clearFix","clear","VisualizationTypeSelector","onTypeSelect","handleClose","currentAnalyticalObject","href","visTypeDisplayNames","handleButtonClick","fullWidth","MenuListProps","getVisTypes","handleMenuItemClick","handleOpenAsMapClick","string","arrowDown","minWidth","DropDown","menuItems","menuWidth","addToButtonRef","offsetWidth","isOverFlowing","getBoundingClientRect","bottom","innerHeight","transformOrigin","menuList","AddToLayoutButton","onAddDimension","dialogId","axisIdArray","axisMetaObj","getAxisMeta","buttonRef","createRef","availableAxisMeta","ref","addToRef","renderMenuItems","flexWrap","DialogManager","onMounted","prevProps","isEqual","dxIds","ouIds","fetchRecommended","ouMounted","debounce","apiFetchRecommendedIds","setRecommendedIds","setUiItems","forMetadata","forParentGraphMap","ou","addMetadata","addParentGraphMap","closeDialog","selectedItems","dimensionProps","ouItems","getOrgUnitsFromIds","removeUiItems","onSelect","selectUiItems","onDeselect","onReorder","renderPersistedContent","infoBoxMessage","getSelectedItems","numberOfItems","axisMaxNumberOfItems","getAxisMaxNumberOfItems","getDisplayNameByVisType","visualiationType","maxNumber","isActive","selectedDimensions","selectedPeriods","filterOutFixedDimensions","dialogTitle","dynamicContent","dimensionIdsInLayout","keepMounted","disableEnforceFocus","renderDialogContent","renderPrimaryButton","addUiItems","setDataTransfer","e","source","dataTransfer","setData","JSON","stringify","dataset","dimensionid","decodeDataTransfer","parse","getData","divContainer","grey050","tableContainer","nameColumn","axisColumn","coloredColumn","grey100","tableCell","head","axisRadio","dialogContent","lineHeight","dialogActions","AxisSetup","itemsMap","setItems","oldItems","newItems","align","onAxisChange","isOpen","dialogMaxWidth","onCancelClick","renderTable","onUpdateClick","getAxes","Function","prototype","Dimensions","dimensionMenuAnchorEl","stopPropagation","disallowedDimensions","lockedDimensions","adaptedUi","selectedIds","disabledDimension","lockedDimension","recommendedDimension","onDimensionOptionsClick","onDimensionDragStart","onDimensionClick","currentAxisId","getUiAxisId","numberOfDimensionItems","getNumberOfDimensionItems","dualAxisItemHandler","axisItemHandler","removeItemHandler","onDimensionOptionsClose","getDisallowedDimensionsMemo","getDisallowedDimensions","getLockedDimensionsMemo","getAllLockedDimensionIds","fromReducers","targetAxisId","wrapper","position","Interpretations","interpretationUrl","currentInterpretationId","onCurrentInterpretationChange","onInterpretationChange","chartCanvas","apiFetchAnalytics","rawResponse","apiFetchAnalyticsForYearOverYear","yearlySeriesReq","yearlySeriesRes","requests","yearlySeriesLabels","now","currentDay","currentMonth","period","startDate","Promise","responses","paramReportingPeriod","paramOrganisationUnit","paramParentOrganisationUnit","paramGrandParentOrganisationUnit","getOptionsForRequest","entry","computeGenericPeriodNames","out","genericPeriodNames","CircularIndeterminate","outer","progress","isRequired","alignSelf","ChartPlugin","ouPath","config","forDashboard","onResponsesReceived","onChartGenerated","extraOptions","dashboard","noData","text","animation","visualizationConfig","createVisualization","isSingleValue","sourceHeight","sourceWidth","func","pivotTableStyles","PivotPlugin","i18nManager","appManager","getLegendSetById","getApiPath","uiManager","d2aOptionConfig","d2aConfig","refs","optionConfig","remappedOptions","showColTotals","showRowTotals","showColSubTotals","showRowSubTotals","pivotTable","d2aTable","renderLimit","trueTotals","inner","top","defaultCanvasMessage","getMessage","canvasContent","src","chartErrorImg","alt","Visualization","svg","acSetChart","metaData","renderId","addEventListener","getNewRenderId","addResizeHandler","visConfig","visFilters","visConfigSelector","visFiltersSelector","relativePeriodDate","MoreHorizontalIcon","ChipMenu","Fragment","aria-owns","getMenuId","aria-haspopup","handleClick","tooltip","fontFamily","boxShadow","list","listStyleType","iconWrapper","labels","noneSelected","onlyOneInUse","onlyLimitedNumberInUse","number","Tooltip","displayLimitedAmount","warningLabel","itemDisplayNames","lockedLabel","getItemDisplayNames","getWarningLabel","hasNoItemsLabel","placement","renderWarningLabel","renderLockedLabel","renderItems","renderNoItemsLabel","DynamicDimensionIcon","AXIS_BORDER_COLOR","AXIS_BACKGROUND_COLOR","CHIP_COLOR","chipWrapper","secondary200","chip","layoutStyle","overflow","textOverflow","minHeight","userSelect","chipEmpty","fixedDimensionIcon","warningIcon","warningIconWrapper","lockIcon","lockIconWrapper","chipLeft","borderTopRightRadius","borderBottomRightRadius","chipRight","borderTopLeftRadius","borderBottomLeftRadius","LockIconWrapper","WarningIconWrapper","Chip","tooltipOpen","Math","random","toString","getAxisPerLockedDimension","timeout","clearTimeout","handleMouseOut","document","getElementById","getItemsLabel","total","dimensionName","Icon","dynamicDimensionIcon","activeItemIds","isLocked","axisName","visTypeName","getAnchorEl","getWrapperStyles","data-dimensionid","draggable","onDragStart","getDragStartHandler","onMouseOver","handleMouseOver","onMouseOut","renderChipIcon","renderChipLabel","hasAxisTooManyItems","renderMenu","renderTooltip","ct","axisGroup","axisGroupLeft","flexBasis","axisGroupRight","axisContainer","borderStyle","borderWidth","axisContainerLeft","borderLeftWidth","letterSpacing","alignContent","defaultLayoutStyle","DIMENSION_AXIS_CONTENT_HEIGHT","Axis","preventDefault","hasNoItems","onDropWithoutItems","DEFAULT_AXIS_IDS","getMoveHandler","isSeries","isData","isDualAxisType","getItemsArrayByDimension","onOpenAxisSetup","getRemoveHandler","light","shouldHaveDualAxis","getDualAxisItem","getDividerItem","isMoveSupported","getAxisMenuItems","getRemoveMenuItem","onDragOver","onDrop","droppableId","direction","provided","innerRef","droppableProps","draggableId","draggableProps","dragHandleProps","getOpenHandler","Layout","DefaultAxis","defaultAxisStyles","YearOverYearAxisStyles","displayProps","YearOverYearSelect","disableUnderline","multiple","handleOpen","SelectDisplayProps","seriesOptions","len","getFullYear","getFixedYears","categoryOptions","defaultLayoutStyles","YearOverYearLayoutStyles","onSeriesChange","onCategoryChange","layoutMap","DefaultLayout","PieLayout","YearOverYearLayout","onReorderDimensions","onDragEnd","result","destination","sourceList","from","splice","moved","reorderedDimensions","destList","getLayoutByType","relativePeriods","TODAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BIMONTHS","BIMONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","USER_ORGUNIT","USER_ORGUNIT_CHILDREN","USER_ORGUNIT_GRANDCHILDREN","App","previousLocation","store","pathParts","AO","setVisualization","setUiFromVisualization","setCurrentFromUi","refetch","rootOrgUnit","defaultMetadata","loadVisualization","unlisten","listen","ctrlKey","DimensionsPanel","childContextTypes","dhis2theme","createMuiTheme","next","Cypress","schemas","AppWrapper","muiTheme"],"mappings":"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","file":"static/js/app.cc3c6cb7.chunk.js","sourcesContent":["/**\n *\n * @param {Date} value Javascript date\n * @param {String} uiLocale\n * @returns {String}\n */\nconst formatDate = (value = '', uiLocale = 'en') => {\n  if (typeof global.Intl !== 'undefined' && Intl.DateTimeFormat) {\n    return new Intl.DateTimeFormat(uiLocale, {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(new Date(value));\n  }\n\n  return value.substr(0, 19).replace('T', ' ');\n};\n\nexport default formatDate;","module.exports = \"data:image/png;base64,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\"","export const SYSTEM_SETTINGS = ['keyDateFormat', 'keyAnalysisRelativePeriod', 'keyAnalysisDigitGroupSeparator'];\nexport const extractUserSettings = settings => {\n  const nameProp = settings.keyAnalysisDisplayProperty;\n  return {\n    displayNameProperty: nameProp === 'name' ? 'displayName' : 'displayShortName',\n    uiLocale: settings.keyUiLocale\n  };\n};","// Helper functions\nexport const onError = error => console.log('Error: ', error);","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const apiFetchOrganisationUnitRoot = () => {\n  const endPoint = '/organisationUnits';\n  const fields = ['id', 'displayName', 'name'];\n  const url = `${endPoint}?paging=false&userDataViewFallback=true&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnits\n  }) => organisationUnits[0]).catch(onError);\n};\n/**\n * Fetch organisation unit levels\n * @returns {Promise}\n */\n\nexport const apiFetchOrganisationUnitLevels = () => {\n  const endPoint = '/organisationUnitLevels';\n  const fields = ['id', 'name', 'displayName', 'level'];\n  const url = `${endPoint}?paging=false&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnitLevels\n  }) => organisationUnitLevels).catch(onError);\n};","import { createHashHistory } from 'history';\nexport default createHashHistory();","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nimport { init as d2Init, config as d2Config, getUserSettings } from 'd2';\nimport { extractUserSettings } from './modules/settings';\nimport { apiFetchOrganisationUnitLevels } from './api/organisationUnits';\nimport history from './modules/history';\nimport { ScreenCover, CircularLoader } from '@dhis2/ui-core';\n\nconst configI18n = async () => {\n  // TODO: Remove and port to modern i18n\n  // if (uiLocale && uiLocale !== 'en') {\n  //     config.i18n.sources.add(\n  //         `./i18n_old/i18n_module_${uiLocale}.properties`\n  //     );\n  // }\n  d2Config.i18n.sources.add('./i18n_old/i18n_module_en.properties');\n};\n\nconst initD2 = async ({\n  baseUrl,\n  apiVersion\n}, initConfig) => {\n  const d2 = await d2Init({ ...initConfig,\n    baseUrl: `${baseUrl}/api/${apiVersion}`\n  });\n  const userSettings = extractUserSettings((await getUserSettings()));\n  await configI18n(userSettings);\n  const ouLevels = await apiFetchOrganisationUnitLevels();\n  return {\n    location: history.location,\n    baseUrl,\n    d2,\n    userSettings,\n    ouLevels\n  };\n};\n\nexport const D2Shim = ({\n  children,\n  ...initConfig\n}) => {\n  const appConfig = useConfig();\n  const [params, setParams] = useState(null);\n  useEffect(() => {\n    initD2(appConfig, initConfig).then(setParams);\n  }, []);\n  /* eslint-disable-line react-hooks/exhaustive-deps */\n\n  if (!params) {\n    return <ScreenCover>\n                <CircularLoader />\n            </ScreenCover>;\n  }\n\n  return children(params);\n};\nD2Shim.propTypes = {\n  children: PropTypes.func\n};","export const SET_VISUALIZATION = 'SET_VISUALIZATION';\nexport const CLEAR_VISUALIZATION = 'CLEAR_VISUALIZATION';\nexport const DEFAULT_VISUALIZATION = null;\nexport default ((state = DEFAULT_VISUALIZATION, action) => {\n  switch (action.type) {\n    case SET_VISUALIZATION:\n      {\n        return action.value;\n      }\n\n    case CLEAR_VISUALIZATION:\n      {\n        return DEFAULT_VISUALIZATION;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetVisualization = state => state.visualization;\nexport const sGetInterpretations = state => state.visualization ? state.visualization.interpretations : [];","import pick from 'lodash-es/pick';\nexport const options = {\n  baseLineLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  baseLineValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  // colorSet:\n  cumulativeValues: {\n    defaultValue: false,\n    requestable: false\n  },\n  domainAxisLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  hideEmptyRowItems: {\n    defaultValue: 'NONE',\n    requestable: false\n  },\n  hideLegend: {\n    defaultValue: false,\n    requestable: false\n  },\n  noSpaceBetweenColumns: {\n    defaultValue: false,\n    requestable: false\n  },\n  percentStackedValues: {\n    defaultValue: false,\n    requestable: false\n  },\n  rangeAxisDecimals: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisMaxValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisMinValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisSteps: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  regressionType: {\n    defaultValue: 'NONE',\n    requestable: false\n  },\n  showData: {\n    defaultValue: true,\n    requestable: false\n  },\n  targetLineLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  targetLineValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  // legendDisplayStrategy\n  aggregationType: {\n    defaultValue: 'DEFAULT',\n    requestable: true\n  },\n  completedOnly: {\n    defaultValue: false,\n    requestable: true\n  },\n  hideSubtitle: {\n    defaultValue: false,\n    requestable: false\n  },\n  hideTitle: {\n    defaultValue: false,\n    requestable: false\n  },\n  sortOrder: {\n    defaultValue: '0',\n    requestable: false\n  },\n  subtitle: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  title: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  // only for PT XXX\n  colTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  colSubTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  rowTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  rowSubTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  showDimensionLabels: {\n    defaultValue: false,\n    requestable: false\n  },\n  hideEmptyColumns: {\n    defaultValue: false,\n    requestable: true\n  },\n  hideEmptyRows: {\n    defaultValue: false,\n    requestable: true\n  },\n  skipRounding: {\n    defaultValue: false,\n    requestable: true\n  },\n  numberType: {\n    defaultValue: 'VALUE',\n    requestable: false\n  },\n  showHierarchy: {\n    defaultValue: false,\n    requestable: true\n  },\n  legendSet: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  legendDisplayStyle: {\n    defaultValue: 'FILL',\n    requestable: false\n  },\n  displayDensity: {\n    defaultValue: 'NORMAL',\n    requestable: false\n  },\n  fontSize: {\n    defaultValue: 'NORMAL',\n    requestable: false\n  },\n  digitGroupSeparator: {\n    defaultValue: 'SPACE',\n    requestable: false\n  },\n  // XXX these are stored in the AO under reportParams\n  reportingPeriod: {\n    defaultValue: false,\n    requestable: false\n  },\n  organisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  parentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  // XXX not in UI\n  grandParentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  regression: {\n    defaultValue: false,\n    requestable: false\n  },\n  cumulative: {\n    defaultValue: false,\n    requestable: false\n  },\n  measureCriteria: {\n    defaultValue: undefined,\n    requestable: true\n  },\n  topLimit: {\n    defaultValue: '0',\n    requestable: false\n  }\n};\nexport const computedOptions = {\n  baseLine: {\n    defaultValue: false,\n    requestable: false\n  },\n  targetLine: {\n    defaultValue: false,\n    requestable: false\n  },\n  axisRange: {\n    defaultValue: undefined,\n    requestable: false\n  }\n};\nexport default options;\nexport const getOptionsForUi = () => {\n  return Object.entries({ ...options,\n    ...computedOptions\n  }).reduce((map, [option, props]) => {\n    map[option] = props.defaultValue;\n    return map;\n  }, {});\n};\nexport const getOptionsForRequest = () => {\n  return Object.entries(options).filter(entry => entry[1].requestable // entry = [option, props]\n  );\n};\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n  return Boolean(optionsFromVisualization[prop] && optionsFromVisualization[prop] !== options[prop].defaultValue);\n};\n\nexport const getOptionsFromVisualization = visualization => {\n  const optionsFromVisualization = { ...getOptionsForUi(),\n    ...pick(visualization, Object.keys(options))\n  };\n  optionsFromVisualization.baseLine = isNotDefault(optionsFromVisualization, 'baseLineLabel') || isNotDefault(optionsFromVisualization, 'baseLineValue');\n  optionsFromVisualization.targetLine = isNotDefault(optionsFromVisualization, 'targetLineLabel') || isNotDefault(optionsFromVisualization, 'targetLineValue'); // nested options under reportParams\n\n  if (visualization.reportParams) {\n    optionsFromVisualization.organisationUnit = visualization.reportParams.organisationUnit;\n    optionsFromVisualization.reportingPeriod = visualization.reportParams.reportingPeriod;\n    optionsFromVisualization.parentOrganisationUnit = visualization.reportParams.parentOrganisationUnit;\n    optionsFromVisualization.grandParentOrganisationUnit = visualization.reportParams.grandParentOrganisationUnit;\n  }\n\n  return optionsFromVisualization;\n};","import i18n from '@dhis2/d2-i18n';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, getAxisMaxNumberOfDimensions, getAvailableAxes } from '@dhis2/analytics'; // Names for dnd sources\n\nexport const SOURCE_DIMENSIONS = 'dimensions'; // Keys and displayName for adding dimensions to layout\n\nexport const ADD_TO_LAYOUT_OPTIONS = [{\n  axisId: AXIS_ID_COLUMNS,\n  name: i18n.t('Add to series')\n}, {\n  axisId: AXIS_ID_ROWS,\n  name: i18n.t('Add to category')\n}, {\n  axisId: AXIS_ID_FILTERS,\n  name: i18n.t('Add to filter')\n}];\nexport const menuLabels = {\n  columns: i18n.t('series'),\n  rows: i18n.t('category'),\n  filters: i18n.t('filter')\n}; // Layout utility functions\n// Exclude one or many dimensions from layout\n\nexport const getFilteredLayout = (layout, excludedIds) => {\n  const ids = Array.isArray(excludedIds) ? excludedIds : [excludedIds];\n  return {\n    [AXIS_ID_COLUMNS]: layout[AXIS_ID_COLUMNS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_ROWS]: layout[AXIS_ID_ROWS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_FILTERS]: layout[AXIS_ID_FILTERS].filter(dim => !ids.includes(dim))\n  };\n}; // Accepts layout: { columns: ['dx'] }\n// Returns inverse layout: { dx: 'columns' }\n\nexport const getInverseLayout = layout => {\n  const entries = Object.entries(layout);\n  const map = {};\n  entries.forEach(([axisId, dimensionIds]) => {\n    dimensionIds.forEach(id => {\n      map[id] = axisId;\n    });\n  });\n  return map;\n}; // Accepts layout and transfer object\n// Returns transfer with possible retransfers\n\nexport const getRetransfer = (layout, transfer, visType) => {\n  const inverseLayout = getInverseLayout(layout);\n  const dimensionIds = Object.keys(transfer);\n  const retransfer = {};\n  dimensionIds.forEach(id => {\n    const sourceAxis = inverseLayout[id] || null;\n    const destinationAxisId = transfer[id];\n    const dimensionsAtDestination = layout[destinationAxisId] || [];\n    const axisIsFull = dimensionsAtDestination.length === getAxisMaxNumberOfDimensions(visType, destinationAxisId);\n\n    if (axisIsFull) {\n      retransfer[dimensionsAtDestination[0]] = sourceAxis ? sourceAxis : getAvailableAxes(visType).find(axis => !getAxisMaxNumberOfDimensions(visType, axis));\n    }\n  });\n  return retransfer;\n};","export const BASE_FIELD_NAME = 'name';\nexport const BASE_FIELD_TYPE = 'type';\nexport const BASE_FIELD_YEARLY_SERIES = 'yearlySeries';\n\nconst getFieldObject = (name, props = {}) => ({\n  [BASE_FIELD_NAME]: name,\n  ...props\n}); // fields by type\n\n\nexport const fieldsByType = {\n  reportTable: [getFieldObject('cumulative', {\n    option: true\n  }), getFieldObject('hideEmptyColumns', {\n    option: true\n  }), getFieldObject('legendDisplayStyle', {\n    option: true\n  }), getFieldObject('measureCriteria', {\n    option: true\n  }), getFieldObject('numberType', {\n    option: true\n  }), getFieldObject('regression', {\n    option: true\n  }), getFieldObject('reportParams', {\n    option: true\n  }), getFieldObject('skipRounding', {\n    option: true\n  })],\n  chart: [getFieldObject('category', {\n    excluded: true\n  }), getFieldObject('series', {\n    excluded: true\n  }), getFieldObject(BASE_FIELD_YEARLY_SERIES)],\n  eventReport: [getFieldObject('dataType')],\n  reportTable_eventReport: [getFieldObject('colSubTotals', {\n    option: true\n  }), getFieldObject('colTotals', {\n    option: true\n  }), getFieldObject('displayDensity', {\n    option: true\n  }), getFieldObject('fontSize', {\n    option: true\n  }), getFieldObject('hideEmptyRows', {\n    option: true\n  }), getFieldObject('rowSubTotals', {\n    option: true\n  }), getFieldObject('rowTotals', {\n    option: true\n  }), getFieldObject('showDimensionLabels', {\n    option: true\n  }), getFieldObject('showHierarchy', {\n    option: true\n  })],\n  chart_eventChart: [getFieldObject('baseLineLabel', {\n    option: true\n  }), getFieldObject('baseLineValue', {\n    option: true\n  }), getFieldObject('colorSet', {\n    option: true\n  }), getFieldObject('cumulativeValues', {\n    option: true\n  }), getFieldObject('domainAxisLabel', {\n    option: true\n  }), getFieldObject('hideEmptyRowItems', {\n    option: true\n  }), getFieldObject('hideLegend', {\n    option: true\n  }), getFieldObject('noSpaceBetweenColumns', {\n    option: true\n  }), getFieldObject('percentStackedValues', {\n    option: true\n  }), getFieldObject('rangeAxisDecimals', {\n    option: true\n  }), getFieldObject('rangeAxisLabel', {\n    option: true\n  }), getFieldObject('rangeAxisMaxValue', {\n    option: true\n  }), getFieldObject('rangeAxisMinValue', {\n    option: true\n  }), getFieldObject('rangeAxisSteps', {\n    option: true\n  }), getFieldObject('regressionType', {\n    option: true\n  }), getFieldObject('seriesItems'), getFieldObject('showData', {\n    option: true\n  }), getFieldObject('targetLineLabel', {\n    option: true\n  }), getFieldObject('targetLineValue', {\n    option: true\n  }), getFieldObject(BASE_FIELD_TYPE, {\n    option: true\n  })],\n  eventReport_eventChart: [getFieldObject('attributeValueDimension'), getFieldObject('collapseDataDimensions'), getFieldObject('dataElementValueDimension'), getFieldObject('endDate'), getFieldObject('eventStatus', {\n    option: true\n  }), getFieldObject('hideNaData', {\n    option: true\n  }), getFieldObject('outputType', {\n    option: true\n  }), getFieldObject('program'), getFieldObject('programStage'), getFieldObject('programStatus', {\n    option: true\n  }), getFieldObject('startDate'), getFieldObject('value')],\n  reportTable_chart_eventReport: [getFieldObject('legendDisplayStrategy', {\n    option: true\n  }), getFieldObject('legendSet', {\n    option: true\n  })],\n  reportTable_eventReport_eventChart: [getFieldObject('columnDimensions', {\n    excluded: true\n  }), getFieldObject('rowDimensions', {\n    excluded: true\n  })],\n  reportTable_chart_eventReport_eventChart: [getFieldObject('access'), getFieldObject('aggregationType', {\n    option: true\n  }), getFieldObject('attributeDimensions', {\n    excluded: true\n  }), getFieldObject('attributeValues', {\n    excluded: true\n  }), getFieldObject('categoryDimensions', {\n    excluded: true\n  }), getFieldObject('categoryOptionGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('code', {\n    excluded: true\n  }), getFieldObject('columns'), getFieldObject('completedOnly', {\n    option: true\n  }), getFieldObject('created'), getFieldObject('dataDimensionItems', {\n    excluded: true\n  }), getFieldObject('dataElementDimensions', {\n    excluded: true\n  }), getFieldObject('dataElementGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('description'), getFieldObject('digitGroupSeparator'), getFieldObject('displayDescription'), getFieldObject('displayName'), getFieldObject('displayShortName'), getFieldObject('externalAccess', {\n    excluded: true\n  }), getFieldObject('favorite'), getFieldObject('favorites'), getFieldObject('filterDimensions', {\n    excluded: true\n  }), getFieldObject('filters'), getFieldObject('hideSubtitle', {\n    option: true\n  }), getFieldObject('hideTitle', {\n    option: true\n  }), getFieldObject('href', {\n    excluded: true\n  }), getFieldObject('id'), getFieldObject('interpretations'), getFieldObject('itemOrganisationUnitGroups', {\n    excluded: true\n  }), getFieldObject('lastUpdated'), getFieldObject('lastUpdatedBy'), getFieldObject('name'), getFieldObject('organisationUnitGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('organisationUnitLevels', {\n    excluded: true\n  }), getFieldObject('organisationUnits', {\n    excluded: true\n  }), getFieldObject('parentGraphMap'), getFieldObject('periods', {\n    excluded: true\n  }), getFieldObject('programIndicatorDimensions', {\n    excluded: true\n  }), getFieldObject('publicAccess'), getFieldObject('relativePeriods', {\n    excluded: true\n  }), getFieldObject('rows'), getFieldObject('shortName'), getFieldObject('sortOrder', {\n    option: true\n  }), getFieldObject('subscribed'), getFieldObject('subscribers'), getFieldObject('subtitle', {\n    option: true\n  }), getFieldObject('timeField'), getFieldObject('title', {\n    option: true\n  }), getFieldObject('topLimit', {\n    option: true\n  }), getFieldObject('translations'), getFieldObject('user'), getFieldObject('userAccesses'), getFieldObject('userGroupAccesses'), getFieldObject('userOrganisationUnit', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitChildren', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitGrandChildren', {\n    excluded: true\n  })]\n};\nfieldsByType.visualization = [...fieldsByType.reportTable, ...fieldsByType.chart, ...fieldsByType.reportTable_eventReport, ...fieldsByType.chart_eventChart, ...fieldsByType.reportTable_chart_eventReport, ...fieldsByType.reportTable_eventReport_eventChart, ...fieldsByType.reportTable_chart_eventReport_eventChart]; // actions\n\nexport const extractName = propObj => propObj[BASE_FIELD_NAME];\nexport const markExcluded = fieldObj => fieldObj.excluded === true ? { ...fieldObj,\n  [BASE_FIELD_NAME]: `!${fieldObj[BASE_FIELD_NAME]}`\n} : fieldObj;\n/* eslint-disable-next-line max-params */\n\nexport const moveExcludedToEnd = (acc, current, curIndex, array) => {\n  !acc && (acc = array.slice());\n  current.charAt(0) === '!' && acc.push(acc.shift());\n  return acc;\n}; // getters\n\nexport const getAllFieldObjectsByType = type => Object.entries(fieldsByType).reduce((fields, [key, value]) => key.includes(type) ? fields.concat(value) : fields, []);","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD } from '@dhis2/analytics'; // Transform from ui.layout to pie layout format\n\nexport const pieLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: [columns.shift() || rows.shift()],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows]\n  };\n}; // Transform from ui.layout to year on year layout format\n\nexport const yearOverYearLayoutAdapter = layout => ({\n  [AXIS_ID_COLUMNS]: [],\n  [AXIS_ID_ROWS]: [],\n  [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...layout[AXIS_ID_COLUMNS], ...layout[AXIS_ID_ROWS]].filter(dim => dim !== DIMENSION_ID_PERIOD)\n}); // Transform from ui.layout to single value layout format\n\nexport const singleValueLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: [DIMENSION_ID_DATA],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows].filter(dim => dim !== DIMENSION_ID_DATA)\n  };\n};","import { ouIdHelper, DIMENSION_ID_ORGUNIT, dimensionGetItems, layoutReplaceDimension, layoutGetDimension } from '@dhis2/analytics';\n\nconst isOuLevelIntId = id => ouIdHelper.hasLevelPrefix(id) ? Number.isInteger(parseInt(ouIdHelper.removePrefix(id), 10)) : false;\n\nconst replaceNumericOuLevelWithUid = ouLevels => item => {\n  if (!isOuLevelIntId(item.id)) {\n    return item;\n  }\n\n  const ouIntId = parseInt(ouIdHelper.removePrefix(item.id), 10);\n  const ouUid = ouLevels.find(l => parseInt(l.level, 10) === ouIntId).id;\n  return Object.assign({}, item, {\n    id: ouIdHelper.addLevelPrefix(ouUid)\n  });\n};\n\nexport const convertOuLevelsToUids = (ouLevels, layout) => {\n  const ouDimension = layoutGetDimension(layout, DIMENSION_ID_ORGUNIT);\n  const hasNumericOuLevels = ouDimension && dimensionGetItems(ouDimension).some(item => isOuLevelIntId(item.id));\n\n  if (hasNumericOuLevels) {\n    const replaceNumericOuLevel = replaceNumericOuLevelWithUid(ouLevels);\n    const updatedOuItems = dimensionGetItems(ouDimension).map(replaceNumericOuLevel);\n    return layoutReplaceDimension(layout, DIMENSION_ID_ORGUNIT, updatedOuItems);\n  }\n\n  return layout;\n};\nexport const removeLastPathSegment = path => {\n  // if root path, then return unprocessed path\n  if (path.match(/\\//g).length === 1) {\n    return path;\n  }\n\n  return path.substr(0, path.lastIndexOf('/'));\n};\n/**\n * Get org unit path by ou id\n * @param id\n * @param metadata\n * @param parentGraphMap\n * @returns {*}\n */\n\nexport const getOuPath = (id, metadata, parentGraphMap) => {\n  if (metadata[id] && metadata[id].path) {\n    return metadata[id].path;\n  } // for root org units\n\n\n  if (parentGraphMap[id] === id || parentGraphMap[id] === '') {\n    return `/${id}`;\n  }\n\n  return parentGraphMap[id] ? `/${parentGraphMap[id]}/${id}` : undefined;\n};","import castArray from 'lodash-es/castArray';\nimport { DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, VIS_TYPE_COLUMN } from '@dhis2/analytics';\nimport { getFilteredLayout, getInverseLayout, getRetransfer } from '../modules/layout';\nimport { getOptionsForUi } from '../modules/options';\nimport { getUiFromVisualization } from '../modules/ui';\nexport const SET_UI = 'SET_UI';\nexport const SET_UI_FROM_VISUALIZATION = 'SET_UI_FROM_VISUALIZATION';\nexport const SET_UI_TYPE = 'SET_UI_TYPE';\nexport const SET_UI_OPTIONS = 'SET_UI_OPTIONS';\nexport const SET_UI_LAYOUT = 'SET_UI_LAYOUT';\nexport const ADD_UI_LAYOUT_DIMENSIONS = 'ADD_UI_LAYOUT_DIMENSIONS';\nexport const REMOVE_UI_LAYOUT_DIMENSIONS = 'REMOVE_UI_LAYOUT_DIMENSIONS';\nexport const SET_UI_ITEMS = 'SET_UI_ITEMS';\nexport const ADD_UI_ITEMS = 'ADD_UI_ITEMS';\nexport const REMOVE_UI_ITEMS = 'REMOVE_UI_ITEMS';\nexport const SET_UI_PARENT_GRAPH_MAP = 'SET_UI_PARENT_GRAPH_MAP';\nexport const ADD_UI_PARENT_GRAPH_MAP = 'ADD_UI_PARENT_GRAPH_MAP';\nexport const SET_UI_ACTIVE_MODAL_DIALOG = 'SET_UI_ACTIVE_MODAL_DIALOG';\nexport const SET_UI_YEAR_ON_YEAR_SERIES = 'SET_UI_YEAR_ON_YEAR_SERIES';\nexport const SET_UI_YEAR_ON_YEAR_CATEGORY = 'SET_UI_YEAR_ON_YEAR_CATEGORY';\nexport const CLEAR_UI = 'CLEAR_UI';\nexport const TOGGLE_UI_RIGHT_SIDEBAR_OPEN = 'TOGGLE_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_RIGHT_SIDEBAR_OPEN = 'SET_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_INTERPRETATION = 'SET_UI_INTERPRETATION';\nexport const CLEAR_UI_INTERPRETATION = 'CLEAR_UI_INTERPRETATION';\nexport const SET_AXES = 'SET_AXES';\nexport const DEFAULT_UI = {\n  type: VIS_TYPE_COLUMN,\n  options: getOptionsForUi(),\n  layout: {\n    columns: [DIMENSION_ID_DATA],\n    rows: [DIMENSION_ID_PERIOD],\n    filters: [DIMENSION_ID_ORGUNIT]\n  },\n  itemsByDimension: {\n    [DIMENSION_ID_ORGUNIT]: [],\n    [DIMENSION_ID_PERIOD]: []\n  },\n  yearOverYearSeries: ['THIS_YEAR', 'LAST_YEAR'],\n  yearOverYearCategory: ['MONTHS_THIS_YEAR'],\n  parentGraphMap: {},\n  activeModalDialog: null,\n  rightSidebarOpen: false,\n  interpretation: {},\n  axes: null\n};\nexport default ((state = DEFAULT_UI, action) => {\n  switch (action.type) {\n    case SET_UI:\n      {\n        return { ...action.value\n        };\n      }\n\n    case SET_UI_FROM_VISUALIZATION:\n      {\n        return getUiFromVisualization(action.value, state);\n      }\n\n    case SET_UI_TYPE:\n      {\n        return { ...state,\n          type: action.value\n        };\n      }\n\n    case SET_UI_OPTIONS:\n      {\n        return { ...state,\n          options: { ...state.options,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_LAYOUT:\n      {\n        return { ...state,\n          layout: { ...action.value\n          }\n        };\n      }\n    // action.value: transfer object (dimensionId:axisId) saying what to add where: { ou: 'rows' }\n    // Reducer takes care of swapping (retransfer) if dimension already exists in layout\n\n    case ADD_UI_LAYOUT_DIMENSIONS:\n      {\n        const transfers = { ...action.value,\n          ...getRetransfer(state.layout, action.value, state.type)\n        }; // Filter out transferred dimension ids (remove from source)\n\n        const newLayout = getFilteredLayout(state.layout, Object.keys(transfers)); // Add dimension ids to destination (axisId === null means remove from layout)\n\n        Object.entries(transfers).forEach(([dimensionId, axisId]) => {\n          newLayout[axisId] && newLayout[axisId].push(dimensionId);\n        });\n        return { ...state,\n          layout: newLayout\n        };\n      }\n\n    case REMOVE_UI_LAYOUT_DIMENSIONS:\n      {\n        return { ...state,\n          layout: getFilteredLayout(state.layout, action.value)\n        };\n      }\n\n    case SET_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: itemIds\n          }\n        };\n      }\n\n    case ADD_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        const currentItemIds = state.itemsByDimension[dimensionId] || [];\n        const dxItems = [...new Set([...currentItemIds, ...itemIds])];\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case REMOVE_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIdsToRemove\n        } = action.value;\n        const dxItems = (state.itemsByDimension[dimensionId] || []).filter(id => !itemIdsToRemove.includes(id));\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_SERIES:\n      {\n        return { ...state,\n          yearOverYearSeries: action.value || DEFAULT_UI.yearOverYearSeries\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_CATEGORY:\n      {\n        return { ...state,\n          yearOverYearCategory: action.value ? castArray(action.value) : DEFAULT_UI.yearOverYearCategory\n        };\n      }\n\n    case SET_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: action.value\n        };\n      }\n\n    case ADD_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: { ...state.parentGraphMap,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_ACTIVE_MODAL_DIALOG:\n      {\n        return { ...state,\n          activeModalDialog: action.value || DEFAULT_UI.activeModalDialog\n        };\n      }\n\n    case CLEAR_UI:\n      {\n        const {\n          rootOrganisationUnit,\n          relativePeriod\n        } = action.value;\n        return { ...DEFAULT_UI,\n          itemsByDimension: { ...DEFAULT_UI.itemsByDimension,\n            [DIMENSION_ID_ORGUNIT]: [rootOrganisationUnit.id],\n            [DIMENSION_ID_PERIOD]: [relativePeriod]\n          },\n          parentGraphMap: { ...DEFAULT_UI.parentGraphMap,\n            [rootOrganisationUnit.id]: ''\n          }\n        };\n      }\n\n    case TOGGLE_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: !state.rightSidebarOpen\n      };\n\n    case SET_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: true\n      };\n\n    case SET_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: action.value\n      };\n\n    case CLEAR_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: DEFAULT_UI.interpretation\n      };\n\n    case SET_AXES:\n      return { ...state,\n        axes: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetUi = state => state.ui;\nexport const sGetUiType = state => sGetUi(state).type;\nexport const sGetUiOptions = state => sGetUi(state).options;\nexport const sGetUiLayout = state => sGetUi(state).layout;\nexport const sGetUiItems = state => sGetUi(state).itemsByDimension;\nexport const sGetUiYearOverYearSeries = state => sGetUi(state).yearOverYearSeries;\nexport const sGetUiYearOverYearCategory = state => sGetUi(state).yearOverYearCategory;\nexport const sGetUiParentGraphMap = state => sGetUi(state).parentGraphMap;\nexport const sGetUiActiveModalDialog = state => sGetUi(state).activeModalDialog;\nexport const sGetUiRightSidebarOpen = state => sGetUi(state).rightSidebarOpen;\nexport const sGetUiInterpretation = state => sGetUi(state).interpretation;\nexport const sGetAxes = state => sGetUi(state).axes; // Selectors level 2\n\nexport const getAxisIdByDimensionId = (state, dimensionId) => (getInverseLayout(sGetUiLayout(state)) || {})[dimensionId];\nexport const sGetUiItemsByDimension = (state, dimension) => sGetUiItems(state)[dimension] || DEFAULT_UI.itemsByDimension[dimension];\nexport const sGetDimensionIdsFromLayout = state => Object.values(sGetUiLayout(state)).reduce((ids, axis) => ids.concat(axis), []);\nexport const sGetAxisSetup = state => {\n  const columns = sGetUiLayout(state).columns;\n  const items = sGetUiItems(state);\n  const axes = sGetAxes(state) || {};\n  return Array.isArray(items[columns[0]]) && items[columns[0]].length ? items[columns[0]].map(id => ({\n    id,\n    axis: id in axes ? axes[id] : 0\n  })) : [];\n};","import { DEFAULT_UI } from '../reducers/ui';\nexport const SERIES_ITEMS_SERIES = 'series';\nexport const SERIES_ITEMS_AXIS = 'axis';\nexport const getAxesFromSeriesItems = seriesItems => {\n  if (!(Array.isArray(seriesItems) && seriesItems.length)) {\n    return DEFAULT_UI.axes;\n  }\n\n  return seriesItems.filter(item => typeof item.axis === 'number').reduce((map, item) => {\n    map[item[SERIES_ITEMS_SERIES]] = item[SERIES_ITEMS_AXIS];\n    return map;\n  }, {});\n};","import { DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject, layoutGetDimensionIdItemIdsObject, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, defaultVisType, isYearOverYear } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nimport { getOptionsFromVisualization } from './options';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { pieLayoutAdapter, yearOverYearLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\nimport { removeLastPathSegment } from './orgUnit';\nimport { getAxesFromSeriesItems } from './seriesItems'; // Transform from backend model to store.ui format\n\nexport const getUiFromVisualization = (vis, currentState = {}) => ({ ...currentState,\n  type: vis.type || defaultVisType,\n  options: getOptionsFromVisualization(vis),\n  layout: layoutGetAxisIdDimensionIdsObject(vis),\n  itemsByDimension: layoutGetDimensionIdItemIdsObject(vis),\n  parentGraphMap: vis.parentGraphMap || getParentGraphMapFromVisualization(vis) || currentState.parentGraphMap,\n  yearOverYearSeries: isYearOverYear(vis.type) && vis[BASE_FIELD_YEARLY_SERIES] ? vis[BASE_FIELD_YEARLY_SERIES] : currentState.yearOverYearSeries,\n  yearOverYearCategory: isYearOverYear(vis.type) ? vis.rows[0].items.map(item => item.id) : currentState.yearOverYearCategory,\n  axes: getAxesFromSeriesItems(vis.seriesItems)\n}); // Transform from store.ui to pie format\n\nexport const pieUiAdapter = ui => ({ ...ui,\n  layout: pieLayoutAdapter(ui.layout)\n}); // Transform from store.ui to year on year format\n\nexport const yearOverYearUiAdapter = ui => {\n  const state = Object.assign({}, ui);\n  const items = Object.assign({}, state.itemsByDimension);\n  delete items[DIMENSION_ID_PERIOD];\n  return { ...state,\n    layout: yearOverYearLayoutAdapter(ui.layout),\n    itemsByDimension: items\n  };\n};\nexport const singleValueUiAdapter = ui => ({ ...ui,\n  layout: singleValueLayoutAdapter(ui.layout)\n});\nexport const getAdaptedUiByType = ui => {\n  switch (ui.type) {\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        return yearOverYearUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIE:\n      {\n        return pieUiAdapter(ui);\n      }\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      {\n        return singleValueUiAdapter(ui);\n      }\n\n    default:\n      return ui;\n  }\n};\nexport const getParentGraphMapFromVisualization = vis => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(vis);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n\n  if (!ouAxis) {\n    return {};\n  }\n\n  const parentGraphMap = {};\n  const ouDimension = vis[ouAxis].find(dimension => dimension.dimension === DIMENSION_ID_ORGUNIT);\n  ouDimension.items.filter(orgUnit => orgUnit.path).forEach(orgUnit => {\n    if ('/' + orgUnit.id === orgUnit.path) {\n      // root org unit case\n      parentGraphMap[orgUnit.id] = '';\n    } else {\n      const path = removeLastPathSegment(orgUnit.path);\n      parentGraphMap[orgUnit.id] = path[0] === '/' ? path.substr(1) : path;\n    }\n  });\n  return parentGraphMap;\n};\nexport const mergeUiMaps = (destinationMap, sourceMap, propName) => {\n  Object.keys(sourceMap || {}).forEach(key => {\n    if (!(key in destinationMap)) {\n      destinationMap[key] = {};\n    }\n\n    destinationMap[key][propName] = sourceMap[key];\n  });\n};","import pick from 'lodash-es/pick';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, dimensionCreate, layoutGetDimensionItems, layoutReplaceDimension } from '@dhis2/analytics';\nimport options from './options';\nimport './layout';\nimport { BASE_FIELD_TYPE, BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { pieLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\nimport { mergeUiMaps } from './ui';\nimport { SERIES_ITEMS_SERIES } from './seriesItems';\n\nconst hasItems = (object, id) => Array.isArray(object[id]) && object[id].length;\n\nexport const getAxesFromUi = ui => Object.entries(ui.layout).reduce((layout, [axisId, dimensionIds]) => ({ ...layout,\n  [axisId]: dimensionIds.map(dimensionId => hasItems(ui.itemsByDimension, dimensionId) ? dimensionCreate(dimensionId, ui.itemsByDimension[dimensionId]) : null).filter(dim => dim !== null)\n}), {});\nexport const getOptionsFromUi = ui => {\n  const optionsFromUi = pick(ui.options, Object.keys(options));\n\n  if (ui.options.targetLine === false) {\n    optionsFromUi.targetLineLabel = options.targetLineLabel.defaultValue;\n    optionsFromUi.targetLineValue = options.targetLineValue.defaultValue;\n  }\n\n  if (ui.options.baseLine === false) {\n    optionsFromUi.baseLineLabel = options.baseLineLabel.defaultValue;\n    optionsFromUi.baseLineValue = options.baseLineValue.defaultValue;\n  } // nested options under reportParams\n\n\n  optionsFromUi.reportParams = {};\n  ['paramOrganisationUnit', 'paramReportingPeriod', 'paramParentOrganisationUnit', 'paramGrandParentOrganisationUnit'].forEach(option => optionsFromUi.reportParams[option] = ui.options[option]);\n  return optionsFromUi;\n}; // expand to support series types later\n\nexport const getSeriesItemsFromUi = ui => {\n  const seriesItemsObj = {}; // axes\n\n  mergeUiMaps(seriesItemsObj, ui.axes, 'axis');\n  return Object.entries(seriesItemsObj).reduce((arr, [key, value]) => {\n    value[SERIES_ITEMS_SERIES] = key;\n    arr.push(value);\n    return arr;\n  }, []);\n};\nexport const getSingleValueCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...singleValueLayoutAdapter(action.value.layout)\n    }\n  };\n  const axesFromUi = getAxesFromUi(ui); // only save the first dx item\n\n  const dxItems = layoutGetDimensionItems(axesFromUi, DIMENSION_ID_DATA);\n  const singleValueAxesFromUi = layoutReplaceDimension(axesFromUi, DIMENSION_ID_DATA, [dxItems[0]]);\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...singleValueAxesFromUi,\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getPieCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...pieLayoutAdapter(action.value.layout)\n    }\n  };\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...getAxesFromUi(ui),\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getYearOverYearCurrentFromUi = (state, action) => {\n  const ui = action.value;\n  const dxItem = ui.itemsByDimension[DIMENSION_ID_DATA] ? [ui.itemsByDimension[DIMENSION_ID_DATA][0]] : [];\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    [AXIS_ID_COLUMNS]: [dimensionCreate(DIMENSION_ID_DATA, dxItem)],\n    [AXIS_ID_ROWS]: [dimensionCreate(DIMENSION_ID_PERIOD, ui.yearOverYearCategory)],\n    [AXIS_ID_FILTERS]: getAxesFromUi(ui).filters.filter(f => ![DIMENSION_ID_DATA, DIMENSION_ID_PERIOD].includes(f.dimension)),\n    [[BASE_FIELD_YEARLY_SERIES]]: ui.yearOverYearSeries,\n    ...getOptionsFromUi(ui)\n  };\n};","import { VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport { getAxesFromUi, getOptionsFromUi, getPieCurrentFromUi, getYearOverYearCurrentFromUi, getSingleValueCurrentFromUi, getSeriesItemsFromUi } from '../modules/current';\nimport { BASE_FIELD_TYPE } from '../modules/fields/baseFields';\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const SET_CURRENT_FROM_UI = 'SET_CURRENT_FROM_UI';\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\nexport const DEFAULT_CURRENT = null;\n\nconst getDefaultFromUi = (state, action) => {\n  const axesFromUi = getAxesFromUi(action.value);\n  const optionsFromUi = getOptionsFromUi(action.value);\n  const seriesItems = getSeriesItemsFromUi(action.value);\n  return { ...state,\n    [BASE_FIELD_TYPE]: action.value.type,\n    ...axesFromUi,\n    ...optionsFromUi,\n    seriesItems\n  };\n};\n\nexport default ((state = DEFAULT_CURRENT, action) => {\n  switch (action.type) {\n    case SET_CURRENT:\n      {\n        return action.value;\n      }\n\n    case SET_CURRENT_FROM_UI:\n      {\n        switch (action.value.type) {\n          case VIS_TYPE_PIE:\n            return getPieCurrentFromUi(state, action);\n\n          case VIS_TYPE_SINGLE_VALUE:\n          case VIS_TYPE_GAUGE:\n            return getSingleValueCurrentFromUi(state, action);\n\n          case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n          case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n            return getYearOverYearCurrentFromUi(state, action);\n\n          default:\n            {\n              return getDefaultFromUi(state, action);\n            }\n        }\n      }\n\n    case CLEAR_CURRENT:\n      return DEFAULT_CURRENT;\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetCurrent = state => state.current;\nexport const sGetCurrentFromUi = state => {\n  const ui = state.ui;\n\n  switch (ui.type) {\n    case VIS_TYPE_PIE:\n      return getPieCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return getSingleValueCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return getYearOverYearCurrentFromUi(state, {\n        value: ui\n      });\n\n    default:\n      {\n        return getDefaultFromUi(state, {\n          value: ui\n        });\n      }\n  }\n};","import { FIXED_DIMENSIONS as DEFAULT_DIMENSIONS } from '@dhis2/analytics';\nexport const SET_DIMENSIONS = 'SET_DIMENSIONS';\nexport const SET_SELECTED_DIMENSION = 'SET_SELECTED_DIMENSION';\nexport default ((state = DEFAULT_DIMENSIONS, action) => {\n  switch (action.type) {\n    case SET_DIMENSIONS:\n      {\n        return { ...DEFAULT_DIMENSIONS,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\n/**\n * Selector which returns dimensions from the state object\n * If state.dimensions is null, then the dimensions api request\n * has not yet completed. If state.dimensions is an empty object\n * then the dimensions api request is complete, and there are no\n * dimensions\n *\n * @function\n * @param {Object} state The current state\n * @returns {Array}\n */\n\nexport const sGetDimensions = state => state.dimensions;","export const SET_RECOMMENDED_IDS = 'SET_RECOMMENDED_IDS';\nexport const DEFAULT_RECOMMENDED_IDS = [];\nexport default ((state = DEFAULT_RECOMMENDED_IDS, action) => {\n  switch (action.type) {\n    case SET_RECOMMENDED_IDS:\n      {\n        return action.value || DEFAULT_RECOMMENDED_IDS;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetRecommendedIds = state => state.recommendedIds;","export const ADD_METADATA = 'ADD_METADATA';\nexport const DEFAULT_METADATA = {};\nexport default ((state = DEFAULT_METADATA, action) => {\n  switch (action.type) {\n    case ADD_METADATA:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetMetadata = state => state.metadata;","export const SET_SETTINGS = 'SET_SETTINGS';\nexport const ADD_SETTINGS = 'ADD_SETTINGS';\nexport const DEFAULT_SETTINGS = {\n  keyDateFormat: 'yyyy-MM-dd',\n  keyAnalysisRelativePeriod: 'LAST_12_MONTHS',\n  keyAnalysisDigitGroupSeparator: 'SPACE',\n  displayNameProperty: 'displayName',\n  uiLocale: 'en',\n  rootOrganisationUnit: {}\n};\nexport default ((state = DEFAULT_SETTINGS, action) => {\n  switch (action.type) {\n    case SET_SETTINGS:\n      {\n        return Object.assign({}, action.value);\n      }\n\n    case ADD_SETTINGS:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSettings = state => state.settings;\nexport const sGetSettingsDisplayNameProperty = state => sGetSettings(state).displayNameProperty;\nexport const sGetRootOrgUnit = state => sGetSettings(state).rootOrganisationUnit;\nexport const sGetRelativePeriod = state => sGetSettings(state).keyAnalysisRelativePeriod;\nexport const sGetUiLocale = state => sGetSettings(state).uiLocale;","export const RECEIVED_USER = 'RECEIVED_USER';\nexport const DEFAULT_USER = {\n  id: '',\n  username: '',\n  uiLocale: '',\n  isSuperuser: false\n};\nexport default ((state = DEFAULT_USER, action) => {\n  switch (action.type) {\n    case RECEIVED_USER:\n      {\n        return fromD2ToUserObj(action.value);\n      }\n\n    default:\n      return state;\n  }\n});\n\nfunction fromD2ToUserObj(d2Object) {\n  return {\n    id: d2Object.id,\n    username: d2Object.username,\n    uiLocale: d2Object.settings.keyUiLocale,\n    isSuperuser: d2Object.authorities.has('ALL')\n  };\n} // Selectors\n\n\nexport const sGetUser = state => state.user;\nexport const sGetUserId = state => sGetUser(state).id;\nexport const sGetUsername = state => sGetUser(state).username;\nexport const sGetIsSuperuser = state => sGetUser(state).isSuperuser;\nexport const sGetUiLocale = state => sGetUser(state).uiLocale;","// constants\nconst ID = 'id';\nconst NAME = 'name,displayName,displayShortName';\nconst DIMENSION_ITEM = `dimensionItem~rename(${ID})`;\nconst LEGEND_SET = `legendSet[${ID},${NAME}]`;\nconst USER = `user[${NAME},userCredentials[username]]`;\nconst ITEMS = `items[${DIMENSION_ITEM},${NAME},dimensionItemType]`;\nconst COMMENTS = `comments[${ID},${USER},lastUpdated,text`;\nconst AXIS = `dimension,filter,${LEGEND_SET},${ITEMS}`;\nconst INTERPRETATIONS = 'id,created'; // nested fields map\n\nexport const nestedFields = {\n  columns: AXIS,\n  rows: AXIS,\n  filters: AXIS,\n  user: USER,\n  comments: COMMENTS,\n  interpretations: INTERPRETATIONS\n};\nexport const extendFields = field => `${field}${nestedFields[field] ? `[${nestedFields[field]}]` : ''}`;","import { getAllFieldObjectsByType, extractName, markExcluded, moveExcludedToEnd } from './baseFields';\nimport { extendFields } from './nestedFields';\nexport { getAllFieldObjectsByType };\nexport const getOptionsByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.option === true);\nexport const getIncludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => !fieldObj.excluded);\nexport const getExcludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.excluded === true);\nexport const getFieldsStringByType = type => getAllFieldObjectsByType(type).map(markExcluded).map(extractName).sort().reduce(moveExcludedToEnd, null).map(extendFields).join(',');","import { getInstance } from 'd2';\nimport { getFieldsStringByType } from '../modules/fields';\nexport const apiFetchVisualization = (type, id) => getInstance().then(d2 => d2.models[type].get(id, {\n  fields: getFieldsStringByType(type)\n}));\nexport const apiSaveVisualization = (type, visualization) => getInstance().then(d2 => d2.models[type]).then(modelDefinition => {\n  const api = modelDefinition.api;\n  const apiEndpoint = modelDefinition.apiEndpoint;\n  const options = {\n    skipTranslations: true,\n    skipSharing: true\n  };\n  const query = Object.entries(options).reduce((query, [name, value]) => {\n    query.push(`${encodeURIComponent(name)}=${encodeURIComponent(value)}`);\n    return query;\n  }, []);\n  const queryString = '?' + query.join('&');\n\n  if (visualization.id) {\n    return api.update(`${apiEndpoint}/${visualization.id}${queryString}`, visualization, false);\n  } else {\n    return api.post(`${apiEndpoint}${queryString}`, visualization);\n  }\n});","import { SET_VISUALIZATION, CLEAR_VISUALIZATION } from '../reducers/visualization';\nexport const acSetVisualization = visualization => ({\n  type: SET_VISUALIZATION,\n  value: visualization\n});\nexport const acClear = () => ({\n  type: CLEAR_VISUALIZATION\n});","import { SET_CURRENT, SET_CURRENT_FROM_UI, CLEAR_CURRENT } from '../reducers/current';\nimport { sGetUi } from '../reducers/ui';\nexport const acSetCurrent = value => ({\n  type: SET_CURRENT,\n  value\n});\nexport const acClear = () => ({\n  type: CLEAR_CURRENT\n});\nexport const acSetCurrentFromUi = value => ({\n  type: SET_CURRENT_FROM_UI,\n  value\n});\nexport const tSetCurrentFromUi = () => async (dispatch, getState) => {\n  dispatch(acSetCurrentFromUi(sGetUi(getState())));\n};","import keyBy from 'lodash-es/keyBy';\nimport sortBy from 'lodash-es/sortBy';\nimport { SET_DIMENSIONS } from '../reducers/dimensions';\nimport { apiFetchDimensions } from '@dhis2/analytics';\nimport { sGetSettingsDisplayNameProperty } from '../reducers/settings';\nexport const acSetDimensions = dimensions => ({\n  type: SET_DIMENSIONS,\n  value: keyBy(sortBy(dimensions, [d => d.name.toLowerCase()]), 'id')\n});\nexport const tSetDimensions = d2 => async (dispatch, getState) => {\n  const onSuccess = dimensions => {\n    dispatch(acSetDimensions(dimensions));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchDimensions): ', error);\n    return error;\n  };\n\n  try {\n    const displayNameProp = sGetSettingsDisplayNameProperty(getState());\n    const dimensions = await apiFetchDimensions(d2, displayNameProp);\n    return onSuccess(dimensions);\n  } catch (err) {\n    return onError(err);\n  }\n};","import { SET_UI, CLEAR_UI, SET_UI_FROM_VISUALIZATION, SET_UI_TYPE, SET_UI_OPTIONS, SET_UI_LAYOUT, ADD_UI_LAYOUT_DIMENSIONS, REMOVE_UI_LAYOUT_DIMENSIONS, SET_UI_ITEMS, ADD_UI_ITEMS, REMOVE_UI_ITEMS, ADD_UI_PARENT_GRAPH_MAP, SET_UI_PARENT_GRAPH_MAP, SET_UI_ACTIVE_MODAL_DIALOG, SET_UI_YEAR_ON_YEAR_SERIES, SET_UI_YEAR_ON_YEAR_CATEGORY, TOGGLE_UI_RIGHT_SIDEBAR_OPEN, SET_UI_RIGHT_SIDEBAR_OPEN, SET_UI_INTERPRETATION, CLEAR_UI_INTERPRETATION, SET_AXES } from '../reducers/ui';\nexport const acSetUi = value => ({\n  type: SET_UI,\n  value\n});\nexport const acClear = value => ({\n  type: CLEAR_UI,\n  value\n});\nexport const acSetUiFromVisualization = value => ({\n  type: SET_UI_FROM_VISUALIZATION,\n  value\n});\nexport const acSetUiType = value => ({\n  type: SET_UI_TYPE,\n  value\n});\nexport const acSetUiOptions = value => ({\n  type: SET_UI_OPTIONS,\n  value\n});\nexport const acSetUiLayout = value => ({\n  type: SET_UI_LAYOUT,\n  value\n});\nexport const acAddUiLayoutDimensions = value => ({\n  type: ADD_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acRemoveUiLayoutDimensions = value => ({\n  type: REMOVE_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acSetUiItems = value => ({\n  type: SET_UI_ITEMS,\n  value\n});\nexport const acAddUiItems = value => ({\n  type: ADD_UI_ITEMS,\n  value\n});\nexport const acRemoveUiItems = value => ({\n  type: REMOVE_UI_ITEMS,\n  value\n});\nexport const acSetUiYearOverYearSeries = value => ({\n  type: SET_UI_YEAR_ON_YEAR_SERIES,\n  value\n});\nexport const acSetUiYearOverYearCategory = value => ({\n  type: SET_UI_YEAR_ON_YEAR_CATEGORY,\n  value\n});\nexport const acAddParentGraphMap = value => ({\n  type: ADD_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetParentGraphMap = value => ({\n  type: SET_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetUiActiveModalDialog = value => ({\n  type: SET_UI_ACTIVE_MODAL_DIALOG,\n  value\n});\nexport const acToggleUiRightSidebarOpen = () => ({\n  type: TOGGLE_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiRightSidebarOpen = () => ({\n  type: SET_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiInterpretation = value => ({\n  type: SET_UI_INTERPRETATION,\n  value\n});\nexport const acClearUiInterpretation = () => ({\n  type: CLEAR_UI_INTERPRETATION\n});\nexport const acSetAxes = value => ({\n  type: SET_AXES,\n  value\n});","import { ADD_METADATA } from '../reducers/metadata';\nexport const acAddMetadata = value => ({\n  type: ADD_METADATA,\n  value\n});","import { getInstance } from 'd2';\nimport { onError } from './index';\nimport { SYSTEM_SETTINGS } from '../modules/settings';\nexport const apiFetchSystemSettings = () => {\n  const endPoint = '/systemSettings';\n  const url = `${endPoint}?${SYSTEM_SETTINGS.map(s => `key=${s}`).join('&')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).catch(onError);\n};\nexport const apiFetchUserSettings = () => {\n  // \"key\" params not supported in the backend yet\n  // update: now it is, should be used here\n  const endPoint = '/userSettings';\n  return getInstance().then(d2 => d2.Api.getApi().get(endPoint)).catch(onError);\n};","import { SET_SETTINGS, ADD_SETTINGS } from '../reducers/settings';\nimport { apiFetchSystemSettings } from '../api/settings';\nimport { apiFetchOrganisationUnitRoot } from '../api/organisationUnits';\nexport const acSetSettings = value => ({\n  type: SET_SETTINGS,\n  value\n});\nexport const acAddSettings = value => ({\n  type: ADD_SETTINGS,\n  value\n});\nexport const tAddSettings = (...extraSettings) => async dispatch => {\n  const onSuccess = fetchedSettings => {\n    dispatch(acAddSettings(Object.assign({}, fetchedSettings, ...extraSettings)));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchSystemSettings): ', error);\n    return error;\n  };\n\n  try {\n    const systemSettings = await apiFetchSystemSettings();\n    const rootOrganisationUnit = await apiFetchOrganisationUnitRoot();\n    return onSuccess({ ...systemSettings,\n      rootOrganisationUnit\n    });\n  } catch (err) {\n    return onError(err);\n  }\n};","import { RECEIVED_USER } from '../reducers/user';\nexport const acReceivedUser = value => ({\n  type: RECEIVED_USER,\n  value\n});","export const SET_CHART = 'SET_CHART';\nexport const DEFAULT_CHART = null;\nexport default ((state = DEFAULT_CHART, action) => {\n  switch (action.type) {\n    case SET_CHART:\n      {\n        return action.value;\n      }\n\n    default:\n      return state;\n  }\n});\nexport const sGetChart = state => state.chart;","import { RECEIVED_SNACKBAR_MESSAGE, CLOSE_SNACKBAR } from '../reducers/snackbar';\nexport const acReceivedSnackbarMessage = value => ({\n  type: RECEIVED_SNACKBAR_MESSAGE,\n  value\n});\nexport const acCloseSnackbar = () => ({\n  type: CLOSE_SNACKBAR\n});","export const SET_LOAD_ERROR = 'SET_LOAD_ERROR';\nexport const CLEAR_LOAD_ERROR = 'CLEAR_LOAD_ERROR';\nexport const SET_LOADING = 'SET_LOADING';\nexport const DEFAULT_LOADING = {\n  isLoading: false,\n  loadingError: null\n};\nexport default ((state = DEFAULT_LOADING, action) => {\n  switch (action.type) {\n    case SET_LOAD_ERROR:\n      {\n        return { ...state,\n          loadingError: action.value\n        };\n      }\n\n    case CLEAR_LOAD_ERROR:\n      return { ...state,\n        loadingError: DEFAULT_LOADING.loadingError\n      };\n\n    case SET_LOADING:\n      return { ...state,\n        isLoading: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetLoadError = state => state.loader.loadingError;\nexport const sGetIsLoading = state => state.loader.isLoading;","import { SET_LOAD_ERROR, CLEAR_LOAD_ERROR, SET_LOADING } from '../reducers/loader';\nexport const acSetLoadError = value => ({\n  type: SET_LOAD_ERROR,\n  value\n});\nexport const acClearLoadError = () => ({\n  type: CLEAR_LOAD_ERROR\n});\nexport const acSetLoading = value => ({\n  type: SET_LOADING,\n  value\n});","import i18n from '@dhis2/d2-i18n';\nimport { apiFetchVisualization, apiSaveVisualization } from '../api/visualization';\nimport * as fromVisualization from './visualization';\nimport * as fromCurrent from './current';\nimport * as fromDimensions from './dimensions';\nimport * as fromRecommended from './recommendedIds';\nimport * as fromUi from './ui';\nimport * as fromMetadata from './metadata';\nimport * as fromSettings from './settings';\nimport * as fromUser from './user';\nimport * as fromChart from './chart';\nimport * as fromSnackbar from './snackbar';\nimport * as fromLoader from './loader';\nimport { sGetCurrent } from '../reducers/current';\nimport { sGetVisualization } from '../reducers/visualization';\nimport { sGetRootOrgUnit, sGetRelativePeriod } from '../reducers/settings';\nimport history from '../modules/history';\nimport { convertOuLevelsToUids } from '../modules/orgUnit';\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommended, fromUi, fromMetadata, fromSettings, fromUser, fromChart, fromSnackbar, fromLoader };\nexport const onError = (action, error) => {\n  console.log(`Error in action ${action}: ${error}`);\n  return error;\n}; // visualization, current, ui\n\nexport const tDoLoadVisualization = ({\n  type,\n  id,\n  interpretationId,\n  ouLevels\n}) => async (dispatch, getState) => {\n  const onSuccess = async model => {\n    const visualization = convertOuLevelsToUids(ouLevels, model.toJSON());\n\n    if (interpretationId) {\n      const interpretation = visualization.interpretations.find(i => i.id === interpretationId);\n\n      if (interpretation) {\n        dispatch(fromUi.acSetUiInterpretation(interpretation));\n        dispatch(fromUi.acSetUiRightSidebarOpen());\n      }\n    }\n\n    dispatch(fromVisualization.acSetVisualization(visualization));\n    dispatch(fromCurrent.acSetCurrent(visualization));\n    dispatch(fromUi.acSetUiFromVisualization(visualization));\n    dispatch(fromLoader.acClearLoadError());\n  };\n\n  try {\n    return onSuccess((await apiFetchVisualization(type, id)));\n  } catch (error) {\n    clearVisualization(dispatch, getState, error);\n    return onError('tDoLoadVisualization', error);\n  }\n};\nexport const clearVisualization = (dispatch, getState, error = null) => {\n  if (error) {\n    dispatch(fromLoader.acSetLoadError(error));\n  } else {\n    dispatch(fromLoader.acClearLoadError());\n  }\n\n  dispatch(fromVisualization.acClear());\n  dispatch(fromCurrent.acClear());\n  const rootOrganisationUnit = sGetRootOrgUnit(getState());\n  const relativePeriod = sGetRelativePeriod(getState());\n  dispatch(fromUi.acClear({\n    rootOrganisationUnit,\n    relativePeriod\n  }));\n};\nexport const tDoRenameVisualization = (type, {\n  name,\n  description\n}) => (dispatch, getState) => {\n  const state = getState();\n  const visualization = sGetVisualization(state);\n  const current = sGetCurrent(state);\n  const updatedVisualization = { ...visualization\n  };\n  const updatedCurrent = { ...current\n  };\n\n  if (name) {\n    updatedVisualization.name = updatedCurrent.name = name;\n  }\n\n  if (description) {\n    updatedVisualization.description = updatedCurrent.description = description;\n  }\n\n  dispatch(fromVisualization.acSetVisualization(updatedVisualization)); // keep the same reference for current if there are no changes\n  // other than the name/description\n\n  if (visualization === current) {\n    dispatch(fromCurrent.acSetCurrent(updatedVisualization));\n  } else {\n    dispatch(fromCurrent.acSetCurrent(updatedCurrent));\n  }\n\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    message: i18n.t('Rename successful'),\n    open: true,\n    duration: 2000\n  }));\n};\nexport const tDoSaveVisualization = (type, {\n  name,\n  description\n}, copy) => async (dispatch, getState) => {\n  const onSuccess = res => {\n    if (res.status === 'OK' && res.response.uid) {\n      if (copy) {\n        history.push(`/${res.response.uid}`);\n      } else {\n        history.replace(`/${res.response.uid}`);\n      }\n    }\n  };\n\n  try {\n    const visualization = { ...sGetCurrent(getState())\n    }; // remove the id to trigger a POST request and save a new AO\n\n    if (copy) {\n      delete visualization.id;\n    }\n\n    if (name) {\n      visualization.name = name;\n    }\n\n    if (description) {\n      visualization.description = description;\n    }\n\n    return onSuccess((await apiSaveVisualization(type, visualization)));\n  } catch (error) {\n    return onError('tDoSaveVisualization', error);\n  }\n};\nexport const tDoDeleteVisualization = () => (dispatch, getState) => {\n  const current = sGetCurrent(getState());\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    message: i18n.t('\"{{what}}\" successfully deleted.', {\n      what: current.name\n    }),\n    open: true,\n    duration: 2000\n  }));\n  history.push('/');\n}; // snackbar\n\nexport const tDoCloseSnackbar = () => dispatch => {\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    open: false\n  })); // wait for the animation to complete to avoid\n  // \"flashing\" of the snackbar\n\n  setTimeout(() => dispatch(fromSnackbar.acCloseSnackbar()), 250);\n};","import { colors } from '@dhis2/ui-core';\nexport default {\n  container: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    marginRight: 8\n  },\n  closeIcon: {\n    marginLeft: 8,\n    width: 18,\n    height: 18,\n    cursor: 'pointer'\n  },\n  warning: {\n    backgroundColor: colors.yellow500,\n    color: colors.black\n  },\n  error: {\n    backgroundColor: colors.red500,\n    color: colors.white\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport MUISnackbar from '@material-ui/core/Snackbar';\nimport MUISnackbarContent from '@material-ui/core/SnackbarContent';\nimport { withStyles } from '@material-ui/core/styles';\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { sGetSnackbar } from '../../reducers/snackbar';\nimport { tDoCloseSnackbar } from '../../actions';\nimport styles from './styles/Snackbar.style';\nexport const VARIANT_INFORMATION = 'information';\nexport const VARIANT_WARNING = 'warning';\nexport const VARIANT_ERROR = 'error';\nexport const Snackbar = ({\n  classes,\n  variant,\n  open,\n  message,\n  duration,\n  onClose\n}) => <MUISnackbar open={open} autoHideDuration={duration} onClose={onClose}>\n        <MUISnackbarContent className={classes[variant]} message={<span className={classes.container}>\n                    {variant === VARIANT_ERROR ? <InfoIcon className={classes.icon} /> : null}\n                    {message}\n                    {variant === VARIANT_WARNING ? <CloseIcon className={classes.closeIcon} onClick={onClose} /> : null}\n                </span>} />\n    </MUISnackbar>;\nSnackbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  variant: PropTypes.oneOf([VARIANT_INFORMATION, VARIANT_WARNING, VARIANT_ERROR]).isRequired,\n  duration: PropTypes.number,\n  message: PropTypes.string,\n  open: PropTypes.bool,\n  onClose: PropTypes.func\n};\n\nconst mapStateToProps = state => {\n  const {\n    variant,\n    message,\n    duration,\n    open\n  } = sGetSnackbar(state);\n  return {\n    variant,\n    open,\n    message,\n    duration\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: () => dispatch(tDoCloseSnackbar())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Snackbar));","import { VARIANT_INFORMATION } from '../components/Snackbar/Snackbar';\nexport const RECEIVED_SNACKBAR_MESSAGE = 'RECEIVED_SNACKBAR_MESSAGE';\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR';\nexport const DEFAULT_SNACKBAR = {\n  message: null,\n  duration: null,\n  open: false,\n  variant: VARIANT_INFORMATION\n};\nexport default ((state = DEFAULT_SNACKBAR, action) => {\n  switch (action.type) {\n    case RECEIVED_SNACKBAR_MESSAGE:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    case CLOSE_SNACKBAR:\n      {\n        return DEFAULT_SNACKBAR;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSnackbar = state => state.snackbar;","import { combineReducers } from 'redux';\nimport visualization, * as fromVisualization from './visualization';\nimport current, * as fromCurrent from './current';\nimport dimensions, * as fromDimensions from './dimensions';\nimport recommendedIds, * as fromRecommendedIds from './recommendedIds';\nimport ui, * as fromUi from './ui';\nimport metadata, * as fromMetadata from './metadata';\nimport settings, * as fromSettings from './settings';\nimport user, * as fromUser from './user';\nimport snackbar, * as fromSnackbar from './snackbar';\nimport loader, * as fromLoader from './loader';\nimport chart, * as fromChart from './chart'; // Reducers\n\nexport default combineReducers({\n  visualization,\n  current,\n  dimensions,\n  recommendedIds,\n  ui,\n  metadata,\n  settings,\n  user,\n  snackbar,\n  loader,\n  chart\n}); // Selectors\n\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommendedIds, fromUi, fromMetadata, fromSettings, fromUser, fromSnackbar, fromLoader, fromChart };\nexport const sGetAxisSetupItems = state => fromUi.sGetAxisSetup(state).map(obj => {\n  const metadata = fromMetadata.sGetMetadata(state)[obj.id];\n  return { ...obj,\n    name: metadata ? metadata.name : ''\n  };\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\n\nconst configureStore = (...args) => {\n  const middleware = [thunk, ...args]; // Enable Redux devtools if extension is installed instead of redux-logger\n  // const composeEnhancers =\n  //     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: 'data-visualizer-app'\n  }) : compose;\n\n  if (!window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV !== 'production') {\n    middleware.push(createLogger());\n  }\n\n  return createStore(reducer, composeEnhancers(applyMiddleware(...middleware)));\n};\n\nexport default configureStore;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui-core';\n\nconst UpdateButton = ({\n  onClick,\n  ...props\n}) => {\n  return <Button data-test=\"update-button\" {...props} onClick={onClick} type=\"button\" primary>\n            {i18n.t('Update')}\n        </Button>;\n};\n\nUpdateButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default UpdateButton;","export const styles = {\n  arrowIcon: {\n    marginLeft: 'auto'\n  },\n  menuAnchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  submenuAnchorOrigin: {\n    vertical: 'top',\n    horizontal: 'right'\n  }\n};","import { DIMENSION_ID_PERIOD } from '@dhis2/analytics';\nimport { getInstance } from 'd2';\nexport const apiDownloadImage = async (type, formData) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `${api.baseUrl}/svg.${type}`;\n  return api.fetch(url, {\n    method: 'POST',\n    body: formData,\n    headers: new Headers(api.defaultHeaders)\n  }).then(res => res.blob());\n};\nexport const apiDownloadData = async ({\n  current,\n  format,\n  idScheme,\n  path\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  let req = new d2.analytics.request().fromModel(current, path === 'dataValueSet').withFormat(format);\n\n  if (path) {\n    req = req.withPath(path);\n  }\n\n  if (idScheme) {\n    req = req.withOutputIdScheme(idScheme);\n  }\n\n  const url = new URL(`${api.baseUrl}/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};\nexport const apiFetchAnalytics = async (current, options) => {\n  const d2 = await getInstance();\n  const req = new d2.analytics.request().fromModel(current).withParameters(options);\n  const rawResponse = await d2.analytics.aggregate.get(req);\n  return [new d2.analytics.response(rawResponse)];\n};\nexport const apiFetchAnalyticsForYearOverYear = async (current, options) => {\n  const d2 = await getInstance();\n  let yearlySeriesReq = new d2.analytics.request().addPeriodDimension(current.yearlySeries).withSkipData(true).withSkipMeta(false).withIncludeMetadataDetails(true);\n\n  if (options.relativePeriodDate) {\n    yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq);\n  const requests = [];\n  const yearlySeriesLabels = [];\n  const now = new Date();\n  const currentDay = ('' + now.getDate()).padStart(2, 0);\n  const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0);\n  yearlySeriesRes.metaData.dimensions[DIMENSION_ID_PERIOD].forEach(period => {\n    yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name);\n    const startDate = `${period}-${currentMonth}-${currentDay}`;\n    const req = new d2.analytics.request().fromModel(current).withParameters(options).withRelativePeriodDate(startDate);\n    requests.push(d2.analytics.aggregate.get(req));\n  });\n  return Promise.all(requests).then(responses => ({\n    responses: responses.map(res => new d2.analytics.response(res)),\n    yearlySeriesLabels\n  }));\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ImageIcon from '@material-ui/icons/Image';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport ListIcon from '@material-ui/icons/List';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport i18n from '@dhis2/d2-i18n';\nimport { styles } from './styles/DownloadMenu.style';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetChart } from '../../reducers/chart';\nimport { apiDownloadImage, apiDownloadData } from '../../api/analytics';\nexport class DownloadMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"toggleMenu\", target => this.setState({\n      anchorEl: target || null\n    }));\n\n    _defineProperty(this, \"toggleSubmenu\", (id, target, dataType) => {\n      const key = `${id}Submenu`;\n      const payload = {\n        anchorEl: target || null\n      };\n\n      if (id === 'scheme') {\n        payload.dataType = dataType || null;\n      }\n\n      this.setState({\n        [key]: payload\n      });\n    });\n\n    _defineProperty(this, \"downloadImage\", format => async () => {\n      const {\n        current,\n        chart\n      } = this.props;\n      const formData = new URLSearchParams();\n      formData.append('filename', current.name);\n\n      if (chart) {\n        formData.append('svg', chart);\n      }\n\n      const blob = await apiDownloadImage(format, formData);\n      const url = URL.createObjectURL(blob);\n      this.toggleMenu();\n      window.open(url, '_blank');\n    });\n\n    _defineProperty(this, \"downloadData\", (format, idScheme, path) => async () => {\n      const {\n        current\n      } = this.props;\n      const url = await apiDownloadData({\n        current,\n        format,\n        idScheme,\n        path\n      });\n\n      if (idScheme) {\n        this.toggleSubmenu('scheme');\n      } else {\n        this.toggleSubmenu('advanced');\n      }\n\n      this.toggleMenu();\n      window.open(url, format.match(/(xls|csv)/) ? '_top' : '_blank');\n    });\n\n    this.state = {\n      anchorEl: null,\n      schemeSubmenu: {\n        anchorEl: null,\n        dataType: null\n      },\n      advancedSubmenu: {\n        anchorEl: null\n      }\n    };\n  }\n\n  render() {\n    return <Fragment>\n                <Button className={this.props.className} onClick={event => this.toggleMenu(event.currentTarget)} disableRipple={true} disableFocusRipple={true} disabled={!this.props.current}>\n                    {i18n.t('Download')}\n                </Button>\n                <Menu open={Boolean(this.state.anchorEl)} anchorEl={this.state.anchorEl} anchorOrigin={styles.menuAnchorOrigin} getContentAnchorEl={null} onClose={() => this.toggleMenu()}>\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Graphics')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadImage('png')}>\n                        <ListItemIcon>\n                            <ImageIcon />\n                        </ListItemIcon>\n                        <ListItemText>{i18n.t('Image (.png)')}</ListItemText>\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadImage('pdf')}>\n                        <ListItemIcon>\n                            <PictureAsPdfIcon />\n                        </ListItemIcon>\n                        <ListItemText>{i18n.t('PDF (.pdf)')}</ListItemText>\n                    </MenuItem>\n                    <Divider />\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Plain data source')}\n                    </ListSubheader>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'json')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>JSON</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'xml')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>XML</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'xls')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>Excel</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'csv')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>CSV</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('advanced', event.currentTarget)}>\n                        <ListItemIcon>\n                            <MoreHorizIcon />\n                        </ListItemIcon>\n                        <ListItemText>{i18n.t('Advanced')}</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                </Menu>\n                <Menu open={Boolean(this.state.schemeSubmenu.anchorEl)} anchorEl={this.state.schemeSubmenu.anchorEl} anchorOrigin={styles.submenuAnchorOrigin} onClose={() => this.toggleSubmenu('scheme')}>\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Metadata ID scheme')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'UID')}>\n                        ID\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'CODE')}>\n                        Code\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'NAME')}>\n                        Name\n                    </MenuItem>\n                </Menu>\n                <Menu open={Boolean(this.state.advancedSubmenu.anchorEl)} anchorEl={this.state.advancedSubmenu.anchorEl} anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right'\n      }} onClose={() => this.toggleSubmenu('advanced')}>\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Data value set')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData('json', null, 'dataValueSet')}>\n                        JSON\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData('xml', null, 'dataValueSet')}>\n                        XML\n                    </MenuItem>\n                    <Divider />\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Other formats')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData('jrxml')}>\n                        JRXML\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData('sql', null, 'debug/sql')}>\n                        Raw data SQL\n                    </MenuItem>\n                </Menu>\n            </Fragment>;\n  }\n\n}\nDownloadMenu.propTypes = {\n  chart: PropTypes.string,\n  className: PropTypes.string,\n  current: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  current: sGetCurrent(state),\n  chart: sGetChart(state)\n});\n\nexport default connect(mapStateToProps, {})(DownloadMenu);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetUiRightSidebarOpen } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { acToggleUiRightSidebarOpen } from '../../actions/ui';\n\nconst styles = theme => ({\n  icon: {\n    marginRight: theme.spacing.unit,\n    marginTop: 2\n  }\n});\n\nexport const InterpretationsButton = props => <Button className={props.className} size=\"small\" disabled={!props.id} disableRipple={true} disableFocusRipple={true} onClick={props.onClick}>\n        {props.rightSidebarOpen ? <KeyboardArrowRightIcon className={props.classes.icon} /> : <KeyboardArrowLeftIcon className={props.classes.icon} />}\n        {i18n.t('Interpretations')}\n    </Button>;\nInterpretationsButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  rightSidebarOpen: PropTypes.bool,\n  onClick: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: () => dispatch(acToggleUiRightSidebarOpen())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(InterpretationsButton));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui-core';\n\nconst HideButton = ({\n  onClick,\n  ...props\n}) => <Button {...props} type=\"button\" secondary onClick={onClick}>\n        {i18n.t('Hide')}\n    </Button>;\n\nHideButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default HideButton;","import i18n from '@dhis2/d2-i18n';\nimport { AXIS, AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, FIXED_DIMENSIONS, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, dimensionIsValid, layoutGetDimension, getAxisName } from '@dhis2/analytics';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nconst dxName = FIXED_DIMENSIONS[DIMENSION_ID_DATA].name;\nconst errorLabels = {\n  defaultSeries: i18n.t('Please add at least one {{series}} dimension', {\n    series: getAxisName(AXIS_ID_COLUMNS)\n  }),\n  defaultCategory: i18n.t('Please add at least one {{category}} dimension', {\n    category: getAxisName(AXIS_ID_ROWS)\n  }),\n  defaultPe: i18n.t('Please add at least one period as {{series}}, {{category}} or {{filter}}', {\n    series: getAxisName(AXIS_ID_COLUMNS),\n    category: getAxisName(AXIS_ID_ROWS),\n    filter: getAxisName(AXIS_ID_FILTERS)\n  }),\n  pie: {\n    dx: i18n.t('Please add {{data}} as {{category}} or {{filter}}', {\n      data: dxName,\n      category: getAxisName(AXIS_ID_ROWS),\n      filter: getAxisName(AXIS_ID_FILTERS)\n    }),\n    pe: i18n.t('Please add at least one period as {{series}} or {{filter}}', {\n      series: getAxisName(AXIS_ID_COLUMNS),\n      filter: getAxisName(AXIS_ID_FILTERS)\n    }),\n    filter: i18n.t('Please add at least one {{filter}} dimension', {\n      filter: getAxisName(AXIS_ID_FILTERS)\n    })\n  },\n  yearOverYear: {\n    seriesPeriod: i18n.t('Please add at least one period as a {{series}} dimension', {\n      series: getAxisName(AXIS_ID_COLUMNS)\n    }),\n    categoryPeriod: i18n.t('Please add at least one period as a {{category}} dimension', {\n      category: getAxisName(AXIS_ID_ROWS)\n    }),\n    dx: i18n.t('Please add {{data}} as a filter dimension', {\n      data: dxName\n    })\n  },\n  singleValue: {\n    dx: i18n.t('Please add one {{series}} dimension', {\n      series: getAxisName(AXIS_ID_COLUMNS)\n    }),\n    pe: i18n.t('Please add at least one period as {{filter}}', {\n      filter: getAxisName(AXIS_ID_FILTERS)\n    })\n  }\n}; // Layout validation helper functions\n\nconst isAxisValid = axis => AXIS.isValid(axis) && dimensionIsValid(axis[0], {\n  requireItems: true\n});\n\nconst validateDimension = (dimension, message) => {\n  if (!(dimension && dimensionIsValid(dimension, {\n    requireItems: true\n  }))) {\n    throw new Error(message);\n  }\n};\n\nconst validateAxis = (axis, message) => {\n  if (!isAxisValid(axis)) {\n    throw new Error(message);\n  }\n}; // Layout validation\n\n\nconst validateDefaultLayout = layout => {\n  validateAxis(layout.columns, errorLabels.defaultSeries);\n  validateAxis(layout.rows, errorLabels.defaultCategory);\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), errorLabels.defaultPe);\n};\n\nconst validateYearOverYearLayout = layout => {\n  if (!(Array.isArray(layout[BASE_FIELD_YEARLY_SERIES]) && typeof layout[BASE_FIELD_YEARLY_SERIES][0] === 'string')) {\n    throw new Error(errorLabels.yearOverYear.seriesPeriod);\n  }\n\n  validateAxis(layout.rows, errorLabels.yearOverYear.categoryPeriod);\n  validateAxis(layout.columns, errorLabels.yearOverYear.dx);\n};\n\nconst validatePieLayout = layout => {\n  validateAxis(layout.columns, errorLabels.defaultSeries);\n  validateAxis(layout.filters, errorLabels.pie.filter);\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), errorLabels.pie.pe);\n};\n\nconst validateSingleValueLayout = layout => {\n  validateAxis(layout.columns, errorLabels.singleValue.dx);\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), errorLabels.singleValue.pe);\n};\n\nexport const validateLayout = layout => {\n  switch (layout.type) {\n    case VIS_TYPE_PIE:\n      return validatePieLayout(layout);\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return validateYearOverYearLayout(layout);\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return validateSingleValueLayout(layout);\n\n    default:\n      return validateDefaultLayout(layout);\n  }\n};","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const NAMESPACE = 'analytics';\nexport const CURRENT_AO_KEY = 'currentAnalyticalObject';\nexport const hasNamespace = async d2 => await d2.currentUser.dataStore.has(NAMESPACE);\nexport const getNamespace = async (d2, hasNamespace) => hasNamespace ? await d2.currentUser.dataStore.get(NAMESPACE) : await d2.currentUser.dataStore.create(NAMESPACE);\nexport const apiSave = async (data, key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, (await hasNamespace(d2))));\n    return ns.set(key, data);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiFetch = async (key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, (await hasNamespace(d2))));\n    return ns.get(key);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiSaveAOInUserDataStore = (current, key = CURRENT_AO_KEY) => apiSave(current, key);\nexport const apiFetchAOFromUserDataStore = (key = CURRENT_AO_KEY) => apiFetch(key);","import { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetCurrent, sGetCurrentFromUi } from '../../reducers/current';\nimport * as fromActions from '../../actions';\nimport { validateLayout } from '../../modules/layoutValidation';\nimport { acSetLoadError, acClearLoadError } from '../../actions/loader';\nimport history from '../../modules/history';\nimport { CURRENT_AO_KEY } from '../../api/userDataStore';\n\nconst UpdateVisualizationContainer = ({\n  renderComponent,\n  getCurrent,\n  getCurrentFromUi,\n  onUpdate,\n  acSetLoadError,\n  acClearLoadError\n}) => {\n  // validate layout on update\n  // validation error message will be shown without loading the plugin first\n  const onClick = () => {\n    try {\n      validateLayout(getCurrentFromUi());\n      acClearLoadError();\n    } catch (err) {\n      acSetLoadError(err && err.message ? err.message : i18n.t('Error validating layout'));\n    }\n\n    onUpdate();\n    const urlContainsCurrentAOKey = history.location.pathname === '/' + CURRENT_AO_KEY;\n    const current = getCurrent();\n    const pathWithoutInterpretation = current && current.id ? `/${current.id}` : '/';\n\n    if (!urlContainsCurrentAOKey && history.location.pathname !== pathWithoutInterpretation) {\n      history.push(pathWithoutInterpretation);\n    }\n  };\n\n  return renderComponent(onClick);\n};\n\nconst mapDispatchToProps = {\n  getCurrent: () => (dispatch, getState) => sGetCurrent(getState()),\n  getCurrentFromUi: () => (dispatch, getState) => sGetCurrentFromUi(getState()),\n  onUpdate: fromActions.fromCurrent.tSetCurrentFromUi,\n  acSetLoadError,\n  acClearLoadError\n};\nexport default connect(null, mapDispatchToProps)(UpdateVisualizationContainer);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n/* eslint-disable-line no-unused-vars */\n\nimport { colors, spacers } from '@dhis2/ui-core';\nexport const tabBar = {\n  styles: <_JSXStyle id={\"3577720839\"}>{[\"div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}\"]}</_JSXStyle>,\n  className: \"jsx-3577720839\"\n};\nexport const tabSection = {\n  styles: <_JSXStyle id={\"700214593\"}>{[`div.jsx-700214593{padding:${spacers.dp16} 0;}`]}</_JSXStyle>,\n  className: \"jsx-700214593\"\n};\nexport const tabSectionContent = {\n  styles: <_JSXStyle id={\"1655721637\"}>{[\"div.jsx-1655721637{overflow-y:auto;}\"]}</_JSXStyle>,\n  className: \"jsx-1655721637\"\n};\nexport const tabSectionTitle = {\n  styles: <_JSXStyle id={\"4244804206\"}>{[`span.jsx-4244804206{display:inline-block;padding-bottom:${spacers.dp16};font-size:${spacers.dp16};color:${colors.grey900};}`]}</_JSXStyle>,\n  className: \"jsx-4244804206\"\n};\nexport const tabSectionOption = {\n  styles: <_JSXStyle id={\"1665807213\"}>{[`div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-1665807213\"\n};\nexport const tabSectionOptionItem = {\n  styles: <_JSXStyle id={\"2983019948\"}>{[`div.jsx-2983019948:not(:last-child){padding-bottom:${spacers.dp8};}`]}</_JSXStyle>,\n  className: \"jsx-2983019948\"\n};\nexport const tabSectionOptionText = {\n  styles: <_JSXStyle id={\"3717686981\"}>{[`p.jsx-3717686981{font-size:${spacers.dp14};padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-3717686981\"\n};\nexport const tabSectionOptionToggleable = {\n  styles: <_JSXStyle id={\"684239008\"}>{[`div.jsx-684239008{margin:${spacers.dp4} 0 0 23px;}`]}</_JSXStyle>,\n  className: \"jsx-684239008\"\n};\nexport const tabSectionOptionComplexInline = {\n  styles: <_JSXStyle id={\"3576615552\"}>{[\"div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\"]}</_JSXStyle>,\n  className: \"jsx-3576615552\"\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, SingleSelectField, SingleSelectOption } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOptionItem, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const SelectBaseOption = ({\n  option,\n  label,\n  helpText,\n  enabled,\n  toggleable,\n  value,\n  onChange,\n  onToggle\n}) => {\n  const selected = option.items.find(item => item.id === String(value));\n  return <div className={!toggleable || enabled ? '' : tabSectionOptionItem.className}>\n            {toggleable ? <Checkbox checked={enabled} label={label} name={`${option.name}-toggle`} onChange={({\n      checked\n    }) => onToggle(checked)} dense /> : null}\n            {!toggleable || enabled ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                    <SingleSelectField name={option.name} label={toggleable ? '' : label} onChange={({\n        selected\n      }) => onChange(selected.value)} selected={{\n        value: selected.id,\n        label: selected.label\n      }} helpText={helpText} inputWidth=\"280px\" dense>\n                        {option.items.map(({\n          id,\n          label\n        }) => <SingleSelectOption key={id} value={String(id)} label={label} />)}\n                    </SingleSelectField>\n                </div> : null}\n        </div>;\n};\nSelectBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  enabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  label: PropTypes.string,\n  toggleable: PropTypes.bool,\n  onToggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name],\n  enabled: sGetUiOptions(state)[ownProps.option.name] !== undefined\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  })),\n  onToggle: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked ? ownProps.option.defaultValue : undefined\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst AggregationType = () => <SelectBaseOption label={i18n.t('Aggregation type')} helpText={i18n.t('Determines how the values in the pivot table are aggregated. Learn more')} option={{\n  name: 'aggregationType',\n  items: [{\n    id: 'DEFAULT',\n    label: i18n.t('By data element')\n  }, {\n    id: 'COUNT',\n    label: i18n.t('Count')\n  }, {\n    id: 'AVERAGE',\n    label: i18n.t('Average')\n  }, {\n    id: 'AVERAGE_SUM_ORG_UNIT',\n    label: i18n.t('Average (sum in org unit hierarchy)')\n  }, {\n    id: 'SUM',\n    label: i18n.t('Sum')\n  }, {\n    id: 'LAST',\n    label: i18n.t('Last value')\n  }, {\n    id: 'LAST_AVERAGE_ORG_UNIT',\n    label: i18n.t('Last value (average in org unit hierarchy)')\n  }, {\n    id: 'MIN',\n    label: i18n.t('Min')\n  }, {\n    id: 'MAX',\n    label: i18n.t('Max')\n  }, {\n    id: 'STDDEV',\n    label: i18n.t('Standard deviation')\n  }, {\n    id: 'VARIANCE',\n    label: i18n.t('Variance')\n  }]\n}} />;\n\nexport default AggregationType;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nexport const CheckboxBaseOption = ({\n  option,\n  label,\n  value,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={value} label={label} name={option.name} onChange={({\n    checked\n  }) => onChange(checked)} dense />\n    </div>;\nCheckboxBaseOption.propTypes = {\n  label: PropTypes.string,\n  option: PropTypes.object,\n  value: PropTypes.bool,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckboxBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowDimensionLabels = () => <CheckboxBaseOption label={i18n.t('Dimension labels')} option={{\n  name: 'showDimensionTotals'\n}} />;\n\nexport default ShowDimensionLabels;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst SkipRounding = () => <CheckboxBaseOption label={i18n.t('Skip rounding')} option={{\n  name: 'skipRounding'\n}} />;\n\nexport default SkipRounding;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColTotals = () => <CheckboxBaseOption label={i18n.t('Columns totals')} option={{\n  name: 'colTotals'\n}} />;\n\nexport default ColTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColSubTotals = () => <CheckboxBaseOption label={i18n.t('Column sub-totals')} option={{\n  name: 'colSubTotals'\n}} />;\n\nexport default ColSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowTotals = () => <CheckboxBaseOption label={i18n.t('Row totals')} option={{\n  name: 'rowTotals'\n}} />;\n\nexport default RowTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowSubTotals = () => <CheckboxBaseOption label={i18n.t('Row sub-totals')} option={{\n  name: 'rowSubTotals'\n}} />;\n\nexport default RowSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyColumns = () => <CheckboxBaseOption label={i18n.t('Hide empty columns')} option={{\n  name: 'hideEmptyColumns'\n}} />;\n\nexport default HideEmptyColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyRows = () => <CheckboxBaseOption label={i18n.t('Hide empty rows')} option={{\n  name: 'hideEmptyRows'\n}} />;\n\nexport default HideEmptyRows;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst NumberType = () => <SelectBaseOption label={i18n.t('Number type')} helpText={i18n.t('Display the value of percentages of the total')} option={{\n  name: 'numberType',\n  items: [{\n    id: 'VALUE',\n    label: i18n.t('Value')\n  }, {\n    id: 'ROW_PERCENTAGE',\n    label: i18n.t('Percentage of row')\n  }, {\n    id: 'COLUMN_PERCENTAGE',\n    label: i18n.t('Percentage of column')\n  }]\n}} />;\n\nexport default NumberType;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Radio, RadioGroupField } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const RadioBaseOption = ({\n  option,\n  label,\n  value,\n  onChange\n}) => <RadioGroupField name={option.name} value={String(value)} onChange={({\n  value\n}) => onChange(value)} label={label} dense>\n        {option.items.map(({\n    id,\n    label\n  }) => <Radio key={id} label={label} value={String(id)} />)}\n    </RadioGroupField>;\nRadioBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RadioBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RadioBaseOption from './RadioBaseOption';\n\nconst LegendDisplayStyle = () => <RadioBaseOption option={{\n  name: 'legendDisplayStyle',\n  items: [{\n    id: 'FILL',\n    label: i18n.t('Legend changes background color')\n  }, {\n    id: 'TEXT',\n    label: i18n.t('Legend changes text color')\n  }]\n}} />;\n\nexport default LegendDisplayStyle;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, Input, InputField } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const TextBaseOption = ({\n  type,\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  onToggle,\n  toggleable,\n  enabled,\n  inline\n}) => <div className={!toggleable || enabled || inline ? '' : tabSectionOption.className}>\n        {toggleable ? <Checkbox checked={enabled} label={label} name={`${option.name}-toggle`} onChange={({\n    checked\n  }) => onToggle(checked)} dense /> : null}\n        {!toggleable || enabled ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                {inline ? <Input type={type} onChange={({\n      value\n    }) => onChange(value)} name={option.name} value={value} placeholder={placeholder} width={width} dense /> : <InputField type={type} label={toggleable ? '' : label} onChange={({\n      value\n    }) => onChange(value)} name={option.name} value={value} helpText={helpText} placeholder={placeholder} inputWidth={width} dense />}\n            </div> : null}\n    </div>;\nTextBaseOption.propTypes = {\n  enabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  inline: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  toggleable: PropTypes.bool,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.string,\n  onChange: PropTypes.func,\n  onToggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || '',\n  enabled: sGetUiOptions(state)[ownProps.option.name] !== undefined\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  })),\n  onToggle: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked ? '' : undefined\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextBaseOption);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Title = ({\n  label,\n  inline\n}) => <TextBaseOption type=\"text\" width=\"280px\" label={label} placeholder={i18n.t('Add a title')} option={{\n  name: 'title'\n}} inline={inline} />;\n\nTitle.defaultProps = {\n  inline: false\n};\nTitle.propTypes = {\n  inline: PropTypes.bool,\n  label: PropTypes.string\n};\nexport default Title;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DisplayDensity = () => <SelectBaseOption label={i18n.t('Display density')} option={{\n  name: 'displayDensity',\n  items: [{\n    id: 'COMFORTABLE',\n    label: i18n.t('Comfortable')\n  }, {\n    id: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    id: 'COMPACT',\n    label: i18n.t('Compact')\n  }]\n}} />;\n\nexport default DisplayDensity;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst FontSize = () => <SelectBaseOption label={i18n.t('Font size')} option={{\n  name: 'fontSize',\n  items: [{\n    id: 'LARGE',\n    label: i18n.t('Large')\n  }, {\n    id: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    id: 'SMALL',\n    label: i18n.t('Small')\n  }]\n}} />;\n\nexport default FontSize;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DigitGroupSeparator = () => <SelectBaseOption label={i18n.t('Digit group separator')} option={{\n  name: 'digitGroupSeparator',\n  items: [{\n    id: 'NONE',\n    label: i18n.t('None')\n  }, {\n    id: 'SPACE',\n    label: i18n.t('Space')\n  }, {\n    id: 'COMMA',\n    label: i18n.t('Comma')\n  }]\n}} />;\n\nexport default DigitGroupSeparator;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Field, Input, Label, SingleSelect, SingleSelectOption } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionText, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst OperatorSelect = ({\n  name,\n  value,\n  onChange\n}) => {\n  const options = [{\n    id: 'EQ',\n    label: '='\n  }, {\n    id: 'GT',\n    label: '>'\n  }, {\n    id: 'GE',\n    label: '>='\n  }, {\n    id: 'LT',\n    label: '<'\n  }, {\n    id: 'LE',\n    label: '<='\n  }];\n  const selected = options.find(option => option.id === value);\n  return <div style={{\n    width: '112px'\n  }}>\n            <SingleSelect name={name} onChange={({\n      selected\n    }) => {\n      onChange(selected.value);\n    }} selected={selected ? {\n      value: selected.id,\n      label: selected.label\n    } : undefined} tabIndex=\"0\" inputMaxWidth=\"106px\" dense>\n                {options.map(({\n        id,\n        label\n      }) => <SingleSelectOption key={id} value={id} label={label} />)}\n            </SingleSelect>\n        </div>;\n};\n\nOperatorSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst ValueInput = ({\n  name,\n  value,\n  onChange\n}) => <Input name={name} value={value} type=\"number\" onChange={({\n  value\n}) => onChange(value)} width=\"72px\" dense />;\n\nValueInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nclass MeasureCriteria extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onClear\", () => this.setState(this.defaultState, this.props.onChange('')));\n\n    _defineProperty(this, \"onChange\", name => value => {\n      this.setState({\n        [name]: value\n      }, () => {\n        const {\n          op1,\n          v1,\n          op2,\n          v2\n        } = this.state;\n        const value = [];\n\n        if (op1 && v1) {\n          value.push(`${op1}:${v1}`);\n        }\n\n        if (op2 && v2) {\n          value.push(`${op2}:${v2}`);\n        }\n\n        this.props.onChange(value.length > 0 ? value.join(';') : '');\n      });\n    });\n\n    this.defaultState = {\n      op1: '',\n      v1: '',\n      op2: '',\n      v2: ''\n    };\n    const [_op = '', _v = '', _op2 = '', _v2 = ''] = props.value.split(/[;:]/);\n    this.state = {\n      op1: _op,\n      v1: _v,\n      op2: _op2,\n      v2: _v2\n    };\n  }\n\n  render() {\n    const {\n      op1,\n      v1,\n      op2,\n      v2\n    } = this.state;\n    return <div className={tabSectionOption.className}>\n                <p className={tabSectionOptionText.className}>\n                    {i18n.t('You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed')}\n                </p>\n                <div className={tabSectionOptionComplexInline.className}>\n                    <div style={{\n          width: '250px',\n          paddingBottom: '16px'\n        }}>\n                        <Label>{i18n.t('Minimum data value')}</Label>\n                        <div className={tabSectionOptionComplexInline.className}>\n                            <OperatorSelect name=\"op1\" value={op1} onChange={this.onChange('op1')} />\n                            <ValueInput name=\"v1\" value={v1} onChange={this.onChange('v1')} />\n                        </div>\n                    </div>\n                    <Field>\n                        <div style={{\n            width: '250px'\n          }}>\n                            <Label>{i18n.t('Maximum data value')}</Label>\n                            <div className={tabSectionOptionComplexInline.className}>\n                                <OperatorSelect name=\"op2\" value={op2} onChange={this.onChange('op2')} />\n                                <ValueInput name=\"v2\" value={v2} onChange={this.onChange('v2')} />\n                            </div>\n                        </div>\n                    </Field>\n                </div>\n                <Button onClick={this.onClear}>\n                    {i18n.t('Clear min/max limits')}\n                </Button>\n            </div>;\n  }\n\n}\n\nMeasureCriteria.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state).measureCriteria || ''\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions({\n    measureCriteria: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasureCriteria);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamReportingPeriod = () => <CheckboxBaseOption label={i18n.t('Reporting period')} option={{\n  name: 'reportingPeriod'\n}} />;\n\nexport default ParamReportingPeriod;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Organisation unit')} option={{\n  name: 'organisationUnit'\n}} />;\n\nexport default ParamOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamParentOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Parent organisation unit')} option={{\n  name: 'parentOrganisationUnit'\n}} />;\n\nexport default ParamParentOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Regression = () => <CheckboxBaseOption label={i18n.t('Include regression')} option={{\n  name: 'regression'\n}} />;\n\nexport default Regression;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Cumulative = () => <CheckboxBaseOption label={i18n.t('Include cumulative')} option={{\n  name: 'cumulative'\n}} />;\n\nexport default Cumulative;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'sortOrder';\nconst defaultValue = options[optionName].defaultValue;\n\nconst SortOrder = () => <SelectBaseOption toggleable={true} label={i18n.t('Custom sort order')} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    id: '-1',\n    label: i18n.t('Low to high')\n  }, {\n    id: '1',\n    label: i18n.t('High to low')\n  }, {\n    id: '0',\n    label: i18n.t('None')\n  }]\n}} />;\n\nexport default SortOrder;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst TopLimit = () => <SelectBaseOption label={i18n.t('Top limit')} option={{\n  name: 'topLimit',\n  items: [{\n    id: '0',\n    label: i18n.t('None')\n  }, {\n    id: '5',\n    label: '5'\n  }, {\n    id: '10',\n    label: '10'\n  }, {\n    id: '20',\n    label: '20'\n  }, {\n    id: '50',\n    label: '50'\n  }, {\n    id: '100',\n    label: '100'\n  }]\n}} />;\n\nexport default TopLimit;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport ShowDimensionLabels from '../../components/VisualizationOptions/Options/ShowDimensionLabels';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding';\nimport ColTotals from '../../components/VisualizationOptions/Options/ColTotals';\nimport ColSubTotals from '../../components/VisualizationOptions/Options/ColSubTotals';\nimport RowTotals from '../../components/VisualizationOptions/Options/RowTotals';\nimport RowSubTotals from '../../components/VisualizationOptions/Options/RowSubTotals';\nimport HideEmptyColumns from '../../components/VisualizationOptions/Options/HideEmptyColumns';\nimport HideEmptyRows from '../../components/VisualizationOptions/Options/HideEmptyRows';\nimport NumberType from '../../components/VisualizationOptions/Options/NumberType';\nimport LegendDisplayStyle from '../../components/VisualizationOptions/Options/LegendDisplayStyle';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport DisplayDensity from '../../components/VisualizationOptions/Options/DisplayDensity';\nimport FontSize from '../../components/VisualizationOptions/Options/FontSize';\nimport DigitGroupSeparator from '../../components/VisualizationOptions/Options/DigitGroupSeparator';\nimport MeasureCriteria from '../../components/VisualizationOptions/Options/MeasureCriteria';\nimport ParamReportingPeriod from '../../components/VisualizationOptions/Options/ParamReportingPeriod';\nimport ParamOrganisationUnit from '../../components/VisualizationOptions/Options/ParamOrganisationUnit';\nimport ParamParentOrganisationUnit from '../../components/VisualizationOptions/Options/ParamParentOrganisationUnit';\nimport Regression from '../../components/VisualizationOptions/Options/Regression';\nimport Cumulative from '../../components/VisualizationOptions/Options/Cumulative';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport TopLimit from '../../components/VisualizationOptions/Options/TopLimit';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowDimensionLabels />, <SkipRounding />])\n  }, {\n    key: 'data-display-totals',\n    label: i18n.t('Display totals'),\n    content: React.Children.toArray([<ColTotals />, <ColSubTotals />, <RowTotals />, <RowSubTotals />])\n  }, {\n    key: 'data-display-empty-data',\n    label: i18n.t('Display empty data'),\n    content: React.Children.toArray([<HideEmptyColumns />, <HideEmptyRows />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <NumberType />])\n  }]\n}, {\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-legend-type',\n    label: i18n.t('Legend type'),\n    content: React.Children.toArray([])\n  }, {\n    key: 'legend-legend-setup',\n    label: i18n.t('Legend setup'),\n    content: React.Children.toArray([<LegendDisplayStyle />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<Title label={i18n.t('Table title')} />, <DisplayDensity />, <FontSize />, <DigitGroupSeparator />])\n  }]\n}, {\n  key: 'limitValues-tab',\n  label: i18n.t('Limit values'),\n  content: [\n  /*\n  {\n      key: 'limitValues-limit-numbers',\n      label: i18n.t('Limit number of values'),\n      content: [<TopLimit />],\n  },*/\n  {\n    key: 'limitValues-limit-min-max',\n    label: i18n.t('Limit minimum/maximum values'),\n    content: React.Children.toArray([<MeasureCriteria />])\n  }]\n}, {\n  key: 'parameters-tab',\n  label: i18n.t('Parameters'),\n  content: [{\n    key: 'parameters-section-1',\n    content: React.Children.toArray([<ParamReportingPeriod />, <ParamOrganisationUnit />, <ParamParentOrganisationUnit />, <Regression />, <Cumulative />, <SortOrder />, <TopLimit />])\n  }]\n}];","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst CumulativeValues = () => <CheckboxBaseOption label={i18n.t('Cumulative values')} option={{\n  name: 'cumulativeValues'\n}} />;\n\nexport default CumulativeValues;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowData = () => <CheckboxBaseOption label={i18n.t('Value labels')} option={{\n  name: 'showData'\n}} />;\n\nexport default ShowData;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'hideEmptyRowItems';\nconst defaultValue = options[optionName].defaultValue;\n\nconst HideEmptyRowItems = () => <SelectBaseOption label={i18n.t('Hide empty categories')} toggleable={true} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    id: 'NONE',\n    label: i18n.t('None')\n  }, {\n    id: 'BEFORE_FIRST',\n    label: i18n.t('Before first')\n  }, {\n    id: 'AFTER_LAST',\n    label: i18n.t('After last')\n  }, {\n    id: 'BEFORE_FIRST_AFTER_LAST',\n    label: i18n.t('Before first and after last')\n  }, {\n    id: 'ALL',\n    label: i18n.t('All')\n  }]\n}} />;\n\nexport default HideEmptyRowItems;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'regressionType';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RegressionType = () => <SelectBaseOption toggleable={true} label={i18n.t('Trend line')} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    id: 'NONE',\n    label: i18n.t('None')\n  }, {\n    id: 'LINEAR',\n    label: i18n.t('Linear')\n  }, {\n    id: 'POLYNOMIAL',\n    label: i18n.t('Polynomial')\n  }, {\n    id: 'LOESS',\n    label: i18n.t('Loess')\n  }]\n}} />;\n\nexport default RegressionType;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineValue = () => <TextBaseOption type=\"number\" width=\"72px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'targetLineValue'\n}} inline />;\n\nexport default TargetLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} placeholder={i18n.t('Target line title')} option={{\n  name: 'targetLineLabel'\n}} inline />;\n\nexport default TargetLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport TargetLineValue from './TargetLineValue';\nimport TargetLineLabel from './TargetLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const TargetLine = ({\n  enabled,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={enabled} label={i18n.t('Target line')} onChange={({\n    checked\n  }) => onChange(checked)} dense />\n        {enabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <TargetLineValue />\n                <TargetLineLabel />\n            </div> : null}\n    </div>;\nTargetLine.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  enabled: sGetUiOptions(state).targetLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    targetLine: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetLine);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineValue = () => <TextBaseOption type=\"number\" width=\"72px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'baseLineValue'\n}} inline />;\n\nexport default BaseLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} placeholder={i18n.t('Base line title')} option={{\n  name: 'baseLineLabel'\n}} inline />;\n\nexport default BaseLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport BaseLineValue from './BaseLineValue';\nimport BaseLineLabel from './BaseLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const BaseLine = ({\n  enabled,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={enabled} label={i18n.t('Base line')} name=\"baseLine-toggle\" onChange={({\n    checked\n  }) => onChange(checked)} dense />\n        {enabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <BaseLineValue />\n                <BaseLineLabel />\n            </div> : null}\n    </div>;\nBaseLine.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  enabled: sGetUiOptions(state).baseLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    baseLine: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BaseLine);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMinValue = () => <TextBaseOption type=\"number\" width=\"72px\" placeholder={i18n.t('Min')} option={{\n  name: 'rangeAxisMinValue'\n}} inline />;\n\nexport default RangeAxisMinValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMaxValue = () => <TextBaseOption type=\"number\" width=\"72px\" placeholder={i18n.t('Max')} option={{\n  name: 'rangeAxisMaxValue'\n}} inline />;\n\nexport default RangeAxisMaxValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Field, Help } from '@dhis2/ui-core';\nimport RangeAxisMinValue from './RangeAxisMinValue';\nimport RangeAxisMaxValue from './RangeAxisMaxValue';\nimport { tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst AxisRange = () => <Field>\n        <label>{i18n.t('Axis range')}</label>\n        <div className={tabSectionOptionComplexInline.className}>\n            <RangeAxisMinValue />\n            {'\\u00A0\\u2013\\u00A0'}\n            <RangeAxisMaxValue />\n        </div>\n        <Help>\n            {i18n.t('Values outside of the range will not be displayed')}\n        </Help>\n    </Field>;\n\nexport default AxisRange;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nexport const RangeAxisSteps = () => <TextBaseOption type=\"number\" width=\"72px\" helpText={i18n.t('The number of axis steps between the min and max values')} label={i18n.t('Steps')} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisSteps'\n}} />;\nexport default RangeAxisSteps;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisDecimals = () => <TextBaseOption type=\"number\" width=\"72px\" label={i18n.t('Decimals')} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisDecimals'\n}} />;\n\nexport default RangeAxisDecimals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'rangeAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RangeAxisLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} />;\n\nexport default RangeAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'domainAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst DomainAxisLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} />;\n\nexport default DomainAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst NoSpaceBetweenColumns = () => <CheckboxBaseOption label={i18n.t('No space between bars/columns')} option={{\n  name: 'noSpaceBetweenColumns'\n}} />;\n\nexport default NoSpaceBetweenColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideLegend = () => <CheckboxBaseOption label={i18n.t('Legend key')} option={{\n  name: 'hideLegend'\n}} />;\n\nexport default HideLegend;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, RadioGroup } from '@dhis2/ui-core';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Title from './Title';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\n\nclass HideTitle extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onChange\", ({\n      value\n    }) => {\n      this.setState({\n        value\n      });\n      this.props.onChange(value === 'NONE');\n    });\n\n    this.defaultState = {\n      value: 'AUTO'\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table title') : i18n.t('Chart title')}\n                </Label>\n                <RadioGroup name=\"hideTitle-selector\" onChange={this.onChange} value={value} dense>\n                    {[{\n          id: 'AUTO',\n          label: i18n.t('Auto generated')\n        }, {\n          id: 'NONE',\n          label: i18n.t('None')\n        }, {\n          id: 'CUSTOM',\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense />)}\n                </RadioGroup>\n                {value === 'CUSTOM' ? <div className={tabSectionOptionToggleable.className}>\n                        <Title inline />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideTitle.propTypes = {\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideTitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideTitle ? 'NONE' : uiOptions.title === undefined ? 'AUTO' : 'CUSTOM');\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: hideTitleSelector(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    hideTitle: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideTitle);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Subtitle = () => <TextBaseOption type=\"text\" width=\"280px\" placeholder={i18n.t('Add a subtitle')} option={{\n  name: 'subtitle'\n}} />;\n\nexport default Subtitle;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, RadioGroup } from '@dhis2/ui-core';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Subtitle from './Subtitle';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\n\nclass HideSubtitle extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onChange\", ({\n      value\n    }) => {\n      this.setState({\n        value\n      });\n      this.props.onChange(value === 'NONE');\n    });\n\n    this.defaultState = {\n      value: 'NONE'\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table subtitle') : i18n.t('Chart subtitle')}\n                </Label>\n                <RadioGroup name=\"hideSubtitle-selector\" onChange={this.onChange} value={value} dense>\n                    {[{\n          id: 'NONE',\n          label: i18n.t('None')\n        }, {\n          id: 'CUSTOM',\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense />)}\n                </RadioGroup>\n                {value === 'CUSTOM' ? <div className={tabSectionOptionToggleable.className}>\n                        <Subtitle inline />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideSubtitle.propTypes = {\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: sGetUiOptions(state).hideSubtitle ? 'NONE' : 'CUSTOM'\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    hideSubtitle: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideSubtitle);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, {\n    key: 'data-lines',\n    label: i18n.t('Lines'),\n    content: React.Children.toArray([<RegressionType />, <TargetLine />, <BaseLine />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-vertical-axis',\n    label: i18n.t('Vertical (y) axis'),\n    content: React.Children.toArray([<RangeAxisLabel />, <AxisRange />, <RangeAxisSteps />, <RangeAxisDecimals />])\n  }, {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />])\n  }]\n}, {\n  key: 'colors-legends',\n  label: i18n.t('Colors & Legends'),\n  content: []\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst PercentStackedValues = () => <CheckboxBaseOption label={i18n.t('Stacked values add up to 100%')} option={{\n  name: 'percentStackedValues'\n}} />;\n\nexport default PercentStackedValues;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<ShowData />, <PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, {\n    key: 'data-lines',\n    label: i18n.t('Lines'),\n    content: React.Children.toArray([<RegressionType />, <TargetLine />, <BaseLine />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-vertical-axis',\n    label: i18n.t('Vertical (y) axis'),\n    content: React.Children.toArray([<RangeAxisLabel />, <AxisRange />, <RangeAxisSteps />, <RangeAxisDecimals />])\n  }, {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport RangeAxisMinValue from '../../components/VisualizationOptions/Options/RangeAxisMinValue';\nimport RangeAxisMaxValue from '../../components/VisualizationOptions/Options/RangeAxisMaxValue';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport Subtitle from '../../components/VisualizationOptions/Options/Subtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowData />, <CumulativeValues />, <HideEmptyRowItems />, <RegressionType />, <TargetLine />, <BaseLine />, <SortOrder />, <AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-section-1',\n    content: React.Children.toArray([<RangeAxisMinValue />, <RangeAxisMaxValue />, <RangeAxisSteps />, <RangeAxisDecimals />, <RangeAxisLabel />, <DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<HideLegend />, <Title />, <HideTitle />, <Subtitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport RangeAxisMinValue from '../../components/VisualizationOptions/Options/RangeAxisMinValue';\nimport RangeAxisMaxValue from '../../components/VisualizationOptions/Options/RangeAxisMaxValue';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport Subtitle from '../../components/VisualizationOptions/Options/Subtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowData />, <PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <RegressionType />, <TargetLine />, <BaseLine />, <SortOrder />, <AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-section-1',\n    content: React.Children.toArray([<RangeAxisMinValue />, <RangeAxisMaxValue />, <RangeAxisSteps />, <RangeAxisDecimals />, <RangeAxisLabel />, <DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<HideLegend />, <Title />, <HideTitle />, <Subtitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FieldSet, Legend, TabBar, Tab } from '@dhis2/ui-core';\nimport { tabSection, tabSectionTitle, tabSectionOption, tabSectionOptionItem, tabSectionOptionToggleable, tabSectionOptionComplexInline, tabSectionOptionText, tabBar } from './styles/VisualizationOptions.style.js';\nimport { sGetUiType } from '../../reducers/ui';\nimport { getOptionsByType } from '../../modules/options/config';\nexport class VisualizationOptions extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      activeTabKey: undefined\n    });\n\n    _defineProperty(this, \"selectTab\", tabKey => {\n      this.setState({\n        activeTabKey: tabKey\n      });\n    });\n\n    _defineProperty(this, \"generateTabContent\", sections => sections.map(({\n      key,\n      label,\n      content\n    }) => <div key={key} className={tabSection.className}>\n                <FieldSet>\n                    {label ? <Legend>\n                            <span className={tabSectionTitle.className}>\n                                {label}\n                            </span>\n                        </Legend> : null}\n                    {content}\n                </FieldSet>\n            </div>));\n\n    _defineProperty(this, \"generateTabs\", tabs => tabs.map(({\n      key,\n      label,\n      content\n    }) => ({\n      key,\n      label,\n      content: this.generateTabContent(content)\n    })));\n  }\n\n  render() {\n    const {\n      visualizationType\n    } = this.props;\n    const optionsConfig = getOptionsByType(visualizationType);\n    const tabs = this.generateTabs(optionsConfig);\n    let activeTabIndex = tabs.findIndex(tab => tab.key === this.state.activeTabKey);\n\n    if (activeTabIndex < 0) {\n      activeTabIndex = 0;\n    }\n\n    return <Fragment>\n                <div className={tabBar.className}>\n                    <TabBar>\n                        {tabs.map(({\n            key,\n            label\n          }, index) => <Tab key={key} onClick={() => this.selectTab(key)} selected={index === activeTabIndex}>\n                                {label}\n                            </Tab>)}\n                    </TabBar>\n                    {tabBar.styles}\n                </div>\n                {tabs[activeTabIndex].content}\n                {tabSection.styles}\n                {tabSectionTitle.styles}\n                {tabSectionOption.styles}\n                {tabSectionOptionItem.styles}\n                {tabSectionOptionToggleable.styles}\n                {tabSectionOptionComplexInline.styles}\n                {tabSectionOptionText.styles}\n            </Fragment>;\n  }\n\n}\nVisualizationOptions.propTypes = {\n  visualizationType: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps)(VisualizationOptions);","import { VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_LINE, VIS_TYPE_RADAR, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport pivotTableConfig from './pivotTableConfig';\nimport columnConfig from './columnConfig';\nimport stackedColumnConfig from './stackedColumnConfig';\nimport lineConfig from './lineConfig';\nimport areaConfig from './areaConfig';\nimport pieConfig from './pieConfig';\nexport const getOptionsByType = type => {\n  switch (type) {\n    case VIS_TYPE_COLUMN:\n    case VIS_TYPE_BAR:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return columnConfig;\n\n    case VIS_TYPE_STACKED_COLUMN:\n    case VIS_TYPE_STACKED_BAR:\n      return stackedColumnConfig;\n\n    case VIS_TYPE_LINE:\n    case VIS_TYPE_RADAR:\n      return lineConfig;\n\n    case VIS_TYPE_AREA:\n      return areaConfig;\n\n    case VIS_TYPE_PIE:\n    case VIS_TYPE_GAUGE:\n    case VIS_TYPE_SINGLE_VALUE:\n      return pieConfig;\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return pivotTableConfig;\n\n    default:\n      // return all the options\n      return stackedColumnConfig;\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { default as MuiButton } from '@material-ui/core/Button';\nimport i18n from '@dhis2/d2-i18n';\nimport { ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions } from '@dhis2/ui-core';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport HideButton from '../HideButton/HideButton';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport VisualizationOptions from './VisualizationOptions';\n\nclass VisualizationOptionsManager extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onClose\", () => {\n      this.toggleVisualizationOptionsDialog();\n    });\n\n    _defineProperty(this, \"toggleVisualizationOptionsDialog\", () => {\n      this.setState({\n        dialogIsOpen: !this.state.dialogIsOpen\n      });\n    });\n\n    _defineProperty(this, \"getPrimaryOnClick\", handler => () => {\n      handler();\n      this.onClose();\n    });\n\n    this.state = {\n      dialogIsOpen: false\n    };\n  }\n\n  render() {\n    return <Fragment>\n                <MuiButton className={this.props.className} onClick={this.toggleVisualizationOptionsDialog}>\n                    {i18n.t('Options')}\n                </MuiButton>\n                {this.state.dialogIsOpen && <Modal onClose={this.onClose} large>\n                        <ModalTitle>{i18n.t('Options')}</ModalTitle>\n                        <ModalContent>\n                            <VisualizationOptions />\n                        </ModalContent>\n                        <ModalActions>\n                            <ButtonStrip>\n                                <HideButton onClick={this.onClose} />\n                                <UpdateVisualizationContainer renderComponent={handler => <UpdateButton onClick={this.getPrimaryOnClick(handler)} />} />\n                            </ButtonStrip>\n                        </ModalActions>\n                    </Modal>}\n            </Fragment>;\n  }\n\n}\n\nVisualizationOptionsManager.propTypes = {\n  className: PropTypes.string\n};\nexport default VisualizationOptionsManager;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport FileMenu from '@dhis2/d2-ui-file-menu';\nimport { withStyles } from '@material-ui/core/styles';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport DownloadMenu from '../DownloadMenu/DownloadMenu';\nimport InterpretationsButton from '../Interpretations/InterpretationsButton';\nimport VisualizationOptionsManager from '../VisualizationOptions/VisualizationOptionsManager';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport * as fromActions from '../../actions';\nimport { sGetCurrent } from '../../reducers/current';\nimport history from '../../modules/history';\nimport { parseError } from '../../modules/error';\nimport styles from './styles/MenuBar.style';\n\nconst onOpen = id => {\n  const path = `/${id}`;\n\n  if (history.location.pathname === path) {\n    history.replace(path);\n  } else {\n    history.push(path);\n  }\n};\n\nconst onNew = () => history.push('/');\n\nconst getOnRename = props => details => props.onRenameVisualization(details, false);\n\nconst getOnSave = props => details => props.onSaveVisualization(details, false);\n\nconst getOnSaveAs = props => details => props.onSaveVisualization(details, true);\n\nconst getOnDelete = props => () => props.onDeleteVisualization();\n\nconst getOnError = props => error => props.onError(error);\n\nexport const MenuBar = ({\n  classes,\n  ...props\n}, context) => <div className={classes.menuBar}>\n        <UpdateVisualizationContainer renderComponent={handler => <UpdateButton className={classes.updateButton} small onClick={handler} />} />\n        <FileMenu d2={context.d2} fileId={props.id || null} fileType={props.apiObjectName} onOpen={onOpen} onNew={onNew} onRename={getOnRename(props)} onSave={getOnSave(props)} onSaveAs={getOnSaveAs(props)} onDelete={getOnDelete(props)} onError={getOnError(props)} />\n        <VisualizationOptionsManager className={classes.label} />\n        <DownloadMenu className={classes.label} />\n        <div className={classes.grow} />\n        <InterpretationsButton className={classes.label} />\n    </div>;\nMenuBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  apiObjectName: PropTypes.string,\n  id: PropTypes.string\n};\nMenuBar.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onRenameVisualization: details => dispatch(fromActions.tDoRenameVisualization(ownProps.apiObjectName, details)),\n  onSaveVisualization: (details, copy) => dispatch(fromActions.tDoSaveVisualization(ownProps.apiObjectName, details, copy)),\n  onDeleteVisualization: () => dispatch(fromActions.tDoDeleteVisualization()),\n  onError: error => {\n    const {\n      type,\n      message\n    } = parseError(error);\n    dispatch(fromActions.fromSnackbar.acReceivedSnackbarMessage({\n      variant: type,\n      message,\n      open: true\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(MenuBar));","export const parseError = ({\n  message,\n  httpStatusCode\n}) => ({\n  message,\n  type: String(httpStatusCode).match(/50\\d/) ? 'error' : 'warning'\n});","import { colors } from '@dhis2/ui-core';\nexport default (theme => ({\n  menuBar: {\n    background: colors.white,\n    display: 'flex',\n    alignItems: 'center',\n    padding: `0 ${theme.spacing.unit}px`,\n    height: '38px'\n  },\n  updateButton: {\n    marginRight: theme.spacing.unit\n  },\n  label: {\n    fontSize: '15px',\n    fontWeight: 400,\n    textTransform: 'none'\n  },\n  grow: {\n    flex: '1 1 0%'\n  }\n}));","import React from 'react';\n\nconst InterpretationIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"2---Home-+-Selected-Intp.\" transform=\"translate(-522.000000, -169.000000)\">\n                    <rect fill=\"#F4F6F8\" x=\"0\" y=\"0\" width=\"1280\" height=\"850\" />\n                    <g id=\"title-area\" transform=\"translate(298.000000, 165.000000)\">\n                        <g id=\"name-badge\" transform=\"translate(220.000000, 0.000000)\">\n                            <rect id=\"Rectangle-4\" fill=\"#FFFFFF\" opacity=\"0.700613839\" x=\"0\" y=\"0\" width=\"260\" height=\"24\" rx=\"4\" />\n                            <g id=\"undo\" transform=\"translate(4.000000, 4.000000)\">\n                                <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                                <polyline id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" points=\"2.375 2.374 2.375 6.124 6.125 6.124\" />\n                                <path d=\"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124\" id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                <path d=\"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z\" id=\"Combined-Shape\" fill=\"#494949\" />\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default InterpretationIcon;","import { colors } from '@dhis2/ui-core';\nexport default {\n  titleBar: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  cell: {\n    display: 'flex',\n    alignItems: 'center',\n    background: colors.white,\n    padding: '6px',\n    borderRadius: '5px',\n    margin: '4px'\n  },\n  title: {\n    fontSize: '14px'\n  },\n  suffix: {\n    paddingLeft: '4px'\n  },\n  interpretation: {\n    fontSize: '12px',\n    color: colors.grey700\n  },\n  interpretationIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '14px',\n    width: '14px',\n    marginRight: '3px'\n  },\n  titleUnsaved: {\n    color: colors.grey500,\n    fontStyle: 'italic'\n  },\n  titleDirty: {\n    color: colors.grey700\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetVisualization, DEFAULT_VISUALIZATION } from '../../reducers/visualization';\nimport { sGetCurrent, DEFAULT_CURRENT } from '../../reducers/current';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetUiLocale } from '../../reducers/settings';\nimport formatDate from '../../modules/formatDate';\nimport InterpretationIcon from '../../assets/InterpretationIcon';\nimport styles from './styles/TitleBar.style';\nexport const TITLE_UNSAVED = i18n.t('Unsaved visualization');\nexport const TITLE_DIRTY = i18n.t('Edited');\nexport const STATE_EMPTY = 'EMPTY';\nexport const STATE_SAVED = 'SAVED';\nexport const STATE_UNSAVED = 'UNSAVED';\nexport const STATE_DIRTY = 'DIRTY';\nconst defaultTitleStyle = { ...styles.cell,\n  ...styles.title\n};\nconst defaultInterpretationStyle = { ...styles.cell,\n  ...styles.interpretation\n};\n\nconst getTitleState = (visualization, current) => {\n  if (current === DEFAULT_CURRENT) {\n    return STATE_EMPTY;\n  } else if (visualization === DEFAULT_VISUALIZATION) {\n    return STATE_UNSAVED;\n  } else if (current === visualization) {\n    return STATE_SAVED;\n  } else {\n    return STATE_DIRTY;\n  }\n};\n\nconst getTitleText = (titleState, visualization) => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return TITLE_UNSAVED;\n\n    case STATE_SAVED:\n    case STATE_DIRTY:\n      return visualization.name;\n\n    default:\n      return '';\n  }\n};\n\nconst getCustomTitleStyle = titleState => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return styles.titleUnsaved;\n\n    default:\n      return null;\n  }\n};\n\nconst getSuffix = titleState => {\n  switch (titleState) {\n    case STATE_DIRTY:\n      return <div style={{ ...styles.suffix,\n        ...styles.titleDirty\n      }}>{`- ${TITLE_DIRTY}`}</div>;\n\n    default:\n      return '';\n  }\n};\n\nexport const TitleBar = ({\n  titleState,\n  titleText,\n  interpretationDate\n}) => {\n  const titleStyle = { ...defaultTitleStyle,\n    ...getCustomTitleStyle(titleState)\n  };\n  return titleText ? <div data-test=\"chart-title\" style={styles.titleBar}>\n            <div style={titleStyle}>\n                {titleText}\n                {getSuffix(titleState)}\n            </div>\n            {interpretationDate && <div style={defaultInterpretationStyle}>\n                    <div style={styles.interpretationIcon}>\n                        <InterpretationIcon />\n                    </div>\n                    <div>\n                        {i18n.t('Viewing interpretation from {{interpretationDate}}', {\n          interpretationDate\n        })}\n                    </div>\n                </div>}\n        </div> : null;\n};\nTitleBar.propTypes = {\n  interpretationDate: PropTypes.string,\n  titleState: PropTypes.string,\n  titleText: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualization: sGetVisualization(state),\n  current: sGetCurrent(state),\n  interpretation: sGetUiInterpretation(state),\n  uiLocale: sGetUiLocale(state)\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  const {\n    visualization,\n    current,\n    interpretation,\n    uiLocale\n  } = stateProps;\n  const titleState = getTitleState(visualization, current);\n  return { ...dispatchProps,\n    ...ownProps,\n    titleState: titleState,\n    titleText: getTitleText(titleState, visualization),\n    interpretationDate: interpretation && interpretation.created ? formatDate(interpretation.created, uiLocale) : null\n  };\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(TitleBar);","import { DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nexport const getPathForOrgUnit = (orgUnit, parentGraphMap) => {\n  if (parentGraphMap[orgUnit.id] === undefined) {\n    return undefined;\n  } // if this is root org unit then in parentGraphMap object\n  // it has empty string as value and id as key\n\n\n  if (parentGraphMap[orgUnit.id] === '') {\n    return '/' + orgUnit.id;\n  }\n\n  return '/' + parentGraphMap[orgUnit.id] + '/' + orgUnit.id;\n};\nexport const appendPathsToOrgUnits = (current, ui) => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(current);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n  const {\n    parentGraphMap\n  } = ui;\n\n  if (!ouAxis) {\n    return current;\n  }\n\n  return { ...current,\n    [ouAxis]: current[ouAxis].map(dimension => ({ ...dimension,\n      items: dimension.items.map(item => ({ ...item,\n        path: getPathForOrgUnit(item, parentGraphMap)\n      }))\n    }))\n  };\n};\nexport const removeUnnecessaryAttributesFromAnalyticalObject = current => ({ ...current,\n  id: undefined,\n  name: undefined,\n  displayName: undefined\n});\nexport const appendDimensionItemNamesToAnalyticalObject = (current, metadata) => {\n  const appendNames = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      name: metadata[item.id] ? metadata[item.id].name : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendNames),\n    filters: current.filters.map(appendNames),\n    rows: current.rows.map(appendNames)\n  };\n};\nexport const appendCompleteParentGraphMap = (current, {\n  parentGraphMap\n}) => ({ ...current,\n  parentGraphMap: { ...current.parentGraphMap,\n    ...parentGraphMap\n  }\n});\nexport const prepareCurrentAnalyticalObject = (current, metadata, ui) => {\n  let result;\n  result = removeUnnecessaryAttributesFromAnalyticalObject(current);\n  result = appendDimensionItemNamesToAnalyticalObject(result, metadata);\n  result = appendPathsToOrgUnits(result, ui);\n  result = appendCompleteParentGraphMap(result, ui);\n  return result;\n};","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst ColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"24\" width=\"10\" height=\"22\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"4\" width=\"10\" height=\"42\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst StackedColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) \" x=\"6\" y=\"7\" width=\"10\" height=\"19\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"20\" width=\"10\" height=\"26\" />\n            <rect fill=\"#63A4FF\" transform=\"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) \" x=\"20\" y=\"11\" width=\"10\" height=\"9\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"33\" width=\"10\" height=\"13\" />\n            <rect fill=\"#1976D2\" transform=\"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) \" x=\"36\" y=\"14\" width=\"10\" height=\"19\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nStackedColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst BarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default BarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst StackedBarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) \" x=\"19\" y=\"4\" width=\"9\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#63A4FF\" x=\"13\" y=\"18\" width=\"23\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"33\" y=\"32\" width=\"9\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nStackedBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedBarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst PieIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <defs>\n            <mask id=\"mask-4\" fill=\"white\">\n                <circle cx=\"24\" cy=\"24\" r=\"24\" />\n            </mask>\n        </defs>\n        <g stroke=\"none\" strokeWidth=\"0\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) \">\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"30.17142857142857,240\" mask=\"url(#mask-4)\" strokeWidth=\"48\">\n                    <path stroke=\"#63A4FF\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"82.97142857142858,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#1976D2\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"37.71428571428572,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#004BA0\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n            </g>\n        </g>\n    </SvgIcon>;\n\nPieIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PieIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst GaugeIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(0.000000, -12.000000)\">\n                <path d=\"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z\" fill=\"#9E9E9E\" fillRule=\"nonzero\" />\n                <path d=\"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z\" fill=\"#63A4FF\" fillRule=\"nonzero\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nGaugeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GaugeIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst LineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-2\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default LineIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst AreaIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-2\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <g />\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" fill=\"#63A4FF\" mask=\"url(#mask-2)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nAreaIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default AreaIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst RadarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"23\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"15\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"5\" />\n            <circle fill=\"#1976D2\" cx=\"24\" cy=\"9\" r=\"2\" />\n            <circle fill=\"#1976D2\" cx=\"11\" cy=\"31\" r=\"2\" />\n            <circle fill=\"#63A4FF\" cx=\"24\" cy=\"39\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"39\" cy=\"24\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"40\" cy=\"40\" r=\"2\" />\n        </g>\n    </SvgIcon>;\n\nRadarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default RadarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearLineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-2\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28\" />\n                <polygon stroke=\"#004BA0\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20\" />\n                <polygon stroke=\"#63A4FF\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nYearOverYearLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearLineIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <polygon points=\"0 0 48 0 48 48 0 48\" />\n                <polygon fill=\"#63A4FF\" points=\"6 14 11 14 11 46 6 46\" />\n                <polygon fill=\"#63A4FF\" points=\"20 23 25 23 25 46 20 46\" />\n                <polygon fill=\"#63A4FF\" points=\"34 30 39 30 39 46 34 46\" />\n                <polygon fill=\"#004BA0\" points=\"11 26 16 26 16 46 11 46\" />\n                <polygon fill=\"#004BA0\" points=\"25 16 30 16 30 46 25 46\" />\n                <polygon fill=\"#004BA0\" points=\"39 9 44 9 44 46 39 46\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 0 2 0 2 48 0 48\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 46 48 46 48 48 0 48\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nYearOverYearColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst SingleValueIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <path d=\"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z\" fill=\"#9e9e9e\" />\n        <path d=\"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z\" fill=\"#1976d2\" />\n        <path d=\"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z\" fill=\"#1976d2\" />\n        <path d=\"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z\" fill=\"#1976d2\" />\n    </SvgIcon>;\n\nSingleValueIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default SingleValueIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst GlobeIcon = ({\n  style = {\n    width: 24,\n    height: 24,\n    paddingRight: '8px'\n  }\n}) => <SvgIcon viewBox=\"0 0 48 48\" style={style}>\n        <title>icon_chart_GIS</title>\n        <desc>Created with Sketch.</desc>\n        <defs>\n            <rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n        </defs>\n        <g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g id=\"Icon/48x48/chart_GIS\">\n                <g id=\"icon_chart_GIS\">\n                    <mask id=\"mask-2\" fill=\"white\">\n                        <use xlinkHref=\"#path-1\" />\n                    </mask>\n                    <g id=\"Bounds\" />\n                    <circle id=\"Oval-4\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" cx=\"24\" cy=\"24\" r=\"23\" />\n                    <polyline id=\"Path-6\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3\" />\n                    <polyline id=\"Path-7\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42\" />\n                    <polyline id=\"Path-5\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12\" />\n                    <polyline id=\"Path-8\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-2)\" points=\"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47\" />\n                </g>\n            </g>\n        </g>\n    </SvgIcon>;\n\nGlobeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GlobeIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst PivotTableIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <polygon points=\"0 0 48 0 48 48 0 48\" />\n            <rect stroke=\"#4A5768\" strokeWidth=\"2\" x=\"7\" y=\"11\" width=\"34\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"18\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"19\" y=\"11\" width=\"2\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"24\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"30\" width=\"32\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nPivotTableIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PivotTableIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport ColumnIcon from '../../assets/ColumnIcon';\nimport StackedColumnIcon from '../../assets/StackedColumnIcon';\nimport BarIcon from '../../assets/BarIcon';\nimport StackedBarIcon from '../../assets/StackedBarIcon';\nimport PieIcon from '../../assets/PieIcon';\nimport GaugeIcon from '../../assets/GaugeIcon';\nimport LineIcon from '../../assets/LineIcon';\nimport AreaIcon from '../../assets/AreaIcon';\nimport RadarIcon from '../../assets/RadarIcon';\nimport YearOverYearLineIcon from '../../assets/YearOverYearLineIcon';\nimport YearOverYearColumnIcon from '../../assets/YearOverYearColumnIcon';\nimport SingleValueIcon from '../../assets/SingleValueIcon';\nimport GlobeIcon from '../../assets/GlobeIcon';\nimport PivotTableIcon from '../../assets/PivotTableIcon';\n\nconst MenuItemIcon = ({\n  iconType,\n  style\n}) => {\n  switch (iconType) {\n    case VIS_TYPE_STACKED_COLUMN:\n      return <StackedColumnIcon style={style} />;\n\n    case VIS_TYPE_BAR:\n      return <BarIcon style={style} />;\n\n    case VIS_TYPE_STACKED_BAR:\n      return <StackedBarIcon style={style} />;\n\n    case VIS_TYPE_PIE:\n      return <PieIcon style={style} />;\n\n    case VIS_TYPE_GAUGE:\n      return <GaugeIcon style={style} />;\n\n    case VIS_TYPE_LINE:\n      return <LineIcon style={style} />;\n\n    case VIS_TYPE_AREA:\n      return <AreaIcon style={style} />;\n\n    case VIS_TYPE_RADAR:\n      return <RadarIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return <YearOverYearLineIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return <YearOverYearColumnIcon style={style} />;\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return <SingleValueIcon style={style} />;\n\n    case 'MAP':\n      return <GlobeIcon style={style} />;\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return <PivotTableIcon style={style} />;\n\n    case VIS_TYPE_COLUMN:\n    default:\n      return <ColumnIcon style={style} />;\n  }\n};\n\nMenuItemIcon.propTypes = {\n  iconType: PropTypes.string,\n  style: PropTypes.object\n};\nexport default MenuItemIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText/ListItemText';\nimport MenuItemIcon from './MenuItemIcon';\n\nconst VisualizationTypeMenuItem = ({\n  iconType,\n  styles,\n  label,\n  isSelected,\n  ...props\n}) => <MenuItem selected={Boolean(isSelected)} style={styles.menuItem} disableRipple {...props}>\n        <ListItemIcon style={styles.listItemIcon}>\n            <MenuItemIcon iconType={iconType} style={styles.listItemSvg} />\n        </ListItemIcon>\n        <ListItemText primary={label} disableTypography={true} style={styles.listItemText} />\n    </MenuItem>;\n\nVisualizationTypeMenuItem.propTypes = {\n  iconType: PropTypes.string,\n  isSelected: PropTypes.bool,\n  label: PropTypes.string,\n  styles: PropTypes.object\n};\nexport default VisualizationTypeMenuItem;","import { colors } from '@dhis2/ui-core';\nexport default {\n  button: {\n    padding: '6px',\n    color: colors.black,\n    fontSize: '15px',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    backgroundColor: colors.white,\n    justifyContent: 'flex-start'\n  },\n  dropDownArrow: {\n    marginLeft: 'auto'\n  },\n  menu: {\n    maxWidth: '600px',\n    padding: 0\n  },\n  menuDivider: {\n    border: 'none',\n    borderBottom: '1px solid',\n    borderColor: colors.grey300\n  },\n  menuItem: {\n    height: 120,\n    width: 126,\n    margin: '8px',\n    padding: '0 4px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    borderRadius: '8px',\n    float: 'left'\n  },\n  listItemIcon: {\n    margin: 0,\n    marginBottom: 15\n  },\n  listItemSvg: {\n    width: 48,\n    height: 48\n  },\n  listItemText: {\n    fontSize: 14,\n    flex: 'none',\n    padding: 0,\n    whiteSpace: 'normal',\n    textAlign: 'center'\n  },\n  clearFix: {\n    clear: 'both'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport { visTypeDisplayNames } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { prepareCurrentAnalyticalObject } from '../../modules/currentAnalyticalObject';\nimport { sGetUi, sGetUiType } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { acSetUiType } from '../../actions/ui';\nimport { apiSaveAOInUserDataStore, CURRENT_AO_KEY } from '../../api/userDataStore';\nimport VisualizationTypeMenuItem from './VisualizationTypeMenuItem';\nimport MenuItemIcon from './MenuItemIcon';\nimport styles from './styles/VisualizationTypeSelector.style';\nexport const MAPS_APP_URL = 'dhis-web-maps';\nexport const defaultState = {\n  anchorEl: null\n};\nexport class VisualizationTypeSelector extends Component {\n  constructor(props, context) {\n    super(props);\n\n    _defineProperty(this, \"handleButtonClick\", event => {\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    });\n\n    _defineProperty(this, \"handleMenuItemClick\", type => () => {\n      this.props.onTypeSelect(type);\n      this.handleClose();\n    });\n\n    _defineProperty(this, \"handleOpenAsMapClick\", async () => {\n      const currentAnalyticalObject = prepareCurrentAnalyticalObject(this.props.current, this.props.metadata, this.props.ui);\n      await apiSaveAOInUserDataStore(currentAnalyticalObject);\n      window.location.href = `${this.baseUrl}/${MAPS_APP_URL}?${CURRENT_AO_KEY}=true`;\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        anchorEl: null\n      });\n    });\n\n    _defineProperty(this, \"getVisTypes\", () => Object.keys(visTypeDisplayNames));\n\n    this.state = defaultState;\n    this.baseUrl = context.baseUrl;\n  }\n\n  render() {\n    const {\n      anchorEl\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <Fragment>\n                <Button onClick={this.handleButtonClick} disableRipple disableFocusRipple fullWidth={true} size=\"small\" style={styles.button}>\n                    <MenuItemIcon iconType={visualizationType} />\n                    {visTypeDisplayNames[visualizationType]}\n                    <ArrowDropDownIcon style={styles.dropDownArrow} />\n                </Button>\n                <Menu open={Boolean(anchorEl)} anchorEl={anchorEl} anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left'\n      }} onClose={this.handleClose} getContentAnchorEl={null} MenuListProps={{\n        style: styles.menu\n      }}>\n                    {this.getVisTypes().map(type => <VisualizationTypeMenuItem key={type} iconType={type} label={visTypeDisplayNames[type]} isSelected={type === visualizationType} styles={styles} onClick={this.handleMenuItemClick(type)} />)}\n                    <div style={styles.clearFix} />\n                    <hr style={styles.menuDivider} />\n                    <VisualizationTypeMenuItem key={'MAP'} iconType={'MAP'} label={i18n.t('Open as Map')} // TODO: Open as: Map when i18next nsSeparator fixed\n        styles={styles} onClick={this.handleOpenAsMapClick} disabled={!this.props.current} />\n                </Menu>\n            </Fragment>;\n  }\n\n}\nVisualizationTypeSelector.propTypes = {\n  current: PropTypes.object,\n  metadata: PropTypes.object,\n  ui: PropTypes.object,\n  visualizationType: PropTypes.oneOf(Object.keys(visTypeDisplayNames)),\n  onTypeSelect: PropTypes.func\n};\nVisualizationTypeSelector.contextTypes = {\n  baseUrl: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  current: sGetCurrent(state),\n  metadata: sGetMetadata(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onTypeSelect: type => dispatch(acSetUiType(type))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VisualizationTypeSelector);","import { colors } from '@dhis2/ui-core';\nexport default {\n  arrowDown: {\n    borderRadius: '0px 2px 2px 0px',\n    padding: '0px',\n    height: '36px',\n    minWidth: '40px'\n  },\n  arrowIcon: {\n    fill: colors.white\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUp from '@material-ui/icons/ArrowDropUp';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './styles/DropDownButton.style';\nexport const DropDownButton = ({\n  classes,\n  onClick,\n  open\n}) => <Button className={classes.arrowDown} color=\"primary\" variant=\"contained\" disableRipple disableFocusRipple onClick={onClick}>\n        {open ? <ArrowDropUp className={classes.arrowIcon} /> : <ArrowDropDown className={classes.arrowIcon} />}\n    </Button>;\nDropDownButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nexport default withStyles(styles)(DropDownButton);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { withStyles } from '@material-ui/core/styles';\nimport DropDownButton from './DropDownButton';\nimport styles from './styles/Menu.style';\nconst MENU_HEIGHT = 100;\nconst ADD_TO_BUTTON_MARGIN = 5;\nexport const DropDown = ({\n  anchorEl,\n  classes,\n  onClick,\n  onClose,\n  menuItems,\n  addToButtonRef\n}) => {\n  const menuWidth = addToButtonRef.offsetWidth - ADD_TO_BUTTON_MARGIN;\n  const isOverFlowing = anchorEl && anchorEl.getBoundingClientRect().bottom + MENU_HEIGHT > window.innerHeight;\n  const anchorOrigin = isOverFlowing ? {\n    vertical: 'top',\n    horizontal: 'right'\n  } : {\n    vertical: 'bottom',\n    horizontal: 'right'\n  };\n  const transformOrigin = isOverFlowing ? {\n    vertical: 'bottom',\n    horizontal: 'right'\n  } : {\n    vertical: 'top',\n    horizontal: 'right'\n  };\n  return <Fragment>\n            <DropDownButton onClick={onClick} open={Boolean(anchorEl)} />\n            <Menu open={Boolean(anchorEl)} onClose={onClose} anchorEl={anchorEl} getContentAnchorEl={null} MenuListProps={{\n      style: {\n        minWidth: menuWidth\n      },\n      className: classes.menuList\n    }} anchorOrigin={anchorOrigin} transformOrigin={transformOrigin}>\n                {menuItems}\n            </Menu>\n        </Fragment>;\n};\nDropDown.defaultProps = {\n  anchorEl: null\n};\nDropDown.propTypes = {\n  addToButtonRef: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  menuItems: PropTypes.arrayOf(PropTypes.element).isRequired,\n  onClick: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  anchorEl: PropTypes.object\n};\nexport default withStyles(styles)(DropDown);","export default {\n  menuList: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport { getAvailableAxes } from '@dhis2/analytics';\nimport Menu from './Menu';\nimport { sGetUiActiveModalDialog, sGetUiType } from '../../../../reducers/ui';\nimport { acAddUiLayoutDimensions } from '../../../../actions/ui';\nimport { ADD_TO_LAYOUT_OPTIONS } from '../../../../modules/layout';\nimport styles from './styles/AddToLayoutButton.style';\nexport class AddToLayoutButton extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"state\", {\n      anchorEl: null\n    });\n\n    _defineProperty(this, \"onClose\", () => this.setState({\n      anchorEl: null\n    }));\n\n    _defineProperty(this, \"onToggle\", event => this.state.anchorEl ? this.onClose() : this.setState({\n      anchorEl: event.currentTarget\n    }));\n\n    _defineProperty(this, \"onUpdate\", axisId => {\n      this.props.onAddDimension({\n        [this.props.dialogId]: axisId\n      });\n      this.props.onClick();\n    });\n\n    _defineProperty(this, \"getAxisMeta\", axisIdArray => axisIdArray.map(axisId => ADD_TO_LAYOUT_OPTIONS.find(axisMetaObj => axisMetaObj.axisId === axisId)));\n\n    _defineProperty(this, \"renderMenuItems\", () => this.getAxisMeta(getAvailableAxes(this.props.visType)).slice(1).map(axisMetaObj => <MenuItem className={this.props.classes.menuItem} component=\"li\" key={axisMetaObj.axisId} onClick={() => this.onUpdate(axisMetaObj.axisId)}>\n                    {axisMetaObj.name}\n                </MenuItem>));\n\n    this.buttonRef = React.createRef();\n  }\n\n  render() {\n    const availableAxisMeta = this.getAxisMeta(getAvailableAxes(this.props.visType));\n    return <div ref={addToRef => this.buttonRef = addToRef}>\n                <Button className={this.props.classes.button} variant=\"contained\" color=\"primary\" disableRipple disableFocusRipple onClick={() => this.onUpdate(availableAxisMeta[0].axisId)}>\n                    {availableAxisMeta[0].name}\n                </Button>\n                {availableAxisMeta.length > 1 ? <Menu onClose={this.onClose} onClick={this.onToggle} anchorEl={this.state.anchorEl} menuItems={this.renderMenuItems()} addToButtonRef={this.buttonRef} /> : null}\n            </div>;\n  }\n\n}\nAddToLayoutButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogId: PropTypes.string.isRequired,\n  visType: PropTypes.string.isRequired,\n  onAddDimension: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state),\n  dialogId: sGetUiActiveModalDialog(state)\n});\n\nexport default connect(mapStateToProps, {\n  onAddDimension: acAddUiLayoutDimensions\n})(withStyles(styles)(AddToLayoutButton));","export default {\n  button: {\n    borderRadius: '2px 0px 0px 2px',\n    marginLeft: '5px',\n    fontSize: '12px'\n  },\n  menuItem: {\n    fontSize: '15px',\n    textTransform: 'initial',\n    whiteSpace: 'nowrap',\n    justifyContent: 'start',\n    flexWrap: 'nowrap',\n    padding: '8px',\n    fontWeight: '400'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport debounce from 'lodash-es/debounce';\nimport isEqual from 'lodash-es/isEqual';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport i18n from '@dhis2/d2-i18n';\nimport { DataDimension, DynamicDimension, PeriodDimension, OrgUnitDimension, ouIdHelper, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, getAxisMaxNumberOfItems, getDisplayNameByVisType, filterOutFixedDimensions } from '@dhis2/analytics';\nimport HideButton from '../../HideButton/HideButton';\nimport AddToLayoutButton from './AddToLayoutButton/AddToLayoutButton';\nimport UpdateVisualizationContainer from '../../UpdateButton/UpdateVisualizationContainer';\nimport { acSetUiActiveModalDialog, acRemoveUiItems, acAddUiItems, acSetUiItems, acAddParentGraphMap } from '../../../actions/ui';\nimport { acAddMetadata } from '../../../actions/metadata';\nimport { acSetRecommendedIds } from '../../../actions/recommendedIds';\nimport { sGetUiItems, sGetUiItemsByDimension, sGetUiActiveModalDialog, sGetUiParentGraphMap, sGetUiType, getAxisIdByDimensionId, sGetDimensionIdsFromLayout } from '../../../reducers/ui';\nimport { sGetDimensions } from '../../../reducers/dimensions';\nimport { sGetMetadata } from '../../../reducers/metadata';\nimport { sGetSettingsDisplayNameProperty } from '../../../reducers/settings';\nimport { apiFetchRecommendedIds } from '@dhis2/analytics';\nimport { removeLastPathSegment, getOuPath } from '../../../modules/orgUnit';\nimport UpdateButton from '../../UpdateButton/UpdateButton';\nexport class DialogManager extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      onMounted: false\n    });\n\n    _defineProperty(this, \"componentDidUpdate\", prevProps => {\n      const shouldFetchIds = !isEqual(prevProps.dxIds, this.props.dxIds) || !isEqual(prevProps.ouIds, this.props.ouIds);\n\n      if (shouldFetchIds) {\n        this.fetchRecommended();\n      }\n\n      if (this.props.dialogId === DIMENSION_ID_ORGUNIT && !this.state.ouMounted) {\n        this.setState({\n          ouMounted: true\n        });\n      }\n    });\n\n    _defineProperty(this, \"fetchRecommended\", debounce(async () => {\n      const ids = await apiFetchRecommendedIds(this.context.d2, this.props.dxIds, this.props.ouIds);\n      this.props.setRecommendedIds(ids);\n    }, 1000));\n\n    _defineProperty(this, \"selectUiItems\", ({\n      dimensionId,\n      items\n    }) => {\n      this.props.setUiItems({\n        dimensionId,\n        itemIds: items.map(item => item.id)\n      });\n\n      switch (dimensionId) {\n        case DIMENSION_ID_ORGUNIT:\n          {\n            const forMetadata = {};\n            const forParentGraphMap = {};\n            items.forEach(ou => {\n              const id = ouIdHelper.removePrefix(ou.id);\n              forMetadata[id] = {\n                id,\n                name: ou.name || ou.displayName,\n                displayName: ou.displayName\n              };\n\n              if (ou.path) {\n                const path = removeLastPathSegment(ou.path);\n                forParentGraphMap[ou.id] = path === `/${ou.id}` ? '' : path.replace(/^\\//, '');\n              }\n            });\n            this.props.addMetadata(forMetadata);\n            this.props.addParentGraphMap(forParentGraphMap);\n            break;\n          }\n\n        default:\n          {\n            this.props.addMetadata(items.reduce((obj, item) => {\n              obj[item.id] = {\n                id: item.id,\n                name: item.name || item.displayName,\n                displayName: item.displayName\n              };\n              return obj;\n            }, {}));\n          }\n      }\n    });\n\n    _defineProperty(this, \"closeDialog\", () => this.props.closeDialog(null));\n\n    _defineProperty(this, \"getSelectedItems\", dialogId => {\n      return this.props.selectedItems[dialogId] ? this.props.selectedItems[dialogId].filter(id => this.props.metadata[id]).map(id => ({\n        id,\n        name: this.props.metadata[id].name\n      })) : [];\n    });\n\n    _defineProperty(this, \"getOrgUnitsFromIds\", (ids, metadata, parentGraphMap) => ids.filter(id => metadata[ouIdHelper.removePrefix(id)] !== undefined).map(id => {\n      const ouUid = ouIdHelper.removePrefix(id);\n      return {\n        id,\n        name: metadata[ouUid].displayName || metadata[ouUid].name,\n        path: getOuPath(ouUid, metadata, parentGraphMap)\n      };\n    }));\n\n    _defineProperty(this, \"renderPersistedContent\", dimensionProps => {\n      const {\n        displayNameProperty,\n        ouIds,\n        metadata,\n        parentGraphMap,\n        dialogId\n      } = this.props;\n\n      if (this.state.ouMounted) {\n        const ouItems = this.getOrgUnitsFromIds(ouIds, metadata, parentGraphMap);\n        const display = DIMENSION_ID_ORGUNIT === dialogId ? 'block' : 'none';\n        return <div key={DIMENSION_ID_ORGUNIT} style={{\n          display\n        }}>\n                    <OrgUnitDimension displayNameProperty={displayNameProperty} ouItems={ouItems} {...dimensionProps} />\n                </div>;\n      }\n\n      return null;\n    });\n\n    _defineProperty(this, \"renderDialogContent\", () => {\n      const {\n        displayNameProperty,\n        dialogId,\n        type,\n        dimensions,\n        removeUiItems,\n        setUiItems\n      } = this.props;\n      const dimensionProps = {\n        d2: this.context.d2,\n        onSelect: this.selectUiItems,\n        onDeselect: removeUiItems,\n        onReorder: setUiItems\n      };\n\n      const dynamicContent = () => {\n        const selectedItems = this.getSelectedItems(dialogId);\n        let infoBoxMessage;\n        const axisId = this.props.getAxisIdByDimensionId(dialogId);\n        const visType = type;\n        const numberOfItems = selectedItems.length;\n        const axisMaxNumberOfItems = getAxisMaxNumberOfItems(visType, axisId);\n        const hasMaxNumberOfItemsRule = !!axisMaxNumberOfItems;\n\n        if (hasMaxNumberOfItemsRule && numberOfItems > axisMaxNumberOfItems) {\n          infoBoxMessage = axisMaxNumberOfItems === 1 ? i18n.t(`'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.`, {\n            visualizationType: getDisplayNameByVisType(visType)\n          }) : i18n.t(`'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.`, {\n            visualiationType: getDisplayNameByVisType(visType),\n            maxNumber: axisMaxNumberOfItems\n          });\n          selectedItems.forEach((item, index) => {\n            item.isActive = index < axisMaxNumberOfItems;\n          });\n        }\n\n        if (dialogId === DIMENSION_ID_DATA) {\n          return <DataDimension displayNameProp={displayNameProperty} selectedDimensions={selectedItems} infoBoxMessage={infoBoxMessage} {...dimensionProps} />;\n        }\n\n        if (dialogId === DIMENSION_ID_PERIOD) {\n          return <PeriodDimension selectedPeriods={selectedItems} {...dimensionProps} // TODO infoBoxMessage should ideally be implemented for all dimensions\n          />;\n        }\n\n        const dynamicDimensions = filterOutFixedDimensions(Object.keys(this.props.dimensions));\n\n        if (dynamicDimensions.includes(dialogId)) {\n          const dialogTitle = dimensions[dialogId] && dimensions[dialogId].name;\n          return <DynamicDimension selectedItems={selectedItems} dialogId={dialogId} dialogTitle={dialogTitle} {...dimensionProps} // TODO infoBoxMessage should ideally be implemented for all dimensions\n          />;\n        }\n\n        return null;\n      };\n\n      return <Fragment>\n                {this.renderPersistedContent(dimensionProps)}\n                {dialogId && dynamicContent()}\n            </Fragment>;\n    });\n\n    _defineProperty(this, \"renderPrimaryButton\", dialogId => <UpdateVisualizationContainer renderComponent={handler => this.props.dimensionIdsInLayout.includes(dialogId) ? <UpdateButton onClick={this.getPrimaryOnClick(handler)} /> : <AddToLayoutButton onClick={this.getPrimaryOnClick(handler)} />} />);\n\n    _defineProperty(this, \"getPrimaryOnClick\", handler => () => {\n      handler();\n      this.closeDialog();\n    });\n  }\n\n  render() {\n    const {\n      dialogId,\n      dimensions\n    } = this.props;\n    const keepMounted = !dialogId || dialogId === DIMENSION_ID_ORGUNIT;\n    return <Dialog data-test=\"dialog-manager\" open={dialogId in dimensions} onClose={this.closeDialog} maxWidth=\"lg\" disableEnforceFocus keepMounted={keepMounted}>\n                {this.renderDialogContent()}\n                <DialogActions>\n                    <HideButton onClick={this.closeDialog} />\n                    {dialogId && this.renderPrimaryButton(dialogId)}\n                </DialogActions>\n            </Dialog>;\n  }\n\n}\nDialogManager.contextTypes = {\n  d2: PropTypes.object\n};\nDialogManager.propTypes = {\n  closeDialog: PropTypes.func.isRequired,\n  dimensionIdsInLayout: PropTypes.array.isRequired,\n  ouIds: PropTypes.array.isRequired,\n  setRecommendedIds: PropTypes.func.isRequired,\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  dialogId: PropTypes.string,\n  dimensions: PropTypes.object,\n  displayNameProperty: PropTypes.string,\n  dxIds: PropTypes.array,\n  getAxisIdByDimensionId: PropTypes.func,\n  metadata: PropTypes.object,\n  parentGraphMap: PropTypes.object,\n  removeUiItems: PropTypes.func,\n  selectedItems: PropTypes.object,\n  setUiItems: PropTypes.func,\n  type: PropTypes.string\n};\nDialogManager.defaultProps = {\n  dialogId: null,\n  dxIds: []\n};\n\nconst mapStateToProps = state => ({\n  displayNameProperty: sGetSettingsDisplayNameProperty(state),\n  dialogId: sGetUiActiveModalDialog(state),\n  dimensions: sGetDimensions(state),\n  metadata: sGetMetadata(state),\n  parentGraphMap: sGetUiParentGraphMap(state),\n  dxIds: sGetUiItemsByDimension(state, DIMENSION_ID_DATA),\n  ouIds: sGetUiItemsByDimension(state, DIMENSION_ID_ORGUNIT),\n  selectedItems: sGetUiItems(state),\n  type: sGetUiType(state),\n  getAxisIdByDimensionId: dimensionId => getAxisIdByDimensionId(state, dimensionId),\n  dimensionIdsInLayout: sGetDimensionIdsFromLayout(state)\n});\n\nexport default connect(mapStateToProps, {\n  closeDialog: acSetUiActiveModalDialog,\n  setRecommendedIds: acSetRecommendedIds,\n  setUiItems: acSetUiItems,\n  addMetadata: acAddMetadata,\n  addUiItems: acAddUiItems,\n  removeUiItems: acRemoveUiItems,\n  addParentGraphMap: acAddParentGraphMap\n})(DialogManager);","import { SET_RECOMMENDED_IDS } from '../reducers/recommendedIds';\nexport const acSetRecommendedIds = value => ({\n  type: SET_RECOMMENDED_IDS,\n  value\n});","const DATA_TYPE_TEXT = 'text';\nexport const setDataTransfer = (e, source) => {\n  e.dataTransfer.setData(DATA_TYPE_TEXT, JSON.stringify({\n    dimensionId: e.target.dataset.dimensionid,\n    source\n  }));\n};\nexport const decodeDataTransfer = e => JSON.parse(e.dataTransfer.getData(DATA_TYPE_TEXT));","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  divContainer: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: colors.grey050\n  }\n};","import { colors } from '@dhis2/ui-core';\nexport default {\n  tableContainer: {\n    marginTop: '20px'\n  },\n  nameColumn: {\n    width: '80%'\n  },\n  axisColumn: {\n    width: '10%'\n  },\n  coloredColumn: {\n    backgroundColor: colors.grey100\n  },\n  tableCell: {\n    padding: '4px 24px',\n    borderBottom: `1px solid ${colors.grey300}`\n  },\n  head: {\n    borderBottom: 'none'\n  },\n  axisRadio: {\n    padding: '0px 10px'\n  },\n  dialogContent: {\n    marginBottom: '0px'\n  },\n  helpText: {\n    lineHeight: '1.5'\n  },\n  dialogActions: {\n    border: 'none'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport isEqual from 'lodash-es/isEqual';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport Radio from '@material-ui/core/Radio';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\nimport styles from './styles/AxisSetup.style';\nimport { axis1, axis2 } from './constants';\nimport { sGetUiActiveModalDialog, DEFAULT_UI, sGetUi } from '../../reducers/ui';\nimport { sGetAxisSetupItems } from '../../reducers';\nimport { acSetAxes, acSetUiActiveModalDialog } from '../../actions/ui';\nimport { acSetCurrentFromUi } from '../../actions/current';\nexport const AXIS_SETUP_DIALOG_ID = 'axisSetup';\n\nclass AxisSetup extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      items: undefined\n    });\n\n    _defineProperty(this, \"setItems\", items => {\n      const itemsMap = items.reduce((itemsMap, item) => {\n        itemsMap[item.id] = item;\n        return itemsMap;\n      }, {});\n      this.setState({\n        items: itemsMap\n      });\n    });\n\n    _defineProperty(this, \"onAxisChange\", (item, axis) => {\n      this.setState({\n        items: { ...this.state.items,\n          [item.id]: { ...item,\n            axis\n          }\n        }\n      });\n    });\n\n    _defineProperty(this, \"getAxes\", () => {\n      const axes = Object.keys(this.state.items).reduce((map, id) => {\n        const axis = this.state.items[id].axis;\n\n        if (axis > 0) {\n          map[id] = axis;\n        }\n\n        return map;\n      }, {});\n      return Object.keys(axes).length > 0 ? axes : DEFAULT_UI.axes;\n    });\n  }\n\n  componentDidMount() {\n    this.setItems(this.props.items);\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldItems = prevProps.items;\n    const newItems = this.props.items;\n\n    if (!isEqual(oldItems, newItems)) {\n      this.setItems(newItems);\n    }\n  }\n\n  renderTable() {\n    const {\n      classes\n    } = this.props;\n    return <Table>\n                <colgroup>\n                    <col className={classes.nameColumn} />\n                    <col className={`${classes.axisColumn} ${classes.coloredColumn}`} />\n                    <col className={classes.axisColumn} />\n                </colgroup>\n                <TableHead>\n                    <TableRow>\n                        <TableCell className={classes.head} />\n                        <TableCell className={`${classes.tableCell} ${classes.head}`} align=\"center\">\n                            {i18n.t('Axis 1')}\n                        </TableCell>\n                        <TableCell className={`${classes.tableCell} ${classes.head}`} align=\"center\">\n                            {i18n.t('Axis 2')}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {Object.keys(this.state.items).map(id => {\n          const item = this.state.items[id];\n          return <TableRow key={`multiaxis-table-row-${id}`}>\n                                <TableCell className={classes.tableCell}>\n                                    {item.name}\n                                </TableCell>\n                                <TableCell className={classes.tableCell} align=\"center\">\n                                    <Radio onClick={() => this.onAxisChange(item, axis1)} checked={item.axis === axis1} className={classes.axisRadio} />\n                                </TableCell>\n                                <TableCell className={classes.tableCell} align=\"center\">\n                                    <Radio onClick={() => this.onAxisChange(item, axis2)} checked={item.axis === axis2} className={classes.axisRadio} />\n                                </TableCell>\n                            </TableRow>;\n        })}\n                </TableBody>\n            </Table>;\n  }\n\n  render() {\n    const {\n      classes,\n      isOpen,\n      dialogMaxWidth,\n      onCancelClick\n    } = this.props;\n    return <Dialog open={isOpen} maxWidth={dialogMaxWidth} onClose={onCancelClick} disableEnforceFocus>\n                <DialogTitle>{i18n.t('Manage axes')}</DialogTitle>\n                <DialogContent className={classes.dialogContent}>\n                    <p className={classes.helpText}>\n                        {i18n.t('A chart can have two axes. Each axis will have its own scale. Set the axis for each data selection below.')}\n                    </p>\n                    <div className={classes.tableContainer}>\n                        {this.state.items && this.renderTable()}\n                    </div>\n                </DialogContent>\n                <DialogActions className={classes.dialogActions}>\n                    <Button color=\"primary\" disableRipple disableFocusRipple onClick={onCancelClick}>\n                        {i18n.t('Cancel')}\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => this.props.onUpdateClick(this.getAxes(), this.props.ui)}>\n                        {i18n.t('Update')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n  }\n\n}\n\nAxisSetup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onUpdateClick: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  dialogMaxWidth: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.number.isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })),\n  ui: PropTypes.object,\n  onCancelClick: PropTypes.func\n};\nAxisSetup.defaultProps = {\n  classes: {},\n  isOpen: false,\n  items: [],\n  onUpdateClick: Function.prototype,\n  onCancelClick: Function.prototype,\n  dialogMaxWidth: 'md'\n};\n\nconst mapStateToProps = state => ({\n  isOpen: sGetUiActiveModalDialog(state) === AXIS_SETUP_DIALOG_ID,\n  items: sGetAxisSetupItems(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateClick: (axes, ui) => {\n    dispatch(acSetAxes(axes));\n    dispatch(acSetCurrentFromUi({ ...ui,\n      axes\n    }));\n    dispatch(acSetUiActiveModalDialog());\n  },\n  onCancelClick: () => dispatch(acSetUiActiveModalDialog())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AxisSetup));","export const axis1 = 0;\nexport const axis2 = 1;\nexport default {\n  axis1,\n  axis2\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DimensionsPanel, DimensionMenu, getDisallowedDimensions, getAllLockedDimensionIds } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DialogManager from './Dialogs/DialogManager';\nimport { SOURCE_DIMENSIONS, getInverseLayout } from '../../modules/layout';\nimport { setDataTransfer } from '../../modules/dnd';\nimport * as fromReducers from '../../reducers';\nimport * as fromActions from '../../actions';\nimport { styles } from './styles/DimensionsPanel.style';\nimport { getAdaptedUiByType } from '../../modules/ui';\nimport { AXIS_SETUP_DIALOG_ID } from '../AxisSetup/AxisSetup';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nimport { sGetUiType } from '../../reducers/ui';\nimport { createSelector } from 'reselect';\nexport class Dimensions extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      dimensionMenuAnchorEl: null,\n      dimensionId: null\n    });\n\n    _defineProperty(this, \"onDimensionOptionsClick\", (event, id) => {\n      event.stopPropagation(); // set anchor for options menu\n      // open menu\n\n      this.setState({\n        dimensionMenuAnchorEl: event.currentTarget,\n        dimensionId: id\n      });\n    });\n\n    _defineProperty(this, \"onDimensionOptionsClose\", () => this.setState({\n      dimensionMenuAnchorEl: null,\n      dimensionId: null\n    }));\n\n    _defineProperty(this, \"onDimensionDragStart\", e => {\n      setDataTransfer(e, SOURCE_DIMENSIONS);\n    });\n\n    _defineProperty(this, \"disabledDimension\", dimensionId => this.props.disallowedDimensions.includes(dimensionId));\n\n    _defineProperty(this, \"lockedDimension\", dimensionId => this.props.lockedDimensions.includes(dimensionId));\n\n    _defineProperty(this, \"getUiAxisId\", () => {\n      const adaptedUi = getAdaptedUiByType(this.props.ui);\n      const inverseLayout = getInverseLayout(adaptedUi.layout);\n      return inverseLayout[this.state.dimensionId];\n    });\n\n    _defineProperty(this, \"getNumberOfDimensionItems\", () => (this.props.itemsByDimension[this.state.dimensionId] || []).length);\n  }\n\n  render() {\n    return <div style={styles.divContainer}>\n                <DimensionsPanel dimensions={this.props.dimensions} selectedIds={this.props.selectedIds} disabledDimension={this.disabledDimension} lockedDimension={this.lockedDimension} recommendedDimension={dimensionId => this.props.recommendedIds.includes(dimensionId)} onDimensionOptionsClick={this.onDimensionOptionsClick} onDimensionDragStart={this.onDimensionDragStart} onDimensionClick={this.props.onDimensionClick} />\n                {\n        /* {this.state.dimensionMenuAnchorEl && ( */\n      }\n                <DimensionMenu dimensionId={this.state.dimensionId} currentAxisId={this.getUiAxisId()} visType={this.props.ui.type} numberOfDimensionItems={this.getNumberOfDimensionItems()} dualAxisItemHandler={this.props.dualAxisItemHandler} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.dimensionMenuAnchorEl} onClose={this.onDimensionOptionsClose} />\n                {\n        /* )} */\n      }\n                <DialogManager />\n            </div>;\n  }\n\n}\nconst getDisallowedDimensionsMemo = createSelector([sGetUiType], type => getDisallowedDimensions(type));\nconst getLockedDimensionsMemo = createSelector([sGetUiType], type => getAllLockedDimensionIds(type));\nDimensions.propTypes = {\n  axisItemHandler: PropTypes.func,\n  dimensions: PropTypes.object,\n  disallowedDimensions: PropTypes.array,\n  dualAxisItemHandler: PropTypes.func,\n  itemsByDimension: PropTypes.object,\n  lockedDimensions: PropTypes.array,\n  recommendedIds: PropTypes.array,\n  removeItemHandler: PropTypes.func,\n  selectedIds: PropTypes.array,\n  ui: PropTypes.object,\n  onDimensionClick: PropTypes.func\n};\n\nconst mapStateToProps = state => {\n  return {\n    ui: fromReducers.fromUi.sGetUi(state),\n    dimensions: fromReducers.fromDimensions.sGetDimensions(state),\n    selectedIds: fromReducers.fromUi.sGetDimensionIdsFromLayout(state),\n    recommendedIds: fromReducers.fromRecommendedIds.sGetRecommendedIds(state),\n    layout: fromReducers.fromUi.sGetUiLayout(state),\n    itemsByDimension: fromReducers.fromUi.sGetUiItems(state),\n    disallowedDimensions: getDisallowedDimensionsMemo(state),\n    lockedDimensions: getLockedDimensionsMemo(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onDimensionClick: id => dispatch(fromActions.fromUi.acSetUiActiveModalDialog(id)),\n  dualAxisItemHandler: () => dispatch(acSetUiActiveModalDialog(AXIS_SETUP_DIALOG_ID)),\n  axisItemHandler: (dimensionId, targetAxisId, numberOfDimensionItems) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: targetAxisId\n    }));\n\n    if (numberOfDimensionItems > 0) {\n      dispatch(acSetUiActiveModalDialog(dimensionId));\n    }\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dimensions);","export default {\n  wrapper: {\n    position: 'relative',\n    width: '380px'\n  },\n  container: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport InterpretationsComponent from '@dhis2/d2-ui-interpretations';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { acSetUiInterpretation, acClearUiInterpretation } from '../../actions/ui';\nimport history from '../../modules/history';\nimport styles from './styles/Interpretations.style';\nexport class Interpretations extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onInterpretationChange\", interpretation => {\n      if (interpretation) {\n        const interpretationUrl = `/${this.props.id}/interpretation/${interpretation.id}`; // this covers the case when the URL contains already an interpretation id,\n        // the Interpretations component loads it and fires this callback passing the interpretation\n        // object, the URL is not changing in this case.\n        // the other scenario is when the URL changes because of a click inside the Interpretations component\n\n        if (history.location.pathname !== interpretationUrl) {\n          history.push(interpretationUrl);\n          this.props.acSetUiInterpretation({\n            id: interpretation.id,\n            created: interpretation.created\n          });\n        }\n      } else {\n        history.push(`/${this.props.id}`);\n      }\n    });\n  }\n\n  render() {\n    const {\n      type,\n      id,\n      interpretationId\n    } = this.props;\n    return id ? <div style={styles.wrapper}>\n                <div style={styles.container}>\n                    <InterpretationsComponent d2={this.context.d2} type={type} id={id} currentInterpretationId={interpretationId} onCurrentInterpretationChange={this.onInterpretationChange} />\n                </div>\n            </div> : null;\n  }\n\n}\nInterpretations.defaultProps = {\n  type: 'chart'\n};\nInterpretations.propTypes = {\n  acSetUiInterpretation: PropTypes.func,\n  id: PropTypes.string,\n  interpretationId: PropTypes.string,\n  type: PropTypes.string\n};\nInterpretations.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  interpretationId: sGetUiInterpretation(state).id || null\n});\n\nexport default connect(mapStateToProps, {\n  acSetUiInterpretation,\n  acClearUiInterpretation\n})(Interpretations);","export default {\n  chartCanvas: {\n    display: 'flex',\n    justifyContent: 'center',\n    height: '100%'\n  }\n};","export const BASE_FIELD_NAME = 'name'\nexport const BASE_FIELD_TYPE = 'type'\nexport const BASE_FIELD_YEARLY_SERIES = 'yearlySeries'\n\nconst getFieldObject = (name, props = {}) => ({\n    [BASE_FIELD_NAME]: name,\n    ...props,\n})\n\n// fields by type\n\nexport const fieldsByType = {\n    reportTable: [\n        getFieldObject('cumulative', { option: true }),\n        getFieldObject('hideEmptyColumns', { option: true }),\n        getFieldObject('legendDisplayStyle', { option: true }),\n        getFieldObject('measureCriteria', { option: true }),\n        getFieldObject('numberType', { option: true }),\n        getFieldObject('regression', { option: true }),\n        getFieldObject('reportParams', { option: true }),\n        getFieldObject('skipRounding', { option: true }),\n    ],\n    chart: [\n        getFieldObject('category', { excluded: true }),\n        getFieldObject('series', { excluded: true }),\n        getFieldObject(BASE_FIELD_YEARLY_SERIES),\n    ],\n    eventReport: [getFieldObject('dataType')],\n    reportTable_eventReport: [\n        getFieldObject('colSubTotals', { option: true }),\n        getFieldObject('colTotals', { option: true }),\n        getFieldObject('displayDensity', { option: true }),\n        getFieldObject('fontSize', { option: true }),\n        getFieldObject('hideEmptyRows', { option: true }),\n        getFieldObject('rowSubTotals', { option: true }),\n        getFieldObject('rowTotals', { option: true }),\n        getFieldObject('showDimensionLabels', { option: true }),\n        getFieldObject('showHierarchy', { option: true }),\n    ],\n    chart_eventChart: [\n        getFieldObject('baseLineLabel', { option: true }),\n        getFieldObject('baseLineValue', { option: true }),\n        getFieldObject('colorSet', { option: true }),\n        getFieldObject('cumulativeValues', { option: true }),\n        getFieldObject('domainAxisLabel', { option: true }),\n        getFieldObject('hideEmptyRowItems', { option: true }),\n        getFieldObject('hideLegend', { option: true }),\n        getFieldObject('noSpaceBetweenColumns', { option: true }),\n        getFieldObject('percentStackedValues', { option: true }),\n        getFieldObject('rangeAxisDecimals', { option: true }),\n        getFieldObject('rangeAxisLabel', { option: true }),\n        getFieldObject('rangeAxisMaxValue', { option: true }),\n        getFieldObject('rangeAxisMinValue', { option: true }),\n        getFieldObject('rangeAxisSteps', { option: true }),\n        getFieldObject('regressionType', { option: true }),\n        getFieldObject('showData', { option: true }),\n        getFieldObject('targetLineLabel', { option: true }),\n        getFieldObject('targetLineValue', { option: true }),\n        getFieldObject(BASE_FIELD_TYPE, { option: true }),\n    ],\n    eventReport_eventChart: [\n        getFieldObject('attributeValueDimension'),\n        getFieldObject('collapseDataDimensions'),\n        getFieldObject('dataElementValueDimension'),\n        getFieldObject('endDate'),\n        getFieldObject('eventStatus', { option: true }),\n        getFieldObject('hideNaData', { option: true }),\n        getFieldObject('outputType', { option: true }),\n        getFieldObject('program'),\n        getFieldObject('programStage'),\n        getFieldObject('programStatus', { option: true }),\n        getFieldObject('startDate'),\n        getFieldObject('value'),\n    ],\n    reportTable_chart_eventReport: [\n        getFieldObject('legendDisplayStrategy', { option: true }),\n        getFieldObject('legendSet', { option: true }),\n    ],\n    reportTable_eventReport_eventChart: [\n        getFieldObject('columnDimensions', { excluded: true }),\n        getFieldObject('rowDimensions', { excluded: true }),\n    ],\n    reportTable_chart_eventReport_eventChart: [\n        getFieldObject('access'),\n        getFieldObject('aggregationType', { option: true }),\n        getFieldObject('attributeDimensions', { excluded: true }),\n        getFieldObject('attributeValues', { excluded: true }),\n        getFieldObject('categoryDimensions', { excluded: true }),\n        getFieldObject('categoryOptionGroupSetDimensions', { excluded: true }),\n        getFieldObject('code', { excluded: true }),\n        getFieldObject('columns'),\n        getFieldObject('completedOnly', { option: true }),\n        getFieldObject('created'),\n        getFieldObject('dataDimensionItems', { excluded: true }),\n        getFieldObject('dataElementDimensions', { excluded: true }),\n        getFieldObject('dataElementGroupSetDimensions', { excluded: true }),\n        getFieldObject('description'),\n        getFieldObject('digitGroupSeparator'),\n        getFieldObject('displayDescription'),\n        getFieldObject('displayName'),\n        getFieldObject('displayShortName'),\n        getFieldObject('externalAccess', { excluded: true }),\n        getFieldObject('favorite'),\n        getFieldObject('favorites'),\n        getFieldObject('filterDimensions', { excluded: true }),\n        getFieldObject('filters'),\n        getFieldObject('hideSubtitle', { option: true }),\n        getFieldObject('hideTitle', { option: true }),\n        getFieldObject('href', { excluded: true }),\n        getFieldObject('id'),\n        getFieldObject('interpretations'),\n        getFieldObject('itemOrganisationUnitGroups', { excluded: true }),\n        getFieldObject('lastUpdated'),\n        getFieldObject('lastUpdatedBy'),\n        getFieldObject('name'),\n        getFieldObject('organisationUnitGroupSetDimensions', {\n            excluded: true,\n        }),\n        getFieldObject('organisationUnitLevels', { excluded: true }),\n        getFieldObject('organisationUnits', { excluded: true }),\n        getFieldObject('parentGraphMap'),\n        getFieldObject('periods', { excluded: true }),\n        getFieldObject('programIndicatorDimensions', { excluded: true }),\n        getFieldObject('publicAccess'),\n        getFieldObject('relativePeriods', { excluded: true }),\n        getFieldObject('rows'),\n        getFieldObject('shortName'),\n        getFieldObject('sortOrder', { option: true }),\n        getFieldObject('subscribed'),\n        getFieldObject('subscribers'),\n        getFieldObject('subtitle', { option: true }),\n        getFieldObject('timeField'),\n        getFieldObject('title', { option: true }),\n        getFieldObject('topLimit', { option: true }),\n        getFieldObject('translations'),\n        getFieldObject('user'),\n        getFieldObject('userAccesses'),\n        getFieldObject('userGroupAccesses'),\n        getFieldObject('userOrganisationUnit', { excluded: true }),\n        getFieldObject('userOrganisationUnitChildren', { excluded: true }),\n        getFieldObject('userOrganisationUnitGrandChildren', { excluded: true }),\n    ],\n}\n\n// actions\n\nexport const extractName = propObj => propObj[BASE_FIELD_NAME]\n\nexport const markExcluded = fieldObj =>\n    fieldObj.excluded === true\n        ? { ...fieldObj, [BASE_FIELD_NAME]: `!${fieldObj[BASE_FIELD_NAME]}` }\n        : fieldObj\n\n/* eslint-disable-next-line max-params */\nexport const moveExcludedToEnd = (acc, current, curIndex, array) => {\n    !acc && (acc = array.slice())\n    current.charAt(0) === '!' && acc.push(acc.shift())\n    return acc\n}\n\n// getters\n\nexport const getAllFieldObjectsByType = type =>\n    Object.entries(fieldsByType).reduce(\n        (fields, [key, value]) =>\n            key.includes(type) ? fields.concat(value) : fields,\n        []\n    )\n","// constants\n\nconst ID = 'id'\nconst NAME = 'name,displayName,displayShortName'\n\nconst DIMENSION_ITEM = `dimensionItem~rename(${ID})`\nconst LEGEND_SET = `legendSet[${ID},${NAME}]`\nconst USER = `user[${NAME},userCredentials[username]]`\n\nconst ITEMS = `items[${DIMENSION_ITEM},${NAME},dimensionItemType]`\nconst COMMENTS = `comments[${ID},${USER},lastUpdated,text`\n\nconst AXIS = `dimension,filter,${LEGEND_SET},${ITEMS}`\nconst INTERPRETATIONS = 'id,created'\n\n// nested fields map\nexport const nestedFields = {\n    columns: AXIS,\n    rows: AXIS,\n    filters: AXIS,\n    user: USER,\n    comments: COMMENTS,\n    interpretations: INTERPRETATIONS,\n}\n\nexport const extendFields = field =>\n    `${field}${nestedFields[field] ? `[${nestedFields[field]}]` : ''}`\n","import {\n    getAllFieldObjectsByType,\n    extractName,\n    markExcluded,\n    moveExcludedToEnd,\n} from './baseFields'\nimport { extendFields } from './nestedFields'\n\nexport { getAllFieldObjectsByType }\n\nexport const getOptionsByType = type =>\n    getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.option === true)\n\nexport const getIncludedByType = type =>\n    getAllFieldObjectsByType(type).filter(fieldObj => !fieldObj.excluded)\n\nexport const getExcludedByType = type =>\n    getAllFieldObjectsByType(type).filter(\n        fieldObj => fieldObj.excluded === true\n    )\n\nexport const getFieldsStringByType = type =>\n    getAllFieldObjectsByType(type)\n        .map(markExcluded)\n        .map(extractName)\n        .sort()\n        .reduce(moveExcludedToEnd, null)\n        .map(extendFields)\n        .join(',')\n","import { getFieldsStringByType } from '../modules/fields'\n\nexport const apiFetchVisualization = (d2, type, id) =>\n    d2.models[type].get(id, {\n        fields: getFieldsStringByType(type),\n    })\n","const peId = 'pe'\n\nexport const apiFetchAnalytics = async (d2, current, options) => {\n    const req = new d2.analytics.request()\n        .fromModel(current)\n        .withParameters(options)\n\n    const rawResponse = await d2.analytics.aggregate.get(req)\n\n    return [new d2.analytics.response(rawResponse)]\n}\n\nexport const apiFetchAnalyticsForYearOverYear = async (\n    d2,\n    current,\n    options\n) => {\n    let yearlySeriesReq = new d2.analytics.request()\n        .addPeriodDimension(current.yearlySeries)\n        .withSkipData(true)\n        .withSkipMeta(false)\n        .withIncludeMetadataDetails(true)\n\n    if (options.relativePeriodDate) {\n        yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(\n            options.relativePeriodDate\n        )\n    }\n\n    const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq)\n\n    const requests = []\n    const yearlySeriesLabels = []\n\n    const now = new Date()\n    const currentDay = ('' + now.getDate()).padStart(2, 0)\n    const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0)\n\n    yearlySeriesRes.metaData.dimensions[peId].forEach(period => {\n        yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name)\n\n        const startDate = `${period}-${currentMonth}-${currentDay}`\n\n        const req = new d2.analytics.request()\n            .fromModel(current)\n            .withParameters(options)\n            .withRelativePeriodDate(startDate)\n\n        requests.push(d2.analytics.aggregate.get(req))\n    })\n\n    return Promise.all(requests).then(responses => ({\n        responses: responses.map(res => new d2.analytics.response(res)),\n        yearlySeriesLabels,\n    }))\n}\n","import pick from 'lodash-es/pick'\n\nexport const options = {\n    baseLineLabel: { defaultValue: undefined, requestable: false },\n    baseLineValue: { defaultValue: undefined, requestable: false },\n    // colorSet:\n    cumulativeValues: { defaultValue: false, requestable: false },\n    domainAxisLabel: { defaultValue: undefined, requestable: false },\n    hideEmptyRowItems: { defaultValue: 'NONE', requestable: false },\n    hideLegend: { defaultValue: false, requestable: false },\n    noSpaceBetweenColumns: { defaultValue: false, requestable: false },\n    percentStackedValues: { defaultValue: false, requestable: false },\n    rangeAxisDecimals: { defaultValue: undefined, requestable: false },\n    rangeAxisLabel: { defaultValue: undefined, requestable: false },\n    rangeAxisMaxValue: { defaultValue: undefined, requestable: false },\n    rangeAxisMinValue: { defaultValue: undefined, requestable: false },\n    rangeAxisSteps: { defaultValue: undefined, requestable: false },\n    regressionType: { defaultValue: 'NONE', requestable: false },\n    showData: { defaultValue: true, requestable: false },\n    targetLineLabel: { defaultValue: undefined, requestable: false },\n    targetLineValue: { defaultValue: undefined, requestable: false },\n    // legendDisplayStrategy\n    // legendSet\n    aggregationType: { defaultValue: 'DEFAULT', requestable: true },\n    completedOnly: { defaultValue: false, requestable: true },\n    hideSubtitle: { defaultValue: false, requestable: false },\n    hideTitle: { defaultValue: false, requestable: false },\n    sortOrder: { defaultValue: '0', requestable: false },\n    subtitle: { defaultValue: undefined, requestable: false },\n    title: { defaultValue: undefined, requestable: false },\n\n    // only for PT XXX\n    colTotals: { defaultValue: false, requestable: false },\n    colSubTotals: { defaultValue: false, requestable: false },\n    rowTotals: { defaultValue: false, requestable: false },\n    rowSubTotals: { defaultValue: false, requestable: false },\n    showDimensionLabels: { defaultValue: false, requestable: false },\n    hideEmptyColumns: { defaultValue: false, requestable: true },\n    hideEmptyRows: { defaultValue: false, requestable: true },\n    skipRounding: { defaultValue: false, requestable: true },\n    numberType: { defaultValue: 'VALUE', requestable: false },\n    showHierarchy: { defaultValue: false, requestable: true },\n    legendSet: { defaultValue: 'NONE', requestable: false }, // XXX can be 'BY_DATA_ITEM'\n    legendDisplayStyle: { defaultValue: 'FILL', requestable: false },\n    displayDensity: { defaultValue: 'NORMAL', requestable: false },\n    fontSize: { defaultValue: 'NORMAL', requestable: false },\n    digitGroupSeparator: { defaultValue: 'SPACE', requestable: false },\n\n    // XXX these are stored in the AO under reportParams\n    paramReportingPeriod: { defaultValue: false, requestable: false },\n    paramOrganisationUnit: { defaultValue: false, requestable: false },\n    paramParentOrganisationUnit: { defaultValue: false, requestable: false },\n    // XXX not in UI\n    paramGrandParentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n    },\n    regression: { defaultValue: false, requestable: false },\n    cumulative: { defaultValue: false, requestable: false },\n    measureCriteria: { defaultValue: undefined, requestable: true },\n    topLimit: { defaultValue: '0', requestable: false },\n}\n\nexport const computedOptions = {\n    baseLine: { defaultValue: false, requestable: false },\n    targetLine: { defaultValue: false, requestable: false },\n    axisRange: { defaultValue: undefined, requestable: false },\n}\n\nexport default options\n\nexport const getOptionsForUi = () => {\n    return Object.entries({ ...options, ...computedOptions }).reduce(\n        (map, [option, props]) => {\n            map[option] = props.defaultValue\n\n            return map\n        },\n        {}\n    )\n}\n\nexport const getOptionsForRequest = () => {\n    return Object.entries(options).filter(\n        entry => entry[1].requestable // entry = [option, props]\n    )\n}\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n    return Boolean(\n        optionsFromVisualization[prop] &&\n            optionsFromVisualization[prop] !== options[prop].defaultValue\n    )\n}\n\nexport const getOptionsFromVisualization = visualization => {\n    const optionsFromVisualization = {\n        ...getOptionsForUi(),\n        ...pick(visualization, Object.keys(options)),\n    }\n\n    optionsFromVisualization.baseLine =\n        isNotDefault(optionsFromVisualization, 'baseLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'baseLineValue')\n\n    optionsFromVisualization.targetLine =\n        isNotDefault(optionsFromVisualization, 'targetLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'targetLineValue')\n\n    // nested options under reportParams\n    if (visualization.reportParams) {\n        optionsFromVisualization.paramOrganisationUnit =\n            visualization.reportParams.paramOrganisationUnit\n        optionsFromVisualization.paramReportingPeriod =\n            visualization.reportParams.paramReportingPeriod\n        optionsFromVisualization.paramParentOrganisationUnit =\n            visualization.reportParams.paramParentOrganisationUnit\n        optionsFromVisualization.paramGrandParentOrganisationUnit =\n            visualization.reportParams.paramGrandParentOrganisationUnit\n    }\n\n    return optionsFromVisualization\n}\n","export const computeGenericPeriodNames = responses => {\n    const xAxisRes = responses.reduce((out, res) => {\n        if (out.metaData) {\n            if (\n                res.metaData.dimensions.pe.length >\n                out.metaData.dimensions.pe.length\n            ) {\n                out = res\n            }\n        } else {\n            out = res\n        }\n\n        return out\n    }, {})\n\n    const metadata = xAxisRes.metaData\n\n    return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n        const name = metadata.items[periodId].name\n\n        // until the day the backend will support this in the API:\n        // trim off the trailing year in the period name\n        // english names should all have the year at the end of the string\n        genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''))\n\n        return genericPeriodNames\n    }, [])\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst styles = theme => ({\n    progress: {\n        margin: theme.spacing.unit * 2,\n        maxWidth: 200,\n        textAlign: 'center',\n        alignSelf: 'center',\n    },\n    outer: {\n        display: 'flex',\n        justifyContent: 'center',\n        height: '100%',\n    },\n})\n\nfunction CircularIndeterminate(props) {\n    const { classes } = props\n    return (\n        <div className={classes.outer}>\n            <CircularProgress className={classes.progress} />\n        </div>\n    )\n}\n\nCircularIndeterminate.propTypes = {\n    classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(CircularIndeterminate)\n","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport isEqual from 'lodash-es/isEqual'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    isYearOverYear,\n    isSingleValue,\n    createVisualization,\n} from '@dhis2/analytics'\n\nimport { apiFetchVisualization } from './api/visualization'\nimport {\n    apiFetchAnalytics,\n    apiFetchAnalyticsForYearOverYear,\n} from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\nimport { computeGenericPeriodNames } from './modules/analytics'\nimport { BASE_FIELD_YEARLY_SERIES } from './modules/fields/baseFields'\nimport LoadingMask from './widgets/LoadingMask'\n\nclass ChartPlugin extends Component {\n    constructor(props) {\n        super(props)\n\n        this.canvasRef = React.createRef()\n\n        this.recreateVisualization = Function.prototype\n\n        this.state = {\n            isLoading: true,\n        }\n    }\n\n    componentDidMount() {\n        this.renderChart()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(this.props.config, prevProps.config)) {\n            this.renderChart()\n            return\n        }\n\n        if (!isEqual(this.props.filters, prevProps.filters)) {\n            this.renderChart()\n            return\n        }\n\n        // id set by DV app, style works in dashboards\n        if (\n            this.props.id !== prevProps.id ||\n            !isEqual(this.props.style, prevProps.style)\n        ) {\n            this.recreateVisualization(0) // disable animation\n            return\n        }\n    }\n\n    getRequestOptions = (visualization, filters) => {\n        const options = getOptionsForRequest().reduce(\n            (map, [option, props]) => {\n                // only add parameter if value !== default\n                if (\n                    visualization[option] !== undefined &&\n                    visualization[option] !== props.defaultValue\n                ) {\n                    map[option] = visualization[option]\n                }\n\n                return map\n            },\n            {}\n        )\n\n        // interpretation filter\n        if (filters.relativePeriodDate) {\n            options.relativePeriodDate = filters.relativePeriodDate\n        }\n\n        // global filters\n        // userOrgUnit\n        if (filters.userOrgUnit && filters.userOrgUnit.length) {\n            const ouIds = filters.userOrgUnit.map(\n                ouPath => ouPath.split('/').slice(-1)[0]\n            )\n\n            options.userOrgUnit = ouIds.join(';')\n        }\n\n        return options\n    }\n\n    getConfigById = id => {\n        return apiFetchVisualization(this.props.d2, 'chart', id)\n    }\n\n    renderChart = async () => {\n        const {\n            config,\n            filters,\n            forDashboard,\n            onResponsesReceived,\n            onChartGenerated,\n            onError,\n        } = this.props\n\n        try {\n            const visualization =\n                Object.keys(config).length === 1 && config.id\n                    ? await this.getConfigById(config.id)\n                    : config\n\n            const options = this.getRequestOptions(visualization, filters)\n\n            const extraOptions = {\n                dashboard: forDashboard,\n                noData: { text: i18n.t('No data') },\n            }\n\n            let responses = []\n\n            if (isYearOverYear(visualization.type)) {\n                let yearlySeriesLabels = []\n\n                ;({\n                    responses,\n                    yearlySeriesLabels,\n                } = await apiFetchAnalyticsForYearOverYear(\n                    this.props.d2,\n                    visualization,\n                    options\n                ))\n\n                extraOptions[BASE_FIELD_YEARLY_SERIES] = yearlySeriesLabels\n                extraOptions.xAxisLabels = computeGenericPeriodNames(responses)\n            } else {\n                responses = await apiFetchAnalytics(\n                    this.props.d2,\n                    visualization,\n                    options\n                )\n            }\n\n            if (responses.length) {\n                onResponsesReceived(responses)\n            }\n\n            this.recreateVisualization = (animation = this.props.animation) => {\n                const visualizationConfig = createVisualization(\n                    responses,\n                    visualization,\n                    this.canvasRef.current,\n                    {\n                        ...extraOptions,\n                        animation,\n                    },\n                    undefined,\n                    undefined,\n                    isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n                )\n\n                if (isSingleValue(visualization.type)) {\n                    onChartGenerated(visualizationConfig.visualization)\n                } else {\n                    onChartGenerated(\n                        visualizationConfig.visualization.getSVGForExport({\n                            sourceHeight: 768,\n                            sourceWidth: 1024,\n                        })\n                    )\n                }\n            }\n\n            this.recreateVisualization()\n\n            this.setState({ isLoading: false })\n        } catch (error) {\n            onError(error)\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.state.isLoading ? <LoadingMask /> : null}\n                <div ref={this.canvasRef} style={this.props.style} />\n            </Fragment>\n        )\n    }\n}\n\nChartPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    forDashboard: false,\n    style: {},\n    animation: 200,\n    onError: Function.prototype,\n    onChartGenerated: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nChartPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    animation: PropTypes.number,\n    filters: PropTypes.object,\n    forDashboard: PropTypes.bool,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onChartGenerated: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default ChartPlugin\n","import css from 'styled-jsx/css'\n\nexport const pivotTableStyles = css.global`\n    .pivot td {\n        border: 1px solid #b2b2b2;\n        padding: 5px;\n    }\n\n    .pivot-empty {\n        background-color: #cddaed;\n    }\n\n    .pivot-dim {\n        background-color: #dae6f8;\n        text-align: center;\n    }\n\n    .pivot-dim-total {\n        background-color: #bac6d8;\n        text-align: center;\n    }\n\n    .pivot-value {\n        background-color: #fff;\n        text-align: right;\n    }\n\n    .pivot-value-total-subgrandtotal {\n        background-color: #d8d8d8;\n        white-space: nowrap;\n        text-align: right;\n    }\n\n    .pointer {\n        cursor: pointer;\n    }\n`\n","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport isEqual from 'lodash-es/isEqual'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    api as d2aApi,\n    table as d2aTable,\n    config as d2aConfig,\n    Layout as d2aLayout,\n    Response as d2aResponse,\n} from 'd2-analysis'\nimport { apiFetchVisualization } from './api/visualization'\nimport { apiFetchAnalytics } from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\nimport LoadingMask from './widgets/LoadingMask'\n\nimport { pivotTableStyles } from './styles/PivotPlugin.style.js'\n\nclass PivotPlugin extends Component {\n    constructor(props) {\n        super(props)\n\n        this.canvasRef = React.createRef()\n\n        this.recreateVisualization = Function.prototype\n\n        this.state = {\n            isLoading: true,\n        }\n    }\n\n    componentDidMount() {\n        this.renderTable()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(this.props.config, prevProps.config)) {\n            this.renderTable()\n            return\n        }\n\n        if (!isEqual(this.props.filters, prevProps.filters)) {\n            this.renderTable()\n            return\n        }\n\n        // id set by DV app, style works in dashboards\n        if (\n            this.props.id !== prevProps.id ||\n            !isEqual(this.props.style, prevProps.style)\n        ) {\n            this.recreateVisualization(0) // disable animation\n            return\n        }\n    }\n\n    getRequestOptions = (visualization, filters) => {\n        const options = getOptionsForRequest().reduce(\n            (map, [option, props]) => {\n                // only add parameter if value !== default\n                if (\n                    visualization[option] !== undefined &&\n                    visualization[option] !== props.defaultValue\n                ) {\n                    map[option] = visualization[option]\n                }\n\n                return map\n            },\n            {}\n        )\n\n        // interpretation filter\n        if (filters.relativePeriodDate) {\n            options.relativePeriodDate = filters.relativePeriodDate\n        }\n\n        // global filters\n        // userOrgUnit\n        if (filters.userOrgUnit && filters.userOrgUnit.length) {\n            const ouIds = filters.userOrgUnit.map(\n                ouPath => ouPath.split('/').slice(-1)[0]\n            )\n\n            options.userOrgUnit = ouIds.join(';')\n        }\n\n        return options\n    }\n\n    getConfigById = id => {\n        return apiFetchVisualization(this.props.d2, 'reportTable', id)\n    }\n\n    renderTable = async () => {\n        const { config, filters, onResponsesReceived, onError } = this.props\n\n        const i18nManager = {\n            get: string => i18n.t(string),\n        }\n\n        const appManager = {\n            getLegendSetById: () => '',\n            getApiPath: () => '',\n        }\n\n        const uiManager = {}\n\n        const d2aOptionConfig = new d2aConfig.OptionConfig()\n        d2aOptionConfig.setI18nManager(i18nManager)\n        d2aOptionConfig.init()\n\n        const refs = {\n            api: d2aApi,\n            appManager,\n            uiManager,\n            i18nManager,\n            optionConfig: d2aOptionConfig,\n        }\n\n        try {\n            const visualization =\n                Object.keys(config).length === 1 && config.id\n                    ? await this.getConfigById(config.id)\n                    : config\n\n            const options = this.getRequestOptions(visualization, filters)\n\n            const responses = await apiFetchAnalytics(\n                this.props.d2,\n                visualization,\n                options\n            )\n\n            if (responses.length) {\n                onResponsesReceived(responses)\n            }\n\n            this.recreateVisualization = () => {\n                const remappedOptions = {\n                    showColTotals: visualization.colTotals,\n                    showRowTotals: visualization.rowTotals,\n                    showColSubTotals: visualization.colSubTotals,\n                    showRowSubTotals: visualization.rowSubTotals,\n                    numberType: visualization.numberType || 'VALUE', // TODO read default from options, perhaps better idea is to compute layout content in app\n                }\n\n                const layout = new d2aLayout(\n                    refs,\n                    visualization,\n                    remappedOptions\n                )\n\n                const extraOptions = { renderLimit: 100000, trueTotals: true }\n\n                const pivotTable = new d2aTable.PivotTable(\n                    refs,\n                    layout,\n                    new d2aResponse(refs, responses[0].response),\n                    extraOptions\n                )\n\n                pivotTable.initialize()\n\n                pivotTable.build()\n\n                this.canvasRef.current.innerHTML = pivotTable.render()\n            }\n\n            this.recreateVisualization()\n\n            this.setState({ isLoading: false })\n        } catch (error) {\n            onError(error)\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.state.isLoading ? <LoadingMask /> : null}\n                <div ref={this.canvasRef} style={this.props.style}>\n                    <style jsx>{pivotTableStyles}</style>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nPivotPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    style: {},\n    animation: 200,\n    onError: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nPivotPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    filters: PropTypes.object,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default PivotPlugin\n","import React from 'react'\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\n\nimport ChartPlugin from './ChartPlugin'\nimport PivotPlugin from './PivotPlugin'\n\nconst VisualizationPlugin = props => {\n    if (!props.config.type || props.config.type === VIS_TYPE_PIVOT_TABLE) {\n        return <PivotPlugin {...props} />\n    } else {\n        return <ChartPlugin {...props} />\n    }\n}\n\nexport default VisualizationPlugin\n","import { colors } from '@dhis2/ui-core';\nconst error = {\n  fontWeight: 'bold',\n  marginTop: '30px',\n  lineHeight: '22px'\n};\nexport default {\n  outer: {\n    display: 'flex',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  inner: {\n    maxWidth: 500,\n    textAlign: 'center',\n    alignSelf: 'center',\n    position: 'relative',\n    top: '-20%'\n  },\n  title: { ...error,\n    color: colors.grey700\n  },\n  description: { ...error,\n    color: colors.grey500\n  }\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport styles from './styles/BlankCanvas.style';\nimport { sGetLoadError } from '../../reducers/loader';\nimport PropTypes from 'prop-types';\nimport chartErrorImg from '../../assets/chart-error-graphic.png';\nexport const defaultCanvasMessage = i18n.t('Create a new visualization by adding dimensions to the layout');\n\nconst getMessage = text => <p style={styles.title}>{text}</p>;\n\nexport const BlankCanvas = ({\n  error\n}) => {\n  const canvasContent = error ? <div>\n            <img src={chartErrorImg} alt={i18n.t('Chart error')} />\n            {getMessage(error)}\n        </div> : getMessage(defaultCanvasMessage);\n  return <div style={styles.outer}>\n            <div style={styles.inner}>{canvasContent}</div>\n        </div>;\n};\nBlankCanvas.propTypes = {\n  error: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  error: sGetLoadError(state)\n});\n\nexport default connect(mapStateToProps)(BlankCanvas);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport debounce from 'lodash-es/debounce';\nimport styles from './styles/Visualization.style';\nimport VisualizationPlugin from '@dhis2/data-visualizer-plugin';\nimport { sGetVisualization } from '../../reducers/visualization';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetUiRightSidebarOpen, sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetLoadError } from '../../reducers/loader';\nimport { acAddMetadata } from '../../actions/metadata';\nimport { acSetChart } from '../../actions/chart';\nimport { acSetLoadError } from '../../actions/loader';\nimport BlankCanvas from './BlankCanvas';\nexport class Visualization extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onError\", err => {\n      const error = err && err.message || i18n.t('Error generating chart, please try again');\n      this.props.acSetLoadError(error);\n    });\n\n    _defineProperty(this, \"onChartGenerated\", svg => this.props.acSetChart(svg));\n\n    _defineProperty(this, \"onResponsesReceived\", responses => {\n      const forMetadata = {};\n      responses.forEach(response => Object.entries(response.metaData.items).forEach(([id, item]) => {\n        forMetadata[id] = {\n          id,\n          name: item.name || item.displayName,\n          displayName: item.displayName\n        };\n      }));\n      this.props.acAddMetadata(forMetadata);\n    });\n\n    _defineProperty(this, \"getNewRenderId\", () => this.setState({\n      renderId: typeof this.state.renderId === 'number' ? this.state.renderId + 1 : 1\n    }));\n\n    _defineProperty(this, \"addResizeHandler\", () => {\n      window.addEventListener('resize', debounce(() => {\n        this.getNewRenderId();\n      }, 300));\n    });\n\n    this.state = {\n      renderId: null\n    };\n  }\n\n  componentDidMount() {\n    this.addResizeHandler();\n  }\n\n  componentDidUpdate(prevProps) {\n    // open sidebar\n    if (this.props.rightSidebarOpen !== prevProps.rightSidebarOpen) {\n      this.getNewRenderId();\n    }\n  }\n\n  render() {\n    const {\n      visConfig,\n      visFilters,\n      error\n    } = this.props;\n    const {\n      renderId\n    } = this.state;\n    return !visConfig || error ? <BlankCanvas /> : <VisualizationPlugin id={renderId} d2={this.context.d2} config={visConfig} filters={visFilters} onChartGenerated={this.onChartGenerated} onResponsesReceived={this.onResponsesReceived} onError={this.onError} style={styles.chartCanvas} />;\n  }\n\n}\nVisualization.contextTypes = {\n  d2: PropTypes.object\n};\nVisualization.propTypes = {\n  acAddMetadata: PropTypes.func,\n  acSetChart: PropTypes.func,\n  acSetLoadError: PropTypes.func,\n  error: PropTypes.string,\n  rightSidebarOpen: PropTypes.bool,\n  visConfig: PropTypes.object,\n  visFilters: PropTypes.object\n};\nexport const visConfigSelector = createSelector([sGetCurrent, sGetVisualization, sGetUiInterpretation], (current, visualization, interpretation) => interpretation.id ? visualization : current);\nexport const visFiltersSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created ? {\n  relativePeriodDate: interpretation.created\n} : {});\n\nconst mapStateToProps = state => ({\n  visConfig: visConfigSelector(state),\n  visFilters: visFiltersSelector(state),\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  error: sGetLoadError(state)\n});\n\nexport default connect(mapStateToProps, {\n  acAddMetadata,\n  acSetChart,\n  acSetLoadError\n})(Visualization);","import { SET_CHART } from '../reducers/chart';\nexport const acSetChart = value => ({\n  type: SET_CHART,\n  value\n});","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MoreHorizontalIcon = ({\n  style\n}) => {\n  return <svg style={{ ...style\n  }} xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n        </svg>;\n};\n\nMoreHorizontalIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default MoreHorizontalIcon;","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  icon: {\n    width: 22,\n    height: 22,\n    background: 'none',\n    color: colors.black,\n    padding: 0\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport { DimensionMenu } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport MoreHorizontalIcon from '../../assets/MoreHorizontalIcon';\nimport { styles } from './styles/Menu.style';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nimport { AXIS_SETUP_DIALOG_ID } from '../AxisSetup/AxisSetup';\n\nclass ChipMenu extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      anchorEl: null\n    });\n\n    _defineProperty(this, \"handleClick\", event => {\n      event.stopPropagation();\n      this.setState({\n        anchorEl: event.currentTarget\n      });\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      // event.stopPropagation();\n      this.setState({\n        anchorEl: null\n      });\n    });\n\n    _defineProperty(this, \"getMenuId\", () => `menu-for-${this.props.id}`);\n  }\n\n  render() {\n    return <React.Fragment>\n                <IconButton aria-owns={this.state.anchorEl ? this.getMenuId() : null} aria-haspopup=\"true\" onClick={this.handleClick} style={styles.icon}>\n                    <MoreHorizontalIcon style={styles.icon} />\n                </IconButton>\n                <DimensionMenu dimensionId={this.props.dimensionId} currentAxisId={this.props.currentAxisId} visType={this.props.visType} numberOfDimensionItems={this.props.numberOfDimensionItems} dualAxisItemHandler={this.props.dualAxisItemHandler} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.anchorEl} onClose={this.handleClose} />\n            </React.Fragment>;\n  }\n\n}\n\nChipMenu.propTypes = {\n  axisItemHandler: PropTypes.func,\n  currentAxisId: PropTypes.string,\n  dimensionId: PropTypes.string,\n  dualAxisItemHandler: PropTypes.func,\n  id: PropTypes.string,\n  numberOfDimensionItems: PropTypes.number,\n  removeItemHandler: PropTypes.func,\n  visType: PropTypes.string\n};\n\nconst mapDispatchToProps = dispatch => ({\n  dualAxisItemHandler: () => dispatch(acSetUiActiveModalDialog(AXIS_SETUP_DIALOG_ID)),\n  axisItemHandler: (dimensionId, targetAxisId) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: targetAxisId\n    }));\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  }\n});\n\nexport default connect(null, mapDispatchToProps)(ChipMenu);","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  tooltip: {\n    fontFamily: 'roboto',\n    padding: '7px 9px',\n    color: colors.white,\n    fontSize: '12px',\n    backgroundColor: colors.grey900,\n    boxShadow: 'none',\n    borderRadius: '3px',\n    position: 'relative',\n    top: '5px'\n  },\n  list: {\n    listStyleType: 'none',\n    margin: '0px',\n    marginBottom: '-3px',\n    padding: '0px'\n  },\n  item: {\n    marginBottom: '3px'\n  },\n  icon: {\n    fontSize: '13px',\n    marginRight: '6px'\n  },\n  iconWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '5px'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport i18n from '@dhis2/d2-i18n';\nimport LockIcon from '@material-ui/icons/Lock';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { styles } from './styles/Tooltip.style';\nconst labels = {\n  noneSelected: i18n.t('None selected'),\n  onlyOneInUse: name => i18n.t(\"Only '{{- name}}' in use\", {\n    name\n  }),\n  onlyLimitedNumberInUse: number => i18n.t(\"Only '{{number}}' in use\", {\n    number\n  })\n};\nexport class Tooltip extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"getWarningLabel\", () => {\n      const {\n        itemIds,\n        metadata,\n        displayLimitedAmount\n      } = this.props;\n      const warningLabel = itemIds.length === 1 ? labels.onlyOneInUse(metadata[itemIds[0]] ? metadata[itemIds[0]].name : itemIds[0]) : labels.onlyLimitedNumberInUse(itemIds.length);\n      return displayLimitedAmount ? warningLabel : null;\n    });\n\n    _defineProperty(this, \"getItemDisplayNames\", () => {\n      const {\n        itemIds,\n        metadata,\n        displayLimitedAmount\n      } = this.props;\n      return itemIds.length && !displayLimitedAmount ? itemIds.map(id => metadata[id] ? metadata[id].name : id) : [];\n    });\n\n    _defineProperty(this, \"renderWarningLabel\", warningLabel => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <WarningIcon style={styles.icon} />\n                <span>{warningLabel}</span>\n            </div>\n        </li>);\n\n    _defineProperty(this, \"renderItems\", itemDisplayNames => itemDisplayNames.map(name => <li key={`${this.props.dimensionId}-${name}`} style={styles.item}>\n                {name}\n            </li>));\n\n    _defineProperty(this, \"renderLockedLabel\", () => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <LockIcon style={styles.icon} />\n                <span>{this.props.lockedLabel}</span>\n            </div>\n        </li>);\n\n    _defineProperty(this, \"renderNoItemsLabel\", () => <li key={`${this.props.dimensionId}-${labels.noneSelected}`} style={styles.item}>\n            {labels.noneSelected}\n        </li>);\n  }\n\n  render() {\n    const itemDisplayNames = this.getItemDisplayNames();\n    const warningLabel = this.getWarningLabel();\n    const hasNoItemsLabel = !itemDisplayNames.length && !warningLabel;\n    return <Popper anchorEl={this.props.anchorEl} open={this.props.open} placement=\"bottom-start\">\n                <Paper style={styles.tooltip}>\n                    {<ul style={styles.list}>\n                            {warningLabel && this.renderWarningLabel(warningLabel)}\n                            {this.props.lockedLabel && this.renderLockedLabel()}\n                            {itemDisplayNames && this.renderItems(itemDisplayNames)}\n                            {hasNoItemsLabel && this.renderNoItemsLabel()}\n                        </ul>}\n                </Paper>\n            </Popper>;\n  }\n\n}\nTooltip.propTypes = {\n  anchorEl: PropTypes.object.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  metadata: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  displayLimitedAmount: PropTypes.bool,\n  itemIds: PropTypes.array,\n  lockedLabel: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  metadata: sGetMetadata(state)\n});\n\nexport default connect(mapStateToProps)(Tooltip);","import React from 'react';\n\nconst DynamicDimensionIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"Artboard\" transform=\"translate(-80.000000, -9.000000)\">\n                    <g id=\"icon_dimension_new\" transform=\"translate(80.000000, 9.000000)\">\n                        <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                        <g id=\"module\" transform=\"translate(4.000000, 4.000000)\" stroke=\"#000000\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L0.322,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L6.678,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,6.78125 L3.5,2.72795833\" id=\"Shape\" />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default DynamicDimensionIcon;","import { colors, theme } from '@dhis2/ui-core'; // Layout\n\nexport const LAYOUT_HEIGHT = '78px'; // Axis\n\nexport const AXIS_PADDING = '4px 4px 2px 6px';\nexport const AXIS_LABEL_PADDING = '2px 0px 0px 4px';\nexport const AXIS_BORDER_COLOR = colors.grey300;\nexport const AXIS_BORDER_STYLE = 'solid';\nexport const AXIS_BORDER_WIDTH = '0px 0px 1px 1px';\nexport const AXIS_BACKGROUND_COLOR = colors.white; // Chip\n\nexport const CHIP_COLOR = colors.grey900;\nexport const CHIP_FONT_WEIGHT = 400;\nexport const CHIP_FONT_SIZE = '14px';\nexport const CHIP_BACKGROUND_COLOR = theme.secondary200;\nexport const CHIP_HEIGHT = '14px';\nexport const CHIP_MARGIN = '4px';\nexport const CHIP_PADDING = '1px 6px';\nexport const CHIP_BORDER_RADIUS = '2px';","import { colors } from '@dhis2/ui-core';\nimport * as layoutStyle from './style';\nexport const styles = {\n  chipWrapper: {\n    display: 'flex',\n    margin: layoutStyle.CHIP_MARGIN,\n    backgroundColor: layoutStyle.CHIP_BACKGROUND_COLOR,\n    borderRadius: layoutStyle.CHIP_BORDER_RADIUS,\n    alignItems: 'center'\n  },\n  chip: {\n    padding: layoutStyle.CHIP_PADDING,\n    fontSize: layoutStyle.CHIP_FONT_SIZE,\n    fontWeight: layoutStyle.CHIP_FONT_WEIGHT,\n    color: layoutStyle.CHIP_COLOR,\n    cursor: 'pointer',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    minHeight: 24,\n    userSelect: 'none'\n  },\n  chipEmpty: {\n    backgroundColor: colors.grey300\n  },\n  fixedDimensionIcon: {\n    paddingRight: '6px'\n  },\n  iconWrapper: {\n    paddingRight: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  warningIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  warningIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  lockIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  lockIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  }\n};\nstyles.chipLeft = { ...styles.chip,\n  display: 'flex',\n  borderTopRightRadius: '0px',\n  borderBottomRightRadius: '0px',\n  alignItems: 'center'\n};\nstyles.chipRight = { ...styles.chip,\n  paddingLeft: '0px',\n  borderTopLeftRadius: '0px',\n  borderBottomLeftRadius: '0px'\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport LockIcon from '@material-ui/icons/Lock';\nimport i18n from '@dhis2/d2-i18n';\nimport { FIXED_DIMENSIONS, getAxisMaxNumberOfItems, hasAxisTooManyItems, getAxisPerLockedDimension, getDisplayNameByVisType, getAxisName } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport Menu from './Menu';\nimport Tooltip from './Tooltip';\nimport { setDataTransfer } from '../../modules/dnd';\nimport { sGetDimensions } from '../../reducers/dimensions';\nimport { sGetUiItemsByDimension, sGetUiType } from '../../reducers/ui';\nimport DynamicDimensionIcon from '../../assets/DynamicDimensionIcon';\nimport { styles } from './styles/Chip.style';\nconst TOOLTIP_ENTER_DELAY = 500;\nconst LockIconWrapper = <div style={styles.lockIconWrapper}>\n        <LockIcon style={styles.lockIcon} />\n    </div>;\nconst WarningIconWrapper = <div style={styles.warningIconWrapper}>\n        <WarningIcon style={styles.warningIcon} />\n    </div>;\n\nclass Chip extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      tooltipOpen: false\n    });\n\n    _defineProperty(this, \"id\", Math.random().toString(36));\n\n    _defineProperty(this, \"timeout\", null);\n\n    _defineProperty(this, \"isLocked\", getAxisPerLockedDimension(this.props.type, this.props.dimensionId) === this.props.axisId);\n\n    _defineProperty(this, \"axisMaxNumberOfItems\", getAxisMaxNumberOfItems(this.props.type, this.props.axisId));\n\n    _defineProperty(this, \"handleMouseOver\", () => {\n      if (this.timeout === null) {\n        this.timeout = setTimeout(() => this.setState({\n          tooltipOpen: true\n        }), TOOLTIP_ENTER_DELAY);\n      }\n    });\n\n    _defineProperty(this, \"handleMouseOut\", () => {\n      if (typeof this.timeout === 'number') {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.setState({\n          tooltipOpen: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleClick\", event => {\n      this.props.onClick(event);\n      this.handleMouseOut();\n    });\n\n    _defineProperty(this, \"getDragStartHandler\", () => event => {\n      this.handleMouseOut();\n      setDataTransfer(event, this.props.axisId);\n    });\n\n    _defineProperty(this, \"getAnchorEl\", () => document.getElementById(this.id));\n\n    _defineProperty(this, \"getWrapperStyles\", () => ({ ...styles.chipWrapper,\n      ...(!this.props.items.length ? styles.chipEmpty : {})\n    }));\n\n    _defineProperty(this, \"renderChipLabel\", () => {\n      const numberOfItems = this.props.items.length;\n      const getItemsLabel = !!this.axisMaxNumberOfItems && numberOfItems > this.axisMaxNumberOfItems ? i18n.t(`{{total}} of {{axisMaxNumberOfItems}} selected`, {\n        total: numberOfItems,\n        axisMaxNumberOfItems: this.axisMaxNumberOfItems\n      }) : i18n.t('{{total}} selected', {\n        total: numberOfItems\n      });\n      return `${this.props.dimensionName}${this.props.items.length > 0 ? `: ${getItemsLabel}` : ''}`;\n    });\n\n    _defineProperty(this, \"renderChipIcon\", () => {\n      const fixedDimension = FIXED_DIMENSIONS[this.props.dimensionId];\n\n      if (fixedDimension) {\n        const Icon = FIXED_DIMENSIONS[this.props.dimensionId].icon;\n        return <Icon style={styles.fixedDimensionIcon} />;\n      }\n\n      return <DynamicDimensionIcon style={styles.dynamicDimensionIcon} />;\n    });\n\n    _defineProperty(this, \"renderMenu\", () => <div style={styles.chipRight}>\n            <Menu dimensionId={this.props.dimensionId} currentAxisId={this.props.axisId} visType={this.props.type} numberOfDimensionItems={this.props.items.length} />\n        </div>);\n\n    _defineProperty(this, \"renderTooltip\", () => {\n      const activeItemIds = this.axisMaxNumberOfItems ? this.props.items.slice(0, this.axisMaxNumberOfItems) : this.props.items;\n      const lockedLabel = this.isLocked ? i18n.t(`{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}`, {\n        dimensionName: this.props.dimensionName,\n        axisName: getAxisName(this.props.axisId),\n        visTypeName: getDisplayNameByVisType(this.props.type)\n      }) : null;\n      return <Tooltip dimensionId={this.props.dimensionId} itemIds={activeItemIds} lockedLabel={lockedLabel} displayLimitedAmount={this.props.items.length > activeItemIds.length} open={this.state.tooltipOpen} anchorEl={this.getAnchorEl()} />;\n    });\n\n    _defineProperty(this, \"render\", () => <div style={this.getWrapperStyles()} data-dimensionid={this.props.dimensionId} draggable={!this.isLocked} onDragStart={this.getDragStartHandler()}>\n            <div id={this.id} style={styles.chipLeft} onClick={this.handleClick} onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n                <div style={styles.iconWrapper}>{this.renderChipIcon()}</div>\n                {this.renderChipLabel()}\n                {hasAxisTooManyItems(this.props.type, this.props.axisId, this.props.items.length) && WarningIconWrapper}\n                {this.isLocked && LockIconWrapper}\n            </div>\n            {!this.isLocked && this.renderMenu()}\n            {this.getAnchorEl() && this.renderTooltip()}\n        </div>);\n  }\n\n}\n\nChip.propTypes = {\n  axisId: PropTypes.string.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  dimensionName: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  items: PropTypes.array,\n  onClick: PropTypes.func\n};\nChip.defaultProps = {\n  onClick: Function.prototype,\n  items: []\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  dimensionName: (sGetDimensions(state)[ownProps.dimensionId] || {}).name,\n  items: sGetUiItemsByDimension(state, ownProps.dimensionId) || [],\n  type: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps)(Chip);","import { LAYOUT_HEIGHT } from '../../styles/style'; // Axis\n\nexport const FILTER_AXIS_WIDTH = '67%';\nexport const DIMENSION_AXIS_CONTENT_HEIGHT = '36px'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  ct: {\n    display: 'flex',\n    minHeight: LAYOUT_HEIGHT\n  },\n  axisGroup: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  },\n  columns: {\n    flexBasis: '50%'\n  },\n  rows: {\n    flexBasis: '50%'\n  },\n  filters: {\n    flexBasis: '100%'\n  }\n};","import { colors } from '@dhis2/ui-core';\nimport defaultLayoutStyle from './DefaultLayout.style';\nimport * as layoutStyle from '../../styles/style';\nexport default {\n  axisContainer: {\n    display: 'flex',\n    backgroundColor: layoutStyle.AXIS_BACKGROUND_COLOR,\n    borderColor: layoutStyle.AXIS_BORDER_COLOR,\n    borderStyle: layoutStyle.AXIS_BORDER_STYLE,\n    borderWidth: layoutStyle.AXIS_BORDER_WIDTH,\n    padding: layoutStyle.AXIS_PADDING\n  },\n  axisContainerLeft: {\n    borderLeftWidth: 0\n  },\n  label: {\n    minWidth: 55,\n    maxWidth: 55,\n    padding: '2px 0px 0px 0px',\n    fontSize: 11,\n    color: colors.grey700,\n    userSelect: 'none',\n    letterSpacing: '0.2px'\n  },\n  content: {\n    width: '100%',\n    display: 'flex',\n    alignItems: 'flex-start',\n    alignContent: 'flex-start',\n    flexWrap: 'wrap',\n    minHeight: defaultLayoutStyle.DIMENSION_AXIS_CONTENT_HEIGHT\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport i18n from '@dhis2/d2-i18n';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport { AXIS_ID_COLUMNS, DEFAULT_AXIS_IDS, DIMENSION_ID_DATA, isYearOverYear, isDualAxisType, getAxisName } from '@dhis2/analytics';\nimport Chip from '../Chip';\nimport { sGetUi } from '../../../reducers/ui';\nimport { decodeDataTransfer } from '../../../modules/dnd';\nimport { acAddUiLayoutDimensions, acSetUiActiveModalDialog } from '../../../actions/ui';\nimport { SOURCE_DIMENSIONS, menuLabels } from '../../../modules/layout';\nimport { getAdaptedUiByType } from '../../../modules/ui';\nimport styles from './styles/DefaultAxis.style';\n\nclass Axis extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onDragOver\", e => {\n      e.preventDefault();\n    });\n\n    _defineProperty(this, \"onDrop\", e => {\n      e.preventDefault();\n      const {\n        dimensionId,\n        source\n      } = decodeDataTransfer(e);\n      this.props.onAddDimension({\n        [dimensionId]: this.props.axisId\n      });\n      const items = this.props.itemsByDimension[dimensionId];\n      const hasNoItems = Boolean(!items || !items.length);\n\n      if (source === SOURCE_DIMENSIONS && hasNoItems) {\n        this.props.onDropWithoutItems(dimensionId);\n      }\n    });\n\n    _defineProperty(this, \"isMoveSupported\", () => !isYearOverYear(this.props.type));\n\n    _defineProperty(this, \"getAxisMenuItems\", dimensionId => DEFAULT_AXIS_IDS.filter(key => key !== this.props.axisId).map(key => <MenuItem key={`${dimensionId}-to-${key}`} onClick={this.props.getMoveHandler({\n      [dimensionId]: key\n    })}>{`${i18n.t('Move to')} ${menuLabels[key]}`}</MenuItem>));\n\n    _defineProperty(this, \"isSeries\", () => this.props.axisId === AXIS_ID_COLUMNS);\n\n    _defineProperty(this, \"isData\", dimensionId => dimensionId === DIMENSION_ID_DATA);\n\n    _defineProperty(this, \"getItemsArrayByDimension\", dimensionId => this.props.itemsByDimension[dimensionId] || []);\n\n    _defineProperty(this, \"shouldHaveDualAxis\", dimensionId => Boolean(this.isSeries() && this.isData(dimensionId) && isDualAxisType(this.props.type) && this.getItemsArrayByDimension(this.props.axis[0]).length > 1));\n\n    _defineProperty(this, \"getDualAxisItem\", dimensionId => <MenuItem key={`dual-axis-${dimensionId}`} onClick={this.props.onOpenAxisSetup}>\n            {i18n.t('Manage axes')}\n        </MenuItem>);\n\n    _defineProperty(this, \"getRemoveMenuItem\", dimensionId => <MenuItem key={`remove-${dimensionId}`} onClick={this.props.getRemoveHandler(dimensionId)}>\n            {i18n.t('Remove')}\n        </MenuItem>);\n\n    _defineProperty(this, \"getDividerItem\", key => <Divider light key={key} />);\n\n    _defineProperty(this, \"getMenuItems\", dimensionId => [this.shouldHaveDualAxis(dimensionId) ? this.getDualAxisItem(dimensionId) : null, this.shouldHaveDualAxis(dimensionId) ? this.getDividerItem('dual-axis-menu-divider') : null, ...(this.isMoveSupported() ? this.getAxisMenuItems(dimensionId) : []), this.getRemoveMenuItem(dimensionId)]);\n  }\n\n  render() {\n    return <div id={this.props.axisId} style={{ ...styles.axisContainer,\n      ...this.props.style\n    }} onDragOver={this.onDragOver} onDrop={this.onDrop}>\n                <div style={styles.label}>{getAxisName(this.props.axisId)}</div>\n                <Droppable droppableId={this.props.axisId} direction=\"horizontal\">\n                    {provided => <div style={styles.content} ref={provided.innerRef} {...provided.droppableProps}>\n                            {this.props.axis.map((dimensionId, index) => {\n            const key = `${this.props.axisId}-${dimensionId}`;\n            return <Draggable key={key} draggableId={key} index={index}>\n                                        {provided => <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                                                <Chip key={key} onClick={this.props.getOpenHandler(dimensionId)} axisId={this.props.axisId} dimensionId={dimensionId} />\n                                            </div>}\n                                    </Draggable>;\n          })}\n                            {provided.placeholder}\n                        </div>}\n                </Droppable>\n            </div>;\n  }\n\n}\n\nAxis.propTypes = {\n  axis: PropTypes.array,\n  axisId: PropTypes.string,\n  getMoveHandler: PropTypes.func,\n  getOpenHandler: PropTypes.func,\n  getRemoveHandler: PropTypes.func,\n  itemsByDimension: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  ui: PropTypes.object,\n  onAddDimension: PropTypes.func,\n  onDropWithoutItems: PropTypes.func,\n  onOpenAxisSetup: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddDimension: map => dispatch(acAddUiLayoutDimensions(map)),\n  onDropWithoutItems: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId)),\n  getOpenHandler: dimensionId => () => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  const adaptedUi = getAdaptedUiByType(stateProps.ui);\n  return {\n    axis: adaptedUi.layout[ownProps.axisId],\n    itemsByDimension: adaptedUi.itemsByDimension,\n    type: adaptedUi.type,\n    ...dispatchProps,\n    ...ownProps\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(Axis);","import React from 'react';\nimport DefaultAxis from './DefaultAxis';\nimport styles from './styles/DefaultLayout.style';\nimport defaultAxisStyles from './styles/DefaultAxis.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={styles.ct}>\n        <div id=\"axis-group-1\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId=\"columns\" style={{ ...styles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n            <DefaultAxis axisId=\"rows\" style={{ ...styles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupRight\n  }}>\n            <DefaultAxis axisId=\"filters\" style={styles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nexport default Layout;","export default {\n  content: {\n    flex: '1 1 0%'\n  }\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getAxisName } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport YearOverYearAxisStyles from './styles/YearOverYearAxis.style';\n\nconst YearOverYearAxis = props => <div id={props.axisId} style={{ ...defaultAxisStyles.axisContainer,\n  ...props.style\n}}>\n        <div className=\"label\" style={defaultAxisStyles.label}>\n            {getAxisName(props.axisId)}\n        </div>\n        <div className=\"content\" style={{ ...defaultAxisStyles.content,\n    ...YearOverYearAxisStyles.content\n  }}>\n            {props.children}\n        </div>\n    </div>;\n\nYearOverYearAxis.propTypes = {\n  axisId: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nexport default connect(mapStateToProps)(YearOverYearAxis);","export default {\n  displayProps: {\n    background: 'transparent',\n    marginLeft: '4px'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport PropTypes from 'prop-types';\nimport styles from './styles/YearOverYearSelect.style';\n\nclass YearOverYearSelect extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      open: false\n    });\n\n    _defineProperty(this, \"handleClose\", () => {\n      this.setState({\n        open: false\n      });\n    });\n\n    _defineProperty(this, \"handleOpen\", () => {\n      this.setState({\n        open: true\n      });\n    });\n  }\n\n  render() {\n    return <Select disableUnderline multiple={Boolean(this.props.multiple)} open={this.state.open} onChange={this.props.onChange} onClose={this.handleClose} onOpen={this.handleOpen} value={this.props.value} SelectDisplayProps={{\n      style: styles.displayProps\n    }}>\n                {this.props.options.map(option => <MenuItem key={option.id} value={option.id}>\n                        {option.name}\n                    </MenuItem>)}\n            </Select>;\n  }\n\n}\n\nYearOverYearSelect.propTypes = {\n  multiple: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onChange: PropTypes.func\n};\nexport default YearOverYearSelect;","import { FILTER_AXIS_WIDTH } from '../../DefaultLayout/styles/DefaultLayout.style'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import i18n from '@dhis2/d2-i18n'; // Fixed years generator\n\nconst getFixedYears = len => {\n  let year = new Date().getFullYear();\n  return new Array(len).fill(null).map(() => ({\n    id: String(year),\n    name: year--\n  }));\n}; // Options for the year on year series dropdown\n\n\nexport const seriesOptions = [{\n  id: 'THIS_YEAR',\n  name: i18n.t('This year')\n}, {\n  id: 'LAST_YEAR',\n  name: i18n.t('Last year')\n}, {\n  id: 'LAST_5_YEARS',\n  name: i18n.t('Last 5 years')\n}, ...getFixedYears(10)]; // Options for the year on year category dropdown\n\nexport const categoryOptions = [{\n  id: 'LAST_3_DAYS',\n  name: i18n.t('Last 3 days')\n}, {\n  id: 'LAST_7_DAYS',\n  name: i18n.t('Last 7 days')\n}, {\n  id: 'LAST_14_DAYS',\n  name: i18n.t('Last 14 days')\n}, {\n  id: 'LAST_4_WEEKS',\n  name: i18n.t('Last 4 weeks')\n}, {\n  id: 'LAST_12_WEEKS',\n  name: i18n.t('Last 12 weeks')\n}, {\n  id: 'LAST_52_WEEKS',\n  name: i18n.t('Last 52 weeks')\n}, {\n  id: 'WEEKS_THIS_YEAR',\n  name: i18n.t('Weeks per year')\n}, {\n  id: 'LAST_3_MONTHS',\n  name: i18n.t('Last 3 months')\n}, {\n  id: 'LAST_6_MONTHS',\n  name: i18n.t('Last 6 months')\n}, {\n  id: 'LAST_12_MONTHS',\n  name: i18n.t('Last 12 months')\n}, {\n  id: 'MONTHS_THIS_YEAR',\n  name: i18n.t('Months per year')\n}, {\n  id: 'LAST_6_BIMONTHS',\n  name: i18n.t('Last 6 bimonths')\n}, {\n  id: 'BIMONTHS_THIS_YEAR',\n  name: i18n.t('Bimonths per year')\n}, {\n  id: 'LAST_4_QUARTERS',\n  name: i18n.t('Last 4 quarters')\n}, {\n  id: 'QUARTERS_THIS_YEAR',\n  name: i18n.t('Quarters per year')\n}, {\n  id: 'LAST_2_SIXMONTHS',\n  name: i18n.t('Last 2 six-months')\n}];","import React from 'react';\nimport { connect } from 'react-redux';\nimport { AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\nimport YearOverYearAxis from './YearOverYearAxis';\nimport YearOverYearSelect from './YearOverYearSelect';\nimport YearOverYearLayoutStyles from './styles/YearOverYearLayout.style';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport { acSetUiYearOverYearSeries, acSetUiYearOverYearCategory } from '../../../actions/ui';\nimport { seriesOptions, categoryOptions } from '../../../modules/yearOverYear';\n\nconst Layout = props => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupLeft\n  }}>\n            <YearOverYearAxis axisId=\"yearOverYearSeries\" style={{ ...defaultLayoutStyles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect multiple=\"true\" value={props.yearOverYearSeries} onChange={props.onSeriesChange} options={seriesOptions} />\n            </YearOverYearAxis>\n            <YearOverYearAxis axisId=\"yearOverYearCategory\" style={{ ...defaultLayoutStyles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect value={props.yearOverYearCategory[0]} onChange={props.onCategoryChange} options={categoryOptions} />\n            </YearOverYearAxis>\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  yearOverYearCategory: PropTypes.array,\n  yearOverYearSeries: PropTypes.array,\n  onCategoryChange: PropTypes.func,\n  onSeriesChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSeriesChange: event => {\n    if (event.target.value.length) {\n      dispatch(acSetUiYearOverYearSeries(event.target.value));\n    }\n  },\n  onCategoryChange: event => dispatch(acSetUiYearOverYearCategory(event.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","import React from 'react';\nimport { AXIS_ID_COLUMNS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId={AXIS_ID_COLUMNS} style={{ ...defaultLayoutStyles.filters,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nexport default Layout;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport DefaultLayout from './DefaultLayout/DefaultLayout';\nimport YearOverYearLayout from './YearOverYearLayout/YearOverYearLayout';\nimport PieLayout from './PieLayout/PieLayout';\nimport { sGetUiLayout, sGetUiType } from '../../reducers/ui';\nimport { acSetUiLayout } from '../../actions/ui';\nconst layoutMap = {\n  [VIS_TYPE_COLUMN]: DefaultLayout,\n  [VIS_TYPE_STACKED_COLUMN]: DefaultLayout,\n  [VIS_TYPE_BAR]: DefaultLayout,\n  [VIS_TYPE_STACKED_BAR]: DefaultLayout,\n  [VIS_TYPE_LINE]: DefaultLayout,\n  [VIS_TYPE_AREA]: DefaultLayout,\n  [VIS_TYPE_PIE]: PieLayout,\n  [VIS_TYPE_RADAR]: DefaultLayout,\n  [VIS_TYPE_GAUGE]: PieLayout,\n  [VIS_TYPE_YEAR_OVER_YEAR_LINE]: YearOverYearLayout,\n  [VIS_TYPE_YEAR_OVER_YEAR_COLUMN]: YearOverYearLayout,\n  [VIS_TYPE_SINGLE_VALUE]: PieLayout,\n  [VIS_TYPE_PIVOT_TABLE]: DefaultLayout\n};\n\nconst getLayoutByType = (type, props) => {\n  const Layout = layoutMap[type];\n  return <Layout {...props} />;\n};\n\nconst Layout = props => {\n  const onDragEnd = result => {\n    const {\n      source,\n      destination\n    } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    const sourceList = Array.from(props.layout[source.droppableId]);\n    const [moved] = sourceList.splice(source.index, 1);\n    const reorderedDimensions = {};\n\n    if (source.droppableId === destination.droppableId) {\n      sourceList.splice(destination.index, 0, moved);\n      reorderedDimensions[source.droppableId] = sourceList;\n    } else {\n      const destList = Array.from(props.layout[destination.droppableId]);\n      destList.splice(destination.index, 0, moved);\n      reorderedDimensions[destination.droppableId] = destList;\n      reorderedDimensions[source.droppableId] = sourceList;\n    }\n\n    props.onReorderDimensions({ ...props.layout,\n      ...reorderedDimensions\n    });\n  };\n\n  return <DragDropContext onDragEnd={onDragEnd}>\n            {getLayoutByType(props.type)}\n        </DragDropContext>;\n};\n\nLayout.propTypes = {\n  layout: PropTypes.object,\n  type: PropTypes.string,\n  onReorderDimensions: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  layout: sGetUiLayout(state),\n  type: sGetUiType(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onReorderDimensions: layout => dispatch(acSetUiLayout(layout))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","import i18n from '@dhis2/d2-i18n';\nexport const relativePeriods = {\n  TODAY: i18n.t('Today'),\n  YESTERDAY: i18n.t('Yesterday'),\n  LAST_3_DAYS: i18n.t('Last 3 days'),\n  LAST_7_DAYS: i18n.t('Last 7 days'),\n  LAST_14_DAYS: i18n.t('Last 14 days'),\n  THIS_WEEK: i18n.t('This week'),\n  LAST_WEEK: i18n.t('Last week'),\n  LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n  LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n  LAST_52_WEEKS: i18n.t('Last 52 weeks'),\n  WEEKS_THIS_YEAR: i18n.t('Weeks this year'),\n  THIS_MONTH: i18n.t('This month'),\n  LAST_MONTH: i18n.t('Last month'),\n  LAST_3_MONTHS: i18n.t('Last 3 months'),\n  LAST_6_MONTHS: i18n.t('Last 6 months'),\n  LAST_12_MONTHS: i18n.t('Last 12 months'),\n  MONTHS_THIS_YEAR: i18n.t('Months this year'),\n  THIS_BIMONTH: i18n.t('This bimonth'),\n  LAST_BIMONTH: i18n.t('Last bimonth'),\n  LAST_6_BIMONTHS: i18n.t('Last 6 bimonths'),\n  BIMONTHS_THIS_YEAR: i18n.t('Bimonths this year'),\n  THIS_QUARTER: i18n.t('This quarter'),\n  LAST_QUARTER: i18n.t('Last quarter'),\n  LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n  QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n  THIS_SIX_MONTH: i18n.t('This six-month'),\n  LAST_SIX_MONTH: i18n.t('Last six-month'),\n  LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n  THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n  LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n  LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years'),\n  THIS_YEAR: i18n.t('This year'),\n  LAST_YEAR: i18n.t('Last year'),\n  LAST_5_YEARS: i18n.t('Last 5 years')\n};\nexport const organisationUnits = {\n  USER_ORGUNIT: i18n.t('User org unit'),\n  USER_ORGUNIT_CHILDREN: i18n.t('User org unit children'),\n  USER_ORGUNIT_GRANDCHILDREN: i18n.t('User org unit grand children')\n}; // return {name: <string>} as value\n\nexport default (function () {\n  return Object.entries({ ...relativePeriods,\n    ...organisationUnits\n  }).reduce((obj, [key, value]) => ({ ...obj,\n    [key]: {\n      name: value\n    }\n  }), {});\n})();","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport Snackbar from '../components/Snackbar/Snackbar';\nimport MenuBar from './MenuBar/MenuBar';\nimport TitleBar from './TitleBar/TitleBar';\nimport VisualizationTypeSelector from './VisualizationTypeSelector/VisualizationTypeSelector';\nimport DimensionsPanel from './DimensionsPanel/DimensionsPanel';\nimport Interpretations from './Interpretations/Interpretations';\nimport Visualization from './Visualization/Visualization';\nimport Layout from './Layout/Layout';\nimport * as fromReducers from '../reducers';\nimport * as fromActions from '../actions';\nimport history from '../modules/history';\nimport defaultMetadata from '../modules/metadata';\nimport { apiFetchAOFromUserDataStore, CURRENT_AO_KEY } from '../api/userDataStore';\nimport './App.css';\nimport './scrollbar.css';\nimport { getParentGraphMapFromVisualization } from '../modules/ui';\nimport AxisSetup from './AxisSetup/AxisSetup';\nexport class App extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"unlisten\", null);\n\n    _defineProperty(this, \"apiObjectName\", 'visualization');\n\n    _defineProperty(this, \"state\", {\n      previousLocation: null\n    });\n\n    _defineProperty(this, \"refetch\", location => {\n      if (!this.state.previousLocation) {\n        return true;\n      }\n\n      const id = location.pathname.slice(1).split('/')[0];\n      const prevId = this.state.previousLocation.slice(1).split('/')[0];\n\n      if (id !== prevId || this.state.previousLocation === location.pathname) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"loadVisualization\", async location => {\n      const {\n        store\n      } = this.context;\n\n      if (location.pathname.length > 1) {\n        // /currentAnalyticalObject\n        // /${id}/\n        // /${id}/interpretation/${interpretationId}\n        const pathParts = location.pathname.slice(1).split('/');\n        const id = pathParts[0];\n        const interpretationId = pathParts[2];\n        const urlContainsCurrentAOKey = id === CURRENT_AO_KEY;\n\n        if (urlContainsCurrentAOKey) {\n          const AO = await apiFetchAOFromUserDataStore();\n          this.props.addParentGraphMap(getParentGraphMapFromVisualization(AO));\n          this.props.setVisualization(AO);\n          this.props.setUiFromVisualization(AO);\n          this.props.setCurrentFromUi(this.props.ui);\n        }\n\n        if (!urlContainsCurrentAOKey && this.refetch(location)) {\n          await store.dispatch(fromActions.tDoLoadVisualization({\n            type: this.apiObjectName,\n            id,\n            interpretationId,\n            ouLevels: this.props.ouLevels\n          }));\n        }\n\n        if (!interpretationId) {\n          store.dispatch(fromActions.fromUi.acClearUiInterpretation());\n        }\n      } else {\n        fromActions.clearVisualization(store.dispatch, store.getState);\n        fromActions.fromUi.acClearUiInterpretation(store.dispatch);\n      }\n\n      this.setState({\n        previousLocation: location.pathname\n      });\n    });\n\n    _defineProperty(this, \"componentDidMount\", async () => {\n      const {\n        store\n      } = this.context;\n      const {\n        d2,\n        userSettings\n      } = this.props;\n      await store.dispatch(fromActions.fromSettings.tAddSettings(userSettings));\n      store.dispatch(fromActions.fromUser.acReceivedUser(d2.currentUser));\n      store.dispatch(fromActions.fromDimensions.tSetDimensions(d2));\n      const rootOrgUnit = this.props.settings.rootOrganisationUnit;\n      store.dispatch(fromActions.fromMetadata.acAddMetadata({ ...defaultMetadata,\n        [rootOrgUnit.id]: { ...rootOrgUnit,\n          path: `/${rootOrgUnit.id}`\n        }\n      }));\n      this.loadVisualization(this.props.location);\n      this.unlisten = history.listen(location => {\n        this.loadVisualization(location);\n      });\n      document.body.addEventListener('keyup', e => e.key === 'Enter' && e.ctrlKey === true && this.props.setCurrentFromUi(this.props.ui));\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n\n  getChildContext() {\n    return {\n      baseUrl: this.props.baseUrl,\n      i18n,\n      d2: this.props.d2\n    };\n  }\n\n  render() {\n    return <>\n                <AxisSetup />\n                <div className=\"data-visualizer-app flex-ct flex-dir-col\">\n                    <div className=\"section-toolbar flex-ct\">\n                        <div className=\"toolbar-type\">\n                            <VisualizationTypeSelector />\n                        </div>\n                        <div className=\"toolbar-menubar flex-grow-1\">\n                            <MenuBar apiObjectName={this.apiObjectName} />\n                        </div>\n                    </div>\n                    <div className=\"section-main flex-grow-1 flex-ct\">\n                        <div className=\"main-left\">\n                            <DimensionsPanel />\n                        </div>\n                        <div className=\"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col\">\n                            <div className=\"main-center-layout\">\n                                <Layout />\n                            </div>\n                            <div className=\"main-center-titlebar\">\n                                <TitleBar />\n                            </div>\n                            <div className=\"main-center-canvas flex-grow-1\">\n                                <Visualization />\n                            </div>\n                        </div>\n                        {this.props.ui.rightSidebarOpen && this.props.current && <div className=\"main-right\">\n                                <Interpretations type={this.apiObjectName} id={this.props.current.id} />\n                            </div>}\n                    </div>\n                </div>\n                <Snackbar />\n            </>;\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  settings: fromReducers.fromSettings.sGetSettings(state),\n  current: fromReducers.fromCurrent.sGetCurrent(state),\n  interpretations: fromReducers.fromVisualization.sGetInterpretations(state),\n  ui: fromReducers.fromUi.sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentFromUi: ui => dispatch(fromActions.fromCurrent.acSetCurrentFromUi(ui)),\n  setVisualization: visualization => dispatch(fromActions.fromVisualization.acSetVisualization(visualization)),\n  setUiFromVisualization: visualization => dispatch(fromActions.fromUi.acSetUiFromVisualization(visualization)),\n  addParentGraphMap: parentGraphMap => dispatch(fromActions.fromUi.acAddParentGraphMap(parentGraphMap))\n});\n\nApp.contextTypes = {\n  store: PropTypes.object\n};\nApp.childContextTypes = {\n  d2: PropTypes.object,\n  baseUrl: PropTypes.string,\n  i18n: PropTypes.object\n};\nApp.propTypes = {\n  addParentGraphMap: PropTypes.func,\n  baseUrl: PropTypes.string,\n  current: PropTypes.object,\n  d2: PropTypes.object,\n  location: PropTypes.object,\n  ouLevels: PropTypes.array,\n  setCurrentFromUi: PropTypes.func,\n  setUiFromVisualization: PropTypes.func,\n  setVisualization: PropTypes.func,\n  settings: PropTypes.object,\n  ui: PropTypes.object,\n  userSettings: PropTypes.object\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { createMuiTheme } from '@material-ui/core/styles';\nimport dhis2theme from '@dhis2/d2-ui-core/theme/mui3.theme';\nexport const theme = { ...dhis2theme\n};\nexport default createMuiTheme(theme);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { D2Shim } from './D2Shim';\nimport configureStore from './configureStore';\nimport metadataMiddleware from './middleware/metadata';\nimport App from './components/App';\nimport muiTheme from './modules/theme';\nconst store = configureStore(metadataMiddleware);\n\nif (window.Cypress) {\n  window.store = store;\n}\n\nconst schemas = ['visualization', 'organisationUnit', 'userGroup'];\n\nconst AppWrapper = () => <Provider store={store}>\n        <MuiThemeProvider theme={muiTheme}>\n            <D2Shim schemas={schemas}>{params => <App {...params} />}</D2Shim>\n        </MuiThemeProvider>\n    </Provider>;\n\nexport default AppWrapper;","import { acAddMetadata } from '../actions/metadata';\nexport default (({\n  dispatch\n}) => next => action => {\n  typeof action.metadata === 'object' && !Array.isArray(action.metadata) && dispatch(acAddMetadata(action.metadata));\n  next(action);\n});"],"sourceRoot":""}