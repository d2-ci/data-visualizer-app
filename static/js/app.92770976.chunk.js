(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[115],{2124:function(e,t,a){"use strict";(function(e){t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"undefined"!==typeof e.Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric"}).format(new Date(t)):t.substr(0,19).replace("T"," ")}}).call(this,a(259))},2364:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAB9CAYAAACI7nB1AAAABGdBTUEAALGPC/xhBQAADWVJREFUeAHtnVtsFOcVx8eLsYONMSFOEAUXNVikuBfSlMQNVQqq1AdAqsQDSJG4FMxN8IKQiIAnngBFPPEAQtwKsrDEO/BQVCAIqIAUOUlTYUAk1NSBBNc2YINtTP9nMt9qPDvX3W9mz47PSPbcvjnfufzmfJeZ3S0zsLS0tEwbGBj4tKysbD7tv3r16kJFRcUny5Yt66B9WUanB8osMNpg/iSHC7oAyGwBxOGVUbSboYzhAga5YJJ1bhS5Q0y1eyCjmhL7QbXtd06VkXV6PZBB/2KKl3l+57yukePp8UAmPaaIJbo9IHDo9miK5AkcKQqmblMEDt0eTZE8gSNFwdRtisCh26MpkidwpCiYuk0ROHR7NEXyBI4UBVO3KQKHbo+mSJ7AkaJg6jZF4NDt0RTJEzhSFEzdpggcuj2aInkCR4qCqdsUgUO3R1MkT+BIUTB1myJw6PZoiuQJHCkKpm5TBA7dHk2RPIEjRcHUbYrAodujKZIncKQomLpNETh0ezRF8gSOFAVTtykCh26PpkiewJGiYOo2ReDQ7dEUyRM4UhRM3aYIHLo9miJ5AkeKgqnblHLdAkUefw+cOnVqzLNnz2pevnxZi+9gqS0vL6d11dDQECn/ENvt69ev7xM4+MeyIA3Pnz9ffvfu3QkEgQLh6dOnNcPDw2UkGN/eZAASs45MxmxI6lHuzYMHD14WOApyPa+LEdCx0Ki2srKyFsE3YQAY40lLgoD+cDxQaZR7DUuDwBHoKp4F9u3bVzlx4sRaahoUCNC0irS1moeCFMeXBU4WOApyYTIXo48wDn2ELATUPNDdjQDGqoDAEat78xdOTQQ6im8DhGm9vb1mRlDSqHmIe0H/45HAYXl5wYIFf4TTdyMYjVh/jfX2s2fP/j3uILjJP3ny5OTnz5+/i+aiwu183Mdg+3M0V7dlngOeXrRo0UoA8Tc45QPsjqc17dPxuAPhlH/8+PGpfX19HxQDDNj9EvX+B3+XZShrgQGnHMXfiBvF2j8KQIzTp08fdwYxjv0jR47UDA4OvhuHbKdMwD8EG3txvAdNSA+2u5ubm5/i+CtVlm2zQhM1aGunQdHJUHgiaC6HEUNYk0Eda9aseWA3RBkUZU2ZAU7JgjFjxgxj27Ztxp49ewwMAekHAgiYxACBPb+y6oxiRmBZ+G0Acnsh34Rg7NixPcuXL+9z+g9wjJBVdvTo0SwpI85YO6tXr46/9+Oo+NChQ9PQGZuFdu81xyn7bt+YMWM+X7VqVbf9YNhtNzB2795tjB8/3sAkkbF9+3YTEJIHJw7jb3WcGQTNyRvIGnPD6u9VDnq+wFC2B/7rpoyAEU0vNRFe5f2Os4KDZvPu3bv3a2SHqX5Kq3O4G6iNvAbjf1DHwqz9wFDXJw0IbtK5sOUNVX+YNcr34wYxIcC6p66urmfhwoUvwlwbpgwbOPbv3/86fsLjPSg9YtgWZAScQnO/V8JmkDBgqDqTAgTD1jrY8aGq121NGQF/P1A2ePHiRQ/K9OCmGHQrq+tY0eHA3V+GjtgMGP1z3Al5NWG4bgDOvYI284mfY6KAoeQkAUiYrAH7LoW9AZTuha5H9NALFRb1+jNnzlQePny4CdfNyhcMqhOOy+Bu8u1c5wMGyaY+CPVFqLNKC3UY8UedVC3DXMoasD2oOXmYNBhka9HgOHDgwFsdHR3zkSrfJEXyXXD9EMD4x8aNG//nJSNfMJS8OAEB2O+oerzWKNPudS7O44nDsXPnzgzSaCOGU01oSgqaAUwCDOX8OAChrAH5zp9PU1WqdVGyBlWeKBwnTpyonj59+u+RRn/M0cr84PVDwHSFYFBFdYPx6NEjY926dUZra6uqImetG5AwWWPChAm3chRJ6EBicNDcBdL/PMxdTIxg2zDa968w4XVt5cqVjwHEDVxLcw7am5K2tjYDzZxx7tw5X/V0AYLnJ6GyxtKlS2lkUpQldjho7gKdzt8goPQ3JqyVKPsUL5xcWrt27T11DSbkvsdw93rcfQxVn9daByB4fhLY18CNVLSsQbbHCgemwGvv3LnzB9RD0+ChF2SLb2tqaj7Dz5bSVPmIZcWKFY/8Op+YBPoLjSbwZ9pGoww18zlCUIE7XoBQ/UGi0eeiTrhvXwNNzneYxyha1iAbYoMDDni7u7v7I2SA6iBn2c4P4m65gWzxBdLpjy822k4GbVqBORI3GEoPN0Bw7kgQIOhz1SoZXmtMexdlhGLXRzsc9PoawGiCA36B0UiUSa0udL4u4m7ptCsYdjtpMJRe+QACO+8hMzxXMpxrDlmDdNIKB3Wyqqur5wGMt5wG++0ju7RjdvMKskW/Xzmvc8UCQ+kTFRDKishuD9T1zjWHrEE6aYGD5i4wGpmFTtaHMLrSaazXPjILwXAZYNwCIL5Ph71k0BtcOJdYU+Klhxcgln45lyE7PMw5iAO4sYre11B6FQwHJnKq6uvr5yK4DUpomDXKd+IR9UUMU7vClPcpsyepPoaPDuYpD0D2uF03btw41+dAVVVVRR2h2HX1fR5hL+i2jQdmP8Hx2QhOFDn0wYmvkC2+dZOZx7FZ6pqtW7eaz0LUfjHWBAjpsWHDBlV9Vj91wFrndLjphnEboTmuS2w3r8yBZqQcYBAUv40CBso+gQM+Q7bQBQY56t/KW3v37jVf1FH7xVjTU1zSw7Zk9bMdo82cOR98GKnoIxS7jpHhaGlpmYBm5CME+qd2QUHbaGO/qa2tvYSM4ZpOg673Ob8NwFE2MjCnYuzYsaNogBAYVD/pQYul1zZzx/Gvv7+/xn6IW9Yg3SLBgU7nz/DKPIFhfsTObpzP9iDAuI5Hzl/mM3fhI9c8ZX18oLlQQHDXmvIwKxtUpet5DzCavT7egPmcyXZB3LIG6RYKDsx0Vhw7dux9BOCXYa8xhWcyj/GS8EWA8R3tx7XgvZC/QnZBgDQ1NRlLliwxH75F1dMLDEuvHHH08jRusOysMcesQUoHvgmGu74O4+73YECkWwpDsluY6byN6/IaouZ4NMQB53xHQ0ODsWvXrlg7qVHBIDPwMvFMjNSyz1bgowsxNLchPOZfxDdzgG6D3oiOAoaau8Dj7/YkwSAzdWQQf3eNPJsPGDRRiCZlppIEH3VyBIP084SDwIi6kKGa5i6iVp0tny8guM5YvHixsXnz5lAd2nzAoJeo0RF9H1nV/liBzbxG1onWRg4cBEVUMND00Jj9C9wBN+J+I9ppgNt+PoDgjjbwKoDR3t5uXL161U1s9li+YKDT+Tv4NjsnhO3/cs0aZGwOHFkPhNyAgU9wJ1zSPHcRsnbvYlEBaWxsNIXhjTNj5sxs1s+pQBcYJBhNMKt5Daex2Q6pV7bA8T87L1L7NHeBB21fxzFEVXUUug7bSUU/wLh586YxdepUY8qUKa7V6gSDsgY67J+7VsTkIL1mH7kZge6xzl3o9E3YDALQjTlz5iQCBtnHPWuYOkYNBIxKZO4iql5+5d0Aoc/CUiYIs1A5Ku+Y+Wy25LqKoM6ns4+hClLW4NzXUHpmMMJQ24FrtMe3MKF1dcuWLfSovaQWJyD0KfowgCgwqDwt8BdN1ecNBskohaxh6knNStACYwiGy3gDPPG5iyDdopyPCkhMYDwohaxBfg0crXCYu4gCQFDZsIDEAQbphkf6rEcodv+ZoxW/7AHKw7c7dsnMt52jGPtb6vmAgWdP9AUz9CZcdh7D6QJk4Af4eMU/nce57o/IHPb+B23b97kakK9eXhnk/v37OV/cgjp8+xgAogwzw4EvPZVS1iC/Zuc5vJxcjG/28dIljuPODGKvAzdHYOeTXpPEY/7XAQd9t4jnUmpZgwwZkTk8LUvxCWcGUaaGAYOGq/h6pXlBYJDMUssapPOoh4OcQICgafgTNq/jjyY/rtO+BQ52cxe/eYzc0kYHZpHDTaq4XFysQ56dp2IpVKx6rTe26HtIA5eIYNADvduBQhkWkMwRMShRwYD4jk2bNpVc1iC3CBwR4MgDjD589PFfEapgVVTgiBAOjEpm+s1j2EVhdDKATu019DUG7MdLaVvgiBAtjDhu0GsKQZegzPcA42KpTJN72SMdUi/PuBy33lv5Eh/o+gbBr8eMaB3W1XgXZBhADGBY+xiXPcB3iHThePBDK5c6OB0a9ZNgnILBTRdpVrhFhJE+AgejYHBTReDgFhFG+ggcjILBTRWBg1tEGOkjcDAKBjdVBA5uEWGkj8DBKBjcVBE4uEWEkT4CB6NgcFNF4OAWEUb6CByMgsFNFYGDW0QY6SNwMAoGN1UEDm4RYaSPwMEoGNxUETi4RYSRPgIHo2BwU0Xg4BYRRvoIHIyCwU0VgYNbRBjpI3AwCgY3VQQObhFhpI/AwSgY3FQROLhFhJE+AgejYHBTReDgFhFG+gR+VpaRrqJKjB7AB7878fUSFyoqKj7Bz5d2UFWSOWJ0eCmJBhj0UxEf4yfb2vALoObvzwkcpRTBZHSdBEA+paoEjmQcXlK1oImZTwrTryZ0lpTmomxiHqAf47mQWG1SUUl4QDGRod4pNO4qCa1FySQ80GUxYWRo2IKd2ai1VZqYJHzPsw4r9q3EghrK/h8bdfv7WZPoogAAAABJRU5ErkJggg=="},2371:function(e,t,a){},2372:function(e,t,a){},2382:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_VISUALIZATION",(function(){return B})),a.d(n,"CLEAR_VISUALIZATION",(function(){return G})),a.d(n,"DEFAULT_VISUALIZATION",(function(){return F})),a.d(n,"default",(function(){return H})),a.d(n,"sGetVisualization",(function(){return q})),a.d(n,"sGetInterpretations",(function(){return z}));var r={};a.r(r),a.d(r,"SET_UI",(function(){return xe})),a.d(r,"SET_UI_FROM_VISUALIZATION",(function(){return Ae})),a.d(r,"SET_UI_TYPE",(function(){return je})),a.d(r,"SET_UI_OPTIONS",(function(){return _e})),a.d(r,"SET_UI_LAYOUT",(function(){return De})),a.d(r,"ADD_UI_LAYOUT_DIMENSIONS",(function(){return Te})),a.d(r,"REMOVE_UI_LAYOUT_DIMENSIONS",(function(){return Ce})),a.d(r,"SET_UI_ITEMS",(function(){return Ne})),a.d(r,"ADD_UI_ITEMS",(function(){return we})),a.d(r,"REMOVE_UI_ITEMS",(function(){return Re})),a.d(r,"SET_UI_PARENT_GRAPH_MAP",(function(){return Le})),a.d(r,"ADD_UI_PARENT_GRAPH_MAP",(function(){return ke})),a.d(r,"SET_UI_ACTIVE_MODAL_DIALOG",(function(){return Ue})),a.d(r,"SET_UI_YEAR_ON_YEAR_SERIES",(function(){return Ve})),a.d(r,"SET_UI_YEAR_ON_YEAR_CATEGORY",(function(){return Me})),a.d(r,"CLEAR_UI",(function(){return Pe})),a.d(r,"TOGGLE_UI_RIGHT_SIDEBAR_OPEN",(function(){return Ye})),a.d(r,"SET_UI_RIGHT_SIDEBAR_OPEN",(function(){return Be})),a.d(r,"SET_UI_INTERPRETATION",(function(){return Ge})),a.d(r,"CLEAR_UI_INTERPRETATION",(function(){return Fe})),a.d(r,"SET_AXES",(function(){return He})),a.d(r,"DEFAULT_UI",(function(){return qe})),a.d(r,"default",(function(){return ze})),a.d(r,"sGetUi",(function(){return We})),a.d(r,"sGetUiType",(function(){return Xe})),a.d(r,"sGetUiOptions",(function(){return Qe})),a.d(r,"sGetUiLayout",(function(){return Ke})),a.d(r,"sGetUiItems",(function(){return Ze})),a.d(r,"sGetUiYearOverYearSeries",(function(){return Je})),a.d(r,"sGetUiYearOverYearCategory",(function(){return $e})),a.d(r,"sGetUiParentGraphMap",(function(){return et})),a.d(r,"sGetUiActiveModalDialog",(function(){return tt})),a.d(r,"sGetUiRightSidebarOpen",(function(){return at})),a.d(r,"sGetUiInterpretation",(function(){return nt})),a.d(r,"sGetAxes",(function(){return rt})),a.d(r,"getAxisIdByDimensionId",(function(){return it})),a.d(r,"sGetUiItemsByDimension",(function(){return lt})),a.d(r,"sGetDimensionIdsFromLayout",(function(){return ot})),a.d(r,"sGetAxisSetup",(function(){return ct}));var i={};a.r(i),a.d(i,"SET_CURRENT",(function(){return yt})),a.d(i,"SET_CURRENT_FROM_UI",(function(){return Ot})),a.d(i,"CLEAR_CURRENT",(function(){return vt})),a.d(i,"DEFAULT_CURRENT",(function(){return It})),a.d(i,"default",(function(){return xt})),a.d(i,"sGetCurrent",(function(){return At})),a.d(i,"sGetCurrentFromUi",(function(){return jt}));var l={};a.r(l),a.d(l,"SET_DIMENSIONS",(function(){return _t})),a.d(l,"SET_SELECTED_DIMENSION",(function(){return Dt})),a.d(l,"default",(function(){return Tt})),a.d(l,"sGetDimensions",(function(){return Ct}));var o={};a.r(o),a.d(o,"SET_RECOMMENDED_IDS",(function(){return Nt})),a.d(o,"DEFAULT_RECOMMENDED_IDS",(function(){return wt})),a.d(o,"default",(function(){return Rt})),a.d(o,"sGetRecommendedIds",(function(){return Lt}));var c={};a.r(c),a.d(c,"SET_SETTINGS",(function(){return Vt})),a.d(c,"ADD_SETTINGS",(function(){return Mt})),a.d(c,"DEFAULT_SETTINGS",(function(){return Pt})),a.d(c,"default",(function(){return Yt})),a.d(c,"sGetSettings",(function(){return Bt})),a.d(c,"sGetSettingsDisplayNameProperty",(function(){return Gt})),a.d(c,"sGetRootOrgUnit",(function(){return Ft})),a.d(c,"sGetRelativePeriod",(function(){return Ht})),a.d(c,"sGetUiLocale",(function(){return qt}));var s={};a.r(s),a.d(s,"acSetVisualization",(function(){return ba})),a.d(s,"acClear",(function(){return ha}));var u={};a.r(u),a.d(u,"acSetCurrent",(function(){return Ea})),a.d(u,"acClear",(function(){return ga})),a.d(u,"acSetCurrentFromUi",(function(){return ya})),a.d(u,"tSetCurrentFromUi",(function(){return Oa}));var d={};a.r(d),a.d(d,"acSetDimensions",(function(){return Sa})),a.d(d,"tSetDimensions",(function(){return xa}));var m={};a.r(m),a.d(m,"acSetUi",(function(){return Aa})),a.d(m,"acClear",(function(){return ja})),a.d(m,"acSetUiFromVisualization",(function(){return _a})),a.d(m,"acSetUiType",(function(){return Da})),a.d(m,"acSetUiOptions",(function(){return Ta})),a.d(m,"acSetUiLayout",(function(){return Ca})),a.d(m,"acAddUiLayoutDimensions",(function(){return Na})),a.d(m,"acRemoveUiLayoutDimensions",(function(){return wa})),a.d(m,"acSetUiItems",(function(){return Ra})),a.d(m,"acAddUiItems",(function(){return La})),a.d(m,"acRemoveUiItems",(function(){return ka})),a.d(m,"acSetUiYearOverYearSeries",(function(){return Ua})),a.d(m,"acSetUiYearOverYearCategory",(function(){return Va})),a.d(m,"acAddParentGraphMap",(function(){return Ma})),a.d(m,"acSetParentGraphMap",(function(){return Pa})),a.d(m,"acSetUiActiveModalDialog",(function(){return Ya})),a.d(m,"acToggleUiRightSidebarOpen",(function(){return Ba})),a.d(m,"acSetUiRightSidebarOpen",(function(){return Ga})),a.d(m,"acSetUiInterpretation",(function(){return Fa})),a.d(m,"acClearUiInterpretation",(function(){return Ha})),a.d(m,"acSetAxes",(function(){return qa}));var p={};a.r(p),a.d(p,"acAddMetadata",(function(){return za}));var f={};a.r(f),a.d(f,"acSetSettings",(function(){return Xa})),a.d(f,"acAddSettings",(function(){return Qa})),a.d(f,"tAddSettings",(function(){return Ka}));var b={};a.r(b),a.d(b,"acReceivedUser",(function(){return Za}));var h={};a.r(h),a.d(h,"acReceivedSnackbarMessage",(function(){return $a})),a.d(h,"acCloseSnackbar",(function(){return en}));var E=a(0),g=a.n(E),y=a(242),O=a(650),v=a(241),I=a(19),S=a(20),x=a(429),A=a(248),j=a(17),_=a.n(j),D=a(352),T=["keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator"],C=function(e){return{displayNameProperty:"name"===e.keyAnalysisDisplayProperty?"displayName":"displayShortName",uiLocale:e.keyUiLocale}},N=function(e){return console.log("Error: ",e)},w=function(){var e="".concat("/organisationUnits","?paging=false&userDataViewFallback=true&fields=").concat(["id","displayName","name"].join(","));return Object(D.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnits[0]})).catch(N)},R=function(){var e="".concat("/organisationUnitLevels","?paging=false&fields=").concat(["id","name","displayName","level"].join(","));return Object(D.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnitLevels})).catch(N)},L=a(2378),k=Object(L.a)(),U=a(45),V=a(211),M=function(e){var t=e.children,a=Object(x.a)(e,["children"]),n=Object(I.b)(),r=Object(E.useState)(null),i=Object(S.a)(r,2),l=i[0],o=i[1];return Object(E.useEffect)((function(){(function(e,t){var a,n,r,i,l;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return a=e.baseUrl,n=e.apiVersion,o.next=3,_.a.awrap(Object(D.init)(Object(A.a)({},t,{baseUrl:"".concat(a,"/api/").concat(n)})));case 3:return r=o.sent,o.t0=C,o.next=7,_.a.awrap(Object(D.getUserSettings)());case 7:return o.t1=o.sent,i=(0,o.t0)(o.t1),o.next=11,_.a.awrap(_.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:D.config.i18n.sources.add("./i18n_old/i18n_module_en.properties");case 1:case"end":return e.stop()}})));case 11:return o.next=13,_.a.awrap(R());case 13:return l=o.sent,o.abrupt("return",{location:k.location,baseUrl:a,d2:r,userSettings:i,ouLevels:l});case 15:case"end":return o.stop()}}))})(n,a).then(o)}),[]),l?t(l):g.a.createElement(U.a,null,g.a.createElement(V.a,null))},P=a(380),Y=a(351),B=(a(663),"SET_VISUALIZATION"),G="CLEAR_VISUALIZATION",F=null,H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.value;case G:return F;default:return e}},q=function(e){return e.visualization},z=function(e){return e.visualization?e.visualization.interpretations:[]},W=a(16),X=a(250),Q=a(646),K={baseLineLabel:{defaultValue:void 0,requestable:!1},baseLineValue:{defaultValue:void 0,requestable:!1},cumulativeValues:{defaultValue:!1,requestable:!1},domainAxisLabel:{defaultValue:void 0,requestable:!1},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1},hideLegend:{defaultValue:!1,requestable:!1},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1},percentStackedValues:{defaultValue:!1,requestable:!1},rangeAxisDecimals:{defaultValue:void 0,requestable:!1},rangeAxisLabel:{defaultValue:void 0,requestable:!1},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1},rangeAxisMinValue:{defaultValue:void 0,requestable:!1},rangeAxisSteps:{defaultValue:void 0,requestable:!1},regressionType:{defaultValue:"NONE",requestable:!1},showData:{defaultValue:!0,requestable:!1},targetLineLabel:{defaultValue:void 0,requestable:!1},targetLineValue:{defaultValue:void 0,requestable:!1},aggregationType:{defaultValue:"DEFAULT",requestable:!0},completedOnly:{defaultValue:!1,requestable:!0},hideSubtitle:{defaultValue:!1,requestable:!1},hideTitle:{defaultValue:!1,requestable:!1},sortOrder:{defaultValue:"0",requestable:!1},subtitle:{defaultValue:void 0,requestable:!1},title:{defaultValue:void 0,requestable:!1},colTotals:{defaultValue:!1,requestable:!1},colSubTotals:{defaultValue:!1,requestable:!1},rowTotals:{defaultValue:!1,requestable:!1},rowSubTotals:{defaultValue:!1,requestable:!1},showDimensionLabels:{defaultValue:!1,requestable:!1},hideEmptyColumns:{defaultValue:!1,requestable:!0},hideEmptyRows:{defaultValue:!1,requestable:!0},skipRounding:{defaultValue:!1,requestable:!0},numberType:{defaultValue:"VALUE",requestable:!1},showHierarchy:{defaultValue:!1,requestable:!0},legendSet:{defaultValue:void 0,requestable:!1},legendDisplayStyle:{defaultValue:"FILL",requestable:!1},displayDensity:{defaultValue:"NORMAL",requestable:!1},fontSize:{defaultValue:"NORMAL",requestable:!1},digitGroupSeparator:{defaultValue:"SPACE",requestable:!1},reportingPeriod:{defaultValue:!1,requestable:!1},organisationUnit:{defaultValue:!1,requestable:!1},parentOrganisationUnit:{defaultValue:!1,requestable:!1},grandParentOrganisationUnit:{defaultValue:!1,requestable:!1},regression:{defaultValue:!1,requestable:!1},cumulative:{defaultValue:!1,requestable:!1},measureCriteria:{defaultValue:void 0,requestable:!0},topLimit:{defaultValue:"0",requestable:!1}},Z={baseLine:{defaultValue:!1,requestable:!1},targetLine:{defaultValue:!1,requestable:!1},axisRange:{defaultValue:void 0,requestable:!1}},J=K,$=function(){return Object.entries(Object(A.a)({},K,{},Z)).reduce((function(e,t){var a=Object(S.a)(t,2),n=a[0],r=a[1];return e[n]=r.defaultValue,e}),{})},ee=function(e,t){return Boolean(e[t]&&e[t]!==K[t].defaultValue)},te=function(e){var t=Object(A.a)({},$(),{},Object(Q.a)(e,Object.keys(K)));return t.baseLine=ee(t,"baseLineLabel")||ee(t,"baseLineValue"),t.targetLine=ee(t,"targetLineLabel")||ee(t,"targetLineValue"),e.reportParams&&(t.organisationUnit=e.reportParams.organisationUnit,t.reportingPeriod=e.reportParams.reportingPeriod,t.parentOrganisationUnit=e.reportParams.parentOrganisationUnit,t.grandParentOrganisationUnit=e.reportParams.grandParentOrganisationUnit),t},ae=a(4),ne=a.n(ae),re=[{axisId:X.AXIS_ID_COLUMNS,name:ne.a.t("Add to series")},{axisId:X.AXIS_ID_ROWS,name:ne.a.t("Add to category")},{axisId:X.AXIS_ID_FILTERS,name:ne.a.t("Add to filter")}],ie={columns:ne.a.t("series"),rows:ne.a.t("category"),filters:ne.a.t("filter")},le=function(e,t){var a,n=Array.isArray(t)?t:[t];return a={},Object(W.a)(a,X.AXIS_ID_COLUMNS,e[X.AXIS_ID_COLUMNS].filter((function(e){return!n.includes(e)}))),Object(W.a)(a,X.AXIS_ID_ROWS,e[X.AXIS_ID_ROWS].filter((function(e){return!n.includes(e)}))),Object(W.a)(a,X.AXIS_ID_FILTERS,e[X.AXIS_ID_FILTERS].filter((function(e){return!n.includes(e)}))),a},oe=function(e){var t=Object.entries(e),a={};return t.forEach((function(e){var t=Object(S.a)(e,2),n=t[0];t[1].forEach((function(e){a[e]=n}))})),a},ce=function(e,t,a){var n=oe(e),r=Object.keys(t),i={};return r.forEach((function(r){var l=n[r]||null,o=t[r],c=e[o]||[];c.length===Object(X.getAxisMaxNumberOfDimensions)(a,o)&&(i[c[0]]=l||Object(X.getAvailableAxes)(a).find((function(e){return!Object(X.getAxisMaxNumberOfDimensions)(a,e)})))})),i},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(A.a)(Object(W.a)({},"name",e),t)},ue={reportTable:[se("cumulative",{option:!0}),se("hideEmptyColumns",{option:!0}),se("legendDisplayStyle",{option:!0}),se("measureCriteria",{option:!0}),se("numberType",{option:!0}),se("regression",{option:!0}),se("reportParams",{option:!0}),se("skipRounding",{option:!0})],chart:[se("category",{excluded:!0}),se("series",{excluded:!0}),se("yearlySeries")],eventReport:[se("dataType")],reportTable_eventReport:[se("colSubTotals",{option:!0}),se("colTotals",{option:!0}),se("displayDensity",{option:!0}),se("fontSize",{option:!0}),se("hideEmptyRows",{option:!0}),se("rowSubTotals",{option:!0}),se("rowTotals",{option:!0}),se("showDimensionLabels",{option:!0}),se("showHierarchy",{option:!0})],chart_eventChart:[se("baseLineLabel",{option:!0}),se("baseLineValue",{option:!0}),se("colorSet",{option:!0}),se("cumulativeValues",{option:!0}),se("domainAxisLabel",{option:!0}),se("hideEmptyRowItems",{option:!0}),se("hideLegend",{option:!0}),se("noSpaceBetweenColumns",{option:!0}),se("percentStackedValues",{option:!0}),se("rangeAxisDecimals",{option:!0}),se("rangeAxisLabel",{option:!0}),se("rangeAxisMaxValue",{option:!0}),se("rangeAxisMinValue",{option:!0}),se("rangeAxisSteps",{option:!0}),se("regressionType",{option:!0}),se("seriesItems"),se("showData",{option:!0}),se("targetLineLabel",{option:!0}),se("targetLineValue",{option:!0}),se("type",{option:!0})],eventReport_eventChart:[se("attributeValueDimension"),se("collapseDataDimensions"),se("dataElementValueDimension"),se("endDate"),se("eventStatus",{option:!0}),se("hideNaData",{option:!0}),se("outputType",{option:!0}),se("program"),se("programStage"),se("programStatus",{option:!0}),se("startDate"),se("value")],reportTable_chart_eventReport:[se("legendDisplayStrategy",{option:!0}),se("legendSet",{option:!0})],reportTable_eventReport_eventChart:[se("columnDimensions",{excluded:!0}),se("rowDimensions",{excluded:!0})],reportTable_chart_eventReport_eventChart:[se("access"),se("aggregationType",{option:!0}),se("attributeDimensions",{excluded:!0}),se("attributeValues",{excluded:!0}),se("categoryDimensions",{excluded:!0}),se("categoryOptionGroupSetDimensions",{excluded:!0}),se("code",{excluded:!0}),se("columns"),se("completedOnly",{option:!0}),se("created"),se("dataDimensionItems",{excluded:!0}),se("dataElementDimensions",{excluded:!0}),se("dataElementGroupSetDimensions",{excluded:!0}),se("description"),se("digitGroupSeparator"),se("displayDescription"),se("displayName"),se("displayShortName"),se("externalAccess",{excluded:!0}),se("favorite"),se("favorites"),se("filterDimensions",{excluded:!0}),se("filters"),se("hideSubtitle",{option:!0}),se("hideTitle",{option:!0}),se("href",{excluded:!0}),se("id"),se("interpretations"),se("itemOrganisationUnitGroups",{excluded:!0}),se("lastUpdated"),se("lastUpdatedBy"),se("name"),se("organisationUnitGroupSetDimensions",{excluded:!0}),se("organisationUnitLevels",{excluded:!0}),se("organisationUnits",{excluded:!0}),se("parentGraphMap"),se("periods",{excluded:!0}),se("programIndicatorDimensions",{excluded:!0}),se("publicAccess"),se("relativePeriods",{excluded:!0}),se("rows"),se("shortName"),se("sortOrder",{option:!0}),se("subscribed"),se("subscribers"),se("subtitle",{option:!0}),se("timeField"),se("title",{option:!0}),se("topLimit",{option:!0}),se("translations"),se("user"),se("userAccesses"),se("userGroupAccesses"),se("userOrganisationUnit",{excluded:!0}),se("userOrganisationUnitChildren",{excluded:!0}),se("userOrganisationUnitGrandChildren",{excluded:!0})]};ue.visualization=[].concat(Object(P.a)(ue.reportTable),Object(P.a)(ue.chart),Object(P.a)(ue.reportTable_eventReport),Object(P.a)(ue.chart_eventChart),Object(P.a)(ue.reportTable_chart_eventReport),Object(P.a)(ue.reportTable_eventReport_eventChart),Object(P.a)(ue.reportTable_chart_eventReport_eventChart));var de,me=function(e){return e.name},pe=function(e){return!0===e.excluded?Object(A.a)({},e,Object(W.a)({},"name","!".concat(e.name))):e},fe=function(e,t,a,n){return!e&&(e=n.slice()),"!"===t.charAt(0)&&e.push(e.shift()),e},be=function(e){return Object.entries(ue).reduce((function(t,a){var n=Object(S.a)(a,2),r=n[0],i=n[1];return r.includes(e)?t.concat(i):t}),[])},he=function(e){var t,a=e[X.AXIS_ID_COLUMNS].slice(),n=e[X.AXIS_ID_ROWS].slice();return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,[a.shift()||n.shift()]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(a),Object(P.a)(n))),t},Ee=function(e){var t;return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,[]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(e[X.AXIS_ID_COLUMNS]),Object(P.a)(e[X.AXIS_ID_ROWS])).filter((function(e){return e!==X.DIMENSION_ID_PERIOD}))),t},ge=function(e){var t,a=e[X.AXIS_ID_COLUMNS].slice(),n=e[X.AXIS_ID_ROWS].slice();return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,[X.DIMENSION_ID_DATA]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(a),Object(P.a)(n)).filter((function(e){return e!==X.DIMENSION_ID_DATA}))),t},ye=function(e){return!!X.ouIdHelper.hasLevelPrefix(e)&&Number.isInteger(parseInt(X.ouIdHelper.removePrefix(e),10))},Oe=function(e,t){var a=Object(X.layoutGetDimension)(t,X.DIMENSION_ID_ORGUNIT);if(a&&Object(X.dimensionGetItems)(a).some((function(e){return ye(e.id)}))){var n=function(e){return function(t){if(!ye(t.id))return t;var a=parseInt(X.ouIdHelper.removePrefix(t.id),10),n=e.find((function(e){return parseInt(e.level,10)===a})).id;return Object.assign({},t,{id:X.ouIdHelper.addLevelPrefix(n)})}}(e),r=Object(X.dimensionGetItems)(a).map(n);return Object(X.layoutReplaceDimension)(t,X.DIMENSION_ID_ORGUNIT,r)}return t},ve=function(e){return 1===e.match(/\//g).length?e:e.substr(0,e.lastIndexOf("/"))},Ie=function(e,t,a){return t[e]&&t[e].path?t[e].path:a[e]===e||""===a[e]?"/".concat(e):a[e]?"/".concat(a[e],"/").concat(e):void 0},Se=a(1679),xe="SET_UI",Ae="SET_UI_FROM_VISUALIZATION",je="SET_UI_TYPE",_e="SET_UI_OPTIONS",De="SET_UI_LAYOUT",Te="ADD_UI_LAYOUT_DIMENSIONS",Ce="REMOVE_UI_LAYOUT_DIMENSIONS",Ne="SET_UI_ITEMS",we="ADD_UI_ITEMS",Re="REMOVE_UI_ITEMS",Le="SET_UI_PARENT_GRAPH_MAP",ke="ADD_UI_PARENT_GRAPH_MAP",Ue="SET_UI_ACTIVE_MODAL_DIALOG",Ve="SET_UI_YEAR_ON_YEAR_SERIES",Me="SET_UI_YEAR_ON_YEAR_CATEGORY",Pe="CLEAR_UI",Ye="TOGGLE_UI_RIGHT_SIDEBAR_OPEN",Be="SET_UI_RIGHT_SIDEBAR_OPEN",Ge="SET_UI_INTERPRETATION",Fe="CLEAR_UI_INTERPRETATION",He="SET_AXES",qe={type:X.VIS_TYPE_COLUMN,options:$(),layout:{columns:[X.DIMENSION_ID_DATA],rows:[X.DIMENSION_ID_PERIOD],filters:[X.DIMENSION_ID_ORGUNIT]},itemsByDimension:(de={},Object(W.a)(de,X.DIMENSION_ID_ORGUNIT,[]),Object(W.a)(de,X.DIMENSION_ID_PERIOD,[]),de),yearOverYearSeries:["THIS_YEAR","LAST_YEAR"],yearOverYearCategory:["MONTHS_THIS_YEAR"],parentGraphMap:{},activeModalDialog:null,rightSidebarOpen:!1,interpretation:{},axes:null},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(A.a)({},t.value);case Ae:return ut(t.value,e);case je:return Object(A.a)({},e,{type:t.value});case _e:return Object(A.a)({},e,{options:Object(A.a)({},e.options,{},t.value)});case De:return Object(A.a)({},e,{layout:Object(A.a)({},t.value)});case Te:var a=Object(A.a)({},t.value,{},ce(e.layout,t.value,e.type)),n=le(e.layout,Object.keys(a));return Object.entries(a).forEach((function(e){var t=Object(S.a)(e,2),a=t[0],r=t[1];n[r]&&n[r].push(a)})),Object(A.a)({},e,{layout:n});case Ce:return Object(A.a)({},e,{layout:le(e.layout,t.value)});case Ne:var r=t.value,i=r.dimensionId,l=r.itemIds;return Object(A.a)({},e,{itemsByDimension:Object(A.a)({},e.itemsByDimension,Object(W.a)({},i,l))});case we:var o=t.value,c=o.dimensionId,s=o.itemIds,u=e.itemsByDimension[c]||[],d=Object(P.a)(new Set([].concat(Object(P.a)(u),Object(P.a)(s))));return Object(A.a)({},e,{itemsByDimension:Object(A.a)({},e.itemsByDimension,Object(W.a)({},c,d))});case Re:var m=t.value,p=m.dimensionId,f=m.itemIdsToRemove,b=(e.itemsByDimension[p]||[]).filter((function(e){return!f.includes(e)}));return Object(A.a)({},e,{itemsByDimension:Object(A.a)({},e.itemsByDimension,Object(W.a)({},p,b))});case Ve:return Object(A.a)({},e,{yearOverYearSeries:t.value||qe.yearOverYearSeries});case Me:return Object(A.a)({},e,{yearOverYearCategory:t.value?Object(Se.a)(t.value):qe.yearOverYearCategory});case Le:return Object(A.a)({},e,{parentGraphMap:t.value});case ke:return Object(A.a)({},e,{parentGraphMap:Object(A.a)({},e.parentGraphMap,{},t.value)});case Ue:return Object(A.a)({},e,{activeModalDialog:t.value||qe.activeModalDialog});case Pe:var h,E=t.value,g=E.rootOrganisationUnit,y=E.relativePeriod;return Object(A.a)({},qe,{itemsByDimension:Object(A.a)({},qe.itemsByDimension,(h={},Object(W.a)(h,X.DIMENSION_ID_ORGUNIT,[g.id]),Object(W.a)(h,X.DIMENSION_ID_PERIOD,[y]),h)),parentGraphMap:Object(A.a)({},qe.parentGraphMap,Object(W.a)({},g.id,""))});case Ye:return Object(A.a)({},e,{rightSidebarOpen:!e.rightSidebarOpen});case Be:return Object(A.a)({},e,{rightSidebarOpen:!0});case Ge:return Object(A.a)({},e,{interpretation:t.value});case Fe:return Object(A.a)({},e,{interpretation:qe.interpretation});case He:return Object(A.a)({},e,{axes:t.value});default:return e}},We=function(e){return e.ui},Xe=function(e){return We(e).type},Qe=function(e){return We(e).options},Ke=function(e){return We(e).layout},Ze=function(e){return We(e).itemsByDimension},Je=function(e){return We(e).yearOverYearSeries},$e=function(e){return We(e).yearOverYearCategory},et=function(e){return We(e).parentGraphMap},tt=function(e){return We(e).activeModalDialog},at=function(e){return We(e).rightSidebarOpen},nt=function(e){return We(e).interpretation},rt=function(e){return We(e).axes},it=function(e,t){return(oe(Ke(e))||{})[t]},lt=function(e,t){return Ze(e)[t]||qe.itemsByDimension[t]},ot=function(e){return Object.values(Ke(e)).reduce((function(e,t){return e.concat(t)}),[])},ct=function(e){var t=Ke(e).columns,a=Ze(e),n=rt(e)||{};return Array.isArray(a[t[0]])&&a[t[0]].length?a[t[0]].map((function(e){return{id:e,axis:e in n?n[e]:0}})):[]},st=function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return"number"===typeof e.axis})).reduce((function(e,t){return e[t.series]=t.axis,e}),{}):qe.axes},ut=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(A.a)({},t,{type:e.type||X.defaultVisType,options:te(e),layout:Object(X.layoutGetAxisIdDimensionIdsObject)(e),itemsByDimension:Object(X.layoutGetDimensionIdItemIdsObject)(e),parentGraphMap:e.parentGraphMap||mt(e)||t.parentGraphMap,yearOverYearSeries:Object(X.isYearOverYear)(e.type)&&e.yearlySeries?e.yearlySeries:t.yearOverYearSeries,yearOverYearCategory:Object(X.isYearOverYear)(e.type)?e.rows[0].items.map((function(e){return e.id})):t.yearOverYearCategory,axes:st(e.seriesItems)})},dt=function(e){switch(e.type){case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return function(e){var t=Object.assign({},e),a=Object.assign({},t.itemsByDimension);return delete a[X.DIMENSION_ID_PERIOD],Object(A.a)({},t,{layout:Ee(e.layout),itemsByDimension:a})}(e);case X.VIS_TYPE_PIE:return function(e){return Object(A.a)({},e,{layout:he(e.layout)})}(e);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return function(e){return Object(A.a)({},e,{layout:ge(e.layout)})}(e);default:return e}},mt=function(e){var t=Object(X.layoutGetAxisIdDimensionIdsObject)(e),a=oe(t)[X.DIMENSION_ID_ORGUNIT];if(!a)return{};var n={};return e[a].find((function(e){return e.dimension===X.DIMENSION_ID_ORGUNIT})).items.filter((function(e){return e.path})).forEach((function(e){if("/"+e.id===e.path)n[e.id]="";else{var t=ve(e.path);n[e.id]="/"===t[0]?t.substr(1):t}})),n},pt=function(e){return Object.entries(e.layout).reduce((function(t,a){var n=Object(S.a)(a,2),r=n[0],i=n[1];return Object(A.a)({},t,Object(W.a)({},r,i.map((function(t){return a=e.itemsByDimension,n=t,Array.isArray(a[n])&&a[n].length?Object(X.dimensionCreate)(t,e.itemsByDimension[t]):null;var a,n})).filter((function(e){return null!==e}))))}),{})},ft=function(e){var t=Object(Q.a)(e.options,Object.keys(J));return!1===e.options.targetLine&&(t.targetLineLabel=J.targetLineLabel.defaultValue,t.targetLineValue=J.targetLineValue.defaultValue),!1===e.options.baseLine&&(t.baseLineLabel=J.baseLineLabel.defaultValue,t.baseLineValue=J.baseLineValue.defaultValue),t.reportParams={},["paramOrganisationUnit","paramReportingPeriod","paramParentOrganisationUnit","paramGrandParentOrganisationUnit"].forEach((function(a){return t.reportParams[a]=e.options[a]})),t},bt=function(e){var t,a,n,r={};return t=r,a=e.axes,n="axis",Object.keys(a||{}).forEach((function(e){e in t||(t[e]={}),t[e][n]=a[e]})),Object.entries(r).reduce((function(e,t){var a=Object(S.a)(t,2),n=a[0],r=a[1];return r.series=n,e.push(r),e}),[])},ht=function(e,t){var a=Object(A.a)({},t.value,{layout:Object(A.a)({},ge(t.value.layout))}),n=pt(a),r=Object(X.layoutGetDimensionItems)(n,X.DIMENSION_ID_DATA),i=Object(X.layoutReplaceDimension)(n,X.DIMENSION_ID_DATA,[r[0]]);return Object(A.a)({},e,Object(W.a)({},"type",a.type),i,{},ft(a))},Et=function(e,t){var a=Object(A.a)({},t.value,{layout:Object(A.a)({},he(t.value.layout))});return Object(A.a)({},e,Object(W.a)({},"type",a.type),pt(a),{},ft(a))},gt=function(e,t){var a,n=t.value,r=n.itemsByDimension[X.DIMENSION_ID_DATA]?[n.itemsByDimension[X.DIMENSION_ID_DATA][0]]:[];return Object(A.a)({},e,(a={},Object(W.a)(a,"type",n.type),Object(W.a)(a,X.AXIS_ID_COLUMNS,[Object(X.dimensionCreate)(X.DIMENSION_ID_DATA,r)]),Object(W.a)(a,X.AXIS_ID_ROWS,[Object(X.dimensionCreate)(X.DIMENSION_ID_PERIOD,n.yearOverYearCategory)]),Object(W.a)(a,X.AXIS_ID_FILTERS,pt(n).filters.filter((function(e){return![X.DIMENSION_ID_DATA,X.DIMENSION_ID_PERIOD].includes(e.dimension)}))),Object(W.a)(a,["yearlySeries"],n.yearOverYearSeries),a),ft(n))},yt="SET_CURRENT",Ot="SET_CURRENT_FROM_UI",vt="CLEAR_CURRENT",It=null,St=function(e,t){var a=pt(t.value),n=ft(t.value),r=bt(t.value);return Object(A.a)({},e,Object(W.a)({},"type",t.value.type),a,{},n,{seriesItems:r})},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case yt:return t.value;case Ot:switch(t.value.type){case X.VIS_TYPE_PIE:return Et(e,t);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return ht(e,t);case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return gt(e,t);default:return St(e,t)}case vt:return It;default:return e}},At=function(e){return e.current},jt=function(e){var t=e.ui;switch(t.type){case X.VIS_TYPE_PIE:return Et(e,{value:t});case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return ht(e,{value:t});case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return gt(e,{value:t});default:return St(e,{value:t})}},_t="SET_DIMENSIONS",Dt="SET_SELECTED_DIMENSION",Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X.FIXED_DIMENSIONS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _t:return Object(A.a)({},X.FIXED_DIMENSIONS,{},t.value);default:return e}},Ct=function(e){return e.dimensions},Nt="SET_RECOMMENDED_IDS",wt=[],Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return t.value||wt;default:return e}},Lt=function(e){return e.recommendedIds},kt={},Ut=function(e){return e.metadata},Vt="SET_SETTINGS",Mt="ADD_SETTINGS",Pt={keyDateFormat:"yyyy-MM-dd",keyAnalysisRelativePeriod:"LAST_12_MONTHS",keyAnalysisDigitGroupSeparator:"SPACE",displayNameProperty:"displayName",uiLocale:"en",rootOrganisationUnit:{}},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vt:return Object.assign({},t.value);case Mt:return Object(A.a)({},e,{},t.value);default:return e}},Bt=function(e){return e.settings},Gt=function(e){return Bt(e).displayNameProperty},Ft=function(e){return Bt(e).rootOrganisationUnit},Ht=function(e){return Bt(e).keyAnalysisRelativePeriod},qt=function(e){return Bt(e).uiLocale},zt={id:"",username:"",uiLocale:"",isSuperuser:!1};function Wt(e){return{id:e.id,username:e.username,uiLocale:e.settings.keyUiLocale,isSuperuser:e.authorities.has("ALL")}}var Xt,Qt=a(879),Kt=a.n(Qt),Zt=a(880),Jt=a.n(Zt),$t=a(536),ea=a.n($t),ta=a(396),aa=a.n(ta),na="name,displayName,displayShortName",ra="dimensionItem~rename(".concat("id",")"),ia="legendSet[".concat("id",",").concat(na,"]"),la="user[".concat(na,",userCredentials[username]]"),oa="items[".concat(ra,",").concat(na,",dimensionItemType]"),ca="comments[".concat("id",",").concat(la,",lastUpdated,text"),sa="dimension,filter,".concat(ia,",").concat(oa),ua={columns:sa,rows:sa,filters:sa,user:la,comments:ca,interpretations:"id,created"},da=function(e){return"".concat(e).concat(ua[e]?"[".concat(ua[e],"]"):"")},ma={visualization:{resource:"visualizations",id:function(e){return e.id},params:{fields:(Xt="visualization",be(Xt).map(pe).map(me).sort().reduce(fe,null).map(da).join(","))}}},pa=function(e,t){return e.query(ma,{variables:{id:t}})},fa=function(e,t){var a={type:"create",resource:"visualizations",data:t,params:{skipTranslations:"true",skipSharing:"true"}};return t.id&&(a.type="update",a.id=t.id),e.mutate(a)},ba=function(e){return{type:B,value:e}},ha=function(){return{type:G}},Ea=function(e){return{type:yt,value:e}},ga=function(){return{type:vt}},ya=function(e){return{type:Ot,value:e}},Oa=function(){return function(e,t){return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e(ya(We(t())));case 1:case"end":return a.stop()}}))}},va=a(2377),Ia=a(2375),Sa=function(e){return{type:_t,value:Object(va.a)(Object(Ia.a)(e,[function(e){return e.name.toLowerCase()}]),"id")}},xa=function(e){return function(t,a){var n,r,i,l;return _.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=function(e){t(Sa(e))},r=function(e){return console.log("Error (apiFetchDimensions): ",e),e},o.prev=2,i=Gt(a()),o.next=6,_.a.awrap(Object(X.apiFetchDimensions)(e,i));case 6:return l=o.sent,o.abrupt("return",n(l));case 10:return o.prev=10,o.t0=o.catch(2),o.abrupt("return",r(o.t0));case 13:case"end":return o.stop()}}),null,null,[[2,10]])}},Aa=function(e){return{type:xe,value:e}},ja=function(e){return{type:Pe,value:e}},_a=function(e){return{type:Ae,value:e}},Da=function(e){return{type:je,value:e}},Ta=function(e){return{type:_e,value:e}},Ca=function(e){return{type:De,value:e}},Na=function(e){return{type:Te,value:e}},wa=function(e){return{type:Ce,value:e}},Ra=function(e){return{type:Ne,value:e}},La=function(e){return{type:we,value:e}},ka=function(e){return{type:Re,value:e}},Ua=function(e){return{type:Ve,value:e}},Va=function(e){return{type:Me,value:e}},Ma=function(e){return{type:ke,value:e}},Pa=function(e){return{type:Le,value:e}},Ya=function(e){return{type:Ue,value:e}},Ba=function(){return{type:Ye}},Ga=function(){return{type:Be}},Fa=function(e){return{type:Ge,value:e}},Ha=function(){return{type:Fe}},qa=function(e){return{type:He,value:e}},za=function(e){return{type:"ADD_METADATA",value:e}},Wa=function(){var e="".concat("/systemSettings","?").concat(T.map((function(e){return"key=".concat(e)})).join("&"));return Object(D.getInstance)().then((function(t){return t.Api.getApi().get(e)})).catch(N)},Xa=function(e){return{type:Vt,value:e}},Qa=function(e){return{type:Mt,value:e}},Ka=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a,n,r,i;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=function(a){e(Qa(Object.assign.apply(Object,[{},a].concat(t))))},n=function(e){return console.log("Error (apiFetchSystemSettings): ",e),e},l.prev=2,l.next=5,_.a.awrap(Wa());case 5:return r=l.sent,l.next=8,_.a.awrap(w());case 8:return i=l.sent,l.abrupt("return",a(Object(A.a)({},r,{rootOrganisationUnit:i})));case 12:return l.prev=12,l.t0=l.catch(2),l.abrupt("return",n(l.t0));case 15:case"end":return l.stop()}}),null,null,[[2,12]])}},Za=function(e){return{type:"RECEIVED_USER",value:e}},Ja=function(e){return e.chart},$a=function(e){return{type:mn,value:e}},en=function(){return{type:pn}},tn={isLoading:!1,loadingError:null},an=function(e){return e.loader.loadingError},nn=function(e){return{type:"SET_LOAD_ERROR",value:e}},rn=function(){return{type:"CLEAR_LOAD_ERROR"}},ln=function(e,t){return console.log("Error in action ".concat(e,": ").concat(t)),t},on=function(e){var t=e.id,a=e.interpretationId,n=e.ouLevels;return function(e,r,i){var l,o;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return l=function(t){var r,i;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:r=Oe(n,t.visualization),a&&(i=r.interpretations.find((function(e){return e.id===a})))&&(e(Fa(i)),e(Ga())),e(ba(r)),e(Ea(r)),e(_a(r)),e({type:"CLEAR_LOAD_ERROR"});case 6:case"end":return l.stop()}}))},c.prev=1,c.t0=l,c.next=5,_.a.awrap(pa(i,t));case 5:return c.t1=c.sent,c.abrupt("return",(0,c.t0)(c.t1));case 9:return c.prev=9,c.t2=c.catch(1),o=c.t2,c.t2&&c.t2.message&&(o=c.t2.message),cn(e,r,o),c.abrupt("return",ln("tDoLoadVisualization",o));case 15:case"end":return c.stop()}}),null,null,[[1,9]])}},cn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(a?nn(a):{type:"CLEAR_LOAD_ERROR"}),e(ha()),e(ga());var n=Ft(t()),r=Ht(t());e(ja({rootOrganisationUnit:n,relativePeriod:r}))},sn=a(1),un={container:{display:"flex",alignItems:"center"},icon:{marginRight:8},closeIcon:{marginLeft:8,width:18,height:18,cursor:"pointer"},warning:{backgroundColor:sn.colors.yellow500,color:sn.colors.black},error:{backgroundColor:sn.colors.red500,color:sn.colors.white}},dn=Object(y.connect)((function(e){var t=bn(e),a=t.variant,n=t.message,r=t.duration;return{variant:a,open:t.open,message:n,duration:r}}),(function(e){return{onClose:function(){return e((function(e){e($a({open:!1})),setTimeout((function(){return e(en())}),250)}))}}}))(Object(v.withStyles)(un)((function(e){var t=e.classes,a=e.variant,n=e.open,r=e.message,i=e.duration,l=e.onClose;return g.a.createElement(Kt.a,{open:n,autoHideDuration:i,onClose:l},g.a.createElement(Jt.a,{className:t[a],message:g.a.createElement("span",{className:t.container},"error"===a?g.a.createElement(ea.a,{className:t.icon}):null,r,"warning"===a?g.a.createElement(aa.a,{className:t.closeIcon,onClick:l}):null)}))}))),mn="RECEIVED_SNACKBAR_MESSAGE",pn="CLOSE_SNACKBAR",fn={message:null,duration:null,open:!1,variant:"information"},bn=function(e){return e.snackbar},hn=Object(Y.c)({visualization:H,current:xt,dimensions:Tt,recommendedIds:Rt,ui:ze,metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_METADATA":return Object(A.a)({},e,{},t.value);default:return e}},settings:Yt,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_USER":return Wt(t.value);default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mn:return Object(A.a)({},e,{},t.value);case pn:return fn;default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOAD_ERROR":return Object(A.a)({},e,{loadingError:t.value});case"CLEAR_LOAD_ERROR":return Object(A.a)({},e,{loadingError:tn.loadingError});case"SET_LOADING":return Object(A.a)({},e,{isLoading:t.value});default:return e}},chart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHART":return t.value;default:return e}}}),En=function(e){return ct(e).map((function(t){var a=Ut(e)[t.id];return Object(A.a)({},t,{name:a?a.name:""})}))},gn=function(e){var t="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"data-visualizer-app"}):Y.d;return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object(Y.e)(hn,t(Y.a.apply(void 0,Object(P.a)(e))))},yn=function(e){var t=e.dispatch;return function(e){return function(a){"object"===typeof a.metadata&&!Array.isArray(a.metadata)&&t(za(a.metadata)),e(a)}}},On=a(10),vn=a(13),In=a(15),Sn=a(12),xn=a(8),An=a(14),jn=a(6),_n=a.n(jn),Dn=a(1687),Tn=a.n(Dn),Cn=a(209),Nn=function(e){var t=e.onClick,a=Object(x.a)(e,["onClick"]);return g.a.createElement(Cn.a,Object.assign({"data-test":"update-button"},a,{onClick:t,type:"button",primary:!0}),ne.a.t("Update"))},wn=a(255),Rn=a.n(wn),Ln=a(376),kn=a.n(Ln),Un=a(305),Vn=a.n(Un),Mn=a(247),Pn=a.n(Mn),Yn=a(299),Bn=a.n(Yn),Gn=a(292),Fn=a.n(Gn),Hn=a(2115),qn=a.n(Hn),zn=a(2120),Wn=a.n(zn),Xn=a(2117),Qn=a.n(Xn),Kn=a(2118),Zn=a.n(Kn),Jn=a(2119),$n=a.n(Jn),er=a(2121),tr=a.n(er),ar={arrowIcon:{marginLeft:"auto"},menuAnchorOrigin:{vertical:"bottom",horizontal:"left"},submenuAnchorOrigin:{vertical:"top",horizontal:"right"}},nr=function(e,t){var a,n,r;return _.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_.a.awrap(Object(D.getInstance)());case 2:return a=i.sent,n=a.Api.getApi(),r="".concat(n.baseUrl,"/svg.").concat(e),i.abrupt("return",n.fetch(r,{method:"POST",body:t,headers:new Headers(n.defaultHeaders)}).then((function(e){return e.blob()})));case 6:case"end":return i.stop()}}))},rr=function(e){var t,a,n,r,i,l,o,c;return _.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.current,a=e.format,n=e.idScheme,r=e.path,s.next=3,_.a.awrap(Object(D.getInstance)());case 3:return i=s.sent,l=i.Api.getApi(),o=(new i.analytics.request).fromModel(t,"dataValueSet"===r).withFormat(a),r&&(o=o.withPath(r)),n&&(o=o.withOutputIdScheme(n)),c=new URL("".concat(l.baseUrl,"/").concat(o.buildUrl()),"".concat(window.location.origin).concat(window.location.pathname)),Object.entries(o.buildQuery()).forEach((function(e){var t=Object(S.a)(e,2),a=t[0],n=t[1];return c.searchParams.append(a,n)})),s.abrupt("return",c);case 11:case"end":return s.stop()}}))};function ir(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var lr=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),ir(Object(xn.a)(a),"toggleMenu",(function(e){return a.setState({anchorEl:e||null})})),ir(Object(xn.a)(a),"toggleSubmenu",(function(e,t,n){var r="".concat(e,"Submenu"),i={anchorEl:t||null};"scheme"===e&&(i.dataType=n||null),a.setState(Object(W.a)({},r,i))})),ir(Object(xn.a)(a),"downloadImage",(function(e){return function(){var t,n,r,i,l,o;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=a.props,n=t.current,r=t.chart,(i=new URLSearchParams).append("filename",n.name),r&&i.append("svg",r),c.next=6,_.a.awrap(nr(e,i));case 6:l=c.sent,o=URL.createObjectURL(l),a.toggleMenu(),window.open(o,"_blank");case 10:case"end":return c.stop()}}))}})),ir(Object(xn.a)(a),"downloadData",(function(e,t,n){return function(){var r,i;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return r=a.props.current,l.next=3,_.a.awrap(rr({current:r,format:e,idScheme:t,path:n}));case 3:i=l.sent,t?a.toggleSubmenu("scheme"):a.toggleSubmenu("advanced"),a.toggleMenu(),window.open(i,e.match(/(xls|csv)/)?"_top":"_blank");case 7:case"end":return l.stop()}}))}})),a.state={anchorEl:null,schemeSubmenu:{anchorEl:null,dataType:null},advancedSubmenu:{anchorEl:null}},a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this;return g.a.createElement(E.Fragment,null,g.a.createElement(Rn.a,{className:this.props.className,onClick:function(t){return e.toggleMenu(t.currentTarget)},disableRipple:!0,disableFocusRipple:!0,disabled:!this.props.current},ne.a.t("Download")),g.a.createElement(Vn.a,{open:Boolean(this.state.anchorEl),anchorEl:this.state.anchorEl,anchorOrigin:ar.menuAnchorOrigin,getContentAnchorEl:null,onClose:function(){return e.toggleMenu()}},g.a.createElement(qn.a,{component:"div"},ne.a.t("Graphics")),g.a.createElement(Pn.a,{onClick:this.downloadImage("png")},g.a.createElement(Bn.a,null,g.a.createElement(Qn.a,null)),g.a.createElement(Fn.a,null,ne.a.t("Image (.png)"))),g.a.createElement(Pn.a,{onClick:this.downloadImage("pdf")},g.a.createElement(Bn.a,null,g.a.createElement(Zn.a,null)),g.a.createElement(Fn.a,null,ne.a.t("PDF (.pdf)"))),g.a.createElement(kn.a,null),g.a.createElement(qn.a,{component:"div"},ne.a.t("Plain data source")),g.a.createElement(Pn.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"json")}},g.a.createElement(Bn.a,null,g.a.createElement($n.a,null)),g.a.createElement(Fn.a,null,"JSON"),g.a.createElement(Wn.a,{style:ar.arrowIcon})),g.a.createElement(Pn.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"xml")}},g.a.createElement(Bn.a,null,g.a.createElement($n.a,null)),g.a.createElement(Fn.a,null,"XML"),g.a.createElement(Wn.a,{style:ar.arrowIcon})),g.a.createElement(Pn.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"xls")}},g.a.createElement(Bn.a,null,g.a.createElement($n.a,null)),g.a.createElement(Fn.a,null,"Excel"),g.a.createElement(Wn.a,{style:ar.arrowIcon})),g.a.createElement(Pn.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"csv")}},g.a.createElement(Bn.a,null,g.a.createElement($n.a,null)),g.a.createElement(Fn.a,null,"CSV"),g.a.createElement(Wn.a,{style:ar.arrowIcon})),g.a.createElement(Pn.a,{onClick:function(t){return e.toggleSubmenu("advanced",t.currentTarget)}},g.a.createElement(Bn.a,null,g.a.createElement(tr.a,null)),g.a.createElement(Fn.a,null,ne.a.t("Advanced")),g.a.createElement(Wn.a,{style:ar.arrowIcon}))),g.a.createElement(Vn.a,{open:Boolean(this.state.schemeSubmenu.anchorEl),anchorEl:this.state.schemeSubmenu.anchorEl,anchorOrigin:ar.submenuAnchorOrigin,onClose:function(){return e.toggleSubmenu("scheme")}},g.a.createElement(qn.a,{component:"div"},ne.a.t("Metadata ID scheme")),g.a.createElement(Pn.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"UID")},"ID"),g.a.createElement(Pn.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"CODE")},"Code"),g.a.createElement(Pn.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"NAME")},"Name")),g.a.createElement(Vn.a,{open:Boolean(this.state.advancedSubmenu.anchorEl),anchorEl:this.state.advancedSubmenu.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return e.toggleSubmenu("advanced")}},g.a.createElement(qn.a,{component:"div"},ne.a.t("Data value set")),g.a.createElement(Pn.a,{onClick:this.downloadData("json",null,"dataValueSet")},"JSON"),g.a.createElement(Pn.a,{onClick:this.downloadData("xml",null,"dataValueSet")},"XML"),g.a.createElement(kn.a,null),g.a.createElement(qn.a,{component:"div"},ne.a.t("Other formats")),g.a.createElement(Pn.a,{onClick:this.downloadData("jrxml")},"JRXML"),g.a.createElement(Pn.a,{onClick:this.downloadData("sql",null,"debug/sql")},"Raw data SQL")))}}]),t}(E.Component),or=Object(y.connect)((function(e){return{current:At(e),chart:Ja(e)}}),{})(lr),cr=a(2123),sr=a.n(cr),ur=a(2122),dr=a.n(ur),mr=Object(y.connect)((function(e){return{rightSidebarOpen:at(e),id:(At(e)||{}).id}}),(function(e){return{onClick:function(){return e(Ba())}}}))(Object(v.withStyles)((function(e){return{icon:{marginRight:e.spacing.unit,marginTop:2}}}))((function(e){return g.a.createElement(Rn.a,{className:e.className,size:"small",disabled:!e.id,disableRipple:!0,disableFocusRipple:!0,onClick:e.onClick},e.rightSidebarOpen?g.a.createElement(dr.a,{className:e.classes.icon}):g.a.createElement(sr.a,{className:e.classes.icon}),ne.a.t("Interpretations"))}))),pr=a(219),fr=a(212),br=a(213),hr=a(215),Er=a(735),gr=function(e){var t=e.onClick,a=Object(x.a)(e,["onClick"]);return g.a.createElement(Cn.a,Object.assign({},a,{type:"button",secondary:!0,onClick:t}),ne.a.t("Hide"))},yr=X.FIXED_DIMENSIONS[X.DIMENSION_ID_DATA].name,Or={defaultSeries:ne.a.t("Please add at least one {{series}} dimension",{series:Object(X.getAxisName)(X.AXIS_ID_COLUMNS)}),defaultCategory:ne.a.t("Please add at least one {{category}} dimension",{category:Object(X.getAxisName)(X.AXIS_ID_ROWS)}),defaultPe:ne.a.t("Please add at least one period as {{series}}, {{category}} or {{filter}}",{series:Object(X.getAxisName)(X.AXIS_ID_COLUMNS),category:Object(X.getAxisName)(X.AXIS_ID_ROWS),filter:Object(X.getAxisName)(X.AXIS_ID_FILTERS)}),pie:{dx:ne.a.t("Please add {{data}} as {{category}} or {{filter}}",{data:yr,category:Object(X.getAxisName)(X.AXIS_ID_ROWS),filter:Object(X.getAxisName)(X.AXIS_ID_FILTERS)}),pe:ne.a.t("Please add at least one period as {{series}} or {{filter}}",{series:Object(X.getAxisName)(X.AXIS_ID_COLUMNS),filter:Object(X.getAxisName)(X.AXIS_ID_FILTERS)}),filter:ne.a.t("Please add at least one {{filter}} dimension",{filter:Object(X.getAxisName)(X.AXIS_ID_FILTERS)})},yearOverYear:{seriesPeriod:ne.a.t("Please add at least one period as a {{series}} dimension",{series:Object(X.getAxisName)(X.AXIS_ID_COLUMNS)}),categoryPeriod:ne.a.t("Please add at least one period as a {{category}} dimension",{category:Object(X.getAxisName)(X.AXIS_ID_ROWS)}),dx:ne.a.t("Please add {{data}} as a filter dimension",{data:yr})},singleValue:{dx:ne.a.t("Please add one {{series}} dimension",{series:Object(X.getAxisName)(X.AXIS_ID_COLUMNS)}),pe:ne.a.t("Please add at least one period as {{filter}}",{filter:Object(X.getAxisName)(X.AXIS_ID_FILTERS)})}},vr=function(e,t){if(!e||!Object(X.dimensionIsValid)(e,{requireItems:!0}))throw new Error(t)},Ir=function(e,t){if(!function(e){return X.AXIS.isValid(e)&&Object(X.dimensionIsValid)(e[0],{requireItems:!0})}(e))throw new Error(t)},Sr=function(e){switch(e.type){case X.VIS_TYPE_PIE:return function(e){Ir(e.columns,Or.defaultSeries),Ir(e.filters,Or.pie.filter),vr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),Or.pie.pe)}(e);case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:return function(e){if(!Array.isArray(e.yearlySeries)||"string"!==typeof e.yearlySeries[0])throw new Error(Or.yearOverYear.seriesPeriod);Ir(e.rows,Or.yearOverYear.categoryPeriod),Ir(e.columns,Or.yearOverYear.dx)}(e);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return function(e){Ir(e.columns,Or.singleValue.dx),vr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),Or.singleValue.pe)}(e);default:return function(e){Ir(e.columns,Or.defaultSeries),Ir(e.rows,Or.defaultCategory),vr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),Or.defaultPe)}(e)}},xr="currentAnalyticalObject",Ar=function(e){return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.awrap(e.currentUser.dataStore.has("analytics"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},jr=function(e,t){return _.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=6;break}return a.next=3,_.a.awrap(e.currentUser.dataStore.get("analytics"));case 3:a.t0=a.sent,a.next=9;break;case 6:return a.next=8,_.a.awrap(e.currentUser.dataStore.create("analytics"));case 8:a.t0=a.sent;case 9:return a.abrupt("return",a.t0);case 10:case"end":return a.stop()}}))},_r=function(e,t,a){var n,r;return _.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,_.a.awrap(Object(D.getInstance)());case 3:if(n=i.sent,i.t0=a,i.t0){i.next=16;break}return i.t1=_.a,i.t2=jr,i.t3=n,i.next=11,_.a.awrap(Ar(n));case 11:return i.t4=i.sent,i.t5=(0,i.t2)(i.t3,i.t4),i.next=15,i.t1.awrap.call(i.t1,i.t5);case 15:i.t0=i.sent;case 16:return r=i.t0,i.abrupt("return",r.set(t,e));case 20:return i.prev=20,i.t6=i.catch(0),i.abrupt("return",N(i.t6));case 23:case"end":return i.stop()}}),null,null,[[0,20]])},Dr=function(e,t){var a,n;return _.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_.a.awrap(Object(D.getInstance)());case 3:if(a=r.sent,r.t0=t,r.t0){r.next=16;break}return r.t1=_.a,r.t2=jr,r.t3=a,r.next=11,_.a.awrap(Ar(a));case 11:return r.t4=r.sent,r.t5=(0,r.t2)(r.t3,r.t4),r.next=15,r.t1.awrap.call(r.t1,r.t5);case 15:r.t0=r.sent;case 16:return n=r.t0,r.abrupt("return",n.get(e));case 20:return r.prev=20,r.t6=r.catch(0),r.abrupt("return",N(r.t6));case 23:case"end":return r.stop()}}),null,null,[[0,20]])},Tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xr;return _r(e,t)},Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xr;return Dr(e)},Nr={getCurrent:function(){return function(e,t){return At(t())}},getCurrentFromUi:function(){return function(e,t){return jt(t())}},onUpdate:u.tSetCurrentFromUi,acSetLoadError:nn,acClearLoadError:rn},wr=Object(y.connect)(null,Nr)((function(e){var t=e.renderComponent,a=e.getCurrent,n=e.getCurrentFromUi,r=e.onUpdate,i=e.acSetLoadError,l=e.acClearLoadError;return t((function(){try{Sr(n()),l()}catch(c){i(c&&c.message?c.message:ne.a.t("Error validating layout"))}r();var e=k.location.pathname==="/"+xr,t=a(),o=t&&t.id?"/".concat(t.id):"/";e||k.location.pathname===o||k.push(o)}))})),Rr=a(552),Lr=a(553),kr=a(1076),Ur=a(736),Vr=a(5),Mr=a.n(Vr),Pr={styles:g.a.createElement(Mr.a,{id:"3577720839"},["div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}"]),className:"jsx-3577720839"},Yr={styles:g.a.createElement(Mr.a,{id:"700214593"},["div.jsx-700214593{padding:".concat(sn.spacers.dp16," 0;}")]),className:"jsx-700214593"},Br=(g.a.createElement(Mr.a,{id:"1655721637"},["div.jsx-1655721637{overflow-y:auto;}"]),{styles:g.a.createElement(Mr.a,{id:"4244804206"},["span.jsx-4244804206{display:inline-block;padding-bottom:".concat(sn.spacers.dp16,";font-size:").concat(sn.spacers.dp16,";color:").concat(sn.colors.grey900,";}")]),className:"jsx-4244804206"}),Gr={styles:g.a.createElement(Mr.a,{id:"1665807213"},["div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:".concat(sn.spacers.dp16,";}")]),className:"jsx-1665807213"},Fr={styles:g.a.createElement(Mr.a,{id:"2983019948"},["div.jsx-2983019948:not(:last-child){padding-bottom:".concat(sn.spacers.dp8,";}")]),className:"jsx-2983019948"},Hr={styles:g.a.createElement(Mr.a,{id:"3717686981"},["p.jsx-3717686981{font-size:".concat(sn.spacers.dp14,";padding-bottom:").concat(sn.spacers.dp16,";}")]),className:"jsx-3717686981"},qr={styles:g.a.createElement(Mr.a,{id:"684239008"},["div.jsx-684239008{margin:".concat(sn.spacers.dp4," 0 0 23px;}")]),className:"jsx-684239008"},zr={styles:g.a.createElement(Mr.a,{id:"3576615552"},["div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),className:"jsx-3576615552"},Wr=a(501),Xr=a(733),Qr=a(734),Kr=Object(y.connect)((function(e,t){return{value:Qe(e)[t.option.name],enabled:void 0!==Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))},onToggle:function(a){return e(Ta(Object(W.a)({},t.option.name,a?t.option.defaultValue:void 0)))}}}))((function(e){var t=e.option,a=e.label,n=e.helpText,r=e.enabled,i=e.toggleable,l=e.value,o=e.onChange,c=e.onToggle,s=t.items.find((function(e){return e.id===String(l)}));return g.a.createElement("div",{className:!i||r?"":Fr.className},i?g.a.createElement(Wr.a,{checked:r,label:a,name:"".concat(t.name,"-toggle"),onChange:function(e){var t=e.checked;return c(t)},dense:!0}):null,!i||r?g.a.createElement("div",{className:i?qr.className:""},g.a.createElement(Xr.a,{name:t.name,label:i?"":a,onChange:function(e){var t=e.selected;return o(t.value)},selected:{value:s.id,label:s.label},helpText:n,inputWidth:"280px",dense:!0},t.items.map((function(e){var t=e.id,a=e.label;return g.a.createElement(Qr.a,{key:t,value:String(t),label:a})})))):null)})),Zr=function(){return g.a.createElement(Kr,{label:ne.a.t("Aggregation type"),helpText:ne.a.t("Determines how the values in the pivot table are aggregated. Learn more"),option:{name:"aggregationType",items:[{id:"DEFAULT",label:ne.a.t("By data element")},{id:"COUNT",label:ne.a.t("Count")},{id:"AVERAGE",label:ne.a.t("Average")},{id:"AVERAGE_SUM_ORG_UNIT",label:ne.a.t("Average (sum in org unit hierarchy)")},{id:"SUM",label:ne.a.t("Sum")},{id:"LAST",label:ne.a.t("Last value")},{id:"LAST_AVERAGE_ORG_UNIT",label:ne.a.t("Last value (average in org unit hierarchy)")},{id:"MIN",label:ne.a.t("Min")},{id:"MAX",label:ne.a.t("Max")},{id:"STDDEV",label:ne.a.t("Standard deviation")},{id:"VARIANCE",label:ne.a.t("Variance")}]}})},Jr=Object(y.connect)((function(e,t){return{value:Qe(e)[t.option.name]||!1}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))}}}))((function(e){var t=e.option,a=e.label,n=e.value,r=e.onChange;return g.a.createElement("div",{className:Gr.className},g.a.createElement(Wr.a,{checked:n,label:a,name:t.name,onChange:function(e){var t=e.checked;return r(t)},dense:!0}))})),$r=function(){return g.a.createElement(Jr,{label:ne.a.t("Dimension labels"),option:{name:"showDimensionTotals"}})},ei=function(){return g.a.createElement(Jr,{label:ne.a.t("Skip rounding"),option:{name:"skipRounding"}})},ti=function(){return g.a.createElement(Jr,{label:ne.a.t("Columns totals"),option:{name:"colTotals"}})},ai=function(){return g.a.createElement(Jr,{label:ne.a.t("Column sub-totals"),option:{name:"colSubTotals"}})},ni=function(){return g.a.createElement(Jr,{label:ne.a.t("Row totals"),option:{name:"rowTotals"}})},ri=function(){return g.a.createElement(Jr,{label:ne.a.t("Row sub-totals"),option:{name:"rowSubTotals"}})},ii=function(){return g.a.createElement(Jr,{label:ne.a.t("Hide empty columns"),option:{name:"hideEmptyColumns"}})},li=function(){return g.a.createElement(Jr,{label:ne.a.t("Hide empty rows"),option:{name:"hideEmptyRows"}})},oi=function(){return g.a.createElement(Kr,{label:ne.a.t("Number type"),helpText:ne.a.t("Display the value of percentages of the total"),option:{name:"numberType",items:[{id:"VALUE",label:ne.a.t("Value")},{id:"ROW_PERCENTAGE",label:ne.a.t("Percentage of row")},{id:"COLUMN_PERCENTAGE",label:ne.a.t("Percentage of column")}]}})},ci=a(727),si=a(1086),ui=Object(y.connect)((function(e,t){return{value:Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))}}}))((function(e){var t=e.option,a=e.label,n=e.value,r=e.onChange;return g.a.createElement(ci.a,{name:t.name,value:String(n),onChange:function(e){var t=e.value;return r(t)},label:a,dense:!0},t.items.map((function(e){var t=e.id,a=e.label;return g.a.createElement(si.a,{key:t,label:a,value:String(t)})})))})),di=function(){return g.a.createElement(ui,{option:{name:"legendDisplayStyle",items:[{id:"FILL",label:ne.a.t("Legend changes background color")},{id:"TEXT",label:ne.a.t("Legend changes text color")}]}})},mi=a(24),pi=a(214),fi=Object(y.connect)((function(e,t){return{value:Qe(e)[t.option.name]||"",enabled:void 0!==Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))},onToggle:function(a){return e(Ta(Object(W.a)({},t.option.name,a?"":void 0)))}}}))((function(e){var t=e.type,a=e.label,n=e.placeholder,r=e.helpText,i=e.width,l=e.option,o=e.value,c=e.onChange,s=e.onToggle,u=e.toggleable,d=e.enabled,m=e.inline;return g.a.createElement("div",{className:!u||d||m?"":Gr.className},u?g.a.createElement(Wr.a,{checked:d,label:a,name:"".concat(l.name,"-toggle"),onChange:function(e){var t=e.checked;return s(t)},dense:!0}):null,!u||d?g.a.createElement("div",{className:u?qr.className:""},m?g.a.createElement(mi.a,{type:t,onChange:function(e){var t=e.value;return c(t)},name:l.name,value:o,placeholder:n,width:i,dense:!0}):g.a.createElement(pi.a,{type:t,label:u?"":a,onChange:function(e){var t=e.value;return c(t)},name:l.name,value:o,helpText:r,placeholder:n,inputWidth:i,dense:!0})):null)})),bi=function(e){var t=e.label,a=e.inline;return g.a.createElement(fi,{type:"text",width:"280px",label:t,placeholder:ne.a.t("Add a title"),option:{name:"title"},inline:a})};bi.defaultProps={inline:!1};var hi=bi,Ei=function(){return g.a.createElement(Kr,{label:ne.a.t("Display density"),option:{name:"displayDensity",items:[{id:"COMFORTABLE",label:ne.a.t("Comfortable")},{id:"NORMAL",label:ne.a.t("Normal")},{id:"COMPACT",label:ne.a.t("Compact")}]}})},gi=function(){return g.a.createElement(Kr,{label:ne.a.t("Font size"),option:{name:"fontSize",items:[{id:"LARGE",label:ne.a.t("Large")},{id:"NORMAL",label:ne.a.t("Normal")},{id:"SMALL",label:ne.a.t("Small")}]}})},yi=function(){return g.a.createElement(Kr,{label:ne.a.t("Digit group separator"),option:{name:"digitGroupSeparator",items:[{id:"NONE",label:ne.a.t("None")},{id:"SPACE",label:ne.a.t("Space")},{id:"COMMA",label:ne.a.t("Comma")}]}})},Oi=a(648),vi=a(41),Ii=a(40);function Si(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var xi=function(e){var t=e.name,a=e.value,n=e.onChange,r=[{id:"EQ",label:"="},{id:"GT",label:">"},{id:"GE",label:">="},{id:"LT",label:"<"},{id:"LE",label:"<="}],i=r.find((function(e){return e.id===a}));return g.a.createElement("div",{style:{width:"112px"}},g.a.createElement(Oi.a,{name:t,onChange:function(e){var t=e.selected;n(t.value)},selected:i?{value:i.id,label:i.label}:void 0,tabIndex:"0",inputMaxWidth:"106px",dense:!0},r.map((function(e){var t=e.id,a=e.label;return g.a.createElement(Qr.a,{key:t,value:t,label:a})}))))},Ai=function(e){var t=e.name,a=e.value,n=e.onChange;return g.a.createElement(mi.a,{name:t,value:a,type:"number",onChange:function(e){var t=e.value;return n(t)},width:"72px",dense:!0})},ji=function(e){function t(e){var a;Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),Si(Object(xn.a)(a),"onClear",(function(){return a.setState(a.defaultState,a.props.onChange(""))})),Si(Object(xn.a)(a),"onChange",(function(e){return function(t){a.setState(Object(W.a)({},e,t),(function(){var e=a.state,t=e.op1,n=e.v1,r=e.op2,i=e.v2,l=[];t&&n&&l.push("".concat(t,":").concat(n)),r&&i&&l.push("".concat(r,":").concat(i)),a.props.onChange(l.length>0?l.join(";"):"")}))}})),a.defaultState={op1:"",v1:"",op2:"",v2:""};var n=e.value.split(/[;:]/),r=Object(S.a)(n,4),i=r[0],l=void 0===i?"":i,o=r[1],c=void 0===o?"":o,s=r[2],u=void 0===s?"":s,d=r[3],m=void 0===d?"":d;return a.state={op1:l,v1:c,op2:u,v2:m},a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.state,t=e.op1,a=e.v1,n=e.op2,r=e.v2;return g.a.createElement("div",{className:Gr.className},g.a.createElement("p",{className:Hr.className},ne.a.t("You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed")),g.a.createElement("div",{className:zr.className},g.a.createElement("div",{style:{width:"250px",paddingBottom:"16px"}},g.a.createElement(vi.a,null,ne.a.t("Minimum data value")),g.a.createElement("div",{className:zr.className},g.a.createElement(xi,{name:"op1",value:t,onChange:this.onChange("op1")}),g.a.createElement(Ai,{name:"v1",value:a,onChange:this.onChange("v1")}))),g.a.createElement(Ii.a,null,g.a.createElement("div",{style:{width:"250px"}},g.a.createElement(vi.a,null,ne.a.t("Maximum data value")),g.a.createElement("div",{className:zr.className},g.a.createElement(xi,{name:"op2",value:n,onChange:this.onChange("op2")}),g.a.createElement(Ai,{name:"v2",value:r,onChange:this.onChange("v2")}))))),g.a.createElement(Cn.a,{onClick:this.onClear},ne.a.t("Clear min/max limits")))}}]),t}(E.Component),_i=Object(y.connect)((function(e){return{value:Qe(e).measureCriteria||""}}),(function(e){return{onChange:function(t){return e(Ta({measureCriteria:t}))}}}))(ji),Di=function(){return g.a.createElement(Jr,{label:ne.a.t("Reporting period"),option:{name:"reportingPeriod"}})},Ti=function(){return g.a.createElement(Jr,{label:ne.a.t("Organisation unit"),option:{name:"organisationUnit"}})},Ci=function(){return g.a.createElement(Jr,{label:ne.a.t("Parent organisation unit"),option:{name:"parentOrganisationUnit"}})},Ni=function(){return g.a.createElement(Jr,{label:ne.a.t("Include regression"),option:{name:"regression"}})},wi=function(){return g.a.createElement(Jr,{label:ne.a.t("Include cumulative"),option:{name:"cumulative"}})},Ri=K.sortOrder.defaultValue,Li=function(){return g.a.createElement(Kr,{toggleable:!0,label:ne.a.t("Custom sort order"),option:{name:"sortOrder",defaultValue:Ri,items:[{id:"-1",label:ne.a.t("Low to high")},{id:"1",label:ne.a.t("High to low")},{id:"0",label:ne.a.t("None")}]}})},ki=function(){return g.a.createElement(Kr,{label:ne.a.t("Top limit"),option:{name:"topLimit",items:[{id:"0",label:ne.a.t("None")},{id:"5",label:"5"},{id:"10",label:"10"},{id:"20",label:"20"},{id:"50",label:"50"},{id:"100",label:"100"}]}})},Ui=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-section-1",content:g.a.Children.toArray([g.a.createElement($r,null),g.a.createElement(ei,null)])},{key:"data-display-totals",label:ne.a.t("Display totals"),content:g.a.Children.toArray([g.a.createElement(ti,null),g.a.createElement(ai,null),g.a.createElement(ni,null),g.a.createElement(ri,null)])},{key:"data-display-empty-data",label:ne.a.t("Display empty data"),content:g.a.Children.toArray([g.a.createElement(ii,null),g.a.createElement(li,null)])},{key:"data-advanced",label:ne.a.t("Advanced"),content:g.a.Children.toArray([g.a.createElement(Zr,null),g.a.createElement(oi,null)])}]},{key:"legend-tab",label:ne.a.t("Legend"),content:[{key:"legend-legend-type",label:ne.a.t("Legend type"),content:g.a.Children.toArray([])},{key:"legend-legend-setup",label:ne.a.t("Legend setup"),content:g.a.Children.toArray([g.a.createElement(di,null)])}]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-section-1",content:g.a.Children.toArray([g.a.createElement(hi,{label:ne.a.t("Table title")}),g.a.createElement(Ei,null),g.a.createElement(gi,null),g.a.createElement(yi,null)])}]},{key:"limitValues-tab",label:ne.a.t("Limit values"),content:[{key:"limitValues-limit-min-max",label:ne.a.t("Limit minimum/maximum values"),content:g.a.Children.toArray([g.a.createElement(_i,null)])}]},{key:"parameters-tab",label:ne.a.t("Parameters"),content:[{key:"parameters-section-1",content:g.a.Children.toArray([g.a.createElement(Di,null),g.a.createElement(Ti,null),g.a.createElement(Ci,null),g.a.createElement(Ni,null),g.a.createElement(wi,null),g.a.createElement(Li,null),g.a.createElement(ki,null)])}]}],Vi=function(){return g.a.createElement(Jr,{label:ne.a.t("Cumulative values"),option:{name:"cumulativeValues"}})},Mi=function(){return g.a.createElement(Jr,{label:ne.a.t("Value labels"),option:{name:"showData"}})},Pi=K.hideEmptyRowItems.defaultValue,Yi=function(){return g.a.createElement(Kr,{label:ne.a.t("Hide empty categories"),toggleable:!0,option:{name:"hideEmptyRowItems",defaultValue:Pi,items:[{id:"NONE",label:ne.a.t("None")},{id:"BEFORE_FIRST",label:ne.a.t("Before first")},{id:"AFTER_LAST",label:ne.a.t("After last")},{id:"BEFORE_FIRST_AFTER_LAST",label:ne.a.t("Before first and after last")},{id:"ALL",label:ne.a.t("All")}]}})},Bi=K.regressionType.defaultValue,Gi=function(){return g.a.createElement(Kr,{toggleable:!0,label:ne.a.t("Trend line"),option:{name:"regressionType",defaultValue:Bi,items:[{id:"NONE",label:ne.a.t("None")},{id:"LINEAR",label:ne.a.t("Linear")},{id:"POLYNOMIAL",label:ne.a.t("Polynomial")},{id:"LOESS",label:ne.a.t("Loess")}]}})},Fi=function(){return g.a.createElement(fi,{type:"number",width:"72px",label:ne.a.t("Value"),placeholder:ne.a.t("Number"),option:{name:"targetLineValue"},inline:!0})},Hi=function(){return g.a.createElement(fi,{type:"text",width:"280px",label:ne.a.t("Title"),placeholder:ne.a.t("Target line title"),option:{name:"targetLineLabel"},inline:!0})},qi=Object(y.connect)((function(e){return{enabled:Qe(e).targetLine}}),(function(e){return{onChange:function(t){return e(Ta({targetLine:t}))}}}))((function(e){var t=e.enabled,a=e.onChange;return g.a.createElement("div",{className:Gr.className},g.a.createElement(Wr.a,{checked:t,label:ne.a.t("Target line"),onChange:function(e){var t=e.checked;return a(t)},dense:!0}),t?g.a.createElement("div",{className:"".concat(qr.className," ").concat(zr.className)},g.a.createElement(Fi,null),g.a.createElement(Hi,null)):null)})),zi=function(){return g.a.createElement(fi,{type:"number",width:"72px",label:ne.a.t("Value"),placeholder:ne.a.t("Number"),option:{name:"baseLineValue"},inline:!0})},Wi=function(){return g.a.createElement(fi,{type:"text",width:"280px",label:ne.a.t("Title"),placeholder:ne.a.t("Base line title"),option:{name:"baseLineLabel"},inline:!0})},Xi=Object(y.connect)((function(e){return{enabled:Qe(e).baseLine}}),(function(e){return{onChange:function(t){return e(Ta({baseLine:t}))}}}))((function(e){var t=e.enabled,a=e.onChange;return g.a.createElement("div",{className:Gr.className},g.a.createElement(Wr.a,{checked:t,label:ne.a.t("Base line"),name:"baseLine-toggle",onChange:function(e){var t=e.checked;return a(t)},dense:!0}),t?g.a.createElement("div",{className:"".concat(qr.className," ").concat(zr.className)},g.a.createElement(zi,null),g.a.createElement(Wi,null)):null)})),Qi=a(23),Ki=function(){return g.a.createElement(fi,{type:"number",width:"72px",placeholder:ne.a.t("Min"),option:{name:"rangeAxisMinValue"},inline:!0})},Zi=function(){return g.a.createElement(fi,{type:"number",width:"72px",placeholder:ne.a.t("Max"),option:{name:"rangeAxisMaxValue"},inline:!0})},Ji=function(){return g.a.createElement(Ii.a,null,g.a.createElement("label",null,ne.a.t("Axis range")),g.a.createElement("div",{className:zr.className},g.a.createElement(Ki,null),"\xa0\u2013\xa0",g.a.createElement(Zi,null)),g.a.createElement(Qi.a,null,ne.a.t("Values outside of the range will not be displayed")))},$i=function(){return g.a.createElement(fi,{type:"number",width:"72px",helpText:ne.a.t("The number of axis steps between the min and max values"),label:ne.a.t("Steps"),placeholder:ne.a.t("Auto"),option:{name:"rangeAxisSteps"}})},el=function(){return g.a.createElement(fi,{type:"number",width:"72px",label:ne.a.t("Decimals"),placeholder:ne.a.t("Auto"),option:{name:"rangeAxisDecimals"}})},tl=K.rangeAxisLabel.defaultValue,al=function(){return g.a.createElement(fi,{type:"text",width:"280px",label:ne.a.t("Axis title"),placeholder:ne.a.t("Add a title"),option:{name:"rangeAxisLabel",defaultValue:tl},toggleable:!0})},nl=K.domainAxisLabel.defaultValue,rl=function(){return g.a.createElement(fi,{type:"text",width:"280px",label:ne.a.t("Axis title"),placeholder:ne.a.t("Add a title"),option:{name:"domainAxisLabel",defaultValue:nl},toggleable:!0})},il=function(){return g.a.createElement(Jr,{label:ne.a.t("No space between bars/columns"),option:{name:"noSpaceBetweenColumns"}})},ll=function(){return g.a.createElement(Jr,{label:ne.a.t("Legend key"),option:{name:"hideLegend"}})},ol=a(626),cl=a(726);var sl=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Object(xn.a)(a),"onChange",(function(e){var t=e.value;a.setState({value:t}),a.props.onChange("NONE"===t)})),a.defaultState={value:"AUTO"},a.state=e.value?{value:e.value}:a.defaultState,a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return g.a.createElement("div",{className:Gr.className},g.a.createElement(vi.a,null,t===X.VIS_TYPE_PIVOT_TABLE?ne.a.t("Table title"):ne.a.t("Chart title")),g.a.createElement(cl.a,{name:"hideTitle-selector",onChange:this.onChange,value:e,dense:!0},[{id:"AUTO",label:ne.a.t("Auto generated")},{id:"NONE",label:ne.a.t("None")},{id:"CUSTOM",label:ne.a.t("Custom")}].map((function(e){var t=e.id,a=e.label;return g.a.createElement(si.a,{key:t,label:a,value:t,dense:!0})}))),"CUSTOM"===e?g.a.createElement("div",{className:qr.className},g.a.createElement(hi,{inline:!0})):null)}}]),t}(E.Component),ul=Object(ol.a)([Qe],(function(e){return e.hideTitle?"NONE":void 0===e.title?"AUTO":"CUSTOM"})),dl=Object(y.connect)((function(e){return{visualizationType:Xe(e),value:ul(e)}}),(function(e){return{onChange:function(t){return e(Ta({hideTitle:t}))}}}))(sl),ml=function(){return g.a.createElement(fi,{type:"text",width:"280px",placeholder:ne.a.t("Add a subtitle"),option:{name:"subtitle"}})};var pl=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(Object(xn.a)(a),"onChange",(function(e){var t=e.value;a.setState({value:t}),a.props.onChange("NONE"===t)})),a.defaultState={value:"NONE"},a.state=e.value?{value:e.value}:a.defaultState,a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return g.a.createElement("div",{className:Gr.className},g.a.createElement(vi.a,null,t===X.VIS_TYPE_PIVOT_TABLE?ne.a.t("Table subtitle"):ne.a.t("Chart subtitle")),g.a.createElement(cl.a,{name:"hideSubtitle-selector",onChange:this.onChange,value:e,dense:!0},[{id:"NONE",label:ne.a.t("None")},{id:"CUSTOM",label:ne.a.t("Custom")}].map((function(e){var t=e.id,a=e.label;return g.a.createElement(si.a,{key:t,label:a,value:t,dense:!0})}))),"CUSTOM"===e?g.a.createElement("div",{className:qr.className},g.a.createElement(ml,{inline:!0})):null)}}]),t}(E.Component),fl=Object(y.connect)((function(e){return{visualizationType:Xe(e),value:Qe(e).hideSubtitle?"NONE":"CUSTOM"}}),(function(e){return{onChange:function(t){return e(Ta({hideSubtitle:t}))}}}))(pl),bl=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-display",label:ne.a.t("Display"),content:g.a.Children.toArray([g.a.createElement(Vi,null),g.a.createElement(Yi,null),g.a.createElement(Li,null)])},{key:"data-lines",label:ne.a.t("Lines"),content:g.a.Children.toArray([g.a.createElement(Gi,null),g.a.createElement(qi,null),g.a.createElement(Xi,null)])},{key:"data-advanced",label:ne.a.t("Advanced"),content:g.a.Children.toArray([g.a.createElement(Zr,null)])}]},{key:"axes-tab",label:ne.a.t("Axes"),content:[{key:"axes-vertical-axis",label:ne.a.t("Vertical (y) axis"),content:g.a.Children.toArray([g.a.createElement(al,null),g.a.createElement(Ji,null),g.a.createElement($i,null),g.a.createElement(el,null)])},{key:"axes-horizontal-axis",label:ne.a.t("Horizontal (x) axis"),content:g.a.Children.toArray([g.a.createElement(rl,null)])}]},{key:"colors-legends",label:ne.a.t("Colors & Legends"),content:[]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-chart-style",label:ne.a.t("Chart style"),content:g.a.Children.toArray([g.a.createElement(Mi,null),g.a.createElement(il,null),g.a.createElement(ll,null)])},{key:"style-titles",label:ne.a.t("Titles"),content:g.a.Children.toArray([g.a.createElement(dl,null),g.a.createElement(fl,null)])}]}],hl=function(){return g.a.createElement(Jr,{label:ne.a.t("Stacked values add up to 100%"),option:{name:"percentStackedValues"}})},El=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-display",label:ne.a.t("Display"),content:g.a.Children.toArray([g.a.createElement(Mi,null),g.a.createElement(hl,null),g.a.createElement(Vi,null),g.a.createElement(Yi,null),g.a.createElement(Li,null)])},{key:"data-lines",label:ne.a.t("Lines"),content:g.a.Children.toArray([g.a.createElement(Gi,null),g.a.createElement(qi,null),g.a.createElement(Xi,null)])},{key:"data-advanced",label:ne.a.t("Advanced"),content:g.a.Children.toArray([g.a.createElement(Zr,null)])}]},{key:"axes-tab",label:ne.a.t("Axes"),content:[{key:"axes-vertical-axis",label:ne.a.t("Vertical (y) axis"),content:g.a.Children.toArray([g.a.createElement(al,null),g.a.createElement(Ji,null),g.a.createElement($i,null),g.a.createElement(el,null)])},{key:"axes-horizontal-axis",label:ne.a.t("Horizontal (x) axis"),content:g.a.Children.toArray([g.a.createElement(rl,null)])}]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-chart-style",label:ne.a.t("Chart style"),content:g.a.Children.toArray([g.a.createElement(il,null),g.a.createElement(ll,null)])},{key:"style-titles",label:ne.a.t("Titles"),content:g.a.Children.toArray([g.a.createElement(dl,null),g.a.createElement(fl,null)])}]}],gl=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-section-1",content:g.a.Children.toArray([g.a.createElement(Mi,null),g.a.createElement(Vi,null),g.a.createElement(Yi,null),g.a.createElement(Gi,null),g.a.createElement(qi,null),g.a.createElement(Xi,null),g.a.createElement(Li,null),g.a.createElement(Zr,null)])}]},{key:"axes-tab",label:ne.a.t("Axes"),content:[{key:"axes-section-1",content:g.a.Children.toArray([g.a.createElement(Ki,null),g.a.createElement(Zi,null),g.a.createElement($i,null),g.a.createElement(el,null),g.a.createElement(al,null),g.a.createElement(rl,null)])}]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-section-1",content:g.a.Children.toArray([g.a.createElement(ll,null),g.a.createElement(hi,null),g.a.createElement(dl,null),g.a.createElement(ml,null),g.a.createElement(fl,null)])}]}],yl=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-section-1",content:g.a.Children.toArray([g.a.createElement(Mi,null),g.a.createElement(hl,null),g.a.createElement(Vi,null),g.a.createElement(Yi,null),g.a.createElement(Gi,null),g.a.createElement(qi,null),g.a.createElement(Xi,null),g.a.createElement(Li,null),g.a.createElement(Zr,null)])}]},{key:"axes-tab",label:ne.a.t("Axes"),content:[{key:"axes-section-1",content:g.a.Children.toArray([g.a.createElement(Ki,null),g.a.createElement(Zi,null),g.a.createElement($i,null),g.a.createElement(el,null),g.a.createElement(al,null),g.a.createElement(rl,null)])}]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-section-1",content:g.a.Children.toArray([g.a.createElement(ll,null),g.a.createElement(hi,null),g.a.createElement(dl,null),g.a.createElement(ml,null),g.a.createElement(fl,null)])}]}],Ol=[{key:"data-tab",label:ne.a.t("Data"),content:[{key:"data-advanced",label:ne.a.t("Advanced"),content:g.a.Children.toArray([g.a.createElement(Zr,null)])}]},{key:"style-tab",label:ne.a.t("Style"),content:[{key:"style-titles",label:ne.a.t("Titles"),content:g.a.Children.toArray([g.a.createElement(dl,null),g.a.createElement(fl,null)])}]}];function vl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Il=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),vl(Object(xn.a)(a),"state",{activeTabKey:void 0}),vl(Object(xn.a)(a),"selectTab",(function(e){a.setState({activeTabKey:e})})),vl(Object(xn.a)(a),"generateTabContent",(function(e){return e.map((function(e){var t=e.key,a=e.label,n=e.content;return g.a.createElement("div",{key:t,className:Yr.className},g.a.createElement(Rr.a,null,a?g.a.createElement(Lr.a,null,g.a.createElement("span",{className:Br.className},a)):null,n))}))})),vl(Object(xn.a)(a),"generateTabs",(function(e){return e.map((function(e){var t=e.key,n=e.label,r=e.content;return{key:t,label:n,content:a.generateTabContent(r)}}))})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this,t=function(e){switch(e){case X.VIS_TYPE_COLUMN:case X.VIS_TYPE_BAR:case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return bl;case X.VIS_TYPE_STACKED_COLUMN:case X.VIS_TYPE_STACKED_BAR:return El;case X.VIS_TYPE_LINE:case X.VIS_TYPE_RADAR:return gl;case X.VIS_TYPE_AREA:return yl;case X.VIS_TYPE_PIE:case X.VIS_TYPE_GAUGE:case X.VIS_TYPE_SINGLE_VALUE:return Ol;case X.VIS_TYPE_PIVOT_TABLE:return Ui;default:return El}}(this.props.visualizationType),a=this.generateTabs(t),n=a.findIndex((function(t){return t.key===e.state.activeTabKey}));return n<0&&(n=0),g.a.createElement(E.Fragment,null,g.a.createElement("div",{className:Pr.className},g.a.createElement(kr.a,null,a.map((function(t,a){var r=t.key,i=t.label;return g.a.createElement(Ur.a,{key:r,onClick:function(){return e.selectTab(r)},selected:a===n},i)}))),Pr.styles),a[n].content,Yr.styles,Br.styles,Gr.styles,Fr.styles,qr.styles,zr.styles,Hr.styles)}}]),t}(E.Component),Sl=Object(y.connect)((function(e){return{visualizationType:Xe(e)}}))(Il);function xl(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Al=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),xl(Object(xn.a)(a),"onClose",(function(){a.toggleVisualizationOptionsDialog()})),xl(Object(xn.a)(a),"toggleVisualizationOptionsDialog",(function(){a.setState({dialogIsOpen:!a.state.dialogIsOpen})})),xl(Object(xn.a)(a),"getPrimaryOnClick",(function(e){return function(){e(),a.onClose()}})),a.state={dialogIsOpen:!1},a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this;return g.a.createElement(E.Fragment,null,g.a.createElement(Rn.a,{className:this.props.className,onClick:this.toggleVisualizationOptionsDialog},ne.a.t("Options")),this.state.dialogIsOpen&&g.a.createElement(pr.a,{onClose:this.onClose,large:!0},g.a.createElement(fr.a,null,ne.a.t("Options")),g.a.createElement(br.a,null,g.a.createElement(Sl,null)),g.a.createElement(hr.a,null,g.a.createElement(Er.a,null,g.a.createElement(gr,{onClick:this.onClose}),g.a.createElement(wr,{renderComponent:function(t){return g.a.createElement(Nn,{onClick:e.getPrimaryOnClick(t)})}})))))}}]),t}(E.Component),jl=function(e){var t="/".concat(e);k.location.pathname===t?k.replace(t):k.push(t)},_l=function(){return k.push("/")},Dl=function(e){return function(t){return e.onRenameVisualization(t)}},Tl=function(e){return function(t){return e.onSaveVisualization(t,!1)}},Cl=function(e){return function(t){return e.onSaveVisualization(t,!0)}},Nl=function(e){return function(){return e.onDeleteVisualization()}},wl=function(e){return function(t){return e.onError(t)}},Rl=function(e,t){var a=e.classes,n=Object(x.a)(e,["classes"]);return g.a.createElement("div",{className:a.menuBar},g.a.createElement(wr,{renderComponent:function(e){return g.a.createElement(Nn,{className:a.updateButton,small:!0,onClick:e})}}),g.a.createElement(Tn.a,{d2:t.d2,fileId:n.id||null,fileType:n.apiObjectName,onOpen:jl,onNew:_l,onRename:Dl(n),onSave:Tl(n),onSaveAs:Cl(n),onDelete:Nl(n),onError:wl(n)}),g.a.createElement(Al,{className:a.label}),g.a.createElement(or,{className:a.label}),g.a.createElement("div",{className:a.grow}),g.a.createElement(mr,{className:a.label}))};Rl.contextTypes={d2:_n.a.object};var Ll=Object(y.connect)((function(e){return{id:(At(e)||{}).id}}),(function(e){return{onRenameVisualization:function(t){return e(function(e){var t=e.name,a=e.description;return function(e,n){var r=n(),i=q(r),l=At(r),o=Object(A.a)({},i),c=Object(A.a)({},l);t&&(o.name=c.name=t),a&&(o.description=c.description=a),e(ba(o)),e(Ea(i===l?o:c)),e($a({message:ne.a.t("Rename successful"),open:!0,duration:2e3}))}}(t))},onSaveVisualization:function(t,a){return e(function(e,t){var a=e.name,n=e.description;return function(e,r,i){var l,o;return _.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(e){"OK"===e.status&&e.response.uid&&(t?k.push("/".concat(e.response.uid)):k.replace("/".concat(e.response.uid)))},e.prev=1,o=Object(A.a)({},At(r())),t&&delete o.id,a&&(o.name=a),n&&(o.description=n),e.t0=l,e.next=9,_.a.awrap(fa(i,o));case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 13:return e.prev=13,e.t2=e.catch(1),e.abrupt("return",ln("tDoSaveVisualization",e.t2));case 16:case"end":return e.stop()}}),null,null,[[1,13]])}}(t,a))},onDeleteVisualization:function(){return e((function(e,t){var a=At(t());e($a({message:ne.a.t('"{{what}}" successfully deleted.',{what:a.name}),open:!0,duration:2e3})),k.push("/")}))},onError:function(t){var a=function(e){var t=e.message,a=e.httpStatusCode;return{message:t,type:String(a).match(/50\d/)?"error":"warning"}}(t),n=a.type,r=a.message;e(h.acReceivedSnackbarMessage({variant:n,message:r,open:!0}))}}}))(Object(v.withStyles)((function(e){return{menuBar:{background:sn.colors.white,display:"flex",alignItems:"center",padding:"0 ".concat(e.spacing.unit,"px"),height:"38px"},updateButton:{marginRight:e.spacing.unit},label:{fontSize:"15px",fontWeight:400,textTransform:"none"},grow:{flex:"1 1 0%"}}}))(Rl)),kl=a(2124),Ul=function(){return g.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",{id:"2---Home-+-Selected-Intp.",transform:"translate(-522.000000, -169.000000)"},g.a.createElement("rect",{fill:"#F4F6F8",x:"0",y:"0",width:"1280",height:"850"}),g.a.createElement("g",{id:"title-area",transform:"translate(298.000000, 165.000000)"},g.a.createElement("g",{id:"name-badge",transform:"translate(220.000000, 0.000000)"},g.a.createElement("rect",{id:"Rectangle-4",fill:"#FFFFFF",opacity:"0.700613839",x:"0",y:"0",width:"260",height:"24",rx:"4"}),g.a.createElement("g",{id:"undo",transform:"translate(4.000000, 4.000000)"},g.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),g.a.createElement("polyline",{id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round",points:"2.375 2.374 2.375 6.124 6.125 6.124"}),g.a.createElement("path",{d:"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124",id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round"}),g.a.createElement("path",{d:"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z",id:"Combined-Shape",fill:"#494949"})))))))},Vl={titleBar:{display:"flex",justifyContent:"center"},cell:{display:"flex",alignItems:"center",background:sn.colors.white,padding:"6px",borderRadius:"5px",margin:"4px"},title:{fontSize:"14px"},suffix:{paddingLeft:"4px"},interpretation:{fontSize:"12px",color:sn.colors.grey700},interpretationIcon:{display:"flex",alignItems:"center",height:"14px",width:"14px",marginRight:"3px"},titleUnsaved:{color:sn.colors.grey500,fontStyle:"italic"},titleDirty:{color:sn.colors.grey700}},Ml=ne.a.t("Unsaved visualization"),Pl=ne.a.t("Edited"),Yl=Object(A.a)({},Vl.cell,{},Vl.title),Bl=Object(A.a)({},Vl.cell,{},Vl.interpretation),Gl=function(e,t){switch(e){case"UNSAVED":return Ml;case"SAVED":case"DIRTY":return t.name;default:return""}},Fl=Object(y.connect)((function(e){return{visualization:q(e),current:At(e),interpretation:nt(e),uiLocale:qt(e)}}),null,(function(e,t,a){var n=e.visualization,r=e.current,i=e.interpretation,l=e.uiLocale,o=function(e,t){return t===It?"EMPTY":e===F?"UNSAVED":t===e?"SAVED":"DIRTY"}(n,r);return Object(A.a)({},t,{},a,{titleState:o,titleText:Gl(o,n),interpretationDate:i&&i.created?Object(kl.a)(i.created,l):null})}))((function(e){var t=e.titleState,a=e.titleText,n=e.interpretationDate,r=Object(A.a)({},Yl,{},function(e){switch(e){case"UNSAVED":return Vl.titleUnsaved;default:return null}}(t));return a?g.a.createElement("div",{"data-test":"chart-title",style:Vl.titleBar},g.a.createElement("div",{style:r},a,function(e){switch(e){case"DIRTY":return g.a.createElement("div",{style:Object(A.a)({},Vl.suffix,{},Vl.titleDirty)},"- ".concat(Pl));default:return""}}(t)),n&&g.a.createElement("div",{style:Bl},g.a.createElement("div",{style:Vl.interpretationIcon},g.a.createElement(Ul,null)),g.a.createElement("div",null,ne.a.t("Viewing interpretation from {{interpretationDate}}",{interpretationDate:n})))):null})),Hl=a(1019),ql=a.n(Hl),zl=function(e,t){if(void 0!==t[e.id])return""===t[e.id]?"/"+e.id:"/"+t[e.id]+"/"+e.id},Wl=function(e,t,a){return function(e,t){var a=t.parentGraphMap;return Object(A.a)({},e,{parentGraphMap:Object(A.a)({},e.parentGraphMap,{},a)})}(function(e,t){var a=Object(X.layoutGetAxisIdDimensionIdsObject)(e),n=oe(a)[X.DIMENSION_ID_ORGUNIT],r=t.parentGraphMap;return n?Object(A.a)({},e,Object(W.a)({},n,e[n].map((function(e){return Object(A.a)({},e,{items:e.items.map((function(e){return Object(A.a)({},e,{path:zl(e,r)})}))})})))):e}(function(e,t){var a=function(e){return Object(A.a)({},e,{items:e.items.map((function(e){return Object(A.a)({},e,{name:t[e.id]?t[e.id].name:void 0})}))})};return Object(A.a)({},e,{columns:e.columns.map(a),filters:e.filters.map(a),rows:e.rows.map(a)})}(function(e){return Object(A.a)({},e,{id:void 0,name:void 0,displayName:void 0})}(e),t),a),a)},Xl=a(766),Ql=a.n(Xl),Kl=a(881),Zl=a.n(Kl),Jl=a(882),$l=a.n(Jl),eo=a(260),to=a.n(eo),ao=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),g.a.createElement("rect",{fill:"#1976D2",x:"20",y:"24",width:"10",height:"22"}),g.a.createElement("rect",{fill:"#004BA0",x:"36",y:"4",width:"10",height:"42"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},no=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),g.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) ",x:"6",y:"7",width:"10",height:"19"}),g.a.createElement("rect",{fill:"#1976D2",x:"20",y:"20",width:"10",height:"26"}),g.a.createElement("rect",{fill:"#63A4FF",transform:"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) ",x:"20",y:"11",width:"10",height:"9"}),g.a.createElement("rect",{fill:"#004BA0",x:"36",y:"33",width:"10",height:"13"}),g.a.createElement("rect",{fill:"#1976D2",transform:"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) ",x:"36",y:"14",width:"10",height:"19"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},ro=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),g.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),g.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},io=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),g.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) ",x:"19",y:"4",width:"9",height:"10"}),g.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),g.a.createElement("rect",{fill:"#63A4FF",x:"13",y:"18",width:"23",height:"10"}),g.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),g.a.createElement("rect",{fill:"#1976D2",x:"33",y:"32",width:"9",height:"10"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},lo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("defs",null,g.a.createElement("mask",{id:"mask-4",fill:"white"},g.a.createElement("circle",{cx:"24",cy:"24",r:"24"}))),g.a.createElement("g",{stroke:"none",strokeWidth:"0",fill:"none",fillRule:"evenodd"},g.a.createElement("g",{transform:"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) "},g.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"30.17142857142857,240",mask:"url(#mask-4)",strokeWidth:"48"},g.a.createElement("path",{stroke:"#63A4FF",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),g.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"82.97142857142858,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},g.a.createElement("path",{stroke:"#1976D2",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),g.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"37.71428571428572,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},g.a.createElement("path",{stroke:"#004BA0",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})))))},oo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",{transform:"translate(0.000000, -12.000000)"},g.a.createElement("path",{d:"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z",fill:"#9E9E9E",fillRule:"nonzero"}),g.a.createElement("path",{d:"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z",fill:"#63A4FF",fillRule:"nonzero"}))))},co=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",null,g.a.createElement("mask",{id:"mask-2",fill:"white"},g.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),g.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},so=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",null,g.a.createElement("mask",{id:"mask-2",fill:"white"},g.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),g.a.createElement("g",null),g.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",fill:"#63A4FF",mask:"url(#mask-2)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},uo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"23"}),g.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"15"}),g.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"5"}),g.a.createElement("circle",{fill:"#1976D2",cx:"24",cy:"9",r:"2"}),g.a.createElement("circle",{fill:"#1976D2",cx:"11",cy:"31",r:"2"}),g.a.createElement("circle",{fill:"#63A4FF",cx:"24",cy:"39",r:"2"}),g.a.createElement("circle",{fill:"#004BA0",cx:"39",cy:"24",r:"2"}),g.a.createElement("circle",{fill:"#004BA0",cx:"40",cy:"40",r:"2"})))},mo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",null,g.a.createElement("mask",{id:"mask-2",fill:"white"},g.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),g.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28"}),g.a.createElement("polygon",{stroke:"#004BA0",strokeWidth:"2",mask:"url(#mask-2)",points:"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20"}),g.a.createElement("polygon",{stroke:"#63A4FF",strokeWidth:"2",mask:"url(#mask-2)",points:"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),g.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},po=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",null,g.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),g.a.createElement("polygon",{fill:"#63A4FF",points:"6 14 11 14 11 46 6 46"}),g.a.createElement("polygon",{fill:"#63A4FF",points:"20 23 25 23 25 46 20 46"}),g.a.createElement("polygon",{fill:"#63A4FF",points:"34 30 39 30 39 46 34 46"}),g.a.createElement("polygon",{fill:"#004BA0",points:"11 26 16 26 16 46 11 46"}),g.a.createElement("polygon",{fill:"#004BA0",points:"25 16 30 16 30 46 25 46"}),g.a.createElement("polygon",{fill:"#004BA0",points:"39 9 44 9 44 46 39 46"}),g.a.createElement("polygon",{fill:"#9E9E9E",points:"0 0 2 0 2 48 0 48"}),g.a.createElement("polygon",{fill:"#9E9E9E",points:"0 46 48 46 48 48 0 48"}))))},fo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("path",{d:"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z",fill:"#9e9e9e"}),g.a.createElement("path",{d:"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z",fill:"#1976d2"}),g.a.createElement("path",{d:"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z",fill:"#1976d2"}),g.a.createElement("path",{d:"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z",fill:"#1976d2"}))},bo=function(e){var t=e.style,a=void 0===t?{width:24,height:24,paddingRight:"8px"}:t;return g.a.createElement(to.a,{viewBox:"0 0 48 48",style:a},g.a.createElement("title",null,"icon_chart_GIS"),g.a.createElement("desc",null,"Created with Sketch."),g.a.createElement("defs",null,g.a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"48",height:"48"})),g.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",{id:"Icon/48x48/chart_GIS"},g.a.createElement("g",{id:"icon_chart_GIS"},g.a.createElement("mask",{id:"mask-2",fill:"white"},g.a.createElement("use",{xlinkHref:"#path-1"})),g.a.createElement("g",{id:"Bounds"}),g.a.createElement("circle",{id:"Oval-4",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",cx:"24",cy:"24",r:"23"}),g.a.createElement("polyline",{id:"Path-6",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3"}),g.a.createElement("polyline",{id:"Path-7",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42"}),g.a.createElement("polyline",{id:"Path-5",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12"}),g.a.createElement("polyline",{id:"Path-8",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47"})))))},ho=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return g.a.createElement(to.a,{viewBox:"0,0,48,48",style:a},g.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),g.a.createElement("rect",{stroke:"#4A5768",strokeWidth:"2",x:"7",y:"11",width:"34",height:"26"}),g.a.createElement("rect",{fill:"#4A5768",x:"8",y:"18",width:"32",height:"2"}),g.a.createElement("rect",{fill:"#4A5768",x:"19",y:"11",width:"2",height:"26"}),g.a.createElement("rect",{fill:"#4A5768",x:"8",y:"24",width:"32",height:"2"}),g.a.createElement("rect",{fill:"#4A5768",x:"8",y:"30",width:"32",height:"2"})))},Eo=function(e){var t=e.iconType,a=e.style;switch(t){case X.VIS_TYPE_STACKED_COLUMN:return g.a.createElement(no,{style:a});case X.VIS_TYPE_BAR:return g.a.createElement(ro,{style:a});case X.VIS_TYPE_STACKED_BAR:return g.a.createElement(io,{style:a});case X.VIS_TYPE_PIE:return g.a.createElement(lo,{style:a});case X.VIS_TYPE_GAUGE:return g.a.createElement(oo,{style:a});case X.VIS_TYPE_LINE:return g.a.createElement(co,{style:a});case X.VIS_TYPE_AREA:return g.a.createElement(so,{style:a});case X.VIS_TYPE_RADAR:return g.a.createElement(uo,{style:a});case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:return g.a.createElement(mo,{style:a});case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return g.a.createElement(po,{style:a});case X.VIS_TYPE_SINGLE_VALUE:return g.a.createElement(fo,{style:a});case"MAP":return g.a.createElement(bo,{style:a});case X.VIS_TYPE_PIVOT_TABLE:return g.a.createElement(ho,{style:a});case X.VIS_TYPE_COLUMN:default:return g.a.createElement(ao,{style:a})}},go=function(e){var t=e.iconType,a=e.styles,n=e.label,r=e.isSelected,i=Object(x.a)(e,["iconType","styles","label","isSelected"]);return g.a.createElement(Ql.a,Object.assign({selected:Boolean(r),style:a.menuItem,disableRipple:!0},i),g.a.createElement(Zl.a,{style:a.listItemIcon},g.a.createElement(Eo,{iconType:t,style:a.listItemSvg})),g.a.createElement($l.a,{primary:n,disableTypography:!0,style:a.listItemText}))},yo={button:{padding:"6px",color:sn.colors.black,fontSize:"15px",textTransform:"none",fontWeight:"normal",backgroundColor:sn.colors.white,justifyContent:"flex-start"},dropDownArrow:{marginLeft:"auto"},menu:{maxWidth:"600px",padding:0},menuDivider:{border:"none",borderBottom:"1px solid",borderColor:sn.colors.grey300},menuItem:{height:120,width:126,margin:"8px",padding:"0 4px",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"8px",float:"left"},listItemIcon:{margin:0,marginBottom:15},listItemSvg:{width:48,height:48},listItemText:{fontSize:14,flex:"none",padding:0,whiteSpace:"normal",textAlign:"center"},clearFix:{clear:"both"}};function Oo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var vo={anchorEl:null},Io=function(e){function t(e,a){var n;return Object(On.a)(this,t),n=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),Oo(Object(xn.a)(n),"handleButtonClick",(function(e){n.setState({anchorEl:e.currentTarget})})),Oo(Object(xn.a)(n),"handleMenuItemClick",(function(e){return function(){n.props.onTypeSelect(e),n.handleClose()}})),Oo(Object(xn.a)(n),"handleOpenAsMapClick",(function(){var e;return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Wl(n.props.current,n.props.metadata,n.props.ui),t.next=3,_.a.awrap(Tr(e));case 3:window.location.href="".concat(n.baseUrl,"/").concat("dhis-web-maps","?").concat(xr,"=true");case 4:case"end":return t.stop()}}))})),Oo(Object(xn.a)(n),"handleClose",(function(){n.setState({anchorEl:null})})),Oo(Object(xn.a)(n),"getVisTypes",(function(){return Object.keys(X.visTypeDisplayNames)})),n.state=vo,n.baseUrl=a.baseUrl,n}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,a=this.props.visualizationType;return g.a.createElement(E.Fragment,null,g.a.createElement(Rn.a,{onClick:this.handleButtonClick,disableRipple:!0,disableFocusRipple:!0,fullWidth:!0,size:"small",style:yo.button},g.a.createElement(Eo,{iconType:a}),X.visTypeDisplayNames[a],g.a.createElement(ql.a,{style:yo.dropDownArrow})),g.a.createElement(Vn.a,{open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleClose,getContentAnchorEl:null,MenuListProps:{style:yo.menu}},this.getVisTypes().map((function(t){return g.a.createElement(go,{key:t,iconType:t,label:X.visTypeDisplayNames[t],isSelected:t===a,styles:yo,onClick:e.handleMenuItemClick(t)})})),g.a.createElement("div",{style:yo.clearFix}),g.a.createElement("hr",{style:yo.menuDivider}),g.a.createElement(go,{key:"MAP",iconType:"MAP",label:ne.a.t("Open as Map"),styles:yo,onClick:this.handleOpenAsMapClick,disabled:!this.props.current})))}}]),t}(E.Component);Io.contextTypes={baseUrl:_n.a.string};var So=Object(y.connect)((function(e){return{visualizationType:Xe(e),current:At(e),metadata:Ut(e),ui:We(e)}}),(function(e){return{onTypeSelect:function(t){return e(Da(t))}}}))(Io),xo=a(1080),Ao=a(627),jo=a(290),_o=a.n(jo),Do=a(291),To=a.n(Do),Co=a(2125),No=a.n(Co),wo={arrowDown:{borderRadius:"0px 2px 2px 0px",padding:"0px",height:"36px",minWidth:"40px"},arrowIcon:{fill:sn.colors.white}},Ro=Object(v.withStyles)(wo)((function(e){var t=e.classes,a=e.onClick,n=e.open;return g.a.createElement(Rn.a,{className:t.arrowDown,color:"primary",variant:"contained",disableRipple:!0,disableFocusRipple:!0,onClick:a},n?g.a.createElement(No.a,{className:t.arrowIcon}):g.a.createElement(ql.a,{className:t.arrowIcon}))})),Lo=function(e){var t=e.anchorEl,a=e.classes,n=e.onClick,r=e.onClose,i=e.menuItems,l=e.addToButtonRef.offsetWidth-5,o=t&&t.getBoundingClientRect().bottom+100>window.innerHeight,c=o?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"right"},s=o?{vertical:"bottom",horizontal:"right"}:{vertical:"top",horizontal:"right"};return g.a.createElement(E.Fragment,null,g.a.createElement(Ro,{onClick:n,open:Boolean(t)}),g.a.createElement(Vn.a,{open:Boolean(t),onClose:r,anchorEl:t,getContentAnchorEl:null,MenuListProps:{style:{minWidth:l},className:a.menuList},anchorOrigin:c,transformOrigin:s},i))};Lo.defaultProps={anchorEl:null};var ko=Object(v.withStyles)({menuList:{display:"flex",flexDirection:"column"}})(Lo);function Uo(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Vo=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),Uo(Object(xn.a)(a),"state",{anchorEl:null}),Uo(Object(xn.a)(a),"onClose",(function(){return a.setState({anchorEl:null})})),Uo(Object(xn.a)(a),"onToggle",(function(e){return a.state.anchorEl?a.onClose():a.setState({anchorEl:e.currentTarget})})),Uo(Object(xn.a)(a),"onUpdate",(function(e){a.props.onAddDimension(Object(W.a)({},a.props.dialogId,e)),a.props.onClick()})),Uo(Object(xn.a)(a),"getAxisMeta",(function(e){return e.map((function(e){return re.find((function(t){return t.axisId===e}))}))})),Uo(Object(xn.a)(a),"renderMenuItems",(function(){return a.getAxisMeta(Object(X.getAvailableAxes)(a.props.visType)).slice(1).map((function(e){return g.a.createElement(Rn.a,{className:a.props.classes.menuItem,component:"li",key:e.axisId,onClick:function(){return a.onUpdate(e.axisId)}},e.name)}))})),a.buttonRef=g.a.createRef(),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this,t=this.getAxisMeta(Object(X.getAvailableAxes)(this.props.visType));return g.a.createElement("div",{ref:function(t){return e.buttonRef=t}},g.a.createElement(Rn.a,{className:this.props.classes.button,variant:"contained",color:"primary",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return e.onUpdate(t[0].axisId)}},t[0].name),t.length>1?g.a.createElement(ko,{onClose:this.onClose,onClick:this.onToggle,anchorEl:this.state.anchorEl,menuItems:this.renderMenuItems(),addToButtonRef:this.buttonRef}):null)}}]),t}(E.Component),Mo=Object(y.connect)((function(e){return{visType:Xe(e),dialogId:tt(e)}}),{onAddDimension:Na})(Object(v.withStyles)({button:{borderRadius:"2px 0px 0px 2px",marginLeft:"5px",fontSize:"12px"},menuItem:{fontSize:"15px",textTransform:"initial",whiteSpace:"nowrap",justifyContent:"start",flexWrap:"nowrap",padding:"8px",fontWeight:"400"}})(Vo));function Po(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Yo=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),Po(Object(xn.a)(a),"state",{onMounted:!1}),Po(Object(xn.a)(a),"componentDidUpdate",(function(e){(!Object(Ao.a)(e.dxIds,a.props.dxIds)||!Object(Ao.a)(e.ouIds,a.props.ouIds))&&a.fetchRecommended(),a.props.dialogId!==X.DIMENSION_ID_ORGUNIT||a.state.ouMounted||a.setState({ouMounted:!0})})),Po(Object(xn.a)(a),"fetchRecommended",Object(xo.a)((function(){var e;return _.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.awrap(Object(X.apiFetchRecommendedIds)(a.context.d2,a.props.dxIds,a.props.ouIds));case 2:e=t.sent,a.props.setRecommendedIds(e);case 4:case"end":return t.stop()}}))}),1e3)),Po(Object(xn.a)(a),"selectUiItems",(function(e){var t=e.dimensionId,n=e.items;switch(a.props.setUiItems({dimensionId:t,itemIds:n.map((function(e){return e.id}))}),t){case X.DIMENSION_ID_ORGUNIT:var r={},i={};n.forEach((function(e){var t=X.ouIdHelper.removePrefix(e.id);if(r[t]={id:t,name:e.name||e.displayName,displayName:e.displayName},e.path){var a=ve(e.path);i[e.id]=a==="/".concat(e.id)?"":a.replace(/^\//,"")}})),a.props.addMetadata(r),a.props.addParentGraphMap(i);break;default:a.props.addMetadata(n.reduce((function(e,t){return e[t.id]={id:t.id,name:t.name||t.displayName,displayName:t.displayName},e}),{}))}})),Po(Object(xn.a)(a),"closeDialog",(function(){return a.props.closeDialog(null)})),Po(Object(xn.a)(a),"getSelectedItems",(function(e){return a.props.selectedItems[e]?a.props.selectedItems[e].filter((function(e){return a.props.metadata[e]})).map((function(e){return{id:e,name:a.props.metadata[e].name}})):[]})),Po(Object(xn.a)(a),"getOrgUnitsFromIds",(function(e,t,a){return e.filter((function(e){return void 0!==t[X.ouIdHelper.removePrefix(e)]})).map((function(e){var n=X.ouIdHelper.removePrefix(e);return{id:e,name:t[n].displayName||t[n].name,path:Ie(n,t,a)}}))})),Po(Object(xn.a)(a),"renderPersistedContent",(function(e){var t=a.props,n=t.displayNameProperty,r=t.ouIds,i=t.metadata,l=t.parentGraphMap,o=t.dialogId;if(a.state.ouMounted){var c=a.getOrgUnitsFromIds(r,i,l),s=X.DIMENSION_ID_ORGUNIT===o?"block":"none";return g.a.createElement("div",{key:X.DIMENSION_ID_ORGUNIT,style:{display:s}},g.a.createElement(X.OrgUnitDimension,Object.assign({displayNameProperty:n,ouItems:c},e)))}return null})),Po(Object(xn.a)(a),"renderDialogContent",(function(){var e=a.props,t=e.displayNameProperty,n=e.dialogId,r=e.type,i=e.dimensions,l=e.removeUiItems,o=e.setUiItems,c={d2:a.context.d2,onSelect:a.selectUiItems,onDeselect:l,onReorder:o};return g.a.createElement(E.Fragment,null,a.renderPersistedContent(c),n&&function(){var e,l=a.getSelectedItems(n),o=a.props.getAxisIdByDimensionId(n),s=r,u=l.length,d=Object(X.getAxisMaxNumberOfItems)(s,o);if(!!d&&u>d&&(e=1===d?ne.a.t("'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.",{visualizationType:Object(X.getDisplayNameByVisType)(s)}):ne.a.t("'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.",{visualiationType:Object(X.getDisplayNameByVisType)(s),maxNumber:d}),l.forEach((function(e,t){e.isActive=t<d}))),n===X.DIMENSION_ID_DATA)return g.a.createElement(X.DataDimension,Object.assign({displayNameProp:t,selectedDimensions:l,infoBoxMessage:e},c));if(n===X.DIMENSION_ID_PERIOD)return g.a.createElement(X.PeriodDimension,Object.assign({selectedPeriods:l},c));if(Object(X.filterOutFixedDimensions)(Object.keys(a.props.dimensions)).includes(n)){var m=i[n]&&i[n].name;return g.a.createElement(X.DynamicDimension,Object.assign({selectedItems:l,dialogId:n,dialogTitle:m},c))}return null}())})),Po(Object(xn.a)(a),"renderPrimaryButton",(function(e){return g.a.createElement(wr,{renderComponent:function(t){return a.props.dimensionIdsInLayout.includes(e)?g.a.createElement(Nn,{onClick:a.getPrimaryOnClick(t)}):g.a.createElement(Mo,{onClick:a.getPrimaryOnClick(t)})}})})),Po(Object(xn.a)(a),"getPrimaryOnClick",(function(e){return function(){e(),a.closeDialog()}})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dialogId,a=e.dimensions,n=!t||t===X.DIMENSION_ID_ORGUNIT;return g.a.createElement(_o.a,{"data-test":"dialog-manager",open:t in a,onClose:this.closeDialog,maxWidth:"lg",disableEnforceFocus:!0,keepMounted:n},this.renderDialogContent(),g.a.createElement(To.a,null,g.a.createElement(gr,{onClick:this.closeDialog}),t&&this.renderPrimaryButton(t)))}}]),t}(E.Component);Yo.contextTypes={d2:_n.a.object},Yo.defaultProps={dialogId:null,dxIds:[]};var Bo=Object(y.connect)((function(e){return{displayNameProperty:Gt(e),dialogId:tt(e),dimensions:Ct(e),metadata:Ut(e),parentGraphMap:et(e),dxIds:lt(e,X.DIMENSION_ID_DATA),ouIds:lt(e,X.DIMENSION_ID_ORGUNIT),selectedItems:Ze(e),type:Xe(e),getAxisIdByDimensionId:function(t){return it(e,t)},dimensionIdsInLayout:ot(e)}}),{closeDialog:Ya,setRecommendedIds:function(e){return{type:Nt,value:e}},setUiItems:Ra,addMetadata:za,addUiItems:La,removeUiItems:ka,addParentGraphMap:Ma})(Yo),Go=function(e,t){e.dataTransfer.setData("text",JSON.stringify({dimensionId:e.target.dataset.dimensionid,source:t}))},Fo=function(e){return JSON.parse(e.dataTransfer.getData("text"))},Ho={divContainer:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:sn.colors.grey050}},qo=a(270),zo=a.n(qo),Wo=a(265),Xo=a.n(Wo),Qo=a(2126),Ko=a.n(Qo),Zo=a(886),Jo=a.n(Zo),$o=a(889),ec=a.n($o),tc=a(890),ac=a.n(tc),nc=a(594),rc=a.n(nc),ic=a(888),lc=a.n(ic),oc={tableContainer:{marginTop:"20px"},nameColumn:{width:"80%"},axisColumn:{width:"10%"},coloredColumn:{backgroundColor:sn.colors.grey100},tableCell:{padding:"4px 24px",borderBottom:"1px solid ".concat(sn.colors.grey300)},head:{borderBottom:"none"},axisRadio:{padding:"0px 10px"},dialogContent:{marginBottom:"0px"},helpText:{lineHeight:"1.5"},dialogActions:{border:"none"}};function cc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var sc=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),cc(Object(xn.a)(a),"state",{items:void 0}),cc(Object(xn.a)(a),"setItems",(function(e){var t=e.reduce((function(e,t){return e[t.id]=t,e}),{});a.setState({items:t})})),cc(Object(xn.a)(a),"onAxisChange",(function(e,t){a.setState({items:Object(A.a)({},a.state.items,Object(W.a)({},e.id,Object(A.a)({},e,{axis:t})))})})),cc(Object(xn.a)(a),"getAxes",(function(){var e=Object.keys(a.state.items).reduce((function(e,t){var n=a.state.items[t].axis;return n>0&&(e[t]=n),e}),{});return Object.keys(e).length>0?e:qe.axes})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"componentDidMount",value:function(){this.setItems(this.props.items)}},{key:"componentDidUpdate",value:function(e){var t=e.items,a=this.props.items;Object(Ao.a)(t,a)||this.setItems(a)}},{key:"renderTable",value:function(){var e=this,t=this.props.classes;return g.a.createElement(Jo.a,null,g.a.createElement("colgroup",null,g.a.createElement("col",{className:t.nameColumn}),g.a.createElement("col",{className:"".concat(t.axisColumn," ").concat(t.coloredColumn)}),g.a.createElement("col",{className:t.axisColumn})),g.a.createElement(ec.a,null,g.a.createElement(ac.a,null,g.a.createElement(rc.a,{className:t.head}),g.a.createElement(rc.a,{className:"".concat(t.tableCell," ").concat(t.head),align:"center"},ne.a.t("Axis 1")),g.a.createElement(rc.a,{className:"".concat(t.tableCell," ").concat(t.head),align:"center"},ne.a.t("Axis 2")))),g.a.createElement(lc.a,null,Object.keys(this.state.items).map((function(a){var n=e.state.items[a];return g.a.createElement(ac.a,{key:"multiaxis-table-row-".concat(a)},g.a.createElement(rc.a,{className:t.tableCell},n.name),g.a.createElement(rc.a,{className:t.tableCell,align:"center"},g.a.createElement(Ko.a,{onClick:function(){return e.onAxisChange(n,0)},checked:0===n.axis,className:t.axisRadio})),g.a.createElement(rc.a,{className:t.tableCell,align:"center"},g.a.createElement(Ko.a,{onClick:function(){return e.onAxisChange(n,1)},checked:1===n.axis,className:t.axisRadio})))}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.isOpen,r=t.dialogMaxWidth,i=t.onCancelClick;return g.a.createElement(_o.a,{open:n,maxWidth:r,onClose:i,disableEnforceFocus:!0},g.a.createElement(zo.a,null,ne.a.t("Manage axes")),g.a.createElement(Xo.a,{className:a.dialogContent},g.a.createElement("p",{className:a.helpText},ne.a.t("A chart can have two axes. Each axis will have its own scale. Set the axis for each data selection below.")),g.a.createElement("div",{className:a.tableContainer},this.state.items&&this.renderTable())),g.a.createElement(To.a,{className:a.dialogActions},g.a.createElement(Rn.a,{color:"primary",disableRipple:!0,disableFocusRipple:!0,onClick:i},ne.a.t("Cancel")),g.a.createElement(Rn.a,{color:"primary",variant:"contained",onClick:function(){return e.props.onUpdateClick(e.getAxes(),e.props.ui)}},ne.a.t("Update"))))}}]),t}(E.Component);sc.defaultProps={classes:{},isOpen:!1,items:[],onUpdateClick:Function.prototype,onCancelClick:Function.prototype,dialogMaxWidth:"md"};var uc=Object(y.connect)((function(e){return{isOpen:"axisSetup"===tt(e),items:En(e),ui:We(e)}}),(function(e){return{onUpdateClick:function(t,a){e(qa(t)),e(ya(Object(A.a)({},a,{axes:t}))),e(Ya())},onCancelClick:function(){return e(Ya())}}}))(Object(v.withStyles)(oc)(sc));function dc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var mc=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),dc(Object(xn.a)(a),"state",{dimensionMenuAnchorEl:null,dimensionId:null}),dc(Object(xn.a)(a),"onDimensionOptionsClick",(function(e,t){e.stopPropagation(),a.setState({dimensionMenuAnchorEl:e.currentTarget,dimensionId:t})})),dc(Object(xn.a)(a),"onDimensionOptionsClose",(function(){return a.setState({dimensionMenuAnchorEl:null,dimensionId:null})})),dc(Object(xn.a)(a),"onDimensionDragStart",(function(e){Go(e,"dimensions")})),dc(Object(xn.a)(a),"disabledDimension",(function(e){return a.props.disallowedDimensions.includes(e)})),dc(Object(xn.a)(a),"lockedDimension",(function(e){return a.props.lockedDimensions.includes(e)})),dc(Object(xn.a)(a),"getUiAxisId",(function(){var e=dt(a.props.ui);return oe(e.layout)[a.state.dimensionId]})),dc(Object(xn.a)(a),"getNumberOfDimensionItems",(function(){return(a.props.itemsByDimension[a.state.dimensionId]||[]).length})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this;return g.a.createElement("div",{style:Ho.divContainer},g.a.createElement(X.DimensionsPanel,{dimensions:this.props.dimensions,selectedIds:this.props.selectedIds,disabledDimension:this.disabledDimension,lockedDimension:this.lockedDimension,recommendedDimension:function(t){return e.props.recommendedIds.includes(t)},onDimensionOptionsClick:this.onDimensionOptionsClick,onDimensionDragStart:this.onDimensionDragStart,onDimensionClick:this.props.onDimensionClick}),g.a.createElement(X.DimensionMenu,{dimensionId:this.state.dimensionId,currentAxisId:this.getUiAxisId(),visType:this.props.ui.type,numberOfDimensionItems:this.getNumberOfDimensionItems(),dualAxisItemHandler:this.props.dualAxisItemHandler,axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.dimensionMenuAnchorEl,onClose:this.onDimensionOptionsClose}),g.a.createElement(Bo,null))}}]),t}(E.Component),pc=Object(ol.a)([Xe],(function(e){return Object(X.getDisallowedDimensions)(e)})),fc=Object(ol.a)([Xe],(function(e){return Object(X.getAllLockedDimensionIds)(e)})),bc=Object(y.connect)((function(e){return{ui:r.sGetUi(e),dimensions:l.sGetDimensions(e),selectedIds:r.sGetDimensionIdsFromLayout(e),recommendedIds:o.sGetRecommendedIds(e),layout:r.sGetUiLayout(e),itemsByDimension:r.sGetUiItems(e),disallowedDimensions:pc(e),lockedDimensions:fc(e)}}),(function(e){return{onDimensionClick:function(t){return e(m.acSetUiActiveModalDialog(t))},dualAxisItemHandler:function(){return e(Ya("axisSetup"))},axisItemHandler:function(t,a,n){e(Na(Object(W.a)({},t,a))),n>0&&e(Ya(t))},removeItemHandler:function(t){e(wa(t))}}}))(mc),hc=a(2130),Ec=a.n(hc),gc={wrapper:{position:"relative",width:"380px"},container:{position:"absolute",height:"100%",width:"100%"}};function yc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Oc=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),yc(Object(xn.a)(a),"onInterpretationChange",(function(e){if(e){var t="/".concat(a.props.id,"/interpretation/").concat(e.id);k.location.pathname!==t&&(k.push(t),a.props.acSetUiInterpretation({id:e.id,created:e.created}))}else k.push("/".concat(a.props.id))})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.id,n=e.interpretationId;return a?g.a.createElement("div",{style:gc.wrapper},g.a.createElement("div",{style:gc.container},g.a.createElement(Ec.a,{d2:this.context.d2,type:t,id:a,currentInterpretationId:n,onCurrentInterpretationChange:this.onInterpretationChange}))):null}}]),t}(E.Component);Oc.defaultProps={type:"chart"},Oc.contextTypes={d2:_n.a.object};var vc=Object(y.connect)((function(e){return{interpretationId:nt(e).id||null}}),{acSetUiInterpretation:Fa,acClearUiInterpretation:Ha})(Oc),Ic={chartCanvas:{display:"flex",justifyContent:"center",height:"100%"}},Sc=a(226),xc=a.n(Sc),Ac=a(369),jc=a.n(Ac),_c=a(2278);function Dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tc(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Cc(e,t,a){return t&&Tc(e.prototype,t),a&&Tc(e,a),e}function Nc(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(a),!0).forEach((function(t){Nc(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Lc(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uc(e,t)}function kc(e){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uc(e,t){return(Uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?Vc(e):t}function Pc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Yc=function(e,t,a){var n,r;return _.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=(new e.analytics.request).fromModel(t).withParameters(a),i.next=3,_.a.awrap(e.analytics.aggregate.get(n));case 3:return r=i.sent,i.abrupt("return",[new e.analytics.response(r)]);case 5:case"end":return i.stop()}}))},Bc=function(e,t,a){var n,r,i,l,o,c,s;return _.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=(new e.analytics.request).addPeriodDimension(t.yearlySeries).withSkipData(!0).withSkipMeta(!1).withIncludeMetadataDetails(!0),a.relativePeriodDate&&(n=n.withRelativePeriodDate(a.relativePeriodDate)),u.next=4,_.a.awrap(e.analytics.aggregate.fetch(n));case 4:return r=u.sent,i=[],l=[],o=new Date,c=(""+o.getDate()).padStart(2,0),s=(""+(o.getMonth()+1)).padStart(2,0),r.metaData.dimensions.pe.forEach((function(n){l.push(r.metaData.items[n].name);var o="".concat(n,"-").concat(s,"-").concat(c),u=(new e.analytics.request).fromModel(t).withParameters(a).withRelativePeriodDate(o);i.push(e.analytics.aggregate.get(u))})),u.abrupt("return",Promise.all(i).then((function(t){return{responses:t.map((function(t){return new e.analytics.response(t)})),yearlySeriesLabels:l}})));case 12:case"end":return u.stop()}}))},Gc={baseLineLabel:{defaultValue:void 0,requestable:!1},baseLineValue:{defaultValue:void 0,requestable:!1},cumulativeValues:{defaultValue:!1,requestable:!1},domainAxisLabel:{defaultValue:void 0,requestable:!1},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1},hideLegend:{defaultValue:!1,requestable:!1},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1},percentStackedValues:{defaultValue:!1,requestable:!1},rangeAxisDecimals:{defaultValue:void 0,requestable:!1},rangeAxisLabel:{defaultValue:void 0,requestable:!1},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1},rangeAxisMinValue:{defaultValue:void 0,requestable:!1},rangeAxisSteps:{defaultValue:void 0,requestable:!1},regressionType:{defaultValue:"NONE",requestable:!1},showData:{defaultValue:!0,requestable:!1},targetLineLabel:{defaultValue:void 0,requestable:!1},targetLineValue:{defaultValue:void 0,requestable:!1},aggregationType:{defaultValue:"DEFAULT",requestable:!0},completedOnly:{defaultValue:!1,requestable:!0},hideSubtitle:{defaultValue:!1,requestable:!1},hideTitle:{defaultValue:!1,requestable:!1},sortOrder:{defaultValue:"0",requestable:!1},subtitle:{defaultValue:void 0,requestable:!1},title:{defaultValue:void 0,requestable:!1},colTotals:{defaultValue:!1,requestable:!1},colSubTotals:{defaultValue:!1,requestable:!1},rowTotals:{defaultValue:!1,requestable:!1},rowSubTotals:{defaultValue:!1,requestable:!1},showDimensionLabels:{defaultValue:!1,requestable:!1},hideEmptyColumns:{defaultValue:!1,requestable:!0},hideEmptyRows:{defaultValue:!1,requestable:!0},skipRounding:{defaultValue:!1,requestable:!0},numberType:{defaultValue:"VALUE",requestable:!1},showHierarchy:{defaultValue:!1,requestable:!0},legendSet:{defaultValue:"NONE",requestable:!1},legendDisplayStyle:{defaultValue:"FILL",requestable:!1},displayDensity:{defaultValue:"NORMAL",requestable:!1},fontSize:{defaultValue:"NORMAL",requestable:!1},digitGroupSeparator:{defaultValue:"SPACE",requestable:!1},paramReportingPeriod:{defaultValue:!1,requestable:!1},paramOrganisationUnit:{defaultValue:!1,requestable:!1},paramParentOrganisationUnit:{defaultValue:!1,requestable:!1},paramGrandParentOrganisationUnit:{defaultValue:!1,requestable:!1},regression:{defaultValue:!1,requestable:!1},cumulative:{defaultValue:!1,requestable:!1},measureCriteria:{defaultValue:void 0,requestable:!0},topLimit:{defaultValue:"0",requestable:!1}},Fc=function(){return Object.entries(Gc).filter((function(e){return e[1].requestable}))},Hc=function(e){var t=e.reduce((function(e,t){return e.metaData?t.metaData.dimensions.pe.length>e.metaData.dimensions.pe.length&&(e=t):e=t,e}),{}).metaData;return t.dimensions.pe.reduce((function(e,a){var n=t.items[a].name;return e.push(n.replace(/\s+\d{4}$/,"")),e}),[])};function qc(e){var t=e.classes;return g.a.createElement("div",{className:t.outer},g.a.createElement(jc.a,{className:t.progress}))}qc.propTypes={classes:_n.a.object.isRequired};var zc=Object(v.withStyles)((function(e){return{progress:{margin:2*e.spacing.unit,maxWidth:200,textAlign:"center",alignSelf:"center"},outer:{display:"flex",justifyContent:"center",height:"100%"}}}))(qc),Wc=function(e){function t(e){var a;return Dc(this,t),Nc(Vc(a=Mc(this,kc(t).call(this,e))),"getRequestOptions",(function(e,t){var a=Fc().reduce((function(t,a){var n=Pc(a,2),r=n[0],i=n[1];return void 0!==e[r]&&e[r]!==i.defaultValue&&(t[r]=e[r]),t}),{});if(t.relativePeriodDate&&(a.relativePeriodDate=t.relativePeriodDate),t.userOrgUnit&&t.userOrgUnit.length){var n=t.userOrgUnit.map((function(e){return e.split("/").slice(-1)[0]}));a.userOrgUnit=n.join(";")}return a})),Nc(Vc(a),"renderChart",(function(){var e,t,n,r,i,l,o,c,s,u,d,m;return _.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:if(e=a.props,t=e.config,n=e.filters,r=e.forDashboard,i=e.onResponsesReceived,l=e.onChartGenerated,o=e.onError,p.prev=1,c=a.getRequestOptions(t,n),s={dashboard:r,noData:{text:xc.a.t("No data")}},u=[],!Object(X.isYearOverYear)(t.type)){p.next=16;break}return d=[],p.next=9,_.a.awrap(Bc(a.props.d2,t,c));case 9:m=p.sent,u=m.responses,d=m.yearlySeriesLabels,s.yearlySeries=d,s.xAxisLabels=Hc(u),p.next=19;break;case 16:return p.next=18,_.a.awrap(Yc(a.props.d2,t,c));case 18:u=p.sent;case 19:u.length&&i(u),a.recreateVisualization=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.props.animation,n=Object(X.createVisualization)(u,t,a.canvasRef.current,Rc({},s,{animation:e}),void 0,void 0,Object(X.isSingleValue)(t.type)?"dhis":"highcharts");Object(X.isSingleValue)(t.type)?l(n.visualization):l(n.visualization.getSVGForExport({sourceHeight:768,sourceWidth:1024}))},a.recreateVisualization(),a.setState({isLoading:!1}),p.next=28;break;case 25:p.prev=25,p.t0=p.catch(1),o(p.t0);case 28:case"end":return p.stop()}}),null,null,[[1,25]])})),a.canvasRef=g.a.createRef(),a.recreateVisualization=Function.prototype,a.state={isLoading:!0},a}return Lc(t,e),Cc(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e){Object(Ao.a)(this.props.config,e.config)&&Object(Ao.a)(this.props.filters,e.filters)?this.props.id===e.id&&Object(Ao.a)(this.props.style,e.style)||this.recreateVisualization(0):this.renderChart()}},{key:"render",value:function(){return g.a.createElement(E.Fragment,null,this.state.isLoading?g.a.createElement(zc,null):null,g.a.createElement("div",{ref:this.canvasRef,style:this.props.style}))}}]),t}(E.Component);Wc.defaultProps={config:{},filters:{},forDashboard:!1,style:{},animation:200,onError:Function.prototype,onChartGenerated:Function.prototype,onResponsesReceived:Function.prototype},Wc.propTypes={config:_n.a.object.isRequired,d2:_n.a.object.isRequired,onError:_n.a.func.isRequired,animation:_n.a.number,filters:_n.a.object,forDashboard:_n.a.bool,id:_n.a.number,style:_n.a.object,onChartGenerated:_n.a.func,onResponsesReceived:_n.a.func};var Xc=[".pivot td{border:1px solid #b2b2b2;padding:5px;}",".pivot-empty{background-color:#cddaed;}",".pivot-dim{background-color:#dae6f8;text-align:center;}",".pivot-dim-total{background-color:#bac6d8;text-align:center;}",".pivot-value{background-color:#fff;text-align:right;}",".pivot-value-total-subgrandtotal{background-color:#d8d8d8;white-space:nowrap;text-align:right;}",".pointer{cursor:pointer;}"];Xc.__hash="3856634977";var Qc=function(e){function t(e){var a;return Dc(this,t),Nc(Vc(a=Mc(this,kc(t).call(this,e))),"getRequestOptions",(function(e,t){var a=Fc().reduce((function(t,a){var n=Pc(a,2),r=n[0],i=n[1];return void 0!==e[r]&&e[r]!==i.defaultValue&&(t[r]=e[r]),t}),{});if(t.relativePeriodDate&&(a.relativePeriodDate=t.relativePeriodDate),t.userOrgUnit&&t.userOrgUnit.length){var n=t.userOrgUnit.map((function(e){return e.split("/").slice(-1)[0]}));a.userOrgUnit=n.join(";")}return a})),Nc(Vc(a),"renderTable",(function(){var e,t,n,r,i,l,o,c,s,u,d,m;return _.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return e=a.props,t=e.config,n=e.filters,r=e.onResponsesReceived,i=e.onError,l={get:function(e){return xc.a.t(e)}},o={getLegendSetById:function(){return""},getApiPath:function(){return""}},c={},(s=new _c.config.OptionConfig).setI18nManager(l),s.init(),u={api:_c.api,appManager:o,uiManager:c,i18nManager:l,optionConfig:s},p.prev=8,d=a.getRequestOptions(t,n),p.next=12,_.a.awrap(Yc(a.props.d2,t,d));case 12:(m=p.sent).length&&r(m),a.recreateVisualization=function(){var e={showColTotals:t.colTotals,showRowTotals:t.rowTotals,showColSubTotals:t.colSubTotals,showRowSubTotals:t.rowSubTotals,numberType:t.numberType||"VALUE"},n=new _c.Layout(u,t,e),r=new _c.table.PivotTable(u,n,new _c.Response(u,m[0].response),{renderLimit:1e5,trueTotals:!0});r.initialize(),r.build(),a.canvasRef.current.innerHTML=r.render()},a.recreateVisualization(),a.setState({isLoading:!1}),p.next=22;break;case 19:p.prev=19,p.t0=p.catch(8),i(p.t0);case 22:case"end":return p.stop()}}),null,null,[[8,19]])})),a.canvasRef=g.a.createRef(),a.recreateVisualization=Function.prototype,a.state={isLoading:!0},a}return Lc(t,e),Cc(t,[{key:"componentDidMount",value:function(){this.renderTable()}},{key:"componentDidUpdate",value:function(e){Object(Ao.a)(this.props.config,e.config)&&Object(Ao.a)(this.props.filters,e.filters)?this.props.id===e.id&&Object(Ao.a)(this.props.style,e.style)||this.recreateVisualization(0):this.renderTable()}},{key:"render",value:function(){return g.a.createElement(E.Fragment,null,this.state.isLoading?g.a.createElement(zc,null):null,g.a.createElement("div",{ref:this.canvasRef,style:this.props.style,className:"jsx-".concat(Xc.__hash)},g.a.createElement(Mr.a,{id:Xc.__hash},Xc)))}}]),t}(E.Component);Qc.defaultProps={config:{},filters:{},style:{},animation:200,onError:Function.prototype,onResponsesReceived:Function.prototype},Qc.propTypes={config:_n.a.object.isRequired,d2:_n.a.object.isRequired,onError:_n.a.func.isRequired,filters:_n.a.object,id:_n.a.number,style:_n.a.object,onResponsesReceived:_n.a.func};var Kc=function(e){return e.config.type&&e.config.type!==X.VIS_TYPE_PIVOT_TABLE?g.a.createElement(Wc,e):g.a.createElement(Qc,e)},Zc={fontWeight:"bold",marginTop:"30px",lineHeight:"22px"},Jc={outer:{display:"flex",justifyContent:"center",height:"100%"},inner:{maxWidth:500,textAlign:"center",alignSelf:"center",position:"relative",top:"-20%"},title:Object(A.a)({},Zc,{color:sn.colors.grey700}),description:Object(A.a)({},Zc,{color:sn.colors.grey500})},$c=a(2364),es=a.n($c),ts=ne.a.t("Create a new visualization by adding dimensions to the layout"),as=function(e){return g.a.createElement("p",{style:Jc.title},e)},ns=Object(y.connect)((function(e){return{error:an(e)}}))((function(e){var t=e.error,a=t?g.a.createElement("div",null,g.a.createElement("img",{src:es.a,alt:ne.a.t("Chart error")}),as(t)):as(ts);return g.a.createElement("div",{style:Jc.outer},g.a.createElement("div",{style:Jc.inner},a))}));function rs(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var is=function(e){function t(e){var a;return Object(On.a)(this,t),a=Object(In.a)(this,Object(Sn.a)(t).call(this,e)),rs(Object(xn.a)(a),"onError",(function(e){var t=e&&e.message||ne.a.t("Error generating chart, please try again");a.props.acSetLoadError(t)})),rs(Object(xn.a)(a),"onChartGenerated",(function(e){return a.props.acSetChart(e)})),rs(Object(xn.a)(a),"onResponsesReceived",(function(e){var t={};e.forEach((function(e){return Object.entries(e.metaData.items).forEach((function(e){var a=Object(S.a)(e,2),n=a[0],r=a[1];t[n]={id:n,name:r.name||r.displayName,displayName:r.displayName}}))})),a.props.acAddMetadata(t)})),rs(Object(xn.a)(a),"getNewRenderId",(function(){return a.setState({renderId:"number"===typeof a.state.renderId?a.state.renderId+1:1})})),rs(Object(xn.a)(a),"addResizeHandler",(function(){window.addEventListener("resize",Object(xo.a)((function(){a.getNewRenderId()}),300))})),a.state={renderId:null},a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"componentDidMount",value:function(){this.addResizeHandler()}},{key:"componentDidUpdate",value:function(e){this.props.rightSidebarOpen!==e.rightSidebarOpen&&this.getNewRenderId()}},{key:"render",value:function(){var e=this.props,t=e.visConfig,a=e.visFilters,n=e.error,r=this.state.renderId;return!t||n?g.a.createElement(ns,null):g.a.createElement(Kc,{id:r,d2:this.context.d2,config:t,filters:a,onChartGenerated:this.onChartGenerated,onResponsesReceived:this.onResponsesReceived,onError:this.onError,style:Ic.chartCanvas})}}]),t}(E.Component);is.contextTypes={d2:_n.a.object};var ls=Object(ol.a)([At,q,nt],(function(e,t,a){return a.id?t:e})),os=Object(ol.a)([nt],(function(e){return e.created?{relativePeriodDate:e.created}:{}})),cs=Object(y.connect)((function(e){return{visConfig:ls(e),visFilters:os(e),rightSidebarOpen:at(e),error:an(e)}}),{acAddMetadata:za,acSetChart:function(e){return{type:"SET_CHART",value:e}},acSetLoadError:nn})(is),ss=a(1070),us=a(1068),ds=a.n(us),ms=a(589),ps=a.n(ms),fs=a(287),bs=a.n(fs),hs=function(e){var t=e.style;return g.a.createElement("svg",{style:Object(A.a)({},t),xmlns:"http://www.w3.org/2000/svg",width:"22",height:"24",viewBox:"0 0 24 24"},g.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),g.a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},Es={icon:{width:22,height:22,background:"none",color:sn.colors.black,padding:0}};function gs(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ys=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),gs(Object(xn.a)(a),"state",{anchorEl:null}),gs(Object(xn.a)(a),"handleClick",(function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})})),gs(Object(xn.a)(a),"handleClose",(function(){a.setState({anchorEl:null})})),gs(Object(xn.a)(a),"getMenuId",(function(){return"menu-for-".concat(a.props.id)})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(bs.a,{"aria-owns":this.state.anchorEl?this.getMenuId():null,"aria-haspopup":"true",onClick:this.handleClick,style:Es.icon},g.a.createElement(hs,{style:Es.icon})),g.a.createElement(X.DimensionMenu,{dimensionId:this.props.dimensionId,currentAxisId:this.props.currentAxisId,visType:this.props.visType,numberOfDimensionItems:this.props.numberOfDimensionItems,dualAxisItemHandler:this.props.dualAxisItemHandler,axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.anchorEl,onClose:this.handleClose}))}}]),t}(g.a.Component),Os=Object(y.connect)(null,(function(e){return{dualAxisItemHandler:function(){return e(Ya("axisSetup"))},axisItemHandler:function(t,a){e(Na(Object(W.a)({},t,a)))},removeItemHandler:function(t){e(wa(t))}}}))(ys),vs=a(327),Is=a.n(vs),Ss=a(286),xs=a.n(Ss),As={tooltip:{fontFamily:"roboto",padding:"7px 9px",color:sn.colors.white,fontSize:"12px",backgroundColor:sn.colors.grey900,boxShadow:"none",borderRadius:"3px",position:"relative",top:"5px"},list:{listStyleType:"none",margin:"0px",marginBottom:"-3px",padding:"0px"},item:{marginBottom:"3px"},icon:{fontSize:"13px",marginRight:"6px"},iconWrapper:{display:"flex",alignItems:"center",marginBottom:"5px"}};function js(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _s={noneSelected:ne.a.t("None selected"),onlyOneInUse:function(e){return ne.a.t("Only '{{- name}}' in use",{name:e})},onlyLimitedNumberInUse:function(e){return ne.a.t("Only '{{number}}' in use",{number:e})}},Ds=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),js(Object(xn.a)(a),"getWarningLabel",(function(){var e=a.props,t=e.itemIds,n=e.metadata,r=e.displayLimitedAmount,i=1===t.length?_s.onlyOneInUse(n[t[0]]?n[t[0]].name:t[0]):_s.onlyLimitedNumberInUse(t.length);return r?i:null})),js(Object(xn.a)(a),"getItemDisplayNames",(function(){var e=a.props,t=e.itemIds,n=e.metadata,r=e.displayLimitedAmount;return t.length&&!r?t.map((function(e){return n[e]?n[e].name:e})):[]})),js(Object(xn.a)(a),"renderWarningLabel",(function(e){return g.a.createElement("li",{style:As.item},g.a.createElement("div",{style:As.iconWrapper},g.a.createElement(ds.a,{style:As.icon}),g.a.createElement("span",null,e)))})),js(Object(xn.a)(a),"renderItems",(function(e){return e.map((function(e){return g.a.createElement("li",{key:"".concat(a.props.dimensionId,"-").concat(e),style:As.item},e)}))})),js(Object(xn.a)(a),"renderLockedLabel",(function(){return g.a.createElement("li",{style:As.item},g.a.createElement("div",{style:As.iconWrapper},g.a.createElement(ps.a,{style:As.icon}),g.a.createElement("span",null,a.props.lockedLabel)))})),js(Object(xn.a)(a),"renderNoItemsLabel",(function(){return g.a.createElement("li",{key:"".concat(a.props.dimensionId,"-").concat(_s.noneSelected),style:As.item},_s.noneSelected)})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this.getItemDisplayNames(),t=this.getWarningLabel(),a=!e.length&&!t;return g.a.createElement(Is.a,{anchorEl:this.props.anchorEl,open:this.props.open,placement:"bottom-start"},g.a.createElement(xs.a,{style:As.tooltip},g.a.createElement("ul",{style:As.list},t&&this.renderWarningLabel(t),this.props.lockedLabel&&this.renderLockedLabel(),e&&this.renderItems(e),a&&this.renderNoItemsLabel())))}}]),t}(g.a.Component),Ts=Object(y.connect)((function(e){return{metadata:Ut(e)}}))(Ds),Cs=function(){return g.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},g.a.createElement("g",{id:"Artboard",transform:"translate(-80.000000, -9.000000)"},g.a.createElement("g",{id:"icon_dimension_new",transform:"translate(80.000000, 9.000000)"},g.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),g.a.createElement("g",{id:"module",transform:"translate(4.000000, 4.000000)",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round"},g.a.createElement("path",{d:"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z",id:"Shape"}),g.a.createElement("path",{d:"M3.5,2.72795833 L0.322,1.48195833",id:"Shape"}),g.a.createElement("path",{d:"M3.5,2.72795833 L6.678,1.48195833",id:"Shape"}),g.a.createElement("path",{d:"M3.5,6.78125 L3.5,2.72795833",id:"Shape"}))))))},Ns=sn.colors.grey300,ws=sn.colors.white,Rs=sn.colors.grey900,Ls={chipWrapper:{display:"flex",margin:"4px",backgroundColor:sn.theme.secondary200,borderRadius:"2px",alignItems:"center"},chip:{padding:"1px 6px",fontSize:"14px",fontWeight:400,color:Rs,cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minHeight:24,userSelect:"none"},chipEmpty:{backgroundColor:sn.colors.grey300},fixedDimensionIcon:{paddingRight:"6px"},iconWrapper:{paddingRight:"6px",display:"flex",alignItems:"center"},warningIcon:{fontSize:"14px"},warningIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"},lockIcon:{fontSize:"14px"},lockIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"}};function ks(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Ls.chipLeft=Object(A.a)({},Ls.chip,{display:"flex",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",alignItems:"center"}),Ls.chipRight=Object(A.a)({},Ls.chip,{paddingLeft:"0px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"});var Us=g.a.createElement("div",{style:Ls.lockIconWrapper},g.a.createElement(ps.a,{style:Ls.lockIcon})),Vs=g.a.createElement("div",{style:Ls.warningIconWrapper},g.a.createElement(ds.a,{style:Ls.warningIcon})),Ms=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),ks(Object(xn.a)(a),"state",{tooltipOpen:!1}),ks(Object(xn.a)(a),"id",Math.random().toString(36)),ks(Object(xn.a)(a),"timeout",null),ks(Object(xn.a)(a),"isLocked",Object(X.getAxisPerLockedDimension)(a.props.type,a.props.dimensionId)===a.props.axisId),ks(Object(xn.a)(a),"axisMaxNumberOfItems",Object(X.getAxisMaxNumberOfItems)(a.props.type,a.props.axisId)),ks(Object(xn.a)(a),"handleMouseOver",(function(){null===a.timeout&&(a.timeout=setTimeout((function(){return a.setState({tooltipOpen:!0})}),500))})),ks(Object(xn.a)(a),"handleMouseOut",(function(){"number"===typeof a.timeout&&(clearTimeout(a.timeout),a.timeout=null,a.setState({tooltipOpen:!1}))})),ks(Object(xn.a)(a),"handleClick",(function(e){a.props.onClick(e),a.handleMouseOut()})),ks(Object(xn.a)(a),"getDragStartHandler",(function(){return function(e){a.handleMouseOut(),Go(e,a.props.axisId)}})),ks(Object(xn.a)(a),"getAnchorEl",(function(){return document.getElementById(a.id)})),ks(Object(xn.a)(a),"getWrapperStyles",(function(){return Object(A.a)({},Ls.chipWrapper,{},a.props.items.length?{}:Ls.chipEmpty)})),ks(Object(xn.a)(a),"renderChipLabel",(function(){var e=a.props.items.length,t=a.axisMaxNumberOfItems&&e>a.axisMaxNumberOfItems?ne.a.t("{{total}} of {{axisMaxNumberOfItems}} selected",{total:e,axisMaxNumberOfItems:a.axisMaxNumberOfItems}):ne.a.t("{{total}} selected",{total:e});return"".concat(a.props.dimensionName).concat(a.props.items.length>0?": ".concat(t):"")})),ks(Object(xn.a)(a),"renderChipIcon",(function(){if(X.FIXED_DIMENSIONS[a.props.dimensionId]){var e=X.FIXED_DIMENSIONS[a.props.dimensionId].icon;return g.a.createElement(e,{style:Ls.fixedDimensionIcon})}return g.a.createElement(Cs,{style:Ls.dynamicDimensionIcon})})),ks(Object(xn.a)(a),"renderMenu",(function(){return g.a.createElement("div",{style:Ls.chipRight},g.a.createElement(Os,{dimensionId:a.props.dimensionId,currentAxisId:a.props.axisId,visType:a.props.type,numberOfDimensionItems:a.props.items.length}))})),ks(Object(xn.a)(a),"renderTooltip",(function(){var e=a.axisMaxNumberOfItems?a.props.items.slice(0,a.axisMaxNumberOfItems):a.props.items,t=a.isLocked?ne.a.t("{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}",{dimensionName:a.props.dimensionName,axisName:Object(X.getAxisName)(a.props.axisId),visTypeName:Object(X.getDisplayNameByVisType)(a.props.type)}):null;return g.a.createElement(Ts,{dimensionId:a.props.dimensionId,itemIds:e,lockedLabel:t,displayLimitedAmount:a.props.items.length>e.length,open:a.state.tooltipOpen,anchorEl:a.getAnchorEl()})})),ks(Object(xn.a)(a),"render",(function(){return g.a.createElement("div",{style:a.getWrapperStyles(),"data-dimensionid":a.props.dimensionId,draggable:!a.isLocked,onDragStart:a.getDragStartHandler()},g.a.createElement("div",{id:a.id,style:Ls.chipLeft,onClick:a.handleClick,onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},g.a.createElement("div",{style:Ls.iconWrapper},a.renderChipIcon()),a.renderChipLabel(),Object(X.hasAxisTooManyItems)(a.props.type,a.props.axisId,a.props.items.length)&&Vs,a.isLocked&&Us),!a.isLocked&&a.renderMenu(),a.getAnchorEl()&&a.renderTooltip())})),a}return Object(An.a)(t,e),t}(g.a.Component);Ms.defaultProps={onClick:Function.prototype,items:[]};var Ps=Object(y.connect)((function(e,t){return{dimensionName:(Ct(e)[t.dimensionId]||{}).name,items:lt(e,t.dimensionId)||[],type:Xe(e)}}))(Ms),Ys={ct:{display:"flex",minHeight:"78px"},axisGroup:{display:"flex",flexDirection:"column"},axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"},columns:{flexBasis:"50%"},rows:{flexBasis:"50%"},filters:{flexBasis:"100%"}},Bs={axisContainer:{display:"flex",backgroundColor:ws,borderColor:Ns,borderStyle:"solid",borderWidth:"0px 0px 1px 1px",padding:"4px 4px 2px 6px"},axisContainerLeft:{borderLeftWidth:0},label:{minWidth:55,maxWidth:55,padding:"2px 0px 0px 0px",fontSize:11,color:sn.colors.grey700,userSelect:"none",letterSpacing:"0.2px"},content:{width:"100%",display:"flex",alignItems:"flex-start",alignContent:"flex-start",flexWrap:"wrap",minHeight:Ys.DIMENSION_AXIS_CONTENT_HEIGHT}};function Gs(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Fs=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),Gs(Object(xn.a)(a),"onDragOver",(function(e){e.preventDefault()})),Gs(Object(xn.a)(a),"onDrop",(function(e){e.preventDefault();var t=Fo(e),n=t.dimensionId,r=t.source;a.props.onAddDimension(Object(W.a)({},n,a.props.axisId));var i=a.props.itemsByDimension[n],l=Boolean(!i||!i.length);"dimensions"===r&&l&&a.props.onDropWithoutItems(n)})),Gs(Object(xn.a)(a),"isMoveSupported",(function(){return!Object(X.isYearOverYear)(a.props.type)})),Gs(Object(xn.a)(a),"getAxisMenuItems",(function(e){return X.DEFAULT_AXIS_IDS.filter((function(e){return e!==a.props.axisId})).map((function(t){return g.a.createElement(Pn.a,{key:"".concat(e,"-to-").concat(t),onClick:a.props.getMoveHandler(Object(W.a)({},e,t))},"".concat(ne.a.t("Move to")," ").concat(ie[t]))}))})),Gs(Object(xn.a)(a),"isSeries",(function(){return a.props.axisId===X.AXIS_ID_COLUMNS})),Gs(Object(xn.a)(a),"isData",(function(e){return e===X.DIMENSION_ID_DATA})),Gs(Object(xn.a)(a),"getItemsArrayByDimension",(function(e){return a.props.itemsByDimension[e]||[]})),Gs(Object(xn.a)(a),"shouldHaveDualAxis",(function(e){return Boolean(a.isSeries()&&a.isData(e)&&Object(X.isDualAxisType)(a.props.type)&&a.getItemsArrayByDimension(a.props.axis[0]).length>1)})),Gs(Object(xn.a)(a),"getDualAxisItem",(function(e){return g.a.createElement(Pn.a,{key:"dual-axis-".concat(e),onClick:a.props.onOpenAxisSetup},ne.a.t("Manage axes"))})),Gs(Object(xn.a)(a),"getRemoveMenuItem",(function(e){return g.a.createElement(Pn.a,{key:"remove-".concat(e),onClick:a.props.getRemoveHandler(e)},ne.a.t("Remove"))})),Gs(Object(xn.a)(a),"getDividerItem",(function(e){return g.a.createElement(kn.a,{light:!0,key:e})})),Gs(Object(xn.a)(a),"getMenuItems",(function(e){return[a.shouldHaveDualAxis(e)?a.getDualAxisItem(e):null,a.shouldHaveDualAxis(e)?a.getDividerItem("dual-axis-menu-divider"):null].concat(Object(P.a)(a.isMoveSupported()?a.getAxisMenuItems(e):[]),[a.getRemoveMenuItem(e)])})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){var e=this;return g.a.createElement("div",{id:this.props.axisId,style:Object(A.a)({},Bs.axisContainer,{},this.props.style),onDragOver:this.onDragOver,onDrop:this.onDrop},g.a.createElement("div",{style:Bs.label},Object(X.getAxisName)(this.props.axisId)),g.a.createElement(ss.c,{droppableId:this.props.axisId,direction:"horizontal"},(function(t){return g.a.createElement("div",Object.assign({style:Bs.content,ref:t.innerRef},t.droppableProps),e.props.axis.map((function(t,a){var n="".concat(e.props.axisId,"-").concat(t);return g.a.createElement(ss.b,{key:n,draggableId:n,index:a},(function(a){return g.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),g.a.createElement(Ps,{onClick:e.props.getOpenHandler(t),axisId:e.props.axisId,dimensionId:t}))}))})),t.placeholder)})))}}]),t}(g.a.Component),Hs=Object(y.connect)((function(e){return{ui:We(e)}}),(function(e){return{onAddDimension:function(t){return e(Na(t))},onDropWithoutItems:function(t){return e(Ya(t))},getOpenHandler:function(t){return function(){return e(Ya(t))}}}}),(function(e,t,a){var n=dt(e.ui);return Object(A.a)({axis:n.layout[a.axisId],itemsByDimension:n.itemsByDimension,type:n.type},t,{},a)}))(Fs),qs=function(){return g.a.createElement("div",{id:"layout-ct",style:Ys.ct},g.a.createElement("div",{id:"axis-group-1",style:Object(A.a)({},Ys.axisGroup,{},Ys.axisGroupLeft)},g.a.createElement(Hs,{axisId:"columns",style:Object(A.a)({},Ys.columns,{},Bs.axisContainerLeft)}),g.a.createElement(Hs,{axisId:"rows",style:Object(A.a)({},Ys.rows,{},Bs.axisContainerLeft)})),g.a.createElement("div",{id:"axis-group-2",style:Object(A.a)({},Ys.axisGroup,{},Ys.axisGroupRight)},g.a.createElement(Hs,{axisId:"filters",style:Ys.filters})))};qs.displayName="Layout";var zs=qs,Ws={flex:"1 1 0%"},Xs=Object(y.connect)((function(e){return{yearOverYearSeries:Je(e),yearOverYearCategory:$e(e)}}))((function(e){return g.a.createElement("div",{id:e.axisId,style:Object(A.a)({},Bs.axisContainer,{},e.style)},g.a.createElement("div",{className:"label",style:Bs.label},Object(X.getAxisName)(e.axisId)),g.a.createElement("div",{className:"content",style:Object(A.a)({},Bs.content,{},Ws)},e.children))})),Qs=a(280),Ks=a.n(Qs),Zs={displayProps:{background:"transparent",marginLeft:"4px"}};function Js(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var $s=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),Js(Object(xn.a)(a),"state",{open:!1}),Js(Object(xn.a)(a),"handleClose",(function(){a.setState({open:!1})})),Js(Object(xn.a)(a),"handleOpen",(function(){a.setState({open:!0})})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"render",value:function(){return g.a.createElement(Ks.a,{disableUnderline:!0,multiple:Boolean(this.props.multiple),open:this.state.open,onChange:this.props.onChange,onClose:this.handleClose,onOpen:this.handleOpen,value:this.props.value,SelectDisplayProps:{style:Zs.displayProps}},this.props.options.map((function(e){return g.a.createElement(Pn.a,{key:e.id,value:e.id},e.name)})))}}]),t}(g.a.Component),eu={axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"}},tu=[{id:"THIS_YEAR",name:ne.a.t("This year")},{id:"LAST_YEAR",name:ne.a.t("Last year")},{id:"LAST_5_YEARS",name:ne.a.t("Last 5 years")}].concat(Object(P.a)(function(e){var t=(new Date).getFullYear();return new Array(e).fill(null).map((function(){return{id:String(t),name:t--}}))}(10))),au=[{id:"LAST_3_DAYS",name:ne.a.t("Last 3 days")},{id:"LAST_7_DAYS",name:ne.a.t("Last 7 days")},{id:"LAST_14_DAYS",name:ne.a.t("Last 14 days")},{id:"LAST_4_WEEKS",name:ne.a.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:ne.a.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:ne.a.t("Last 52 weeks")},{id:"WEEKS_THIS_YEAR",name:ne.a.t("Weeks per year")},{id:"LAST_3_MONTHS",name:ne.a.t("Last 3 months")},{id:"LAST_6_MONTHS",name:ne.a.t("Last 6 months")},{id:"LAST_12_MONTHS",name:ne.a.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:ne.a.t("Months per year")},{id:"LAST_6_BIMONTHS",name:ne.a.t("Last 6 bimonths")},{id:"BIMONTHS_THIS_YEAR",name:ne.a.t("Bimonths per year")},{id:"LAST_4_QUARTERS",name:ne.a.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:ne.a.t("Quarters per year")},{id:"LAST_2_SIXMONTHS",name:ne.a.t("Last 2 six-months")}],nu=function(e){return g.a.createElement("div",{id:"layout-ct",style:Ys.ct},g.a.createElement("div",{id:"axis-group-1",style:Object(A.a)({},Ys.axisGroup,{},eu.axisGroupLeft)},g.a.createElement(Xs,{axisId:"yearOverYearSeries",style:Object(A.a)({},Ys.columns,{},Bs.axisContainerLeft)},g.a.createElement($s,{multiple:"true",value:e.yearOverYearSeries,onChange:e.onSeriesChange,options:tu})),g.a.createElement(Xs,{axisId:"yearOverYearCategory",style:Object(A.a)({},Ys.rows,{},Bs.axisContainerLeft)},g.a.createElement($s,{value:e.yearOverYearCategory[0],onChange:e.onCategoryChange,options:au}))),g.a.createElement("div",{id:"axis-group-2",style:Object(A.a)({},Ys.axisGroup,{},eu.axisGroupRight)},g.a.createElement(Hs,{axisId:X.AXIS_ID_FILTERS,style:Ys.filters})))};nu.displayName="Layout";var ru,iu=Object(y.connect)((function(e){return{yearOverYearSeries:Je(e),yearOverYearCategory:$e(e)}}),(function(e){return{onSeriesChange:function(t){t.target.value.length&&e(Ua(t.target.value))},onCategoryChange:function(t){return e(Va(t.target.value))}}}))(nu),lu=function(){return g.a.createElement("div",{id:"layout-ct",style:Ys.ct},g.a.createElement("div",{id:"axis-group-1",style:Object(A.a)({},Ys.axisGroup,{},Ys.axisGroupLeft)},g.a.createElement(Hs,{axisId:X.AXIS_ID_COLUMNS,style:Object(A.a)({},Ys.filters,{},Bs.axisContainerLeft)})),g.a.createElement("div",{id:"axis-group-2",style:Object(A.a)({},Ys.axisGroup,{},Ys.axisGroupRight)},g.a.createElement(Hs,{axisId:X.AXIS_ID_FILTERS,style:Ys.filters})))},ou=(ru={},Object(W.a)(ru,X.VIS_TYPE_COLUMN,zs),Object(W.a)(ru,X.VIS_TYPE_STACKED_COLUMN,zs),Object(W.a)(ru,X.VIS_TYPE_BAR,zs),Object(W.a)(ru,X.VIS_TYPE_STACKED_BAR,zs),Object(W.a)(ru,X.VIS_TYPE_LINE,zs),Object(W.a)(ru,X.VIS_TYPE_AREA,zs),Object(W.a)(ru,X.VIS_TYPE_PIE,lu),Object(W.a)(ru,X.VIS_TYPE_RADAR,zs),Object(W.a)(ru,X.VIS_TYPE_GAUGE,lu),Object(W.a)(ru,X.VIS_TYPE_YEAR_OVER_YEAR_LINE,iu),Object(W.a)(ru,X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN,iu),Object(W.a)(ru,X.VIS_TYPE_SINGLE_VALUE,lu),Object(W.a)(ru,X.VIS_TYPE_PIVOT_TABLE,zs),ru),cu=Object(y.connect)((function(e){return{layout:Ke(e),type:Xe(e)}}),(function(e){return{onReorderDimensions:function(t){return e(Ca(t))}}}))((function(e){return g.a.createElement(ss.a,{onDragEnd:function(t){var a=t.source,n=t.destination;if(n){var r=Array.from(e.layout[a.droppableId]),i=r.splice(a.index,1),l=Object(S.a)(i,1)[0],o={};if(a.droppableId===n.droppableId)r.splice(n.index,0,l),o[a.droppableId]=r;else{var c=Array.from(e.layout[n.droppableId]);c.splice(n.index,0,l),o[n.droppableId]=c,o[a.droppableId]=r}e.onReorderDimensions(Object(A.a)({},e.layout,{},o))}}},function(e,t){var a=ou[e];return g.a.createElement(a,t)}(e.type))})),su={TODAY:ne.a.t("Today"),YESTERDAY:ne.a.t("Yesterday"),LAST_3_DAYS:ne.a.t("Last 3 days"),LAST_7_DAYS:ne.a.t("Last 7 days"),LAST_14_DAYS:ne.a.t("Last 14 days"),THIS_WEEK:ne.a.t("This week"),LAST_WEEK:ne.a.t("Last week"),LAST_4_WEEKS:ne.a.t("Last 4 weeks"),LAST_12_WEEKS:ne.a.t("Last 12 weeks"),LAST_52_WEEKS:ne.a.t("Last 52 weeks"),WEEKS_THIS_YEAR:ne.a.t("Weeks this year"),THIS_MONTH:ne.a.t("This month"),LAST_MONTH:ne.a.t("Last month"),LAST_3_MONTHS:ne.a.t("Last 3 months"),LAST_6_MONTHS:ne.a.t("Last 6 months"),LAST_12_MONTHS:ne.a.t("Last 12 months"),MONTHS_THIS_YEAR:ne.a.t("Months this year"),THIS_BIMONTH:ne.a.t("This bimonth"),LAST_BIMONTH:ne.a.t("Last bimonth"),LAST_6_BIMONTHS:ne.a.t("Last 6 bimonths"),BIMONTHS_THIS_YEAR:ne.a.t("Bimonths this year"),THIS_QUARTER:ne.a.t("This quarter"),LAST_QUARTER:ne.a.t("Last quarter"),LAST_4_QUARTERS:ne.a.t("Last 4 quarters"),QUARTERS_THIS_YEAR:ne.a.t("Quarters this year"),THIS_SIX_MONTH:ne.a.t("This six-month"),LAST_SIX_MONTH:ne.a.t("Last six-month"),LAST_2_SIXMONTHS:ne.a.t("Last 2 six-months"),THIS_FINANCIAL_YEAR:ne.a.t("This financial year"),LAST_FINANCIAL_YEAR:ne.a.t("Last financial year"),LAST_5_FINANCIAL_YEARS:ne.a.t("Last 5 financial years"),THIS_YEAR:ne.a.t("This year"),LAST_YEAR:ne.a.t("Last year"),LAST_5_YEARS:ne.a.t("Last 5 years")},uu={USER_ORGUNIT:ne.a.t("User org unit"),USER_ORGUNIT_CHILDREN:ne.a.t("User org unit children"),USER_ORGUNIT_GRANDCHILDREN:ne.a.t("User org unit grand children")},du=Object.entries(Object(A.a)({},su,{},uu)).reduce((function(e,t){var a=Object(S.a)(t,2),n=a[0],r=a[1];return Object(A.a)({},e,Object(W.a)({},n,{name:r}))}),{});a(2371),a(2372);function mu(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var pu=function(e){function t(){var e,a;Object(On.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=Object(In.a)(this,(e=Object(Sn.a)(t)).call.apply(e,[this].concat(r))),mu(Object(xn.a)(a),"unlisten",null),mu(Object(xn.a)(a),"apiObjectName","visualization"),mu(Object(xn.a)(a),"state",{previousLocation:null}),mu(Object(xn.a)(a),"refetch",(function(e){return!a.state.previousLocation||(e.pathname.slice(1).split("/")[0]!==a.state.previousLocation.slice(1).split("/")[0]||a.state.previousLocation===e.pathname)})),mu(Object(xn.a)(a),"loadVisualization",(function(e){var t,n,r,i,l,o;return _.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=a.context.store,!(e.pathname.length>1)){c.next=20;break}if(n=e.pathname.slice(1).split("/"),r=n[0],i=n[2],!(l=r===xr)){c.next=14;break}return c.next=9,_.a.awrap(Cr());case 9:o=c.sent,a.props.addParentGraphMap(mt(o)),a.props.setVisualization(o),a.props.setUiFromVisualization(o),a.props.setCurrentFromUi(a.props.ui);case 14:if(l||!a.refetch(e)){c.next=17;break}return c.next=17,_.a.awrap(t.dispatch(on({id:r,interpretationId:i,ouLevels:a.props.ouLevels})));case 17:i||t.dispatch(m.acClearUiInterpretation()),c.next=22;break;case 20:cn(t.dispatch,t.getState),m.acClearUiInterpretation(t.dispatch);case 22:a.setState({previousLocation:e.pathname});case 23:case"end":return c.stop()}}))})),mu(Object(xn.a)(a),"componentDidMount",(function(){var e,t,n,r,i;return _.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=a.context.store,t=a.props,n=t.d2,r=t.userSettings,l.next=4,_.a.awrap(e.dispatch(f.tAddSettings(r)));case 4:e.dispatch(b.acReceivedUser(n.currentUser)),e.dispatch(d.tSetDimensions(n)),i=a.props.settings.rootOrganisationUnit,e.dispatch(p.acAddMetadata(Object(A.a)({},du,Object(W.a)({},i.id,Object(A.a)({},i,{path:"/".concat(i.id)}))))),a.loadVisualization(a.props.location),a.unlisten=k.listen((function(e){a.loadVisualization(e)})),document.body.addEventListener("keyup",(function(e){return"Enter"===e.key&&!0===e.ctrlKey&&a.props.setCurrentFromUi(a.props.ui)}));case 11:case"end":return l.stop()}}))})),a}return Object(An.a)(t,e),Object(vn.a)(t,[{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"getChildContext",value:function(){return{baseUrl:this.props.baseUrl,i18n:ne.a,d2:this.props.d2}}},{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(uc,null),g.a.createElement("div",{className:"data-visualizer-app flex-ct flex-dir-col"},g.a.createElement("div",{className:"section-toolbar flex-ct"},g.a.createElement("div",{className:"toolbar-type"},g.a.createElement(So,null)),g.a.createElement("div",{className:"toolbar-menubar flex-grow-1"},g.a.createElement(Ll,{apiObjectName:this.apiObjectName}))),g.a.createElement("div",{className:"section-main flex-grow-1 flex-ct"},g.a.createElement("div",{className:"main-left"},g.a.createElement(bc,null)),g.a.createElement("div",{className:"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col"},g.a.createElement("div",{className:"main-center-layout"},g.a.createElement(cu,null)),g.a.createElement("div",{className:"main-center-titlebar"},g.a.createElement(Fl,null)),g.a.createElement("div",{className:"main-center-canvas flex-grow-1"},g.a.createElement(cs,null))),this.props.ui.rightSidebarOpen&&this.props.current&&g.a.createElement("div",{className:"main-right"},g.a.createElement(vc,{type:this.apiObjectName,id:this.props.current.id})))),g.a.createElement(dn,null))}}]),t}(E.Component);pu.contextTypes={store:_n.a.object},pu.childContextTypes={d2:_n.a.object,baseUrl:_n.a.string,i18n:_n.a.object};var fu=Object(y.connect)((function(e){return{settings:c.sGetSettings(e),current:i.sGetCurrent(e),interpretations:n.sGetInterpretations(e),ui:r.sGetUi(e)}}),(function(e){return{setCurrentFromUi:function(t){return e(u.acSetCurrentFromUi(t))},setVisualization:function(t){return e(s.acSetVisualization(t))},setUiFromVisualization:function(t){return e(m.acSetUiFromVisualization(t))},addParentGraphMap:function(t){return e(m.acAddParentGraphMap(t))}}}))(pu),bu=a(2373),hu=a.n(bu),Eu=Object(A.a)({},hu.a),gu=Object(v.createMuiTheme)(Eu);t.default=function(){var e=Object(I.c)(),t=gn([O.default.withExtraArgument(e),yn]);window.Cypress&&(window.store=t);return g.a.createElement(y.Provider,{store:t},g.a.createElement(v.MuiThemeProvider,{theme:gu},g.a.createElement(M,{schemas:["visualization","organisationUnit","userGroup"]},(function(e){return g.a.createElement(fu,e)}))))}}}]);
//# sourceMappingURL=app.92770976.chunk.js.map