{"version":3,"sources":["D2App/components/VisualizationTypeSelector/styles/VisualizationTypeSelector.module.css","D2App/components/Snackbar/styles/Snackbar.module.css","D2App/components/VisualizationOptions/styles/TextStyle.module.css","D2App/components/DimensionsPanel/Dialogs/styles/DialogManager.module.css","D2App/components/DimensionsPanel/styles/DndDimensionItem.module.css","D2App/components/DimensionsPanel/styles/DndDimensionList.module.css","D2App/components/DimensionsPanel/styles/DndDimensionsPanel.module.css","D2App/components/IconButton/styles/IconButton.module.css","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.module.css","D2App/components/MenuButton/styles/MenuButton.module.css","D2App/components/Interpretations/styles/InterpretationsButton.module.css","D2App/components/VisualizationOptions/styles/AxisRange.module.css","D2App/components/VerticalTabBar/styles/VerticalTab.module.css","D2App/components/VerticalTabBar/styles/VerticalTabBar.module.css","D2App/components/AxesTabs/styles/AxesTabs.module.css","D2App/components/VisualizationOptions/styles/SeriesTable.module.css","D2App/components/VisualizationOptions/styles/Outliers.module.css","D2App/components/MenuBar/styles/MenuBar.module.css","D2App/modules/formatDate.js","../../../../plugin/build/es/styles/VisualizationPlugin.module.css","D2App/widgets/styles/LoadingMask.module.css","D2App/components/Visualization/styles/StartScreen.module.css","D2App/api/index.js","D2App/api/dataStatistics.js","D2App/modules/fields/baseFields.js","D2App/modules/fields/nestedFields.js","D2App/api/visualization.js","D2App/modules/fields/index.js","D2App/reducers/snackbar.js","D2App/actions/snackbar.js","D2App/components/Snackbar/Snackbar.js","D2App/assets/ErrorIcons.js","D2App/modules/error.js","D2App/modules/history.js","D2App/modules/layout.js","D2App/modules/options.js","D2App/modules/orgUnit.js","D2App/modules/ui.js","D2App/modules/current.js","D2App/reducers/current.js","D2App/reducers/visualization.js","D2App/modules/visualization.js","D2App/reducers/settings.js","D2App/reducers/chart.js","D2App/actions/ui.js","D2App/components/VisualizationOptions/styles/VisualizationOptions.style.js","D2App/assets/BoldIcon.js","D2App/assets/FontColorIcon.js","D2App/assets/ItalicIcon.js","D2App/components/VisualizationOptions/Options/TextStyle.js","D2App/components/VisualizationOptions/Options/AxisTitle.js","D2App/reducers/ui.js","D2App/actions/current.js","D2App/reducers/dimensions.js","D2App/actions/dimensions.js","D2App/reducers/loader.js","D2App/actions/loader.js","D2App/reducers/metadata.js","D2App/actions/metadata.js","D2App/reducers/recommendedIds.js","D2App/api/settings.js","D2App/modules/settings.js","D2App/actions/settings.js","D2App/api/user.js","D2App/reducers/user.js","D2App/actions/user.js","D2App/actions/visualization.js","D2App/actions/index.js","D2App/api/userDataStore.js","D2App/modules/metadata.js","D2App/reducers/index.js","D2App/components/HideButton/HideButton.js","D2App/components/UpdateButton/UpdateButton.js","D2App/modules/layoutValidation.js","D2App/components/UpdateButton/UpdateVisualizationContainer.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/AddToLayoutButton.js","D2App/components/DimensionsPanel/Dialogs/DialogManager.js","D2App/actions/recommendedIds.js","D2App/components/DimensionsPanel/DndDimensionItem.js","D2App/components/DimensionsPanel/DndDimensionList.js","D2App/components/DimensionsPanel/DndDimensionsPanel.js","D2App/components/DimensionsPanel/styles/DimensionsPanel.style.js","D2App/components/DimensionsPanel/DimensionsPanel.js","D2App/components/DndContext.js","D2App/components/Interpretations/styles/Interpretations.style.js","D2App/components/Interpretations/Interpretations.js","D2App/assets/DynamicDimensionIcon.js","D2App/modules/dnd.js","D2App/components/Layout/styles/style.js","D2App/components/Layout/styles/Chip.style.js","D2App/components/Layout/styles/Tooltip.style.js","D2App/components/Layout/TooltipContent.js","D2App/components/Layout/Chip.js","D2App/components/IconButton/IconButton.js","D2App/components/Layout/ChipMenu.js","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.style.js","D2App/components/Layout/DefaultLayout/DefaultAxis.js","D2App/components/Layout/DefaultLayout/styles/DefaultLayout.style.js","D2App/components/Layout/DefaultLayout/DefaultLayout.js","D2App/components/Layout/PieLayout/styles/PieLayout.style.js","D2App/components/Layout/PieLayout/PieLayout.js","D2App/components/Layout/PivotTableLayout/styles/PivotTableLayout.style.js","D2App/components/Layout/PivotTableLayout/PivotTableLayout.js","D2App/assets/HorizontalIcon.js","D2App/assets/VerticalIcon.js","D2App/components/Layout/ScatterLayout/styles/ScatterAxis.style.js","D2App/components/Layout/ScatterLayout/ScatterAxis.js","D2App/components/Layout/ScatterLayout/styles/ScatterLayout.style.js","D2App/components/Layout/ScatterLayout/ScatterLayout.js","D2App/modules/yearOverYear.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearLayout.style.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearAxis.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearAxis.js","D2App/components/Layout/YearOverYearLayout/YearOverYearSelect.js","D2App/components/Layout/YearOverYearLayout/YearOverYearLayout.js","D2App/components/Layout/Layout.js","D2App/api/analytics.js","D2App/components/MenuButton/MenuButton.js","D2App/components/DownloadMenu/DownloadMenu.js","D2App/components/Interpretations/InterpretationsButton.js","D2App/components/VisualizationOptions/Options/SelectBaseOption.js","D2App/components/VisualizationOptions/Options/AggregationType.js","D2App/components/VisualizationOptions/Options/CheckboxBaseOption.js","D2App/components/VisualizationOptions/Options/CompletedOnly.js","D2App/modules/options/sections/templates/advanced.js","D2App/modules/options/sections/advanced.js","D2App/components/VisualizationOptions/Options/NoSpaceBetweenColumns.js","D2App/components/VisualizationOptions/Options/ShowData.js","D2App/components/VisualizationOptions/Options/ShowSeriesKey.js","D2App/modules/options/sections/templates/chartStyle.js","D2App/modules/options/sections/chartStyle.js","D2App/components/VisualizationOptions/Options/ColorSet.js","D2App/modules/options/sections/colorSet.js","D2App/components/VisualizationOptions/Options/CumulativeValues.js","D2App/components/VisualizationOptions/Options/HideEmptyRowItems.js","D2App/components/VisualizationOptions/Options/PercentStackedValues.js","D2App/components/VisualizationOptions/Options/SkipRounding.js","D2App/components/VisualizationOptions/Options/SortOrder.js","D2App/modules/options/sections/templates/display.js","D2App/modules/options/sections/display.js","D2App/components/VisualizationOptions/Options/AxisLabels.js","D2App/modules/options/sections/templates/horizontalAxis.js","D2App/modules/options/sections/templates/verticalAxis.js","D2App/modules/options/sections/domainAxis.js","D2App/components/VisualizationOptions/InfoText.js","D2App/components/VisualizationOptions/Options/TextBaseOption.js","D2App/components/VisualizationOptions/Options/RegressionLineTitle.js","D2App/components/VisualizationOptions/Options/NumberBaseType.js","D2App/components/VisualizationOptions/Options/RegressionLineValue.js","D2App/components/VisualizationOptions/Options/RegressionLine.js","D2App/components/VisualizationOptions/Options/BaseLine.js","D2App/components/VisualizationOptions/Options/RegressionType.js","D2App/components/VisualizationOptions/Options/TargetLine.js","D2App/modules/options/sections/templates/lines.js","D2App/modules/options/sections/lines.js","D2App/components/VisualizationOptions/Options/PositiveNumberBaseType.js","D2App/components/VisualizationOptions/Options/AxisDecimals.js","D2App/components/VisualizationOptions/Options/AxisMaxValue.js","D2App/components/VisualizationOptions/Options/AxisMinValue.js","D2App/components/VisualizationOptions/Options/AxisRange.js","D2App/components/VisualizationOptions/Options/AxisSteps.js","D2App/modules/options/sections/rangeAxis.js","D2App/components/VisualizationOptions/Options/Subtitle.js","D2App/components/VisualizationOptions/Options/HideSubtitle.js","D2App/components/VisualizationOptions/Options/Title.js","D2App/components/VisualizationOptions/Options/HideTitle.js","D2App/modules/options/sections/titles.js","D2App/components/VerticalTabBar/VerticalTab.js","D2App/components/VerticalTabBar/VerticalTabBar.js","D2App/components/AxesTabs/AxesTabs.js","D2App/modules/options/tabs/axes.js","D2App/modules/options/tabs/data.js","D2App/components/VisualizationOptions/Options/LegendSet.js","D2App/components/VisualizationOptions/Options/LegendDisplayStrategy.js","D2App/components/VisualizationOptions/Options/RadioBaseOption.js","D2App/components/VisualizationOptions/Options/LegendDisplayStyle.js","D2App/components/VisualizationOptions/Options/ShowLegendKey.js","D2App/components/VisualizationOptions/Options/Legend.js","D2App/modules/options/tabs/legend.js","D2App/components/VisualizationOptions/Options/MeasureCriteria.js","D2App/modules/options/tabs/limitValues.js","D2App/assets/AxisIcons.js","D2App/components/VisualizationOptions/Options/SeriesTable.js","D2App/modules/options/tabs/series.js","D2App/modules/options/tabs/style.js","D2App/modules/options/gaugeConfig.js","D2App/components/VisualizationOptions/NoticeBox.js","D2App/components/VisualizationOptions/Options/ApprovalLevel.js","D2App/components/VisualizationOptions/Options/ColSubTotals.js","D2App/components/VisualizationOptions/Options/ColTotals.js","D2App/components/VisualizationOptions/Options/Cumulative.js","D2App/components/VisualizationOptions/Options/DigitGroupSeparator.js","D2App/components/VisualizationOptions/Options/DisplayDensity.js","D2App/components/VisualizationOptions/Options/FixColumnHeaders.js","D2App/components/VisualizationOptions/Options/FixRowHeaders.js","D2App/components/VisualizationOptions/Options/FontSize.js","D2App/components/VisualizationOptions/Options/HideEmptyColumns.js","D2App/components/VisualizationOptions/Options/HideEmptyRows.js","D2App/components/VisualizationOptions/Options/NumberType.js","D2App/components/VisualizationOptions/Options/ParamOrganisationUnit.js","D2App/components/VisualizationOptions/Options/ParamParentOrganisationUnit.js","D2App/components/VisualizationOptions/Options/ParamReportingPeriod.js","D2App/components/VisualizationOptions/Options/Regression.js","D2App/components/VisualizationOptions/Options/RowSubTotals.js","D2App/components/VisualizationOptions/Options/RowTotals.js","D2App/components/VisualizationOptions/Options/ShowDimensionLabels.js","D2App/components/VisualizationOptions/Options/ShowHierarchy.js","D2App/components/VisualizationOptions/Options/TopLimit.js","D2App/modules/options/sections/templates/emptyData.js","D2App/modules/options/sections/templates/totals.js","D2App/components/VisualizationOptions/Options/ExtremeLines.js","D2App/components/VisualizationOptions/Options/OutlierDetectionMethod.js","D2App/components/VisualizationOptions/Options/Outliers.js","D2App/modules/options/config.js","D2App/modules/options/pieConfig.js","D2App/modules/options/singleValueConfig.js","D2App/modules/options/pivotTableConfig.js","D2App/modules/options/scatterConfig.js","D2App/modules/options/tabs/outliers.js","D2App/modules/options/defaultConfig.js","D2App/components/VisualizationOptions/VisualizationOptionsManager.js","D2App/components/MenuBar/MenuBar.js","D2App/assets/InterpretationIcon.js","D2App/components/TitleBar/styles/TitleBar.style.js","D2App/components/TitleBar/TitleBar.js","../../../../plugin/build/es/api/legendSets.js","../../../../plugin/build/es/ChartPlugin.js","../../../../plugin/build/es/assets/ArrowDownwardIcon.js","../../../../plugin/build/es/assets/ArrowUpwardIcon.js","../../../../plugin/build/es/ContextualMenu.js","../../../../plugin/build/es/modules/analytics.js","../../../../plugin/build/es/api/analytics.js","../../../../plugin/build/es/modules/options.js","../../../../plugin/build/es/modules/getRequestOptions.js","../../../../plugin/build/es/modules/fetchData.js","../../../../plugin/build/es/PivotPlugin.js","../../../../plugin/build/es/VisualizationPlugin.js","D2App/widgets/LoadingMask.js","D2App/components/Visualization/StartScreen.js","D2App/api/mostViewedVisualizations.js","D2App/components/Visualization/utils.js","D2App/components/Visualization/styles/Visualization.style.js","D2App/components/Visualization/Visualization.js","D2App/actions/chart.js","D2App/assets/ArrowDown.js","D2App/modules/currentAnalyticalObject.js","D2App/assets/AreaIcon.js","D2App/assets/BarIcon.js","D2App/assets/ColumnIcon.js","D2App/assets/GaugeIcon.js","D2App/assets/GlobeIcon.js","D2App/assets/LineIcon.js","D2App/assets/PieIcon.js","D2App/assets/PivotTableIcon.js","D2App/assets/RadarIcon.js","D2App/assets/ScatterIcon.js","D2App/assets/SingleValueIcon.js","D2App/assets/StackedAreaIcon.js","D2App/assets/StackedBarIcon.js","D2App/assets/StackedColumnIcon.js","D2App/assets/YearOverYearColumnIcon.js","D2App/assets/YearOverYearLineIcon.js","D2App/components/VisualizationTypeSelector/ListItemIcon.js","D2App/components/VisualizationTypeSelector/VisualizationTypeListItem.js","D2App/components/VisualizationTypeSelector/VisualizationTypeSelector.js","D2App/components/App.js","D2App/components/UserSettingsProvider.js","D2App/configureStore.js","D2App/middleware/metadata.js","D2App/locales/index.js","D2App/AppWrapper.js"],"names":["module","exports","formatDate","value","uiLocale","global","Intl","DateTimeFormat","year","month","day","format","Date","substr","replace","onError","error","console","log","EVENT_TYPE","dataStatisticMutation","resource","params","id","favorite","eventType","type","BASE_FIELD_NAME","BASE_FIELD_TYPE","BASE_FIELD_YEARLY_SERIES","getFieldObject","name","props","fieldsByType","reportTable","option","chart","excluded","eventReport","reportTable_eventReport","chart_eventChart","eventReport_eventChart","reportTable_eventReport_eventChart","reportTable_chart_eventReport_eventChart","visualization","extractName","propObj","markExcluded","fieldObj","moveExcludedToEnd","acc","current","curIndex","array","slice","charAt","push","shift","getAllFieldObjectsByType","Object","entries","reduce","fields","key","includes","concat","NAME","LEGEND_SET","AXIS","nestedFields","columns","rows","filters","user","interpretations","legend","extendFields","field","visualizationQuery","map","sort","join","visualizationsQuery","visualizationIds","filter","RECEIVED_SNACKBAR_MESSAGE","CLEAR_SNACKBAR","DEFAULT_SNACKBAR","message","duration","state","action","sGetSnackbar","snackbar","acReceivedSnackbarMessage","acClearSnackbar","VARIANT_ERROR","VARIANT_SUCCESS","VARIANT_WARNING","Snackbar","connect","dispatch","onClose","variant","React","createElement","className","styles","container","AlertBar","critical","success","warning","permanent","onHidden","EmptyBox","width","height","xmlns","d","fill","fillRule","PeriodError","DataError","EmptySeries","EmptyCategory","GenericError","viewBox","transform","VisualizationError","constructor","icon","title","description","this","EmptyResponseError","super","i18n","t","NoSeriesError","visType","axisName","getAxisNameByLayoutType","AXIS_ID_COLUMNS","getLayoutTypeByVisType","NoCategoryError","AXIS_ID_ROWS","NoSeriesOrCategoryError","columnsAxisName","rowsAxisName","visualizationType","getDisplayNameByVisType","NoPeriodError","axes","getAvailableAxesDescription","NoPointsError","NoVerticalError","NoHorizontalError","DuplicateItemsError","NoDataOrDataElementGroupSetError","lockedAxis","getAxisPerLockedDimension","DIMENSION_ID_DATA","NoDataError","MultipleIndicatorAsFilterError","CombinationDEGSRRError","genericErrorTitle","GenericClientError","GenericServerError","AssignedCategoriesDataElementsError","AssignedCategoriesAsFilterError","VisualizationNotFoundError","NoOrgUnitResponseError","getAvailableAxes","axesDescription","index","length","createHashHistory","SOURCE_DIMENSIONS","getFilteredLayout","layout","excludedIds","_layout$AXIS_ID_COLUM","_layout$AXIS_ID_ROWS","_layout$AXIS_ID_FILTE","ids","Array","isArray","dim","AXIS_ID_FILTERS","getInverseLayout","forEach","axisId","dimensionIds","getRetransfer","transfer","inverseLayout","keys","retransfer","sourceAxis","destinationAxisId","dimensionsAtDestination","isAxisFull","transferableDimension","getTransferableDimension","find","axis","getAxisMaxNumberOfDimensions","OPTION_SHOW_SERIES_KEY","OPTION_SHOW_LEGEND_KEY","OPTION_AXIS_STEPS","OPTION_AXIS_DECIMALS","OPTION_AXIS_MAX_VALUE","OPTION_AXIS_MIN_VALUE","OPTION_AXIS_TITLE","OPTION_AXIS_TITLE_TEXT_MODE","OPTION_BASE_LINE_ENABLED","OPTION_BASE_LINE_TITLE","OPTION_BASE_LINE_VALUE","OPTION_BASE_LINE_TITLE_FONT_STYLE","OPTION_TARGET_LINE_ENABLED","OPTION_TARGET_LINE_TITLE","OPTION_TARGET_LINE_VALUE","OPTION_TARGET_LINE_TITLE_FONT_STYLE","OPTION_LEGEND_DISPLAY_STRATEGY","OPTION_LEGEND_DISPLAY_STYLE","OPTION_LEGEND_SET","options","requestable","savable","defaultValue","colorSet","COLOR_SET_DEFAULT","cumulativeValues","hideEmptyRowItems","seriesKey","noSpaceBetweenColumns","percentStackedValues","regressionType","showData","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","undefined","series","fontStyle","outlierAnalysis","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","displayDensity","fontSize","digitGroupSeparator","approvalLevel","fixColumnHeaders","fixRowHeaders","requestble","reportingPeriod","organisationUnit","parentOrganisationUnit","grandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","getOptionsForUi","getOptionsFromVisualization","optionsFromVisualization","pick","targetLine","baseLine","clonedAxis","enabled","reportingParams","prototype","hasOwnProperty","call","String","removeLastPathSegment","path","match","lastIndexOf","getOuPath","metadata","parentGraphMap","SERIES_ITEM_TYPE_PROP","ITEM_ATTRIBUTE_VERTICAL","ITEM_ATTRIBUTE_HORIZONTAL","defaultUiAdapter","ui","getAdaptedUiLayoutByType","getAdaptedUiByType","VIS_TYPE_YEAR_OVER_YEAR_LINE","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","assign","items","itemsByDimension","DIMENSION_ID_PERIOD","yearOverYearUiAdapter","VIS_TYPE_PIVOT_TABLE","VIS_TYPE_GAUGE","VIS_TYPE_SINGLE_VALUE","adaptedUi","singleValueUiAdapter","VIS_TYPE_SCATTER","dataItems","itemAttributes","attribute","scatterUiAdapter","getParentGraphMapFromVisualization","vis","dimensionIdsByAxis","layoutGetAxisIdDimensionIdsObject","ouAxis","DIMENSION_ID_ORGUNIT","dimension","orgUnit","getAxesFromUi","dimensionId","hasItems","object","getPredefinedDimensionProp","DIMENSION_PROP_NO_ITEMS","dimensionCreate","getOptionsFromUi","optionsFromUi","rest","Number","getItemsByDimensionFromUi","result","some","ALL_DYNAMIC_DIMENSION_ITEMS","getSingleValueCurrentFromUi","axesFromUi","dxItems","layoutGetDimensionItems","singleValueAxesFromUi","layoutReplaceDimension","getScatterCurrentFromUi","verticalItem","item","horizontalItem","scatterAxesFromUi","getPieCurrentFromUi","VIS_TYPE_PIE","getYearOverYearCurrentFromUi","periodDimension","yearOverYearCategory","yearOverYearSeries","SET_CURRENT","SET_CURRENT_FROM_UI","CLEAR_CURRENT","DEFAULT_CURRENT","getDefaultFromUi","sGetCurrent","sGetCurrentFromUi","SET_VISUALIZATION","CLEAR_VISUALIZATION","DEFAULT_VISUALIZATION","sGetVisualization","getVisualizationState","STATE_EMPTY","STATE_UNSAVED","STATE_SAVED","STATE_DIRTY","ADD_SETTINGS","DEFAULT_SETTINGS","keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator","keyIgnoreAnalyticsApprovalYearThreshold","displayNameProperty","rootOrganisationUnits","sGetSettings","settings","sGetSettingsDisplayNameProperty","sGetSettingsDigitGroupSeparator","sGetRootOrgUnits","sGetRelativePeriod","sGetUiLocale","SET_CHART","sGetChart","acSetUi","SET_UI","acClear","CLEAR_UI","acSetUiFromVisualization","SET_UI_FROM_VISUALIZATION","acSetUiType","SET_UI_TYPE","acSetUiOptions","SET_UI_OPTIONS","acSetUiOption","SET_UI_OPTION","acSetUiOptionFontStyle","SET_UI_OPTION_FONT_STYLE","acUpdateUiSeriesItem","UPDATE_UI_SERIES_ITEM","acSetUiLayout","SET_UI_LAYOUT","acAddUiLayoutDimensions","ADD_UI_LAYOUT_DIMENSIONS","acRemoveUiLayoutDimensions","REMOVE_UI_LAYOUT_DIMENSIONS","acSetUiItems","SET_UI_ITEMS","acRemoveUiItems","REMOVE_UI_ITEMS","acSetUiYearOverYearSeries","SET_UI_YEAR_ON_YEAR_SERIES","acSetUiYearOverYearCategory","SET_UI_YEAR_ON_YEAR_CATEGORY","acSetUiItemAttributes","SET_UI_ITEM_ATTRIBUTES","acRemoveUiItemAttributes","REMOVE_UI_ITEM_ATTRIBUTES","acAddParentGraphMap","ADD_UI_PARENT_GRAPH_MAP","acSetUiActiveModalDialog","SET_UI_ACTIVE_MODAL_DIALOG","acToggleUiRightSidebarOpen","TOGGLE_UI_RIGHT_SIDEBAR_OPEN","acSetUiRightSidebarOpen","SET_UI_RIGHT_SIDEBAR_OPEN","acSetUiInterpretation","SET_UI_INTERPRETATION","acClearUiInterpretation","CLEAR_UI_INTERPRETATION","acClearSeriesType","CLEAR_SERIES_TYPE","_JSXStyle","spacers","dp24","dp16","colors","grey300","dp8","tabSectionTitle","dp12","grey900","tabSectionTitleMargin","tabSectionOption","tabSectionOptionText","grey700","tabSectionOptionToggleable","dp4","tabSectionToggleableSubsection","tabSectionOptionComplexInline","tabSectionOptionIcon","grey600","BoldIcon","FontColorIcon","color","cx","cy","r","defaultProps","ItalicIcon","ownProps","sGetUiOption","fontStyleKey","sGetUiType","onChange","optionId","fontStyleOption","disabled","dataTest","isVertical","fontSizeOptions","values","getFontSizeOptions","textAlignOptions","getTextAlignOptions","isVerticalType","onChangeColor","debounce","FONT_STYLE_OPTION_TEXT_COLOR","FONT_STYLE_OPTION_FONT_SIZE","SingleSelect","selected","toString","prefix","dense","fontSizeSelect","_option$value","_option$value2","_option$value3","SingleSelectOption","label","FONT_STYLE_OPTION_TEXT_ALIGN","textAlignSelect","_option$value4","buttonStrip","FONT_STYLE_OPTION_BOLD","FONT_STYLE_OPTION_ITALIC","textColorLabel","e","target","textColorInput","textColorIcon","Button","onClick","small","secondary","toggled","TITLE_AUTO","TITLE_NONE","TITLE_CUSTOM","textMode","onTextChange","onTextModeChange","setTitleColor","setFontStyle","hasCustomAxes","showAutoOption","onRadioChange","newTextMode","defaultFontStyle","Label","Field","Radio","checked","InputField","placeholder","inputWidth","TextStyle","textColor","every","DEFAULT_UI","defaultVisType","activeModalDialog","rightSidebarOpen","interpretation","PRESELECTED_YEAR_OVER_YEAR_SERIES","PRESELECTED_YEAR_OVER_YEAR_CATEGORY","currentState","layoutGetDimensionIdItemIdsObject","isYearOverYear","getUiFromVisualization","axisType","axisIndex","split","pushAxis","getAxis","hidden","strategy","style","showKey","set","text","prop","_axis$prop","_axis$prop$title","FONT_STYLE_REGRESSION_LINE_LABEL","FONT_STYLE_VERTICAL_AXIS_TITLE","FONT_STYLE_HORIZONTAL_AXIS_TITLE","_axis$title","FONT_STYLE_AXIS_LABELS","_axis$label","FONT_STYLE_LEGEND","_options$seriesKey$la","FONT_STYLE_VISUALIZATION_TITLE","FONT_STYLE_VISUALIZATION_SUBTITLE","deepClean","cleanAxes","transfers","newLayout","canDimensionBeAddedToAxis","splice","itemIds","itemIdsToRemove","castArray","Set","itemAttr","itemId","itemAttribute","relativePeriod","root","USER_ORG_UNIT","getPreselectedUi","changedItem","itemIndex","findIndex","dimensionItem","remove","sGetUi","sGetUiOptions","sGetUiLayout","sGetUiItems","sGetUiYearOverYearSeries","sGetUiYearOverYearCategory","sGetUiItemsByAttribute","sGetUiParentGraphMap","sGetUiActiveModalDialog","sGetUiRightSidebarOpen","sGetUiInterpretation","sGetAxes","sGetAxisIdByDimensionId","sGetUiItemsByDimension","sGetDimensionItemsByAxis","flat","sGetDimensionIdsFromLayout","axisDimensionIds","sLayoutHasDimension","sLayoutHasAssignedCategories","DIMENSION_ID_ASSIGNED_CATEGORIES","sGetAxisSetup","_getAxis$title","_getAxis$title2","_options$seriesKey","_options$legend","_options$legend2","_options$legend3","_options$legend4","_options$seriesKey2","_options$seriesKey2$l","_getAxis$baseLine","_getAxis$baseLine2","_getAxis$baseLine2$ti","_getAxis$baseLine3","_getAxis$baseLine4","_getAxis$baseLine4$ti","_getAxis$targetLine","_getAxis$targetLine2","_getAxis$targetLine2$","_getAxis$targetLine3","_getAxis$targetLine4","_getAxis$targetLine4$","_getAxis$label","_getAxis$title3","getConsolidatedFontStyle","input","objectClean","updatedAxes","cleanAxis","i","acSetCurrent","acSetCurrentFromUi","tSetCurrentFromUi","async","getState","SET_DIMENSIONS","SET_SELECTED_DIMENSION","DEFAULT_DIMENSIONS","getPredefinedDimensions","sGetDimensions","dimensions","acSetDimensions","keyBy","sortBy","toLowerCase","tSetDimensions","engine","displayNameProp","onSuccess","apiFetchDimensions","err","SET_LOAD_ERROR","CLEAR_LOAD_ERROR","SET_LOADING","SET_PLUGIN_LOADING","DEFAULT_LOADING","isLoading","loadingError","isPluginLoading","sGetLoadError","loader","sGetIsPluginLoading","acSetLoadError","acClearLoadError","acSetPluginLoading","ADD_METADATA","DEFAULT_METADATA","sGetMetadata","acAddMetadata","SET_RECOMMENDED_IDS","DEFAULT_RECOMMENDED_IDS","sGetRecommendedIds","recommendedIds","systemSettingsQuery","acAddSettings","tAddSettings","extraSettings","fetchSystemSettings","dataEngine","query","systemSettings","apiFetchSystemSettings","fetchOrgUnitRoots","apiFetchOrganisationUnitRoots","orgUnitRoots","Promise","all","fetchedSettings","userAuthorityQuery","authority","authorityId","RECEIVED_USER","SET_USER_AUTHORITY","DEFAULT_USER","username","isSuperuser","authorities","sGetUser","sGetUsername","acReceivedUser","acSetUserAuthority","tLoadUserAuthority","authorityKey","response","variables","acSetVisualization","logError","adaptAxisItems","ai","_ai$items","clearAll","fromLoader","fromVisualization","fromCurrent","fromUi","tDoSaveVisualization","copy","getVisualizationFromCurrent","date","toLocaleDateString","res","mutation","data","skipTranslations","skipSharing","mutate","apiSaveVisualization","status","uid","history","pathname","isSaving","NAMESPACE","CURRENT_AO_KEY","hasNamespace","d2","currentUser","dataStore","has","getNamespace","get","create","apiSaveAOInUserDataStore","namespace","getInstance","apiSave","apiFetchAOFromUserDataStore","apiFetch","combineReducers","d2Object","keyUiLocale","sGetSeriesSetupItems","_fromMetadata$sGetMet","fromMetadata","_extends","arguments","source","apply","HideButton","UpdateButton","primary","isAxisValid","isValid","axisItem","dimensionIsValid","requireItems","validateDimension","validateAxis","validateLayout","layoutGetDimension","validatePieLayout","validateYearOverYearLayout","validateSingleValueLayout","validatePivotTableLayout","_layout$ui$itemAttrib","_layout$ui$itemAttrib2","verticalItems","horizontalItems","validateScatterLayout","validateDefaultLayout","mapDispatchToProps","getCurrent","getCurrentFromUi","onUpdate","fromActions","onLoadingStart","renderComponent","urlContainsCurrentAOKey","location","pathWithoutInterpretation","dialogId","onAddDimension","availableAxes","AddToLayoutButton","SplitButton","clickHandler","component","FlyoutMenu","maxWidth","MenuItem","_defineProperty","obj","defineProperty","enumerable","configurable","writable","isScatterAttribute","getExcludedPeriodTypes","types","DAILY","WEEKLY","WEEKLYWED","WEEKLYTHU","WEEKLYSAT","WEEKLYSUN","BIWEEKLY","MONTHLY","BIMONTHLY","DialogManager","Component","args","onMounted","prevProps","isEqual","dxIds","ouIds","fetchRecommended","ouMounted","setState","apiFetchRecommendedIds","context","setRecommendedIds","setUiItemAttributes","setUiItems","forMetadata","forParentGraphMap","ou","ouIdHelper","removePrefix","displayName","addMetadata","addParentGraphMap","changeDialog","getItemsByAttribute","selectedItems","_this$props$metadata$","_this$props$metadata$2","_this$props$metadata$3","dimensionItemType","ouUid","dimensionProps","getOrgUnitsFromIds","display","OrgUnitDimension","roots","rootOrgUnits","rootOrgUnit","onSelect","selectUiItems","Fragment","renderPersistedContent","getSelectedItems","infoBoxMessage","getAxisIdByDimensionId","numberOfItems","axisMaxNumberOfItems","getAxisMaxNumberOfItems","visualiationType","maxNumber","isActive","content","dimensionSelector","DataDimension","selectedDimensions","dataTabs","TabBar","tabs","Tab","PeriodDimension","selectedPeriods","excludedPeriodTypes","filterOutPredefinedDimensions","DynamicDimension","dimensionTitle","dynamicContent","handler","closeDialog","render","Modal","position","large","ModalTitle","ModalContent","renderDialogContent","ModalActions","ButtonStrip","UpdateVisualizationContainer","dimensionIdsInLayout","getPrimaryOnClick","contextTypes","PropTypes","DndDimensionItem","isSelected","isLocked","isDeactivated","isRecommended","onOptionsClick","itemCommonProps","Draggable","draggableId","isDragDisabled","provided","snapshot","DimensionItem","innerRef","draggableProps","dragHandleProps","isDragging","dragging","notDragging","dimensionItemClone","DndDimensionList","filterText","selectedIds","disallowedDimensions","lockedDimensions","itemProps","dndIndex","isLockedDimension","isDisabledDimension","isRecommendedDimension","onDimensionClick","onDimensionOptionsClick","nameContainsFilterText","renderItem","fixedDimensions","getDimensionItemsByFilter","getFixedDimensions","fixedDim","dynamicDimensions","getDynamicDimensions","dynDim","nonPredefinedDimensions","predefDim","Droppable","droppableId","isDropDisabled","ref","droppableProps","wrapper","section","header","list","getDisallowedDimensionsMemo","createSelector","fromReducers","getDisallowedDimensions","getisLockedDimensionsMemo","getAllLockedDimensionIds","DndDimensionsPanel","DimensionFilter","onFilterTextChange","onClear","onClearFilter","disableUnderline","divContainer","flexDirection","backgroundColor","grey050","layoutHasAssignedCategories","getCurrentAxisId","axisItemHandler","numberOfDimensionItems","isDimensionInLayout","removeItemHandler","assignedCategoriesItemHandler","menuIsOpen","setMenuIsOpen","useState","setDimensionId","setRef","toggleMenu","event","stopPropagation","Layer","Popper","reference","placement","DimensionMenu","currentAxisId","isAssignedCategoriesInLayout","destination","DndContext","sourceAxisId","sourceIndex","destinationIndex","sourceList","from","moved","onReorderDimensions","onAddDimensions","Boolean","onDropWithoutItems","addDimensionToLayout","rearrangeLayoutDimensions","DragDropContext","onDragEnd","children","UnconnectedInterpretations","interpretationUrl","created","interpretationId","InterpretationsComponent","currentInterpretationId","onCurrentInterpretationChange","onInterpretationChange","Interpretations","DynamicDimensionIcon","version","stroke","strokeWidth","x","y","strokeLinecap","strokeLinejoin","DATA_TYPE_TEXT","AXIS_PADDING","AXIS_BORDER_COLOR","AXIS_BORDER_STYLE","AXIS_BORDER_WIDTH","AXIS_BACKGROUND_COLOR","white","baseChip","padding","fontWeight","cursor","minHeight","userSelect","chipWrapper","margin","theme","secondary200","borderRadius","alignItems","chip","whiteSpace","overflow","textOverflow","chipEmpty","fixedDimensionIcon","paddingRight","leftIconWrapper","rightIconWrapper","paddingLeft","marginTop","chipLeft","borderTopRightRadius","borderBottomRightRadius","chipRight","borderTopLeftRadius","borderBottomLeftRadius","tooltip","fontFamily","boxShadow","top","listStyleType","marginBottom","iconWrapper","marginLeft","labels","number","displayLimitedAmount","lockedLabel","hasAllItemsSelected","getNameList","idList","levelString","levelId","itemDisplayNames","levelIds","groupIds","hasLevelPrefix","hasGroupPrefix","getItemDisplayNames","warningLabel","getWarningLabel","hasNoItemsLabel","IconWarningFilled16","renderWarningLabel","IconLock16","itemsToRender","renderItems","Chip","dimensionName","contextMenu","Math","random","LockIconWrapper","WarningIconWrapper","isSplitAxis","getMaxNumberOfItems","handleClick","renderChipContent","Icon","dynamicDimensionIcon","renderChipIcon","itemsLabel","total","_metadata$items$","renderChipLabelSuffix","hasAxisTooManyItems","draggable","onDragStart","dataTransfer","setData","JSON","stringify","dataset","dimensionid","Tooltip","activeItemIds","visTypeName","TooltipContent","renderTooltipContent","onMouseOver","onMouseOut","IconButton","onBlur","onFocus","ariaOwns","ariaHaspopup","iconButton","buttonRef","useRef","IconMore16","axisContainer","layoutStyle","borderColor","borderStyle","borderWidth","axisContainerLeft","borderLeftWidth","minWidth","letterSpacing","Axis","preventDefault","getOpenHandler","getItemsByDimension","onDragOver","direction","stylesModule","isDimensionLocked","ChipMenu","stateProps","dispatchProps","FILTER_AXIS_WIDTH","ct","axisGroup","axisGroupLeft","flexBasis","parseInt","axisGroupRight","Layout","DefaultAxis","defaultAxisStyles","defaultLayoutStyles","pieLayoutStyles","pivotTableLayoutStyles","HorizontalIcon","VerticalIcon","setItemAttributes","removeItemAttributes","dialogIsOpen","setDialogIsOpen","onSwap","MenuDivider","scatterLayoutStyles","ScatterAxis","seriesOptions","getName","len","getFullYear","yearString","getFixedYears","categoryOptions","flex","LAYOUT_TYPE_YEAR_OVER_YEAR","YearOverYearAxisStyles","SinglePeriodSelector","MultiPeriodSelector","MultiSelect","MultiSelectOption","YearOverYearSelect","multiple","YearOverYearLayoutStyles","YearOverYearAxis","onSeriesChange","onCategoryChange","componentMap","LAYOUT_TYPE_DEFAULT","DefaultLayout","LAYOUT_TYPE_PIE","PieLayout","YearOverYearLayout","LAYOUT_TYPE_PIVOT_TABLE","PivotTableLayout","LAYOUT_TYPE_SCATTER","ScatterLayout","layoutType","LayoutComponent","addCommonParameters","req","withSkipRounding","withAggregationType","withMeasureCriteria","withParameters","displayProperty","withDisplayProperty","withApprovalLevel","relativePeriodDate","withRelativePeriodDate","MenuButton","menuButton","DenseMenuItem","relativePeriodDateSelector","DownloadMenu","useDataEngine","baseUrl","useConfig","downloadImage","formData","URLSearchParams","append","blob","api","Api","getApi","url","fetch","method","body","headers","Headers","defaultHeaders","then","apiDownloadImage","URL","createObjectURL","window","open","downloadData","idScheme","Analytics","getAnalytics","request","withFormat","withShowHierarchy","withHierarchyMeta","withIncludeMetadataDetails","withIncludeNumDen","withPath","withOutputIdScheme","buildUrl","origin","buildQuery","searchParams","apiDownloadData","downloadTable","withTableLayout","withRows","withColumns","withHideEmptyColumns","withHideEmptyRows","apiDownloadTable","plainDataSourceSubLevel","Children","toArray","MenuSectionHeader","createRef","onKeyDown","keyCode","IconImage24","IconFileDocument24","InterpretationsButton","IconChevronRight24","IconChevronLeft24","SelectBaseOption","helpText","toggleable","_option$items$find","setChecked","Checkbox","onToggle","SingleSelectField","AggregationType","CheckboxBaseOption","inverted","CheckboxField","CompletedOnly","getAdvancedTemplate","NoSpaceBetweenColumns","ShowData","ShowSeriesKey","defaultContent","columnContent","isColumnBased","getChartStyleTemplate","COLOR_SET_OPTION_NAME","ColorSetPreview","opacity","patterns","pattern","patternUnits","COLOR_SET_BASIC","COLOR_SET_EXTENDED","COLOR_SET_BRIGHT","COLOR_SET_DARK","COLOR_SET_GRAY","COLOR_SET_COLOR_BLIND","COLOR_SET_PATTERNS","colorSets","hasDisabledSections","ColorSet","CumulativeValues","optionName","HideEmptyRowItems","PercentStackedValues","SkipRounding","SortOrder","stackedContent","isStacked","getDisplayTemplate","AxisLabels","template","getVerticalAxisTemplate","getHorizontalAxisTemplate","AxisTitle","InfoText","IconInfo16","UnconnectedTextBaseOption","inline","Box","Input","TextBaseOption","enabledId","RegressionLineTitle","RegressionLineValue","NumberBaseType","valueId","titleId","BaseLine","RegressionLine","RegressionType","TargetLine","getLinesTemplate","PositiveNumberBaseType","parsedValue","round","AxisDecimals","AxisMaxValue","AxisMinValue","AxisRange","Help","AxisSteps","showLines","Subtitle","HIDE_SUBTITLE_AUTO","HIDE_SUBTITLE_NONE","HIDE_SUBTITLE_CUSTOM","HideSubtitle","defaultState","onGroupChange","hideSubtitleSelector","uiOptions","Title","HIDE_TITLE_AUTO","HIDE_TITLE_NONE","HIDE_TITLE_CUSTOM","HideTitle","hideTitleSelector","VerticalTab","tab","VerticalTabBar","AxesTabs","selectedTabIndex","setSelectedTabIndex","legendSets","paging","LegendSetSelect","loading","loadingText","setOptions","isLoaded","setIsLoaded","legendSet","LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM","LEGEND_DISPLAY_STRATEGY_FIXED","LegendSet","LegendDisplayStyle","RadioBaseOption","LEGEND_DISPLAY_STYLE_FILL","LEGEND_DISPLAY_STYLE_TEXT","ShowLegendKey","legendDisplayStrategy","hideStyleOptions","legendEnabled","setLegendEnabled","FieldSet","UiCoreLegend","LegendDisplayStrategy","Legend","OperatorSelect","tabIndex","inputMaxWidth","ValueInput","MeasureCriteria","op1","v1","op2","v2","_op","_v","_op2","_v2","paddingTop","AxisOne","AxisTwo","AxisThree","AxisFour","allTypes","VIS_TYPE_COLUMN","VIS_TYPE_LINE","SeriesTable","layoutItems","optionItems","onItemChange","showAxisOptions","showTypeOptions","availableTypes","useEffect","matchedItems","matchedItem","renderAxisIcon","renderError","errorContainer","errorIcon","errorTitle","errorDescription","hasRelativeItems","Table","suppressZebraStriping","table","nameColumn","typeColumn","axisColumn","TableHead","tableHead","TableRow","tableRow","TableCell","tableCell","axisIcon","TableBody","tableBody","itemName","itemType","VisualizationTypeIcon","visTypeIcons","typeContainer","radioInput","visIcon","itemAxis","NoticeBox","UiNoticeBox","APPROVAL_LEVEL_OPTION_AUTH","dataApprovalLevels","order","ApprovalLevelSelect","approvalLevelEnabledSelector","level","ColSubTotals","ColTotals","Cumulative","DigitGroupSeparator","DisplayDensity","FixColumnHeaders","columnsHasItems","FixRowHeaders","rowsHasItems","FontSize","HideEmptyColumns","HideEmptyRows","NumberType","ParamOrganisationUnit","ParamParentOrganisationUnit","ParamReportingPeriod","Regression","RowSubTotals","RowTotals","ShowDimensionLabels","ShowHierarchy","TopLimit","ExtremeLines","isEnabled","onEnabledChange","currentValue","onValueChange","min","step","OutlierDetectionMethod","methods","currentMethodId","onMethodChange","currentThreshold","onThresholdChange","ENABLED_PROP","METHOD_PROP","THRESHOLD_PROP","EL_ENABLED_PROP","EL_VALUE_PROP","OUTLIER_ANALYSIS_OPTION_NAME","defaultThreshold","DEFAULT_STATE","extremeLines","storeProp","storeExtremeLinesProp","divider","getOptionsByType","hasDimensionItemsInColumns","hasDimensionItemsInRows","rangeAxisIds","isStackedType","isColumnBasedType","supportsLegends","isLegendSetType","supportsMultiAxes","isDualAxisType","supportsMultiType","isMultiType","getDataTab","getAdvancedSection","getLegendTab","getAxesTab","getSeriesTab","getStyleTab","getTitlesSection","getColorSetSection","getLimitValuesTab","getTotalsTemplate","getEmptyDataTemplate","ApprovalLevel","pivotTableConfig","getRangeAxisSection","Outliers","scatterConfig","getDisplaySection","getLinesSection","getDomainAxisSection","getChartStyleSection","defaultConfig","columnDimensionItems","rowDimensionItems","toggleVisualizationOptionsDialog","filteredSeries","seriesItem","layoutItem","optionsConfig","serie","a","b","VisualizationOptions","onOpen","isOpening","onNew","isResetting","getOnRename","details","onRenameVisualization","getOnSave","onSaveVisualization","getOnSaveAs","getOnDelete","onDeleteVisualization","getOnError","UnconnectedMenuBar","menuBar","updateButton","FileMenu","fileType","apiObjectName","fileObject","onRename","onSave","onSaveAs","onDelete","VisualizationOptionsManager","grow","MenuBar","updatedVisualization","updatedCurrent","fromSnackbar","deletedObject","errorCode","statusCode","httpStatusCode","InterpretationIcon","rx","points","titleBar","justifyContent","cell","background","suffix","interpretationIcon","marginRight","titleUnsaved","grey500","titleDirty","defaultTitleStyle","defaultInterpretationStyle","getTitleText","titleState","getCustomTitleStyle","getSuffix","TitleBar","titleText","interpretationDate","titleStyle","legendSetsQuery","ChartPlugin","responses","extraOptions","renderCounter","onChartGenerated","animation","defaultAnimation","onToggleContextualMenu","canvasRef","prevStyle","prevRenderCounter","renderVisualization","useCallback","visualizationConfig","createVisualization","isSingleValue","getSVGForExport","sourceHeight","sourceWidth","Function","propTypes","isRequired","arrayOf","func","ArrowDownwardIcon","ArrowUpwardIcon","ContextualMenu","config","ouLevels","ouData","setOuData","subLevelData","setSubLevelData","doFetchOuData","apiFetchOrganisationUnit","ouId","doFetch","levelData","menuItemStyle","parent","Divider","orgunit","string","getRelativePeriodTypeUsed","periodItems","getRelativePeriodsOptionsById","getPeriods","period","periodId","apiFetchAnalytics","analyticsEngine","rawResponse","aggregate","prepareRequestsForRelativeDays","yearlySeriesRes","currentMonth","currentDay","yearlySeriesLabels","periodDates","yearlySeriesIds","metaData","reverse","isFeb29","isLeapYear","getDate","prepareRequestsForRelativeWeeks","referencePeriodYear","referencePeriodReq","withSkipData","withSkipMeta","referenceWeekPeriod","pop","referenceWeekYear","referenceWeekNumber","referenceWeekYearDelta","weekPeriods","periods","weekPeriodsReq","addPeriodDimension","weekPeriodsRes","seenYears","periodDate","endDate","setDate","getMonth","padStart","unshift","getRequestOptions","userSettings","entry","userOrgUnit","ouPath","removeItemAllFromAxisItems","fetchData","forDashboard","adaptedVisualization","dashboard","yearlySeriesReq","yearlySeries","now","WEEKS_THIS_YEAR","relativeWeeksData","relativeDaysData","requests","apiFetchAnalyticsForYearOverYear","peItems","relativePeriodTypeUsed","periodKeyAxisIndexMatrix","periodGroups","pe","periodGroup","matchGroups","xAxisIndexForPeriod","periodKeys","indexForFeb28","periodKey","test","week","indexForW2","indexForPrevWeekInYear","computeYoYMatrix","periodKeyAxisIndexMap","xAxisLabels","computeGenericPeriodNamesFromMatrix","out","genericPeriodNames","computeGenericPeriodNames","PivotPlugin","PivotTable","VisualizationPlugin","onLoadingComplete","onResponsesReceived","onDrill","_visualization$legend5","_legendSets","setOuLevels","fetchResult","setFetchResult","contextualMenuRef","setContextualMenuRef","contextualMenuConfig","setContextualMenuConfig","showLegendKey","setShowLegendKey","renderId","setRenderId","category","_Object$values$find","column","_Object$values$find2","closeContextualMenu","doFetchData","doFetchLegendSets","legendSetIds","apiFetchLegendSets","apiFetchOrganisationUnitLevels","doFetchOuLevels","_visualization$legend","_visualization$legend2","_visualization$legend3","_visualization$legend4","dx","dxId","legendSetId","doFetchAll","catch","contextualMenuRect","getBoundingClientRect","virtualContextualMenuElement","legendSetItemMap","unsupportedDimensions","supportedLegendSet","hasLegendSet","transformedStyle","convertOuLevelsToUids","_fetchResult$visualiz","legendKey","buttonMargin","LegendKey","legendKeyToggle","IconLegend24","getLegendKey","bool","LoadingMask","outer","CircularLoader","progress","mostViewedVisualizations","setMostViewedVisualizations","visualizations","pageSize","apiFetchMostViewedVisualizations","visualizationsResult","visualizationsWithType","_visualizationsWithTy","visWithType","matchVisualizationWithType","populateMostViewedVisualizations","getErrorContent","inner","guide","guideItem","VisualizationIcon","chartCanvas","loadingCover","left","zIndex","UnconnectedVisualization","_response$details","_response$message","_response$message2","setLoadError","svg","setChart","drillData","setCurrent","addEventListener","getNewRenderId","componentDidMount","addResizeHandler","componentDidUpdate","visFilters","StartScreen","visualizationSelector","visFiltersSelector","userSettingsSelector","Visualization","ArrowDown","getPathForOrgUnit","prepareCurrentAnalyticalObject","removeUnnecessaryAttributesFromAnalyticalObject","appendNames","appendDimensionItemNamesToAnalyticalObject","appendDimensionType","appendDimensionItemTypeToAnalyticalObject","appendPathsToOrgUnits","appendCompleteParentGraphMap","AreaIcon","BarIcon","ColumnIcon","GaugeIcon","GlobeIcon","LineIcon","PieIcon","PivotTableIcon","RadarIcon","ScatterIcon","SingleValueIcon","StackedAreaIcon","StackedBarIcon","StackedColumnIcon","YearOverYearColumnIcon","YearOverYearLineIcon","ListItemIcon","iconType","VIS_TYPE_STACKED_COLUMN","VIS_TYPE_BAR","VIS_TYPE_STACKED_BAR","VIS_TYPE_AREA","VIS_TYPE_STACKED_AREA","VIS_TYPE_RADAR","VisualizationTypeListItem","classNames","listItem","listItemActive","listItemDisabled","listItemIcon","listItemText","listItemName","listItemDescription","UnconnectedVisualizationTypeSelector","setUi","onItemClick","listIsOpen","setListIsOpen","toggleList","handleListItemClick","VisTypesList","listContainer","listSection","visTypeDisplayNames","visTypeDescriptions","currentAnalyticalObject","href","button","arrowIcon","cardContainer","VisualizationTypeSelector","UnconnectedApp","previousLocation","initialLoadIsComplete","locationToConfirm","pathParts","parseLocation","AO","clearVisualization","clearCurrent","setUiFromVisualization","setCurrentFromUi","refetch","setVisualization","clearInterpretation","addSettings","setUser","loadUserAuthority","setDimensions","TODAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BIMONTHS","BIMONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","USER_ORG_UNIT_CHILDREN","USER_ORG_UNIT_GRANDCHILDREN","loadVisualization","unlisten","listen","_location$state","_location$state2","_location$state3","document","ctrlKey","returnValue","componentWillUnmount","getChildContext","DimensionsPanel","end","goBack","CssVariables","elevations","clearSnackbar","apiPostDataStatistics","apiFetchVisualization","errorResponse","_errorResponse$detail","store","childContextTypes","App","userSettingsQuery","UserSettingsCtx","createContext","UserSettingsProvider","setSettings","keyAnalysisDisplayProperty","Provider","configureStore","middleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","next","addResources","arTranslations","ar_IQTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uzTranslations","uz_CyrlTranslations","uz_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper","thunk","withExtraArgument","metadataMiddleware","Cypress","doFetchOuLevelsData","ouLevelsData","d2Config","schemas","ReduxProvider","Consumer","D2Shim","i18nRoot","locale"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,UAAY,6CAA6C,OAAS,0CAA0C,cAAgB,iDAAiD,cAAgB,iDAAiD,YAAc,+CAA+C,SAAW,4CAA4C,eAAiB,kDAAkD,iBAAmB,oDAAoD,YAAc,+CAA+C,aAAe,gDAAgD,aAAe,gDAAgD,oBAAsB,yD,qBCA/sBD,EAAOC,QAAU,CAAC,UAAY,8B,qBCA9BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,YAAc,+BAA+B,eAAiB,kCAAkC,gBAAkB,mCAAmC,eAAiB,kCAAkC,eAAiB,kCAAkC,cAAgB,iCAAiC,SAAW,8B,qBCAlXD,EAAOC,QAAU,CAAC,KAAO,8B,qBCAzBD,EAAOC,QAAU,CAAC,YAAc,sCAAsC,SAAW,qC,qBCAjFD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,QAAU,kCAAkC,KAAO,+BAA+B,OAAS,iCAAiC,QAAU,oC,qBCAxMD,EAAOC,QAAU,CAAC,UAAY,wC,qBCA9BD,EAAOC,QAAU,CAAC,WAAa,iC,qBCA/BD,EAAOC,QAAU,CAAC,QAAU,+B,qBCA5BD,EAAOC,QAAU,CAAC,WAAa,iC,qBCA/BD,EAAOC,QAAU,CAAC,YAAc,6C,qBCAhCD,EAAOC,QAAU,CAAC,MAAQ,2B,qBCA1BD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,SAAW,gC,qBCA5DD,EAAOC,QAAU,CAAC,UAAY,oC,qBCA9BD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,QAAU,4B,qBCA1DD,EAAOC,QAAU,CAAC,WAAa,gCAAgC,WAAa,gCAAgC,UAAY,+BAA+B,UAAY,+BAA+B,UAAY,+BAA+B,SAAW,8BAA8B,cAAgB,mCAAmC,QAAU,6BAA6B,SAAW,8BAA8B,eAAiB,oCAAoC,UAAY,+BAA+B,WAAa,gCAAgC,iBAAmB,wC,qBCAzjBD,EAAOC,QAAU,CAAC,QAAU,4B,qBCA5BD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,KAAO,wB,mCCDzG,YAkBeC,IAZI,CAACC,EAAQ,GAAIC,EAAW,OACd,qBAAhBC,EAAOC,MAAwBA,KAAKC,eACtC,IAAID,KAAKC,eAAeH,EAAU,CACvCI,KAAM,UACNC,MAAO,QACPC,IAAK,YACJC,OAAO,IAAIC,KAAKT,IAGdA,EAAMU,OAAO,EAAG,IAAIC,QAAQ,IAAK,O,4DCd1Cd,EAAOC,QAAU,CAAC,UAAY,uCAAuC,UAAY,uCAAuC,gBAAkB,6CAA6C,QAAU,qCAAqC,aAAe,4C,qBCArPD,EAAOC,QAAU,CAAC,SAAW,8BAA8B,MAAQ,6B,qBCAnED,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,MAAQ,2BAA2B,eAAiB,oCAAoC,UAAY,+BAA+B,WAAa,gCAAgC,iBAAmB,sCAAsC,MAAQ,2BAA2B,QAAU,6BAA6B,MAAQ,2BAA2B,UAAY,+BAA+B,cAAgB,mCAAmC,QAAU,+B,m0gnBCA5e,MAAMc,EAAUC,GAASC,QAAQC,IAAI,UAAWF,GCA1CG,EAAa,qBACpBC,EAAwB,CAC5BC,SAAU,iBACVC,OAAQ,EACNC,SADM,CAGNC,SAAUD,EACVE,UAAWN,IAEbO,KAAM,UCVKC,EAAkB,OAClBC,EAAkB,OAClBC,EAA2B,eAElCC,EAAiB,CAACC,EAAMC,EAAQ,MAAf,CACrB,CAACL,GAAkBI,KAChBC,IAIQC,EAAe,CAC1BC,YAAa,CAACJ,EAAe,aAAc,CACzCK,QAAQ,IACNL,EAAe,mBAAoB,CACrCK,QAAQ,IACNL,EAAe,kBAAmB,CACpCK,QAAQ,IACNL,EAAe,aAAc,CAC/BK,QAAQ,IACNL,EAAe,aAAc,CAC/BK,QAAQ,IACNL,EAAe,kBAAmB,CACpCK,QAAQ,IACNL,EAAe,eAAgB,CACjCK,QAAQ,IACNL,EAAe,mBAAoB,CACrCK,QAAQ,IACNL,EAAe,gBAAiB,CAClCK,QAAQ,KAEVC,MAAO,CAACN,EAAe,WAAY,CACjCO,UAAU,IACRP,EAAeD,IACnBS,YAAa,CAACR,EAAe,aAC7BS,wBAAyB,CAACT,EAAe,eAAgB,CACvDK,QAAQ,IACNL,EAAe,YAAa,CAC9BK,QAAQ,IACNL,EAAe,iBAAkB,CACnCK,QAAQ,IACNL,EAAe,WAAY,CAC7BK,QAAQ,IACNL,EAAe,gBAAiB,CAClCK,QAAQ,IACNL,EAAe,eAAgB,CACjCK,QAAQ,IACNL,EAAe,YAAa,CAC9BK,QAAQ,IACNL,EAAe,sBAAuB,CACxCK,QAAQ,IACNL,EAAe,gBAAiB,CAClCK,QAAQ,KAEVK,iBAAkB,CAACV,EAAe,OAAQ,CACxCK,QAAQ,IACNL,EAAe,WAAY,CAC7BK,QAAQ,IACNL,EAAe,mBAAoB,CACrCK,QAAQ,IACNL,EAAe,YAAa,CAC9BK,QAAQ,IACNL,EAAe,oBAAqB,CACtCK,QAAQ,IACNL,EAAe,YAAa,CAC9BK,QAAQ,IACNL,EAAe,SAAU,CAC3BK,QAAQ,IACNL,EAAe,wBAAyB,CAC1CK,QAAQ,IACNL,EAAe,uBAAwB,CACzCK,QAAQ,IACNL,EAAe,iBAAkB,CACnCK,QAAQ,IACNL,EAAe,SAAU,CAC3BK,QAAQ,IACNL,EAAe,WAAY,CAC7BK,QAAQ,IACNL,EAAe,kBAAmB,CACpCK,QAAQ,IACNL,EAAeF,EAAiB,CAClCO,QAAQ,KAEVM,uBAAwB,CAACX,EAAe,2BAA4BA,EAAe,0BAA2BA,EAAe,6BAA8BA,EAAe,WAAYA,EAAe,cAAe,CAClNK,QAAQ,IACNL,EAAe,aAAc,CAC/BK,QAAQ,IACNL,EAAe,aAAc,CAC/BK,QAAQ,IACNL,EAAe,WAAYA,EAAe,gBAAiBA,EAAe,gBAAiB,CAC7FK,QAAQ,IACNL,EAAe,aAAcA,EAAe,UAChDY,mCAAoC,CAACZ,EAAe,mBAAoB,CACtEO,UAAU,IACRP,EAAe,gBAAiB,CAClCO,UAAU,KAEZM,yCAA0C,CAACb,EAAe,UAAWA,EAAe,kBAAmB,CACrGK,QAAQ,IACNL,EAAe,sBAAuB,CACxCO,UAAU,IACRP,EAAe,kBAAmB,CACpCO,UAAU,IACRP,EAAe,qBAAsB,CACvCO,UAAU,IACRP,EAAe,mCAAoC,CACrDO,UAAU,IACRP,EAAe,OAAQ,CACzBO,UAAU,IACRP,EAAe,WAAYA,EAAe,gBAAiB,CAC7DK,QAAQ,IACNL,EAAe,WAAYA,EAAe,qBAAsB,CAClEO,UAAU,IACRP,EAAe,wBAAyB,CAC1CO,UAAU,IACRP,EAAe,gCAAiC,CAClDO,UAAU,IACRP,EAAe,eAAgBA,EAAe,uBAAwBA,EAAe,sBAAuBA,EAAe,eAAgBA,EAAe,oBAAqBA,EAAe,iBAAkB,CAClNO,UAAU,IACRP,EAAe,YAAaA,EAAe,aAAcA,EAAe,mBAAoB,CAC9FO,UAAU,IACRP,EAAe,WAAYA,EAAe,eAAgB,CAC5DK,QAAQ,IACNL,EAAe,YAAa,CAC9BK,QAAQ,IACNL,EAAe,QACnBA,EAAe,MAAOA,EAAe,mBAAoBA,EAAe,6BAA8B,CACpGO,UAAU,IACRP,EAAe,eAAgBA,EAAe,iBAAkBA,EAAe,QAASA,EAAe,qCAAsC,CAC/IO,UAAU,IACRP,EAAe,yBAA0B,CAC3CO,UAAU,IACRP,EAAe,oBAAqB,CACtCO,UAAU,IACRP,EAAe,kBAAmBA,EAAe,UAAW,CAC9DO,UAAU,IACRP,EAAe,6BAA8B,CAC/CO,UAAU,IACRP,EAAe,gBAAiBA,EAAe,kBAAmB,CACpEO,UAAU,IACRP,EAAe,QAASA,EAAe,aAAcA,EAAe,YAAa,CACnFK,QAAQ,IACNL,EAAe,cAAeA,EAAe,eAAgBA,EAAe,WAAY,CAC1FK,QAAQ,IACNL,EAAe,aAAcA,EAAe,QAAS,CACvDK,QAAQ,IACNL,EAAe,WAAY,CAC7BK,QAAQ,IACNL,EAAe,gBAAiBA,EAAe,QAASA,EAAe,gBAAiBA,EAAe,qBAAsBA,EAAe,uBAAwB,CACtKO,UAAU,IACRP,EAAe,+BAAgC,CACjDO,UAAU,IACRP,EAAe,oCAAqC,CACtDO,UAAU,MAGdJ,EAAaW,cAAgB,IAAIX,EAAaC,eAAgBD,EAAaG,SAAUH,EAAaM,2BAA4BN,EAAaO,oBAAqBP,EAAaS,sCAAuCT,EAAaU,0CAE1N,MAAME,EAAcC,GAAWA,EAAO,KAChCC,EAAeC,IAAkC,IAAtBA,EAASX,SAAoB,IAAKW,EACxE,CAACrB,GAAmB,IAAGqB,EAAQ,QAC7BA,EAGSC,EAAoB,CAACC,EAAKC,EAASC,EAAUC,MACvDH,IAAQA,EAAMG,EAAMC,SACC,MAAtBH,EAAQI,OAAO,IAAcL,EAAIM,KAAKN,EAAIO,SACnCP,GAGIQ,EAA2BhC,GAAQiC,OAAOC,QAAQ3B,GAAc4B,QAAO,CAACC,GAASC,EAAK5D,KAAW4D,EAAIC,SAAStC,GAAQoC,EAAOG,OAAO9D,GAAS2D,GAAQ,ICvK5JI,EAAO,oCAEPC,EAAc,MAAQD,IAGtBE,EAAQ,8BAA6BD,YAD5B,4BAAoBD,yBAKtBG,EAAe,CAC1BC,QAASF,EACTG,KAAMH,EACNI,QAASJ,EACTK,KAVY,GAAEP,8BAWdQ,gBARsB,aAStBC,OARc,8BAA6BR,MAUhCS,EAAeC,GAAU,GAAEA,IAAQR,EAAaQ,GAAU,IAAGR,EAAaQ,MAAY,KClB7FC,EAAqB,CACzBlC,cAAe,CACbvB,SAAU,iBACVE,GAAI,EACFA,QACIA,EACND,OAAQ,CACNwC,QCF+BpC,EDED,gBCFSgC,EAAyBhC,GAAMqD,IAAIhC,GAAcgC,IAAIlC,GAAamC,OAAOnB,OAAOZ,EAAmB,MAAM8B,IAAIH,GAAcK,KAAK,SAAxIvD,MDMrC,MAAMwD,EAAsB,CAC1BtC,cAAe,CACbvB,SAAU,iBACVC,OAAQ,EACN6D,uBADM,CAGNC,OAAS,UAASD,KAClBrB,OAAQ,CAAC,KAAM,YEnBRuB,EAA4B,4BAC5BC,EAAiB,iBACjBC,GAAmB,CAC9BC,QAAS,KACTC,SAAU,MAEI,QAACC,EAAQH,GAAkBI,KACzC,OAAQA,EAAOjE,MACb,KAAK2D,EAED,MAAO,IAAKK,KACPC,EAAOxF,OAIhB,KAAKmF,EAED,OAAOC,GAGX,QACE,OAAOG,IAIN,MAAME,GAAeF,GAASA,EAAMG,SCxB9BC,GAA4B3F,IAAK,CAC5CuB,KAAM2D,EACNlF,UAEW4F,GAAkB,MAC7BrE,KAAM4D,I,0BCCD,MAAMU,GAAgB,QAChBC,GAAkB,UAClBC,GAAkB,UAkClBC,GAAWC,aARAV,IAAK,CAC3BG,SAAUD,GAAaF,OAGEW,IAAQ,CACjCC,QAAS,IAAMD,EAASN,SAGFK,EAjCW,EACjCP,WACAS,cAEA,MAAM,QACJC,EADI,QAEJf,EAFI,SAGJC,GACEI,EACJ,OAAOL,GAAwBgB,IAAMC,cAAc,MAAO,CACxDC,UAAWC,KAAOC,WACJJ,IAAMC,cAAcI,IAAU,CAC5CpB,SAAUA,EACVqB,SAAUP,IAAYP,GACtBe,QAASR,IAAYN,GACrBe,QAAST,IAAYL,GACrBe,UAAWV,IAAYP,IAAiBO,IAAYL,GACpDgB,SAAUZ,GACTd,O,yDC3BE,MAAM2B,GAAW,IAAmBX,IAAMC,cAAc,MAAO,CACpEW,MAAO,MACPC,OAAQ,MACRC,MAAO,8BACOd,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,4pDACHC,KAAM,UACNC,SAAU,aAECC,GAAc,IAAmBlB,IAAMC,cAAc,MAAO,CACvEW,MAAO,MACPC,OAAQ,MACRC,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,UACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,ubACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,kyBACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,0pBACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,iWAEQI,GAAY,IAAmBnB,IAAMC,cAAc,MAAO,CACrEW,MAAO,KACPC,OAAQ,KACRC,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,UACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,grBACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,mnBACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,s1BACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,oyBAEQK,GAAc,IAAmBpB,IAAMC,cAAc,MAAO,CACvEY,OAAQ,MACRD,MAAO,MACPE,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,QACQhB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,oPACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,qkCACHC,KAAM,cAEKK,GAAgB,IAAmBrB,IAAMC,cAAc,MAAO,CACzEY,OAAQ,MACRD,MAAO,MACPE,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,QACQhB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,gPACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,wkCACHC,KAAM,cAEKM,GAAe,IAAmBtB,IAAMC,cAAc,MAAO,CACxEY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,UACNQ,UAAW,kBACGxB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,0MACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,4GACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,q0BC7EE,MAAMU,GACXC,YAAYC,EAAMC,EAAOC,GACvBC,KAAKH,KAAOA,EACZG,KAAKF,MAAQA,EACbE,KAAKD,YAAcA,GAIhB,MAAME,WAA2BN,GACtCC,cACEM,MAAMrB,GAAUsB,UAAKC,EAAE,qBAAsBD,UAAKC,EAAE,kHAIjD,MAAMC,WAAsBV,GACjCC,YAAYU,GACVJ,MAAMZ,GAAaa,UAAKC,EAAG,wBAAwB,CACjDG,SAAUC,aAAwBC,KAAiBC,aAAuBJ,MACxEH,UAAKC,EAAE,yCAA0C,CACnDG,SAAUC,aAAwBC,KAAiBC,aAAuBJ,QAKzE,MAAMK,WAAwBhB,GACnCC,YAAYU,GACVJ,MAAMX,GAAeY,UAAKC,EAAG,wBAAwB,CACnDG,SAAUC,aAAwBI,KAAcF,aAAuBJ,MACrEH,UAAKC,EAAE,yCAA0C,CACnDG,SAAUC,aAAwBI,KAAcF,aAAuBJ,QAKtE,MAAMO,WAAgClB,GAC3CC,YAAYU,GACVJ,MAAMrB,GAAUsB,UAAKC,EAAG,qDAAqD,CAC3EU,gBAAiBN,aAAwBC,KAAiBC,aAAuBJ,IACjFS,aAAcP,aAAwBI,KAAcF,aAAuBJ,MACzEH,UAAKC,EAAE,sGAAuG,CAChHU,gBAAiBN,aAAwBC,KAAiBC,aAAuBJ,IACjFS,aAAcP,aAAwBI,KAAcF,aAAuBJ,IAC3EU,kBAAmBC,YAAwBX,OAK1C,MAAMY,WAAsBvB,GACjCC,YAAYU,GACVJ,MAAMd,GAAae,UAAKC,EAAE,sBAAuBD,UAAKC,EAAE,4EAA6E,CACnIY,kBAAmBC,YAAwBX,GAC3Ca,KAAMC,GAA4Bd,OAKjC,MAAMe,WAAsB1B,GACjCC,YAAYU,GACVJ,MAAMrB,GAAUsB,UAAKC,EAAG,wBAAwB,CAC9CG,SAAUC,aAAwBI,KAAcF,aAAuBJ,MACrEH,UAAKC,EAAE,0CAA2C,CACpDG,SAAUC,aAAwBI,KAAcF,aAAuBJ,QAKtE,MAAMgB,WAAwB3B,GACnCC,cACEM,MAAMrB,GAAUsB,UAAKC,EAAE,qBAAsBD,UAAKC,EAAE,2CAIjD,MAAMmB,WAA0B5B,GACrCC,cACEM,MAAMrB,GAAUsB,UAAKC,EAAE,uBAAwBD,UAAKC,EAAE,6CAInD,MAAMoB,WAA4B7B,GACvCC,cACEM,MAAMb,GAAWc,UAAKC,EAAE,gCAAiCD,UAAKC,EAAE,0HAI7D,MAAMqB,WAAyC9B,GACpDC,YAAYU,GACV,MAAMoB,EAAaC,aAA0BrB,EAASsB,KACtD1B,MAAMb,GAAWc,UAAKC,EAAE,oBAAqBD,UAAKC,EAAE,qGAAsG,CACxJY,kBAAmBC,YAAwBX,GAC3Ca,KAAMO,EAAalB,aAAwBkB,EAAYhB,aAAuBJ,IAAYc,GAA4Bd,OAKrH,MAAMuB,WAAoBlC,GAC/BC,YAAYU,GACV,MAAMoB,EAAaC,aAA0BrB,EAASsB,KACtD1B,MAAMb,GAAWc,UAAKC,EAAE,oBAAqBD,UAAKC,EAAE,sEAAuE,CACzHY,kBAAmBC,YAAwBX,GAC3Ca,KAAMO,EAAalB,aAAwBkB,EAAYhB,aAAuBJ,IAAYc,GAA4Bd,OAKrH,MAAMwB,WAAuCnC,GAClDC,cACEM,MAAMb,GAAWc,UAAKC,EAAE,qCAAsCD,UAAKC,EAAE,4FAIlE,MAAM2B,WAA+BpC,GAC1CC,cACEM,MAAMb,GAAW2C,GAAmB7B,UAAKC,EAAE,0EAIxC,MAAM6B,WAA2BtC,GACtCC,YAAYU,GACVJ,MAAMV,GAAcwC,GAAmB7B,UAAKC,EAAE,oEAAqE,CACjHY,kBAAmBC,YAAwBX,OAK1C,MAAM4B,WAA2BvC,GACtCC,cACEM,MAAMV,GAAcwC,GAAmB7B,UAAKC,EAAE,2DAI3C,MAAM+B,WAA4CxC,GACvDC,cACEM,MAAMV,GAAcW,UAAKC,EAAE,2DAA4DD,UAAKC,EAAE,kFAI3F,MAAMgC,WAAwCzC,GACnDC,cACEM,MAAMV,GAAcW,UAAKC,EAAE,gDAAiDD,UAAKC,EAAE,iEAIhF,MAAMiC,WAAmC1C,GAC9CC,cACEM,MAAMV,GAAcW,UAAKC,EAAE,2BAA4BD,UAAKC,EAAE,2HAI3D,MAAMkC,WAA+B3C,GAC1CC,cACEM,MAAMrB,GAAUsB,UAAKC,EAAE,+BAAgCD,UAAKC,EAAE,yEAI3D,MAAM4B,GAAoB7B,UAAKC,EAAE,wBAElCgB,GAA8Bd,IAClC,MAAMa,EAAOoB,aAAiBjC,GAC9B,IAAIkC,EAAkB,GAEtB,IAAK,IAAIC,EAAQ,EAAGA,EAAQtB,EAAKuB,OAAQD,IACvCD,GAAmBhC,aAAwBW,EAAKsB,GAAQ/B,aAAuBJ,IAE3EmC,EAAQtB,EAAKuB,OAAS,EACxBF,GAAmB,KACVC,EAAQtB,EAAKuB,OAAS,IAC/BF,GAAoB,IAAGrC,UAAKC,EAAE,UAIlC,OAAOoC,G,eC7KMG,kB,wFCCR,MAAMC,GAAoB,aAGpBC,GAAoB,CAACC,EAAQC,KACxC,IAAIC,EAAuBC,EAAsBC,EAEjD,MAAMC,EAAMC,MAAMC,QAAQN,GAAeA,EAAc,CAACA,GACxD,MAAO,CACL,CAACtC,OAAyE,QAArDuC,EAAwBF,EAAOrC,aAAwD,IAA1BuC,OAAmC,EAASA,EAAsBlG,QAAOwG,IAAQH,EAAIzH,SAAS4H,OAAU,GAC1L,CAAC1C,OAAkE,QAAjDqC,EAAuBH,EAAOlC,aAAoD,IAAzBqC,OAAkC,EAASA,EAAqBnG,QAAOwG,IAAQH,EAAIzH,SAAS4H,OAAU,GACjL,CAACC,OAAyE,QAArDL,EAAwBJ,EAAOS,aAAwD,IAA1BL,OAAmC,EAASA,EAAsBpG,QAAOwG,IAAQH,EAAIzH,SAAS4H,OAAU,KAKjLE,GAAmBV,IAC9B,MAAMxH,EAAUD,OAAOC,QAAQwH,GACzBrG,EAAM,GAMZ,OALAnB,EAAQmI,SAAQ,EAAEC,EAAQC,MACxBA,EAAaF,SAAQxK,IACnBwD,EAAIxD,GAAMyK,QAGPjH,GAIImH,GAAgB,CAACd,EAAQe,EAAUvD,KAC9C,MAAMwD,EAAgBN,GAAiBV,GACjCa,EAAetI,OAAO0I,KAAKF,GAC3BG,EAAa,GAiBnB,OAhBAL,EAAaF,SAAQxK,IACnB,MAAMgL,EAAaH,EAAc7K,IAAO,KAClCiL,EAAoBL,EAAS5K,GAAIyK,OACjCS,EAA0BrB,EAAOoB,IAAsB,GAE7D,GAAIE,aAAW9D,EAAS4D,EAAmBC,EAAwBzB,QAAS,CAC1E,MAAM2B,EAAwBC,aAAyBhE,EAAS4D,EAAmBpB,EAAOoB,IAE1F,GAAIG,EAAuB,CACzB,MAAMX,EAASO,GAA0B1B,aAAiBjC,GAASiE,MAAKC,IAASC,aAA6BnE,EAASkE,KACvHR,EAAWK,GAAyB,CAClCX,eAKDM,G,eC/CF,MAAMU,GAAyB,gBACzBC,GAAyB,gBACzBC,GAAoB,QACpBC,GAAuB,WACvBC,GAAwB,WACxBC,GAAwB,WACxBC,GAAoB,YACpBC,GAA8B,oBAC9BC,GAA2B,kBAC3BC,GAAyB,gBACzBC,GAAyB,gBACzBC,GAAoC,yBACpCC,GAA6B,oBAC7BC,GAA2B,kBAC3BC,GAA2B,kBAC3BC,GAAsC,2BACtCC,GAAiC,wBACjCC,GAA8B,qBAC9BC,GAAoB,YACpBC,GAAU,CACrB1E,KAAM,CACJ2E,aAAa,EACbC,SAAS,EACTC,aAAc,IAEhBC,SAAU,CACRD,aAAcE,KACdJ,aAAa,EACbC,SAAS,GAEXI,iBAAkB,CAChBH,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXK,kBAAmB,CACjBJ,aAAc,OACdF,aAAa,EACbC,SAAS,GAEXM,UAAW,CACTL,aAAc,GACdF,aAAa,EACbC,SAAS,GAEX1J,OAAQ,CACN2J,aAAc,GACdF,aAAa,EACbC,SAAS,GAEXO,sBAAuB,CACrBN,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXQ,qBAAsB,CACpBP,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXS,eAAgB,CACdR,aAAc,OACdF,aAAa,EACbC,SAAS,GAEXU,SAAU,CACRT,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXW,gBAAiB,CACfV,aAAc,UACdF,aAAa,EACbC,SAAS,GAEXY,cAAe,CACbX,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXa,aAAc,CACZZ,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXc,UAAW,CACTb,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXe,UAAW,CACTd,aAAc,IACdF,aAAa,EACbC,SAAS,GAEXgB,SAAU,CACRf,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXjG,MAAO,CACLkG,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXkB,OAAQ,CACNjB,aAAc,GACdF,aAAa,EACbC,SAAS,GAEXmB,UAAW,CACTlB,aAAc,GACdF,aAAa,EACbC,SAAS,GAEXoB,gBAAiB,CACfrB,aAAa,EACbC,SAAS,EACTC,aAAc,MAGhBoB,UAAW,CACTpB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXsB,aAAc,CACZrB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXuB,UAAW,CACTtB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXwB,aAAc,CACZvB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXyB,oBAAqB,CACnBxB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX0B,iBAAkB,CAChBzB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX2B,cAAe,CACb1B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX4B,aAAc,CACZ3B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX6B,WAAY,CACV5B,aAAc,QACdF,aAAa,EACbC,SAAS,GAEX8B,cAAe,CACb7B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX+B,eAAgB,CACd9B,aAAc,SACdF,aAAa,EACbC,SAAS,GAEXgC,SAAU,CACR/B,aAAc,SACdF,aAAa,EACbC,SAAS,GAEXiC,oBAAqB,CACnBhC,aAAc,QACdF,aAAa,EACbC,SAAS,GAEXkC,cAAe,CACbjC,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXmC,iBAAkB,CAChBlC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXoC,cAAe,CACbnC,cAAc,EACdoC,YAAY,EACZrC,SAAS,GAGXsC,gBAAiB,CACfrC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXuC,iBAAkB,CAChBtC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXwC,uBAAwB,CACtBvC,cAAc,EACdF,aAAa,EACbC,SAAS,GAGXyC,4BAA6B,CAC3BxC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX0C,WAAY,CACVzC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX2C,WAAY,CACV1C,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX4C,gBAAiB,CACf3C,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEX6C,SAAU,CACR5C,aAAc,IACdF,aAAa,EACbC,SAAS,IAGEF,UACR,MAAMgD,GAAkB,IACtBxN,OAAOC,QAAQ,IAAKuK,KACxBtK,QAAO,CAACkB,GAAM5C,EAAQH,MACvB+C,EAAI5C,GAAUH,EAAMsM,aACbvJ,IACN,IAMQqM,GAA8BxO,IACzC,MAAMyO,EAA2B,IAAKF,QACjCG,aAAK1O,EAAee,OAAO0I,KAAK8B,MAuCrC,OArCAkD,EAAyB5H,KAAO4H,EAAyB5H,KAAK1E,KAAI+H,IAChE,GAAIA,EAAKyE,YAAczE,EAAK0E,SAAU,CACpC,MAAMC,EAAa,IAAK3E,GAexB,OAZI2E,EAAWF,aACbE,EAAWF,WAAa,IAAKE,EAAWF,WACtCG,SAAS,IAITD,EAAWD,WACbC,EAAWD,SAAW,IAAKC,EAAWD,SACpCE,SAAS,IAIND,EAEP,OAAO3E,KAIPlK,EAAc+O,kBAChBN,EAAyBT,iBAAmBhO,EAAc+O,gBAAgBf,iBAC1ES,EAAyBV,gBAAkB/N,EAAc+O,gBAAgBhB,gBACzEU,EAAyBR,uBAAyBjO,EAAc+O,gBAAgBd,uBAChFQ,EAAyBP,4BAA8BlO,EAAc+O,gBAAgBb,6BAKvF,CAAC,YAAa,YAAY/E,SAAQ5J,IAC5BwB,OAAOiO,UAAUC,eAAeC,KAAKlP,EAAeT,KACtDkP,EAAyBlP,GAAU4P,OAAOnP,EAAcT,QAGrDkP,GC3SIW,GAAwBC,GAEF,IAA7BA,EAAKC,MAAM,OAAOlH,OACbiH,EAGFA,EAAKpR,OAAO,EAAGoR,EAAKE,YAAY,MAU5BC,GAAY,CAAC7Q,EAAI8Q,EAAUC,IAClCD,EAAS9Q,IAAO8Q,EAAS9Q,GAAI0Q,KACxBI,EAAS9Q,GAAI0Q,KAIlBK,EAAe/Q,KAAQA,GAA6B,KAAvB+Q,EAAe/Q,GACtC,IAAGA,IAGN+Q,EAAe/Q,GAAO,IAAG+Q,EAAe/Q,MAAOA,SAAO+N,ECrBlDiD,GAAwB,OAExBC,GAA0B,WAC1BC,GAA4B,aAYnCC,GAAmBC,IAAE,IAAUA,EACnCvH,OAAQwH,aAAyBD,EAAGvH,OAAQuH,EAAGjR,QAyCpCmR,GAAqBF,IAChC,OAAQA,EAAGjR,MACT,KAAKoR,IACL,KAAKC,IAED,MA1CsBJ,KAC5B,MAAMjN,EAAQ/B,OAAOqP,OAAO,GAAIL,GAC1BM,EAAQtP,OAAOqP,OAAO,GAAItN,EAAMwN,kBAEtC,cADOD,EAAME,KACN,IAAKzN,EACV0F,OAAQwH,aAAyBD,EAAGvH,OAAQuH,EAAGjR,MAC/CwR,iBAAkBD,IAoCPG,CAAsBT,GAGjC,KAAKU,IACH,OAAOV,EAET,KAAKW,IACL,KAAKC,IACH,MAxCuBZ,KAC3B,MAAMa,EAAYd,GAAiBC,GAEnC,OADAa,EAAUrF,QAAQ8C,qBAAkB3B,EAC7BkE,GAqCIC,CAAqBd,GAE9B,KAAKe,IACH,MApCmBf,KACvB,MAAMa,EAAY,IAAKb,EACrBvH,OAAQwH,aAAyBD,EAAGvH,OAAQuH,EAAGjR,OAE3CiS,EAAYhB,EAAGO,iBAAiBhJ,MAAsB,GAC5DsJ,EAAUI,eAAiB,IACvBD,EAAU,GAAK,CAAC,CAClBpS,GAAIoS,EAAU,GACdE,UAAWrB,KACR,MAASmB,EAAU,GAAK,CAAC,CAC5BpS,GAAIoS,EAAU,GACdE,UAAWpB,KACR,IACL,MAAMQ,EAAQtP,OAAOqP,OAAO,GAAIL,EAAGO,kBAInC,OAHAD,EAAM/I,KAAqByJ,EAAUrQ,MAAM,EAAG,GAC9CkQ,EAAUN,iBAAmBD,EAC7BO,EAAUrF,QAAQ8C,qBAAkB3B,EAC7BkE,GAmBIM,CAAiBnB,GAE1B,QACE,OAAOD,GAAiBC,KAGjBoB,GAAqCC,IAChD,MAAMC,EAAqBC,aAAkCF,GAEvDG,EADgBrI,GAAiBmI,GACVG,KAE7B,IAAKD,EACH,MAAO,GAGT,MAAM7B,EAAiB,GAWvB,OAVoB0B,EAAIG,GAAQtH,MAAKwH,GAAaA,EAAUA,YAAcD,MAC9DnB,MAAM7N,QAAOkP,GAAWA,EAAQrC,OAAMlG,SAAQuI,IACxD,GAAI,IAAMA,EAAQ/S,KAAO+S,EAAQrC,KAE/BK,EAAegC,EAAQ/S,IAAM,OACxB,CACL,MAAM0Q,EAAOD,GAAsBsC,EAAQrC,MAC3CK,EAAegC,EAAQ/S,IAAkB,MAAZ0Q,EAAK,GAAaA,EAAKpR,OAAO,GAAKoR,MAG7DK,GC9FIiC,GAAgB5B,GAAMhP,OAAOC,QAAQ+O,EAAGvH,QAAQvH,QAAO,CAACuH,GAASY,EAAQC,MAAlB,IAA0Cb,EAC5G,CAACY,GAASC,EAAalH,KAAIyP,IAAeC,OAH1BC,EAGmC/B,EAAGO,iBAH9B3R,EAGgDiT,EAHzC9I,MAAMC,QAAQ+I,EAAOnT,KAAQmT,EAAOnT,GAAIyJ,QAGiB2J,YAA2BH,EAAaI,KAA2BC,aAAgBL,EAAa7B,EAAGO,iBAAiBsB,IAAgB,KAH7M,IAACE,EAAQnT,KAG0M6D,QAAOwG,GAAe,OAARA,OAC9O,IACSkJ,GAAmBnC,IAC9B,MAAMoC,EAAgBzD,aAAKqB,EAAGxE,QAASxK,OAAO0I,KAAK8B,KA8CnD,OA5CI4G,EAActL,MAAQsL,EAActL,KAAKuB,SAC3C+J,EAActL,KAAO,IAAIsL,EAActL,KAAK1E,KAAI+H,IAAI,IAAUA,OAE9DiI,EAActL,KAAKsC,SAAQe,IACzB,GAAIA,EAAKyE,WAAY,CACnB,MAAM,QACJG,KACGsD,GACDlI,EAAKyE,WACTzE,EAAKyE,WAAa,IAAKyD,GAIzB,GAAIlI,EAAK0E,SAAU,CACjB,MAAM,QACJE,KACGsD,GACDlI,EAAK0E,SACT1E,EAAK0E,SAAW,IAAKwD,QAQvBD,EAAcxE,gBAAkBpC,GAAQoC,cAAcjC,eACxDyG,EAAcxE,cAAgBwE,EAAcxE,cAAchP,IAI5DwT,EAAcpD,gBAAkB,GAChC,CAAC,mBAAoB,kBAAmB,yBAA0B,+BAA+B5F,SAAQ5J,IACvG4S,EAAcpD,gBAAgBxP,GAAU4S,EAAc5S,UAC/C4S,EAAc5S,MAGvB,CAAC,YAAa,YAAY4J,SAAQ5J,IAC5BwB,OAAOiO,UAAUC,eAAeC,KAAKiD,EAAe5S,SACxBmN,IAA1ByF,EAAc5S,IAAmD,KAA1B4S,EAAc5S,KACvD4S,EAAc5S,GAAU8S,OAAOF,EAAc5S,QAI5C4S,GAKIG,GAA4BvC,IACvC,MAAMwC,EAAS,GAGf,OAFAxR,OAAO0I,KAAKsG,EAAGO,kBAAkBnH,SAAQhI,GACzCoR,EAAOpR,GAAO4O,EAAGO,iBAAiBnP,GAAKqR,MAAK7T,GAAMA,IAAO8T,MAA+B,CAACA,KAA+B1C,EAAGO,iBAAiBnP,KACrIoR,GAEIG,GAA8B,CAAC5P,EAAOC,KACjD,MAAMgN,EAAK,IAAKhN,EAAOxF,MACrBiL,OAAQ,IAAKwH,aAAyBjN,EAAOxF,MAAMiL,OAAQmI,MAE3DL,iBAAkBgC,GAA0BvP,EAAOxF,QAE/CoV,EAAahB,GAAc5B,GAE3B6C,EAAUC,aAAwBF,EAAYrL,KAC9CwL,EAAwBC,aAAuBJ,EAAYrL,IAAmB,CAACsL,EAAQ,KAC7F,MAAO,IAAK9P,EACV,CAAC9D,GAAkB+Q,EAAGjR,QACnBgU,KACAZ,GAAiBnC,KAGXiD,GAA0B,CAAClQ,EAAOC,KAC7C,MAAMgN,EAAK,IAAKhN,EAAOxF,MACrBiL,OAAQ,IAAKwH,aAAyBjN,EAAOxF,MAAMiL,OAAQsI,MAE3DR,iBAAkBgC,GAA0BvP,EAAOxF,QAE/CoV,EAAahB,GAAc5B,GAE3BkD,EAAelD,EAAGiB,eAAe/G,MAAKiJ,GAAQA,EAAKjC,YAAcrB,MAA4B,GAC7FuD,EAAiBpD,EAAGiB,eAAe/G,MAAKiJ,GAAQA,EAAKjC,YAAcpB,MAA8B,GACjGuD,EAAoBL,aAAuBJ,EAAYrL,IAAmB,CAAC2L,EAAcE,GAAgBhR,KAAI+Q,IAAI,CACrHvU,GAAIuU,EAAKvU,QAEX,MAAO,IAAKmE,EACV,CAAC9D,GAAkB+Q,EAAGjR,QACnBsU,KACAlB,GAAiBnC,KAGXsD,GAAsB,CAACvQ,EAAOC,KACzC,MAAMgN,EAAK,IAAKhN,EAAOxF,MACrBiL,OAAQ,IAAKwH,aAAyBjN,EAAOxF,MAAMiL,OAAQ8K,MAE3DhD,iBAAkBgC,GAA0BvP,EAAOxF,QAErD,MAAO,IAAKuF,EACV,CAAC9D,GAAkB+Q,EAAGjR,QACnB6S,GAAc5B,MACdmC,GAAiBnC,KAGXwD,GAA+B,CAACzQ,EAAOC,KAClD,MAAMgN,EAAK,IAAKhN,EAAOxF,MACrB+S,iBAAkBgC,GAA0BvP,EAAOxF,QAE/CiW,EAAkBvB,aAAgB1B,IAAqBR,EAAG0D,sBAChE,MAAO,IAAK3Q,EACV,CAAC9D,GAAkB+Q,EAAGjR,KACtB,CAACqH,MAAkB,GACnB,CAACG,MAAe,CAACkN,GACjB,CAACvK,MAAkB0I,GAAc5B,GAAInO,QACrC,CAAC,CAAC3C,IAA4B8Q,EAAG2D,sBAC9BxB,GAAiBnC,KC9HX4D,GAAc,cACdC,GAAsB,sBACtBC,GAAgB,gBAChBC,GAAkB,KAEzBC,GAAmB,CAACjR,EAAOC,KAC/B,MAAM6N,EAAY,IAAK7N,EAAOxF,MAC5B+S,iBAAkBgC,GAA0BvP,EAAOxF,QAE/CoV,EAAahB,GAAcf,GAC3BuB,EAAgBD,GAAiBtB,GACjCjE,GDgDuBoD,EChDEa,GDiDrBrF,QAAQoB,OAAS,IAAIoD,EAAGxE,QAAQoB,QAAU,GADvBoD,MC/C7B,MAAO,IAAKjN,EACV,CAAC9D,GAAkB+D,EAAOxF,MAAMuB,QAC7B6T,KACAR,EACHxF,WAIY,QAAC7J,EAAQgR,GAAiB/Q,KACxC,OAAQA,EAAOjE,MACb,KAAK6U,GAED,OAAO5Q,EAAOxF,MAGlB,KAAKqW,GAED,OAAQ7Q,EAAOxF,MAAMuB,MACnB,KAAKwU,IACH,OAAOD,GAAoBvQ,EAAOC,GAEpC,KAAK4N,IACL,KAAKD,IACH,OAAOgC,GAA4B5P,EAAOC,GAE5C,KAAKmN,IACL,KAAKC,IACH,OAAOoD,GAA6BzQ,EAAOC,GAE7C,KAAK+N,IACH,OAAOkC,GAAwBlQ,EAAOC,GAExC,QAEI,OAAOgR,GAAiBjR,EAAOC,GAKzC,KAAK8Q,GACH,OAAOC,GAET,QACE,OAAOhR,IAIN,MAAMkR,GAAclR,GAASA,EAAMvC,QAC7B0T,GAAoBnR,IAC/B,MAAMiN,EAAKjN,EAAMiN,GAEjB,OAAQA,EAAGjR,MACT,KAAKwU,IACH,OAAOD,GAAoBvQ,EAAO,CAChCvF,MAAOwS,IAGX,KAAKY,IACL,KAAKD,IACH,OAAOgC,GAA4B5P,EAAO,CACxCvF,MAAOwS,IAGX,KAAKG,IACL,KAAKC,IACH,OAAOoD,GAA6BzQ,EAAO,CACzCvF,MAAOwS,IAGX,KAAKe,IACH,OAAOkC,GAAwBlQ,EAAO,CACpCvF,MAAOwS,IAGX,QAEI,OAAOgE,GAAiBjR,EAAO,CAC7BvF,MAAOwS,MC5FJmE,GAAoB,oBACpBC,GAAsB,sBACtBC,GAAwB,KAkB9B,MAAMC,GAAoBvR,GAASA,EAAM9C,cCXnCsU,GAAwB,CAACtU,EAAeO,IAC/CA,IAAYuT,GACPS,GACEvU,IAAkBoU,GACpBI,GACEjU,IAAYP,EACdyU,GAEAC,GAGEH,GAAc,QACdE,GAAc,QACdD,GAAgB,UAChBE,GAAc,QCvBdC,GAAe,eACfC,GAAmB,CAC9BC,cAAe,aACfC,0BAA2B,iBAC3BC,+BAAgC,QAChCC,yCAA0C,EAC1CC,oBAAqB,cACrBzX,SAAU,KACV0X,sBAAuB,IAET,QAACpS,EAAQ8R,GAAkB7R,KACzC,OAAQA,EAAOjE,MACb,KAAK6V,GAED,MAAO,IAAK7R,KACPC,EAAOxF,OAIhB,QACE,OAAOuF,IAIN,MAAMqS,GAAerS,GAASA,EAAMsS,SAC9BC,GAAkCvS,GAASqS,GAAarS,GAAOmS,oBAC/DK,GAAkCxS,GAASqS,GAAarS,GAAOiS,+BAC/DQ,GAAmBzS,GAASqS,GAAarS,GAAOoS,sBAChDM,GAAqB1S,GAASqS,GAAarS,GAAOgS,0BAClDW,GAAe3S,GAASqS,GAAarS,GAAOtF,SC7B5CkY,GAAY,YAalB,MAAMC,GAAY7S,GAASA,EAAMtD,M,wDCZjC,MAAMoW,GAAUrY,IAAK,CAC1BuB,KAAM+W,GACNtY,UAEWuY,GAAUvY,IAAK,CAC1BuB,KAAMiX,GACNxY,UAEWyY,GAA2BzY,IAAK,CAC3CuB,KAAMmX,GACN1Y,UAEW2Y,GAAc3Y,IAAK,CAC9BuB,KAAMqX,GACN5Y,UAEW6Y,GAAiB7Y,IAAK,CACjCuB,KAAMuX,GACN9Y,UAEW+Y,GAAgB/Y,IAAK,CAChCuB,KAAMyX,GACNhZ,UAEWiZ,GAAyBjZ,IAAK,CACzCuB,KAAM2X,GACNlZ,UAEWmZ,GAAuBnZ,IAAK,CACvCuB,KAAM6X,GACNpZ,UAEWqZ,GAAgBrZ,IAAK,CAChCuB,KAAM+X,GACNtZ,UAEWuZ,GAA0BvZ,IAAK,CAC1CuB,KAAMiY,GACNxZ,UAEWyZ,GAA6BzZ,IAAK,CAC7CuB,KAAMmY,GACN1Z,UAEW2Z,GAAe3Z,IAAK,CAC/BuB,KAAMqY,GACN5Z,UAEW6Z,GAAkB7Z,IAAK,CAClCuB,KAAMuY,GACN9Z,UAEW+Z,GAA4B/Z,IAAK,CAC5CuB,KAAMyY,GACNha,UAEWia,GAA8Bja,IAAK,CAC9CuB,KAAM2Y,GACNla,UAEWma,GAAwBna,IAAK,CACxCuB,KAAM6Y,GACNpa,UAEWqa,GAA2Bra,IAAK,CAC3CuB,KAAM+Y,GACNta,UAEWua,GAAsBva,IAAK,CACtCuB,KAAMiZ,GACNxa,UAEWya,GAA2Bza,IAAK,CAC3CuB,KAAMmZ,GACN1a,UAEW2a,GAA6B,MACxCpZ,KAAMqZ,KAEKC,GAA0B,MACrCtZ,KAAMuZ,KAEKC,GAAwB/a,IAAK,CACxCuB,KAAMyZ,GACNhb,UAEWib,GAA0B,MACrC1Z,KAAM2Z,KAEKC,GAAoB,MAC/B5Z,KAAM6Z,K,uBCrFmCC,KAEDC,KAAQC,KAIPF,KAEaC,KAAQC,KAIrBF,KAEPC,KAAQE,KAA2EC,KAAOC,QAAyBJ,KAAQK,IAIpHN,KAnBpC,MAwBMO,GAAkB,CAC7BpV,OAAqBH,IAAMC,cAAc+U,KAAW,CAClDja,GAAI,cACH,CAAE,2DAA0Dka,KAAQO,6BAA6BJ,KAAOK,mIAC3GvV,UAAW,kBAEAwV,IAC8BV,KAEJC,KAAQK,IAClC,iBAEAK,IAC8BX,KAE8BC,KAAQE,KACpE,kBAQAS,IAL8BZ,KAEiBC,KAAQK,IAIzBN,KAEOC,KAAQK,IAA6CF,KAAOS,QACjG,kBAEAC,IAC8Bd,KAETC,KAAQc,IAC7B,iBAEAC,IAC8BhB,KAG9B,kBAEAiB,IAC8BjB,KAG9B,kBAEAkB,IAC8BlB,KAEiBC,KAAQc,IAAaX,KAAOe,QAC3E,iB,kCCrEEC,OAVE,IAAmBpW,IAAMC,cAAc,MAAO,CAC7DY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,oWACHC,KAAM,cCNR,MAAMqV,GAAgB,EACpBC,WACiBtW,IAAMC,cAAc,MAAO,CAC5CY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,SAAU,CAC5CsW,GAAI,KACJC,GAAI,KACJvV,SAAU,UACVD,KAAMsV,EACNG,EAAG,OAGLJ,GAAcK,aAAe,CAC3BJ,MAAO,WAKMD,UCZAM,OAVI,IAAmB3W,IAAMC,cAAc,MAAO,CAC/DY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,kDACHC,KAAM,c,sBCuIOpB,oBAlBS,CAACV,EAAO0X,KAAR,CACtB5N,UAAW6N,GAAa3X,EAAO,CAC7BnE,GAAI6b,EAASE,aACbtR,OAAQoR,EAASpR,UACb,GACNpD,QAAS2U,GAAW7X,OAGK,CAACW,EAAU+W,KAAX,CACzBI,SAAU,CAACrb,EAAQhC,IAAUkG,EAAS6S,GAAc,CAClDuE,SAAUL,EAASE,aACnBtR,OAAQoR,EAASpR,OAEjB0R,gBAAiBvb,EACjBhC,cAIWiG,EAjIG,EAChBkX,eACA9N,YACA5G,UACA4U,WACAG,WACAC,WACAC,iBAEA,MAAMC,EAAkBna,OAAOoa,OAAOC,aAAmBV,IACnDW,EAAmBC,aAAoBZ,EAAcO,GAAcM,YAAevV,IAClFwV,EAAgBC,cAASle,IAC7Bqd,EAASc,KAA8Bne,KACtC,KACH,OAAoBqG,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAOC,UAClB,YAAagX,GACZpO,EAAU+O,OAA6C/X,IAAMC,cAAc+X,KAAc,CAC1FhB,SAAU,EACRiB,eAEAjB,EAASe,KAA6BtJ,OAAOwJ,KAE/CA,UAAWjP,EAAU+O,OAAgC,IAAIG,WACzDC,OAAQlW,UAAKC,EAAE,QACfkW,OAAO,EACPlY,UAAWC,KAAOkY,eAClBlB,SAAUA,EACVC,SAAW,GAAEA,sBACZE,EAAgB/Y,KAAI5C,IACrB,IAAI2c,EAAeC,EAAgBC,EAEnC,OAAoBxY,IAAMC,cAAcwY,KAAoB,CAC1Dlb,IAAwC,QAAlC+a,EAAgB3c,EAAOhC,aAAqC,IAAlB2e,OAA2B,EAASA,EAAcJ,WAClGve,MAA2C,QAAnC4e,EAAiB5c,EAAOhC,aAAsC,IAAnB4e,OAA4B,EAASA,EAAeL,WACvGQ,MAAO/c,EAAO+c,MACdtB,SAAW,GAAEA,sBAAiE,QAAnCoB,EAAiB7c,EAAOhC,aAAsC,IAAnB6e,OAA4B,EAASA,EAAeN,mBAEzIlP,EAAU2P,OAA8C3Y,IAAMC,cAAc+X,KAAc,CAC7FhB,SAAU,EACRiB,eAEAjB,EAAS2B,KAA8BV,IAEzCA,SAAUjP,EAAU2P,MACpBR,OAAQlW,UAAKC,EAAE,YACfkW,OAAO,EACPlY,UAAWC,KAAOyY,gBAClBzB,SAAUA,EACVC,SAAW,GAAEA,uBACZK,EAAiBlZ,KAAI5C,IACtB,IAAIkd,EAEJ,OAAoB7Y,IAAMC,cAAcwY,KAAoB,CAC1Dlb,IAAK5B,EAAOhC,MACZA,MAAOgC,EAAOhC,MACd+e,MAAO/c,EAAO+c,MACdtB,SAAW,GAAEA,uBAAkE,QAAnCyB,EAAiBld,EAAOhC,aAAsC,IAAnBkf,OAA4B,EAASA,EAAeX,mBAE7HlY,IAAMC,cAAc,MAAO,CAC3CC,UAAWqW,KAAG,CACZ,CAACpW,KAAO2Y,aAAc9P,EAAU8O,OAAiC9O,EAAU+P,OAA2B/P,EAAUgQ,SAEjHhQ,EAAU8O,OAA8C9X,IAAMC,cAAc,QAAS,CACtFC,UAAWqW,KAAGpW,KAAO8Y,eAAgB,CACnC,CAAC9Y,KAAOgX,UAAWA,IAErB,YAAc,GAAEC,uBACFpX,IAAMC,cAAc,QAAS,CAC3C/E,KAAM,QACNvB,MAAOqP,EAAU8O,MACjBd,SAAUkC,GAAKtB,EAAcsB,EAAEC,OAAOxf,OACtCuG,UAAWC,KAAOiZ,eAClBjC,SAAUA,IACKnX,IAAMC,cAAc,MAAO,CAC1CC,UAAWC,KAAOkZ,eACJrZ,IAAMC,cAAcoW,GAAe,CACjDC,MAAOtN,EAAU8O,UACwB,MAArC9O,EAAU+P,OAAgD/Y,IAAMC,cAAcqZ,IAAQ,CAC1F3X,KAAmB3B,IAAMC,cAAcmW,GAAU,MACjDmD,QAAS,KACPvC,EAAS+B,MAAyB/P,EAAU+P,QAE9CS,OAAO,EACPC,WAAW,EACXC,QAAS1Q,EAAU+P,MACnB5B,SAAUA,EACVC,SAAW,GAAEA,kBAC4B,MAAvCpO,EAAUgQ,OAAkDhZ,IAAMC,cAAcqZ,IAAQ,CAC1F3X,KAAmB3B,IAAMC,cAAc0W,GAAY,MACnD4C,QAAS,KACPvC,EAASgC,MAA2BhQ,EAAUgQ,QAEhDQ,OAAO,EACPC,WAAW,EACXtC,SAAUA,EACVuC,QAAS1Q,EAAUgQ,MACnB5B,SAAW,GAAEA,yBCrGV,MAAMuC,GAAa,OACbC,GAAa,OACbC,GAAe,SACtBzE,GAAS,CAAC,UAAW,UAAW,UAAW,WA0IlCxV,oBAvCS,CAACV,EAAO0X,KAAR,CACtB5N,UAAW6N,GAAa3X,EAAO,CAC7BnE,GAAI6b,EAASE,aACbtR,OAAQoR,EAASpR,UACb,GACN5D,MAAOiV,GAAa3X,EAAO,CACzBsG,OAAQoR,EAASpR,OACjBzK,GAAI+L,KAENgT,SAAUjD,GAAa3X,EAAO,CAC5BnE,GAAIgM,GACJvB,OAAQoR,EAASpR,UACboU,OAGmB,CAAC/Z,EAAU+W,KAAX,CACzBmD,aAAcpgB,GAASkG,EAAS6S,GAAc,CAC5CuE,SAAUnQ,GACVtB,OAAQoR,EAASpR,OACjB7L,WAEFqgB,iBAAkBF,GAAYja,EAAS6S,GAAc,CACnDuE,SAAUlQ,GACVvB,OAAQoR,EAASpR,OACjB7L,MAAOmgB,KAETG,cAAetgB,GAASkG,EAAS6S,GAAc,CAC7CuE,SAAUL,EAASE,aACnBtR,OAAQoR,EAASpR,OACjB0R,gBAAiBY,KACjBne,WAEFugB,aAAcvgB,GAASkG,EAAS+S,GAAuB,CACrDqE,SAAUL,EAASE,aACnBtR,OAAQoR,EAASpR,OACjB7L,cAIWiG,EAxIG,EAChB4F,SACAsR,eACAgD,WACAC,eACAC,mBACApY,QACAuY,gBACAF,gBACAjR,YACAkR,eACAE,qBAEA,MAAMC,EAAgB,EACpB1gB,MAAO2gB,MAEPN,EAAiBM,GAEZA,IAAgBX,IAAcW,IAAgBT,KAAiBM,GAAiBnR,EAAU8O,QAAkCyC,KAAiBzD,GAAcgB,MAErJwC,IAAgBV,IACzBG,EAAa,MAFbE,EAAc7E,GAAO5P,EAAO1I,OAAO,MAcvC,OAAoBkD,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,GACX,YAAa,sBACC3V,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,eAA6BlC,IAAMC,cAAcwa,IAAO,CAC9Glf,KAAM,iBACN6c,OAAO,GACN,IAAKgC,EAAiB,CAAC,CACxBrf,GAAI4e,GACJjB,MAAOzW,UAAKC,EAAE,oCACX,GAAK,CACRnH,GAAI6e,GACJlB,MAAOzW,UAAKC,EAAE,SACb,CACDnH,GAAI8e,GACJnB,MAAOzW,UAAKC,EAAE,YACb3D,KAAI,EACLxD,KACA2d,WACiB1Y,IAAMC,cAAcya,KAAO,CAC5Cnd,IAAKxC,EACL2d,MAAOA,EACP/e,MAAOoB,EACPqd,OAAO,EACPpB,SAAUqD,EACVM,QAASb,IAAa/e,OAClB+e,IAAaD,GAA4B7Z,IAAMC,cAAc,MAAO,CACxEC,UAAW4V,IACG9V,IAAMC,cAAc2a,KAAY,CAC9C1f,KAAM,OACN8b,SAAU,EACRrd,WACIogB,EAAapgB,GACnBA,MAAOiI,EACPiZ,YAAa5Y,UAAKC,EAAE,eACpB4Y,WAAY,QACZ1C,OAAO,EACPhB,SAAW,GAAE5R,wBACT,KAAMsU,IAAaH,IAAcG,IAAaD,GAA4B7Z,IAAMC,cAAc,MAAO,CACzGC,UAAW4V,IACG9V,IAAMC,cAAc8a,GAAW,CAC7CjE,aAAcA,EACdM,SAAW,GAAE5R,0BACbA,OAAQA,IACOxF,IAAMC,cAAcqZ,IAAQ,CAC3CC,QApDiB,KACjBW,EAAaC,EAAgB,CAC3Ba,UAAW5F,GAAO5P,EAAO1I,OAAO,KAC9B,KAkDJqa,SA/C+Bha,OAAO0I,KAAKmD,GAAWiS,OAAM1d,IAAQA,IAAQua,OAAiCqC,IAAkBnR,EAAUzL,KAASgd,KAAiBzD,GAAcvZ,IAAQA,IAAQua,MAAgCqC,GAAiBnR,EAAUzL,KAAS6X,GAAO5P,EAAO1I,OAAO,MAgD1R0c,OAAO,GACNvX,UAAKC,EAAE,4BAA8B,SCxFnC,MAAM+P,GAAS,SACTI,GAA4B,4BAC5BE,GAAc,cACdE,GAAiB,iBACjBE,GAAgB,gBAChBE,GAA2B,2BAC3BI,GAAgB,gBAChBE,GAA2B,2BAC3BE,GAA8B,8BAC9BE,GAAe,eACfE,GAAkB,kBAClBU,GAA0B,0BAC1BE,GAA6B,6BAC7BV,GAA6B,6BAC7BE,GAA+B,+BAC/BE,GAAyB,yBACzBE,GAA4B,4BAC5B9B,GAAW,WACXoC,GAA+B,+BAC/BE,GAA4B,4BAC5BE,GAAwB,wBACxBE,GAA0B,0BAC1BE,GAAoB,oBACpBhC,GAAwB,wBACxBmI,GAAa,CACxBhgB,KAAMigB,IACNxT,QAASgD,KACT/F,OAAQ,CACN9G,QAAS,CAAC4F,KACV3F,KAAM,CAAC4O,KACP3O,QAAS,CAAC4P,MAEZlB,iBAAkB,CAChB,CAACkB,KAAuB,GACxB,CAACjB,KAAsB,IAEzBmD,mBAAoB,GACpBD,qBAAsB,GACtBzC,eAAgB,GAChBtB,eAAgB,GAChBsP,kBAAmB,KACnBC,kBAAkB,EAClBC,eAAgB,GAChBrS,gBAAiB,MAENsS,GAAoC,CAAC,YAAa,aAClDC,GAAsC,CAAC,oBA6BpC,QAACtc,EAAQgc,GAAY/b,KACnC,OAAQA,EAAOjE,MACb,KAAK+W,GAED,MAAO,IAAK9S,EAAOxF,OAIvB,KAAK0Y,GAED,OAAOhG,GdnFuB,EAACmB,EAAKiO,EAAe,MAArB,IAAkCA,EACtEvgB,KAAMsS,EAAItS,MAAQigB,IAClBxT,QAASiD,GAA4B4C,GACrC5I,OAAQ8I,aAAkCF,GAC1Cd,iBAAkBgP,aAAkClO,GACpD1B,eAAgB0B,EAAI1B,gBAAkByB,GAAmCC,IAAQiO,EAAa3P,eAC9FgE,mBAAoB6L,YAAenO,EAAItS,OAASsS,EAAG,aAA6BA,EAAG,aAA6BiO,EAAa3L,mBAC7HD,qBAAsB8L,YAAenO,EAAItS,MAAQsS,EAAIzP,KAAK,GAAG0O,MAAMlO,KAAI+Q,GAAQA,EAAKvU,KAAM0gB,EAAa5L,uBc4EvE+L,CAAuBzc,EAAOxF,MAAOuF,IAGnE,KAAKqT,GAED,MAAO,IAAKrT,EACVhE,KAAMiE,EAAOxF,OAInB,KAAK8Y,GAED,MAAO,IAAKvT,EACVyI,QAAS,IAAKzI,EAAMyI,WACfxI,EAAOxF,QAKlB,KAAKgZ,GACH,CACE,MAAMhL,EAAU,CACd1E,KAAM/D,EAAMyI,QAAQ1E,MAAQ,GAC5BkF,UAAWjJ,EAAMyI,QAAQQ,WAAa,GACtCa,UAAW9J,EAAMyI,QAAQqB,WAAa,GACtC7K,OAAQe,EAAMyI,QAAQxJ,QAAU,IAE5BxE,EAAQwF,EAAOxF,MAAMA,MACrBsd,EAAW9X,EAAOxF,MAAMsd,UACvB4E,EAAUC,IAAc3c,EAAOxF,MAAM6L,QAAU,IAAIuW,MAAM,KAC1D7E,EAAkB/X,EAAOxF,MAAMud,gBAErC,OAAQD,GACN,KAAKtQ,GACL,KAAKD,GACL,KAAKE,GACL,KAAKC,GAEDc,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAM,IAAKgZ,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAClF,CAAC5E,GAAWtd,IAEd,MAGJ,KAAK6M,GACHmB,EAAQQ,UAAY,IAAKR,EAAQQ,UAC/B+T,OAAQviB,GAEV,MAEF,KAAK6N,GACHG,EAAQxJ,OAAS,IAAKwJ,EAAQxJ,OAC5Bge,SAAUxiB,GAEZ,MAEF,KAAK8N,GACHE,EAAQxJ,OAAS,IAAKwJ,EAAQxJ,OAC5Bie,MAAOziB,GAET,MAEF,KAAK8M,GACHkB,EAAQxJ,OAAS,IAAKwJ,EAAQxJ,OAC5Bke,QAAS1iB,GAEX,MAEF,KAAK+N,GACHC,EAAQxJ,OAAS,IAAKwJ,EAAQxJ,OAC5Bme,IAAK3iB,GAEP,MAEF,KAAKmN,GACH,CACE,MAAMR,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDlU,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAM,IAAKqD,EACzC1E,MAAO,IAAK0E,EAAK1E,MACf2a,KAAM5iB,KAGV,MAGJ,KAAKoN,GACH,CACE,MAAMT,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDlU,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAM,IAAKqD,EACzC1E,MAAO,IAAK0E,EAAK1E,MACfkY,SAAU,CAACD,GAAcF,IAAYnc,SAAS7D,GAASA,EAAQ,QAGnE,MAGJ,KAAKqN,GACL,KAAKI,GACH,CACE,MAAMoV,EAAOvF,IAAajQ,GAA2B,WAAa,aAClEW,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAM,IAAKgZ,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAClF,CAACW,GAAO7iB,EAAQ,CACduR,QAASvR,GACP,OAEN,MAGJ,KAAKsN,GACL,KAAKI,GACH,CACE,IAAIoV,EAEJ,MAAMD,EAAOvF,IAAahQ,GAAyB,WAAa,aAC1DX,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDvV,EAAKkW,GAAQ,IAAKlW,EAAKkW,GACrB5a,MAAO,IAAoC,QAA7B6a,EAAanW,EAAKkW,UAAkC,IAAfC,OAAwB,EAASA,EAAW7a,MAC7F2a,KAAM5iB,QAASmP,IAGnBnB,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GACtC,MAGJ,KAAKY,GACL,KAAKI,GACH,CACE,MAAMkV,EAAOvF,IAAa/P,GAAyB,WAAa,aAC1DZ,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDvV,EAAKkW,GAAQ,IAAKlW,EAAKkW,GACrB7iB,MAAOA,GAAmB,IAAVA,EAAcA,OAAQmP,GAExCnB,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GACtC,MAGJ,KAAKa,GACL,KAAKI,GACH,CACE,IAAImV,EAEJ,MAAMF,EAAOvF,IAAa9P,GAAoC,WAAa,aACrEb,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDvV,EAAKkW,GAAM5a,MAAQ,IAAK0E,EAAKkW,GAAM5a,MACjCoH,UAAW,IAAgD,QAAzC0T,EAAmBpW,EAAKkW,GAAM5a,aAAwC,IAArB8a,OAA8B,EAASA,EAAiB1T,UACzH,CAACkO,GAAkBqD,KAAiBoC,MAAkCzF,KAAqBvd,EAAQA,OAAQmP,IAG/GnB,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GACtC,MAGJ,KAAKsW,KACL,KAAKC,KACH,CACE,IAAIC,EAEJ,MAAMxW,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDvV,EAAK1E,MAAQ,IAAK0E,EAAK1E,MACrBoH,UAAW,IAAqC,QAA9B8T,EAAcxW,EAAK1E,aAAmC,IAAhBkb,OAAyB,EAASA,EAAY9T,UACpG,CAACkO,GAAkBqD,KAAiBtD,GAAUC,KAAqBvd,EAAQA,OAAQmP,IAGvFnB,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GACtC,MAGJ,KAAKyW,KACH,CACE,IAAIC,EAEJ,MAAM1W,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GACtDvV,EAAKoS,MAAQ,IAAKpS,EAAKoS,MACrB1P,UAAW,IAAqC,QAA9BgU,EAAc1W,EAAKoS,aAAmC,IAAhBsE,OAAyB,EAASA,EAAYhU,UACpG,CAACkO,GAAkBqD,KAAiBtD,GAAUC,KAAqBvd,EAAQA,OAAQmP,IAGvFnB,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GACtC,MAGJ,KAAK2W,KAED,IAAIC,EAEJvV,EAAQQ,UAAY,IAAKR,EAAQQ,UAC/BuQ,MAAO,CACL1P,UAAW,IAA4D,QAArDkU,EAAwBvV,EAAQQ,UAAUuQ,aAA6C,IAA1BwE,OAAmC,EAASA,EAAsBlU,UAC/I,CAACkO,GAAkBqD,KAAiBtD,GAAUC,KAAqBvd,EAAQA,OAAQmP,KAIzF,MAGJ,KAAKqU,KACL,KAAKC,KAEDzV,EAAQqB,UAAY,IAAKrB,EAAQqB,UAC/B,CAACiO,GAAW,IAAKtP,EAAQqB,UAAUiO,GACjC,CAACC,GAAkBqD,KAAiBtD,GAAUC,KAAqBvd,EAAQA,OAAQmP,IAGvF,MAGJ,QAEInB,EAAQsP,GAAYtd,EAQ1B,OAHAgO,EAAQqB,UAAYqU,GAAU1V,EAAQqB,WACtCrB,EAAQQ,UAAYkV,GAAU1V,EAAQQ,WACtCR,EAAQ1E,KAAOqa,GAAU3V,EAAQ1E,MAC1B,IAAK/D,EACVyI,QAAS,IAAKzI,EAAMyI,WACfA,IAKX,KAAKkL,GACH,CACE,MAAMlL,EAAU,CACd1E,KAAM/D,EAAMyI,QAAQ1E,MAAQ,KAEvB4Y,EAAUC,IAAc3c,EAAOxF,MAAM6L,QAAU,IAAIuW,MAAM,KAC1DzV,EAAO2V,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAEtD,OAAQ1c,EAAOxF,MAAMsd,UACnB,KAAK2F,KACL,KAAKC,KAEDvW,EAAK1E,MAAQ,IAAK0E,EAAK1E,MACrBoH,UAAW7J,EAAOxF,MAAMA,OAE1BgO,EAAQ1E,KAAO+Y,GAASrU,EAAQ1E,KAAMqD,GAM5C,OADAqB,EAAQ1E,KAAOqa,GAAU3V,EAAQ1E,MAC1B,IAAK/D,EACVyI,QAAS,IAAKzI,EAAMyI,WACfA,IAKX,KAAKsL,GAED,MAAO,IAAK/T,EACV0F,OAAQ,IAAKzF,EAAOxF,QAO1B,KAAKwZ,GACH,CACE,MAAMoK,EAAY,IAAKpe,EAAOxF,SACzB+L,GAAcxG,EAAM0F,OAAQzF,EAAOxF,MAAOuF,EAAMhE,OAErD,IAAIsiB,EAAYte,EAAM0F,OAiBtB,OAfAzH,OAAOC,QAAQmgB,GAAWhY,SAAQ,EAAEyI,GAClCxI,SACAjB,aAEIiZ,EAAUhY,IAAWiY,aAA0Bve,EAAMhE,KAAMsiB,EAAUhY,GAASA,KAEhFgY,EAAY7Y,GAAkB6Y,EAAW,CAACxP,IAE5B,OAAVzJ,QAA4BuE,IAAVvE,EACpBiZ,EAAUhY,GAAQxI,KAAKgR,GAEvBwP,EAAUhY,GAAQkY,OAAOnZ,EAAO,EAAGyJ,OAIlC,IAAK9O,EACV0F,OAAQ4Y,GAId,KAAKnK,GAED,MAAO,IAAKnU,EACV0F,OAAQD,GAAkBzF,EAAM0F,OAAQzF,EAAOxF,QAIrD,KAAK4Z,GACH,CACE,MAAM,YACJvF,EADI,QAEJ2P,GACExe,EAAOxF,MACX,MAAO,IAAKuF,EACVwN,iBAAkB,IAAKxN,EAAMwN,iBAC3B,CAACsB,GAAc2P,IAKvB,KAAKlK,GACH,CACE,MAAM,YACJzF,EADI,gBAEJ4P,GACEze,EAAOxF,MACLqV,GAAW9P,EAAMwN,iBAAiBsB,IAAgB,IAAIpP,QAAO7D,IAAO6iB,EAAgBpgB,SAASzC,KACnG,MAAO,IAAKmE,EACVwN,iBAAkB,IAAKxN,EAAMwN,iBAC3B,CAACsB,GAAcgB,IAKvB,KAAK2E,GAED,MAAO,IAAKzU,EACV4Q,mBAAoB3Q,EAAOxF,OAASuhB,GAAWpL,oBAIrD,KAAK+D,GAED,MAAO,IAAK3U,EACV2Q,qBAAsB1Q,EAAOxF,MAAQkkB,aAAU1e,EAAOxF,OAASuhB,GAAWrL,sBAIhF,KAAKkE,GACH,CACE,MAAM,UACJ1G,EADI,QAEJsQ,EAFI,YAGJ3P,GACE7O,EAAOxF,MACX,MAAO,IAAKuF,EACVwN,iBAAkB,IAAKxN,EAAMwN,iBAC3B,CAACsB,GAAc,IAAI,IAAI8P,IAAI,IAAI5e,EAAMwN,iBAAiBsB,GAAapP,QAAO7D,GAAMmE,EAAMkO,eAAe/G,MAAK0X,GAAYA,EAAShjB,KAAOA,GAAMgjB,EAAS1Q,YAAcA,SAAgBsQ,MAErLvQ,eAAgB,IAAIlO,EAAMkO,eAAexO,QAAO0Q,GAAQA,EAAKjC,YAAcA,OAAesQ,EAAQpf,KAAIxD,IAAE,CACtGA,KACAsS,kBAKR,KAAK4G,GACH,CACE,MAAM,YACJjG,EADI,gBAEJ4P,EAFI,UAGJvQ,GACElO,EAAOxF,MACLyT,GAAkBlO,EAAMkO,gBAAkB,IAAIxO,QAAO,EACzD7D,GAAIijB,EACJ3Q,UAAW4Q,OACLL,EAAgBpgB,SAASwgB,IAAWC,IAAkB5Q,KACxD2B,GAAW9P,EAAMwN,iBAAiBsB,IAAgB,IAAIpP,QAAO7D,GAAMqS,EAAewB,MAAK,EAC3F7T,GAAIijB,KACAA,IAAWjjB,MAAQ6iB,EAAgBpgB,SAASzC,KAClD,MAAO,IAAKmE,EACVwN,iBAAkB,IAAKxN,EAAMwN,iBAC3B,CAACsB,GAAcgB,GAEjB5B,kBAIN,KAAK+G,GAED,MAAO,IAAKjV,EACV4M,eAAgB,IAAK5M,EAAM4M,kBACtB3M,EAAOxF,QAKlB,KAAK0a,GAED,MAAO,IAAKnV,EACVkc,kBAAmBjc,EAAOxF,OAASuhB,GAAWE,mBAIpD,KAAKjJ,GAED,MA/aiBxK,KACvB,MAAM,sBACJ2J,EADI,eAEJ4M,EAFI,oBAGJpU,GACEnC,EACEmE,EAAiB,IAAKoP,GAAWpP,gBAOvC,OALAwF,EAAsB/L,SAAQ4Y,IACxBA,EAAKpjB,KACP+Q,EAAeqS,EAAKpjB,IAAM,OAGvB,IAAKmgB,GACVvT,QAAS,IAAKuT,GAAWvT,QACvBmC,uBAEF4C,iBAAkB,IAAKwO,GAAWxO,iBAChC,CAACkB,KAAuB,CAACwQ,MACzB,CAACzR,KAAsB,CAACuR,IAE1BpO,mBAAoByL,GACpB1L,qBAAsB2L,GACtB1P,mBAwZWuS,CAAiBlf,EAAOxF,OAGnC,KAAK4a,GACH,MAAO,IAAKrV,EACVmc,kBAAmBnc,EAAMmc,kBAG7B,KAAK5G,GACH,MAAO,IAAKvV,EACVmc,kBAAkB,GAGtB,KAAK1G,GACH,MAAO,IAAKzV,EACVoc,eAAgBnc,EAAOxF,OAG3B,KAAKkb,GACH,MAAO,IAAK3V,EACVoc,eAAgBJ,GAAWI,gBAG/B,KAAKvG,GACH,MAAO,IAAK7V,EACVyI,QAAS,IAAKzI,EAAMyI,QAClBoB,OAAQ7J,EAAMyI,QAAQoB,OAAOxK,KAAI,EAC/BrD,UACGsT,KACCA,MAIZ,KAAKuE,GACH,CACE,MAAM,YACJuL,EADI,MAEJ3kB,EAFI,KAGJ6iB,GACErd,EAAOxF,MACLoP,EAAS,IAAI7J,EAAMyI,QAAQoB,QAC3BwV,EAAYxV,EAAOyV,WAAUlP,GAAQA,EAAKmP,eAAiBH,EAAYG,gBAE7E,GAAIjC,IAASzQ,IAAyBpS,IAAUuF,EAAMhE,KAAM,CAC1D,MACE,CAACshB,GAAOkC,KACLlQ,GACDzF,EAAOwV,GACXxV,EAAOwV,GAAa,IAAK/P,QAGzBzF,EAAOwV,GAAaphB,OAAOqP,OAAO,GAAIzD,EAAOwV,GAAY,CACvD,CAAC/B,GAAO7iB,IAIZ,MAAO,IAAKuF,EACVyI,QAAS,IAAKzI,EAAMyI,QAClBoB,WAKR,QACE,OAAO7J,IAIN,MAAMyf,GAASzf,GAASA,EAAMiN,GACxB4K,GAAa7X,GAASyf,GAAOzf,GAAOhE,KACpC0jB,GAAgB1f,GAASyf,GAAOzf,GAAOyI,QACvCkX,GAAe3f,GAASyf,GAAOzf,GAAO0F,OACtCka,GAAc5f,GAASyf,GAAOzf,GAAOwN,iBACrCqS,GAA2B7f,GAASyf,GAAOzf,GAAO4Q,mBAClDkP,GAA6B9f,GAASyf,GAAOzf,GAAO2Q,qBACpDoP,GAAyB,CAAC/f,EAAOmO,KAAesR,GAAOzf,GAAOkO,gBAAkB,IAAIxO,QAAO0Q,GAAQA,EAAKjC,YAAcA,IAAW9O,KAAI+Q,GAAQA,EAAKvU,KAClJmkB,GAAuBhgB,GAASyf,GAAOzf,GAAO4M,eAC9CqT,GAA0BjgB,GAASyf,GAAOzf,GAAOkc,kBACjDgE,GAAyBlgB,GAASyf,GAAOzf,GAAOmc,iBAChDgE,GAAuBngB,GAASyf,GAAOzf,GAAOoc,eAC9CgE,GAAWpgB,GAASyf,GAAOzf,GAAO+D,KAElCsc,GAA0B,CAACrgB,EAAO8O,KAAiB1I,GAAiBuZ,GAAa3f,KAAW,IAAI8O,GAChGwR,GAAyB,CAACtgB,EAAO2O,IAAciR,GAAY5f,GAAO2O,IAAcqN,GAAWxO,iBAAiBmB,GAC5G4R,GAA2B,CAACvgB,EAAOsG,MAC1BqZ,GAAa3f,IAAU,IAAIsG,IAAW,IACxCnI,QAAO,CAACoP,EAAOoB,KAC/BpB,EAAMzP,KAAKwiB,GAAuBtgB,EAAO2O,IAClCpB,IACN,IAAIiT,OAEIC,GAA6BzgB,GAAS/B,OAAOoa,OAAOsH,GAAa3f,IAAQ7B,QAAO,CAAC4H,EAAK2a,IAAqB3a,EAAIxH,OAAOmiB,IAAmB,IACzIC,GAAsB,CAAC3gB,EAAO2O,IAAc8R,GAA2BzgB,GAAO1B,SAASqQ,GACvFiS,GAA+B5gB,GAAS2gB,GAAoB3gB,EAAO6gB,KACnEC,GAAgB9gB,IAC3B,MAAMpB,EAAU+gB,GAAa3f,GAAOpB,QAC9B2O,EAAQqS,GAAY5f,GACpB+D,EAAOqc,GAASpgB,IAAU,GAChC,OAAOgG,MAAMC,QAAQsH,EAAM3O,EAAQ,MAAQ2O,EAAM3O,EAAQ,IAAI0G,OAASiI,EAAM3O,EAAQ,IAAIS,KAAIxD,IAAE,CAC5FA,KACAuL,KAAMvL,KAAMkI,EAAOA,EAAKlI,GAAM,MAC1B,IAEK8b,GAAe,CAAC3X,EAAOvD,KAClC,IAAIskB,EAAgBC,EAAiBC,EAAoBC,EAAiBC,EAAkBC,EAAkBC,EAAkBC,EAAqBC,EAAuBC,EAAmBC,EAAoBC,EAAuBC,EAAoBC,EAAoBC,EAAuBC,EAAqBC,EAAsBC,EAAuBC,EAAsBC,EAAsBC,EAAuBC,EAAgBC,EAE9b,MAAM5Z,EAAUgX,GAAOzf,GAAOyI,SACvBkU,EAAUC,IAAcngB,EAAO6J,QAAU,IAAIuW,MAAM,KAC1D,IAAIpiB,EAEJ,GAAIgC,EAAOJ,KACT5B,EAAQgO,EAAQhM,EAAOJ,WAClB,GAAII,EAAOZ,GAChB,OAAQY,EAAOZ,IACb,KAAK6L,GACL,KAAKC,GACL,KAAKF,GACL,KAAKD,GACH/M,EAAQsiB,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAUlgB,EAAOZ,IAClE,MAEF,KAAKgM,GACHpN,EAAwF,QAA/EsmB,EAAiBhE,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAUja,aAAsC,IAAnBqe,OAA4B,EAASA,EAAenG,SACpJ,MAEF,KAAKhT,GACHnN,EAAyF,QAAhFumB,EAAkBjE,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAUja,aAAuC,IAApBse,OAA6B,EAASA,EAAgB3D,KACvJ,MAEF,KAAK/V,GACH7M,EAAqD,QAA5CwmB,EAAqBxY,EAAQQ,iBAA8C,IAAvBgY,OAAgC,EAASA,EAAmBjE,OACzH,MAEF,KAAK1U,GACH7N,EAA+C,QAAtCymB,EAAkBzY,EAAQxJ,cAAwC,IAApBiiB,OAA6B,EAASA,EAAgBjE,SAC7G,MAEF,KAAK1U,GACH9N,EAAgD,QAAvC0mB,EAAmB1Y,EAAQxJ,cAAyC,IAArBkiB,OAA8B,EAASA,EAAiBjE,MAChH,MAEF,KAAK3V,GACH9M,EAAgD,QAAvC2mB,EAAmB3Y,EAAQxJ,cAAyC,IAArBmiB,OAA8B,EAASA,EAAiBjE,QAChH,MAEF,KAAK3U,GACH/N,EAAgD,QAAvC4mB,EAAmB5Y,EAAQxJ,cAAyC,IAArBoiB,OAA8B,EAASA,EAAiBjE,IAChH,MAEF,KAAKW,KACHtjB,EAAQ6nB,GAAyB7lB,EAAOZ,GAAkD,QAA7CylB,EAAsB7Y,EAAQQ,iBAA+C,IAAxBqY,GAAkG,QAAvDC,EAAwBD,EAAoB9H,aAA6C,IAA1B+H,OAAzE,EAAqHA,EAAsBzX,WAC9Q,MAEF,KAAKhC,GACHrN,EAA8F,QAArF+mB,EAAoBzE,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU7Q,gBAA4C,IAAtB0V,OAA+B,EAASA,EAAkBxV,QAChK,MAEF,KAAKjE,GACHtN,EAA+F,QAAtFgnB,EAAqB1E,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU7Q,gBAA6C,IAAvB2V,GAAgG,QAAtDC,EAAwBD,EAAmB/e,aAA6C,IAA1Bgf,OAAxE,EAAoHA,EAAsBrE,KACjR,MAEF,KAAKrV,GACHvN,EAA+F,QAAtFknB,EAAqB5E,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU7Q,gBAA6C,IAAvB6V,OAAgC,EAASA,EAAmBlnB,MACnK,MAEF,KAAKwN,GACHxN,EAAQ6nB,GAAyB7E,KAAyH,QAAtFmE,EAAqB7E,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU7Q,gBAA6C,IAAvB8V,GAAgG,QAAtDC,EAAwBD,EAAmBlf,aAA6C,IAA1Bmf,OAAxE,EAAoHA,EAAsB/X,WAC5U,MAEF,KAAK5B,GACHzN,EAAkG,QAAzFqnB,EAAsB/E,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU9Q,kBAAgD,IAAxBiW,OAAiC,EAASA,EAAoB9V,QACxK,MAEF,KAAK7D,GACH1N,EAAmG,QAA1FsnB,EAAuBhF,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU9Q,kBAAiD,IAAzBkW,GAAoG,QAAxDC,EAAwBD,EAAqBrf,aAA6C,IAA1Bsf,OAA1E,EAAsHA,EAAsB3E,KACzR,MAEF,KAAKjV,GACH3N,EAAmG,QAA1FwnB,EAAuBlF,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU9Q,kBAAiD,IAAzBoW,OAAkC,EAASA,EAAqBxnB,MAC3K,MAEF,KAAK4N,GACH5N,EAAQ6nB,GAAyB7E,KAA6H,QAA1FyE,EAAuBnF,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAU9Q,kBAAiD,IAAzBqW,GAAoG,QAAxDC,EAAwBD,EAAqBxf,aAA6C,IAA1Byf,OAA1E,EAAsHA,EAAsBrY,WACpV,MAEF,KAAK+T,KACHpjB,EAAQ6nB,GAAyB7lB,EAAOZ,GAAoF,QAA/EumB,EAAiBrF,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAUnD,aAAsC,IAAnB4I,OAA4B,EAASA,EAAetY,WACxL,MAEF,KAAK4T,KACL,KAAKC,KACHljB,EAAQ6nB,GAAyB7lB,EAAOZ,GAAqF,QAAhFwmB,EAAkBtF,GAAQtU,EAAQ1E,KAAMwL,OAAOqN,GAAYD,GAAUja,aAAuC,IAApB2f,OAA6B,EAASA,EAAgBvY,WAC3L,MAEF,KAAKmU,KACL,KAAKC,KACHzjB,EAAQ6nB,GAAyB7lB,EAAOZ,IAAK4M,EAAQqB,WAAa,IAAIrN,EAAOZ,KAKnF,OAAOpB,GAGHsiB,GAAU,CAAChZ,EAAO,GAAI6Y,EAAWD,KAAvB,IAA2C5Y,EAAKoD,MAAKC,GAAQA,EAAK/B,QAAUuX,GAAaxV,EAAKpL,OAAS2gB,KAAa,CAChItX,MAAOkK,OAAOqN,GACd5gB,KAAM2gB,KAIJ2F,GAA2B,CAAC1K,EAAc9N,KAAf,IAAmCuR,KAAiBzD,MAC/E9N,GAAa,KAGbqU,GAAYoE,IAChB,MAAM9S,EAAS+S,KAAYD,GAU3B,OATAtkB,OAAO0I,KAAK8I,GAAQpJ,SAAQhI,IACC,kBAAhBoR,EAAOpR,KAChBoR,EAAOpR,GAAO8f,GAAU1O,EAAOpR,IAE1BJ,OAAO0I,KAAK8I,EAAOpR,IAAMiH,eACrBmK,EAAOpR,OAIboR,GAGHqN,GAAW,CAAC/Y,EAAMqD,KACtB,MAAMqb,EAAc1e,EAAKrE,QAAOA,GAAUA,EAAO2F,QAAUkK,OAAOnI,EAAK/B,QAAU3F,EAAO1D,OAASoL,EAAKpL,OAEtG,OADAymB,EAAY3kB,KAAKsJ,GACVqb,GAGHrE,GAAYra,GAAQA,EAAK1E,KAAI+H,IACjC,MAAMsb,EAAYvE,GAAU/W,GAC5B,OAAQnJ,OAAO0I,KAAK+b,GAAWhjB,QAAOrB,IAAQ,CAAC,OAAQ,SAASC,SAASD,KAAMiH,OAAgBod,EAAP,QACvFhjB,QAAOijB,GAAKA,ICltBFC,GAAenoB,IAAK,CAC/BuB,KAAM6U,GACNpW,UAEWuY,GAAU,MACrBhX,KAAM+U,KAEK8R,GAAqBpoB,IAAK,CACrCuB,KAAM8U,GACNrW,UAEWqoB,GAAoB,IAAMC,MAAOpiB,EAAUqiB,KACtDriB,EAASkiB,GAAmBpD,GAAOuD,Q,oCCb9B,MAAMC,GAAiB,iBACjBC,GAAyB,yBACzBC,GAAqBC,cAClB,QAACpjB,EAAQmjB,GAAoBljB,KAC3C,OAAQA,EAAOjE,MACb,KAAKinB,GAED,MAAO,IAAKE,MACPljB,EAAOxF,OAIhB,QACE,OAAOuF,IAgBN,MAAMqjB,GAAiBrjB,GAASA,EAAMsjB,WCzBhCC,GAAkBD,IAAU,CACvCtnB,KAAMinB,GACNxoB,MAAO+oB,aAAMC,aAAOH,EAAY,CAACzhB,GAAKA,EAAExF,KAAKqnB,gBAAiB,QAEnDC,GAAiB,IAAMZ,MAAOpiB,EAAUqiB,EAAUY,KAU7D,IACE,MAAMC,EAAkBtR,GAAgCyQ,KAExD,MAZgBM,KAChB3iB,EAAS4iB,GAAgBD,KAWlBQ,OADkBC,aAAmBH,EAAQC,IAEpD,MAAOG,GACP,OAVc1oB,EAUC0oB,EATfzoB,QAAQC,IAAI,+BAAgCF,GACrCA,EAFOA,OCdL2oB,GAAiB,iBACjBC,GAAmB,mBACnBC,GAAc,cACdC,GAAqB,qBACrBC,GAAkB,CAC7BC,WAAW,EACXC,aAAc,KACdC,iBAAiB,GA+BZ,MAAMC,GAAgBzkB,GAASA,EAAM0kB,OAAOH,aAEtCI,GAAsB3kB,GAASA,EAAM0kB,OAAOF,gBCvC5CI,GAAiBnqB,IAAK,CACjCuB,KAAMioB,GACNxpB,UAEWoqB,GAAmB,MAC9B7oB,KAAMkoB,KAMKY,GAAqBrqB,IAAK,CACrCuB,KAAMooB,GACN3pB,UCdWsqB,GAAe,eACfC,GAAmB,GAezB,MAAMC,GAAejlB,GAASA,EAAM2M,SCf9BuY,GAAgBzqB,IAAK,CAChCuB,KAAM+oB,GACNtqB,UCHW0qB,GAAsB,sBACtBC,GAA0B,GACvB,QAACplB,EAAQolB,GAAyBnlB,KAChD,OAAQA,EAAOjE,MACb,KAAKmpB,GAED,OAAOllB,EAAOxF,OAAS2qB,GAG3B,QACE,OAAOplB,IAIN,MAAMqlB,GAAqBrlB,GAASA,EAAMslB,eCZ3CC,GAAsB,CAC1B5pB,SAAU,iBACVC,OAAQ,CACNyC,ICL2B,CAAC,gBAAiB,4BAA6B,iCAAkC,0CAA2C,0BAA2B,sBAAuB,wBAAyB,uBAAwB,4BCGjPmnB,GAAgB/qB,IAAK,CAChCuB,KAAM6V,GACNpX,UAEWgrB,GAAe,IAAIC,IAAkB3C,MAAOpiB,EAAUqiB,EAAUY,KAU3E,IACE,MAAM+B,EFV4B5C,iBACH6C,EAAWC,MAAM,CAChDC,eAAgBP,IACf,CACDlqB,aAEwByqB,eEIIC,CAAuBnC,GAC7CoC,EAAoBC,YAA8BrC,IAEjDkC,EAAgBI,SAAsBC,QAAQC,IAAI,CAACT,EAAqBK,IAC/E,OAdgBK,EAcC,IAAKP,EACpB1T,sBAAuB8T,QAdzBvlB,EAAS6kB,GAAcvnB,OAAOqP,OAAO,GAAI+Y,KAAoBX,KAgB7D,MAAO1B,GACP,OAdc1oB,EAcC0oB,EAbfzoB,QAAQC,IAAI,mCAAoCF,GACzCA,EAFOA,MAJE+qB,GCRdC,GAAqB,CACzBC,UAAW,CACT5qB,SAAU,mBACVE,GAAI,EACF2qB,iBACIA,ICLGC,GAAgB,gBAChBC,GAAqB,qBACrBC,GAAe,CAC1B9qB,GAAI,GACJ+qB,SAAU,GACVlsB,SAAU,GACVmsB,aAAa,EACbC,YAAa,IAiCR,MAAMC,GAAW/mB,GAASA,EAAMjB,KAE1BioB,GAAehnB,GAAS+mB,GAAS/mB,GAAO4mB,SCtCxCK,GAAiBxsB,IAAK,CACjCuB,KAAMyqB,GACNhsB,UAEWysB,GAAqBzsB,IAAK,CACrCuB,KAAM0qB,GACNjsB,UAEW0sB,GAAqBC,GAAgBrE,MAAOpiB,EAAUqiB,EAAUY,KAO3E,IACE,OAPgByD,QFLkBzB,EEYWhC,EFZC4C,EEYOY,EFZSxB,EAAWC,MAAMS,GAAoB,CACrGgB,UAAW,CACTd,uBEIA7lB,EAASumB,GAAmB,CAC1B,CAACE,GAAeC,EAASd,aAM3B,MAAOvC,GACPrjB,EAASikB,GAAe,IAAI9f,KATZuiB,MFLkBzB,EAAYY,GGPrCe,GAAqBrqB,IAAa,CAC7ClB,KAAMoV,GACN3W,MAAOyC,IAEI8V,GAAU,MACrBhX,KAAMqV,KCkBFmW,GAAW,CAACvnB,EAAQ3E,KACxBC,QAAQC,IAAK,mBAAkByE,MAAW3E,MAGtCmsB,GAAiBrgB,IAASA,GAAQ,IAAI/H,KAAIqoB,IAC9C,IAAIC,EAEJ,MAAO,IAAKD,EACVna,MAAc,OAAPma,QAAsB,IAAPA,GAA4C,QAA1BC,EAAYD,EAAGna,aAAiC,IAAdoa,GAAwBA,EAAUriB,OAASoiB,EAAGna,MAAS,CAAC/I,IAAmBiJ,IAAqBiB,IAAsBmS,KAAkCviB,SAASopB,EAAG/Y,WAGzO,KAHsP,CAAC,CAC1P9S,GAAI8T,IACJtT,KAAM0G,UAAKC,EAAE,mBAqDN4kB,GAAW,CAACtsB,EAAQ,OAAS,CAACqF,EAAUqiB,KAEjDriB,EADErF,EACOusB,GAA0BvsB,GAE1BusB,MAGXlnB,EAASmnB,MACTnnB,EAASonB,MACT,MAAM3V,EAAwBK,GAAiBuQ,KACzChE,EAAiBtM,GAAmBsQ,KACpCpY,EAAsB4H,GAAgCwQ,KAC5DriB,EAASqnB,GAAe,CACtB5V,wBACA4M,iBACApU,0BAsCSqd,GAAuB,EAClC5rB,OACAsG,eACCulB,IAASnF,MAAOpiB,EAAUqiB,EAAUY,KAqBrC,IACEjjB,EAASknB,IAA8B,IACvC,MAAM3qB,E1BnKiCO,KACzC,MAAMP,EAAgBe,OAAOqP,OAAO,GAAI7P,GAGxC,OAF0BQ,OAAO0I,KAAK8B,IAAS/I,QAAOjD,IAAWgM,GAAQhM,GAAQkM,UAC/DtC,SAAQ5J,UAAiBS,EAAcT,KAClDS,G0B+JiBirB,CAA4BjX,GAAY8R,MAsB9D,OApBIkF,UACKhrB,EAAcrB,GAGvBqB,EAAcb,KACdA,GACAa,EAAcb,MACd0G,UAAKC,EAAE,yDAA0D,CAC/DY,kBAAmBC,YAAwB3G,EAAclB,MACzDosB,MAAM,IAAIltB,MAAOmtB,wBAAmBze,EAAW,CAC7C9O,KAAM,UACNC,MAAO,QACPC,IAAK,cAIL2H,IACFzF,EAAcyF,YAAcA,QAxCX,QADH2lB,OzC3GgB,EAAC1C,EAAY1oB,KAC/C,MAAMqrB,EAAW,CACfvsB,KAAM,SACNL,SAAU,iBACV6sB,KAAMtrB,EACNtB,OAAQ,CACN6sB,iBAAkB,OAClBC,YAAa,SASjB,OALIxrB,EAAcrB,KAChB0sB,EAASvsB,KAAO,SAChBusB,EAAS1sB,GAAKqB,EAAcrB,IAGvB+pB,EAAW+C,OAAOJ,IyCuIAK,CAAqBhF,EAAQ1mB,IA3C5C2rB,QAAmBP,EAAIjB,SAASyB,MAClCZ,EACFa,GAAQjrB,KAAK,CACXkrB,SAAW,IAAGV,EAAIjB,SAASyB,MAC3B9oB,MAAO,CACLipB,UAAU,KAIdF,GAAQ3tB,QAAQ,CACd4tB,SAAW,IAAGV,EAAIjB,SAASyB,MAC3B9oB,MAAO,CACLipB,UAAU,OAgClB,MAAO3tB,GACPqF,EAASknB,IAA8B,IACvCL,GAAS,uBAAwBlsB,GAGjCqF,EAASknB,GAA0B,IAAI/iB,KAlDvBwjB,O,cC9Ib,MAAMY,GAAY,YACZC,GAAiB,0BACjBC,GAAerG,eAAkBsG,EAAGC,YAAYC,UAAUC,IAAIN,IAC9DO,GAAe1G,MAAOsG,EAAID,IAAiBA,QAAqBC,EAAGC,YAAYC,UAAUG,IAAIR,UAAmBG,EAAGC,YAAYC,UAAUI,OAAOT,IAmBhJU,GAA2B,CAACnsB,EAASY,EAAM8qB,KAlBjCpG,OAAOyF,EAAMnqB,EAAKwrB,KACvC,IACE,MAAMR,QAAWS,yBAEjB,OADWD,SAAoBJ,GAAaJ,QAAUD,GAAaC,KACzDjM,IAAI/e,EAAKmqB,GACnB,MAAOltB,GACP,OAAOD,EAAQC,KAYwDyuB,CAAQtsB,EAASY,GAC/E2rB,GAA8B,CAAC3rB,EAAM8qB,KAV1BpG,OAAO1kB,EAAKwrB,KAClC,IACE,MAAMR,QAAWS,yBAEjB,OADWD,SAAoBJ,GAAaJ,QAAUD,GAAaC,KACzDK,IAAIrrB,GACd,MAAO/C,GACP,OAAOD,EAAQC,KAIkD2uB,CAAS5rB,GCqB/D,I,WCjCA6rB,gBAAgB,CAC7BhtB,c9BXc,CAAC8C,EAAQsR,KAAuBrR,KAC9C,OAAQA,EAAOjE,MACb,KAAKoV,GAED,OAAOnR,EAAOxF,MAGlB,KAAK4W,GAED,OAAOC,GAGX,QACE,OAAOtR,I8BDXvC,WACA6lB,cACAgC,kBACArY,MACAN,SbjBc,CAAC3M,EAAQglB,GAAkB/kB,KACzC,OAAQA,EAAOjE,MACb,KAAK+oB,GAED,MAAO,IAAK/kB,KACPC,EAAOxF,OAIhB,QACE,OAAOuF,IaQXsS,YACAvT,KNZc,CAACiB,EAAQ2mB,GAAc1mB,KACrC,OAAQA,EAAOjE,MACb,KAAKyqB,GAED,MAkBC,CACL5qB,IAFqBsuB,EAjBMlqB,EAAOxF,OAmBrBoB,GACb+qB,SAAUuD,EAASvD,SACnBlsB,SAAUyvB,EAAS7X,SAAS8X,YAC5BvD,YAAasD,EAASrD,YAAY0C,IAAI,QAnBtC,KAAK9C,GAED,MAAO,IAAK1mB,EACV8mB,YAAa,IAAK9mB,EAAM8mB,eACnB7mB,EAAOxF,QAKlB,QACE,OAAOuF,EAIb,IAAyBmqB,GMRvBhqB,YACAukB,Ofdc,CAAC1kB,EAAQqkB,GAAiBpkB,KACxC,OAAQA,EAAOjE,MACb,KAAKioB,GAED,MAAO,IAAKjkB,EACVukB,aAActkB,EAAOxF,OAI3B,KAAKypB,GACH,MAAO,IAAKlkB,EACVukB,aAAcF,GAAgBE,cAGlC,KAAKJ,GACH,MAAO,IAAKnkB,EACVskB,UAAWrkB,EAAOxF,OAGtB,KAAK2pB,GACH,MAAO,IAAKpkB,EACVwkB,gBAAiBvkB,EAAOxF,OAG5B,QACE,OAAOuF,IeVXtD,M3BtBc,CAACsD,EADY,KACWC,KACtC,OAAQA,EAAOjE,MACb,KAAK4W,GAED,OAAO3S,EAAOxF,MAGlB,QACE,OAAOuF,M2BkBN,MAAMqqB,GAAuBrqB,GAASgoB,GAAqBhoB,GAAOX,KAAI+Q,IAC3E,IAAIka,EAEJ,MAAO,CACL/K,cAAenP,EAAKvU,GACpBuL,KAAMgJ,EAAKhJ,KACX/K,KAA8E,QAAvEiuB,EAAwBC,GAA0BvqB,GAAOoQ,EAAKvU,WAA2C,IAA1ByuB,OAAmC,EAASA,EAAsBjuB,S,qEClC5J,SAASmuB,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAmBjSG,OAZI,EACjBvQ,aACG/d,KACcwE,IAAMC,cAAcqZ,IAAQoQ,GAAS,GAAIluB,EAAO,CACjEN,KAAM,SACNue,WAAW,EACXF,QAASA,IACPtX,UAAKC,EAAE,SCdX,SAASwnB,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAqBjSI,OAdM,EACnBxQ,aACG/d,KAEiBwE,IAAMC,cAAcqZ,IAAQoQ,GAAS,GAAIluB,EAAO,CAClE+d,QAASA,EACTre,KAAM,SACN8uB,SAAS,IACP/nB,UAAKC,EAAE,W,sBCVb,MAAM+nB,GAAc3jB,GAAQ1I,KAAKssB,QAAQ5jB,IAASA,EAAKsI,MAAKub,GAAYC,aAAiBD,EAAU,CACjGE,cAAelc,YAA2Bgc,EAAStc,UAAWO,SAG1Dkc,GAAoB,CAACzc,EAAWrT,KACpC,IAAMqT,IAAauc,aAAiBvc,EAAW,CAC7Cwc,cAAc,IAEd,MAAM7vB,GAIJ+vB,GAAe,CAACjkB,EAAM9L,KAC1B,IAAKyvB,GAAY3jB,GACf,MAAM9L,GAwDGgwB,GAAiB5lB,IAC5B,OAAQA,EAAO1J,MACb,KAAKwU,IACH,MA/BoB9K,KACxB2lB,GAAa3lB,EAAO9G,QAAS,IAAIqE,GAAcyC,EAAO1J,OACtDovB,GAAkBG,aAAmB7lB,EAAQ+H,KAAsB,IAAI3J,GAAc4B,EAAO1J,QA6BjFwvB,CAAkB9lB,GAE3B,KAAK2H,IACL,KAAKD,IACH,MA3C6B1H,KACjC,IAAMM,MAAMC,QAAQP,EAAM,eAA8E,kBAAxCA,EAAM,aAA2B,GAC/F,MAAM,IAAIzC,GAAcyC,EAAO1J,MAGjCqvB,GAAa3lB,EAAO7G,KAAM,IAAI0E,GAAgBmC,EAAO1J,QAsC1CyvB,CAA2B/lB,GAEpC,KAAKmI,IACL,KAAKD,IACH,MAlC4BlI,KAChC0lB,GAAkBG,aAAmB7lB,EAAQlB,KAAoB,IAAIC,GAAYiB,EAAO1J,OACxFovB,GAAkBG,aAAmB7lB,EAAQ+H,KAAsB,IAAI3J,GAAc4B,EAAO1J,QAgCjF0vB,CAA0BhmB,GAEnC,KAAKiI,IACH,MA1D2BjI,KAC/B,IAAKqlB,GAAYrlB,EAAO9G,WAAamsB,GAAYrlB,EAAO7G,MACtD,MAAM,IAAI4E,GAAwBiC,EAAO1J,MAG3CovB,GAAkBG,aAAmB7lB,EAAQ+H,KAAsB,IAAI3J,GAAc4B,EAAO1J,QAqDjF2vB,CAAyBjmB,GAElC,KAAKsI,IACH,MAnCwBtI,KAC5B,IAAIkmB,EAAuBC,EAE3B,MAAMC,GAAwE,QAAtDF,EAAwBlmB,EAAOuH,GAAGiB,sBAAsD,IAA1B0d,OAAmC,EAASA,EAAsBlsB,QAAO0Q,GAAQA,EAAKjC,YAAcrB,OAA6B,GACjNif,GAA2E,QAAvDF,EAAyBnmB,EAAOuH,GAAGiB,sBAAuD,IAA3B2d,OAAoC,EAASA,EAAuBnsB,QAAO0Q,GAAQA,EAAKjC,YAAcpB,OAA+B,GAE9N,IAAK+e,EAAcxmB,OACjB,MAAM,IAAIpB,GACL,IAAK6nB,EAAgBzmB,OAC1B,MAAM,IAAInB,GACL,GAAI2nB,EAAc,GAAGjwB,KAAOkwB,EAAgB,GAAGlwB,GACpD,MAAM,IAAIuI,GAGZinB,GAAa3lB,EAAO7G,KAAM,IAAIoF,GAAcyB,EAAO1J,OACnDovB,GAAkBG,aAAmB7lB,EAAQ+H,KAAsB,IAAI3J,GAAc4B,EAAO1J,QAoBjFgwB,CAAsBtmB,GAE/B,QACE,MAvEwBA,KAC5B2lB,GAAa3lB,EAAO9G,QAAS,IAAIqE,GAAcyC,EAAO1J,OACtDqvB,GAAa3lB,EAAO7G,KAAM,IAAI0E,GAAgBmC,EAAO1J,OACrDovB,GAAkBG,aAAmB7lB,EAAQ+H,KAC7C,IAAI3J,GAAc4B,EAAO1J,QAmEdiwB,CAAsBvmB,KCrD7BwmB,GAAqB,CACzBC,WAAY,IAAM,CAACxrB,EAAUqiB,IAAa9R,GAAY8R,KACtDoJ,iBAAkB,IAAM,CAACzrB,EAAUqiB,IAAa7R,GAAkB6R,KAClEqJ,SAAUC,EAAwBxJ,kBAClC8B,kBACAC,oBACA0H,eAAgB,IAAMzH,IAAmB,IAE5BpkB,mBAAQ,KAAMwrB,GAAdxrB,EAzCsB,EACnC8rB,kBACAL,aACAC,mBACAC,WACAzH,iBACAC,mBACA0H,oBAuBOC,GAnBS,KACd,IACElB,GAAec,KACfvH,IACA,MAAOvpB,GACPspB,EAAetpB,GAAS,IAAIuJ,IAG9B0nB,IACAF,IACA,MAAMI,EAA0B1D,GAAQ2D,SAAS1D,WAAa,IAAMG,GAC9D1rB,EAAU0uB,IACVQ,EAA4BlvB,GAAWA,EAAQ5B,GAAM,IAAG4B,EAAQ5B,KAAO,IAExE4wB,GAA2B1D,GAAQ2D,SAAS1D,WAAa2D,GAC5D5D,GAAQjrB,KAAK6uB,QC0BJjsB,oBALSV,IAAK,CAC3BkD,QAAS2U,GAAW7X,GACpB4sB,SAAU3M,GAAwBjgB,MAGI,CACtC6sB,eAAgB7Y,IADHtT,EArDkB,EAC/BksB,WACA1pB,UACA2pB,iBACAxS,UACAnC,eAEA,MAAM4U,EAAgB3nB,aAAiBjC,GACjC6pB,EAAoBD,EAAcxnB,OAAS,EAAI0nB,KAAc5S,IAE7D6S,EAAe3mB,IACnBumB,EAAe,CACb,CAACD,GAAW,CACVtmB,YAGJ+T,KAeF,OAAoBvZ,IAAMC,cAAcgsB,EAAmB,CACzDG,UAAWJ,EAAcxnB,OAAS,EAbExE,IAAMC,cAAcosB,IAAY,CACpEC,SAAU,QACVlV,SAAW,GAAEA,iBACZ/S,aAAiBjC,GAAStF,MAAM,GAAGyB,KAAI+H,GAAqBtG,IAAMC,cAAcssB,KAAU,CAC3FhvB,IAAK+I,EACL8Q,SAAW,GAAEA,wBAA+B9Q,IAC5CiT,QAAS,IAAM4S,EAAa7lB,GAC5BoS,MAAOzW,UAAKC,EAAG,sBAAsB,CACnCG,SAAUC,aAAwBgE,EAAM9D,aAAuBJ,WAKZ,KACrDmX,QAAS,IAAM4S,EAAaH,EAAc,IAC1ChC,SAAS,EACT5S,SAAUA,GACTnV,UAAKC,EAAG,sBAAsB,CAC/BG,SAAUC,aAAwB0pB,EAAc,GAAIxpB,aAAuBJ,U,sBC7C/E,SAASsnB,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAEhT,SAAS6C,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAyB3M,MAAMK,GAAqBhB,GAAY,CAAC9f,GAAyBC,IAA2BzO,SAASsuB,GAE/FiB,GAAyB,CAACvb,EAAW,MACzC,MAAMwb,EAAQ,GAsBd,OApBIxb,EAAQ,qBACVwb,EAAMhwB,KAAKiwB,MAGTzb,EAAQ,sBACVwb,EAAMhwB,KAAKkwB,KAAQC,KAAWC,KAAWC,KAAWC,MAGlD9b,EAAQ,wBACVwb,EAAMhwB,KAAKuwB,MAGT/b,EAAQ,uBACVwb,EAAMhwB,KAAKwwB,MAGThc,EAAQ,yBACVwb,EAAMhwB,KAAKywB,MAGNT,GAGF,MAAMU,WAAsBC,YACjCjsB,eAAeksB,GACb5rB,SAAS4rB,GAETpB,GAAgB1qB,KAAM,QAAS,CAC7B+rB,WAAW,IAGbrB,GAAgB1qB,KAAM,sBAAsBgsB,MAClBC,aAAQD,EAAUE,MAAOlsB,KAAKtG,MAAMwyB,SAAWD,aAAQD,EAAUG,MAAOnsB,KAAKtG,MAAMyyB,SAGzGnsB,KAAKosB,mBAGHpsB,KAAKtG,MAAMswB,WAAale,KAAyB9L,KAAK5C,MAAMivB,WAC9DrsB,KAAKssB,SAAS,CACZD,WAAW,OAKjB3B,GAAgB1qB,KAAM,mBAAoB+V,cAASoK,UACjD,MAAMhd,QAAYopB,aAAuBvsB,KAAKwsB,QAAQxJ,WAAYhjB,KAAKtG,MAAMwyB,MAAOlsB,KAAKtG,MAAMyyB,OAC/FnsB,KAAKtG,MAAM+yB,kBAAkBtpB,KAC5B,MAEHunB,GAAgB1qB,KAAM,iBAAiB,EACrCkM,cACAvB,QACAwR,oBAeA,OAbIA,EACFnc,KAAKtG,MAAMgzB,oBAAoB,CAC7BxgB,cACAX,UAAW4Q,EACXN,QAASlR,EAAMlO,KAAI+Q,GAAQA,EAAKvU,OAGlC+G,KAAKtG,MAAMizB,WAAW,CACpBzgB,cACA2P,QAASlR,EAAMlO,KAAI+Q,GAAQA,EAAKvU,OAI5BiT,GACN,KAAKJ,IACH,CACE,MAAM8gB,EAAc,GACdC,EAAoB,GAC1BliB,EAAMlH,SAAQqpB,IACZ,MAAM7zB,EAAK8zB,KAAWC,aAAaF,EAAG7zB,IAOtC,GANA2zB,EAAY3zB,GAAM,CAChBA,KACAQ,KAAMqzB,EAAGrzB,MAAQqzB,EAAGG,YACpBA,YAAaH,EAAGG,aAGdH,EAAGnjB,KAAM,CACX,MAAMA,EAAOD,GAAsBojB,EAAGnjB,MACtCkjB,EAAkBC,EAAG7zB,IAAM0Q,IAAU,IAAGmjB,EAAG7zB,KAAO,GAAK0Q,EAAKnR,QAAQ,MAAO,QAG/EwH,KAAKtG,MAAMwzB,YAAYN,GACvB5sB,KAAKtG,MAAMyzB,kBAAkBN,GAC7B,MAGJ,QAEI7sB,KAAKtG,MAAMwzB,YAAYviB,EAAMpP,QAAO,CAACovB,EAAKnd,KACxCmd,EAAInd,EAAKvU,IAAM,CACbA,GAAIuU,EAAKvU,GACTQ,KAAM+T,EAAK/T,MAAQ+T,EAAKyf,YACxBA,YAAazf,EAAKyf,YAClB7zB,KAAMoU,EAAKpU,MAENuxB,IACN,SAKXD,GAAgB1qB,KAAM,eAAe,IAAMA,KAAKtG,MAAM0zB,aAAa,QAEnE1C,GAAgB1qB,KAAM,oBAAoBgqB,KAC1BgB,GAAmBhB,GAAYhqB,KAAKtG,MAAM2zB,oBAAoBrD,GAAYhqB,KAAKtG,MAAM4zB,cAActD,KAChG,IAAIltB,QAAO7D,GAAM+G,KAAKtG,MAAMqQ,SAAS9Q,IAAOA,IAAO8T,MAA6BtQ,KAAIxD,IACnG,IAAIs0B,EAAuBC,EAAwBC,EAEnD,MAAO,CACLx0B,KACAQ,KAA4D,QAArD8zB,EAAwBvtB,KAAKtG,MAAMqQ,SAAS9Q,UAA2C,IAA1Bs0B,OAAmC,EAASA,EAAsB9zB,KACtIL,MAA8D,QAAtDo0B,EAAyBxtB,KAAKtG,MAAMqQ,SAAS9Q,UAA4C,IAA3Bu0B,OAAoC,EAASA,EAAuBp0B,QAAiE,QAAtDq0B,EAAyBztB,KAAKtG,MAAMqQ,SAAS9Q,UAA4C,IAA3Bw0B,OAAoC,EAASA,EAAuBC,yBAK7RhD,GAAgB1qB,KAAM,sBAAsB,CAACmD,EAAK4G,EAAUC,IAAmB7G,EAAIrG,QAAO7D,QAAgD+N,IAA1C+C,EAASgjB,KAAWC,aAAa/zB,MAAoBwD,KAAIxD,IACvJ,MAAM00B,EAAQZ,KAAWC,aAAa/zB,GACtC,MAAO,CACLA,KACAQ,KAAMsQ,EAAS4jB,GAAOV,aAAeljB,EAAS4jB,GAAOl0B,KACrDkQ,KAAMG,GAAU6jB,EAAO5jB,EAAUC,SAIrC0gB,GAAgB1qB,KAAM,0BAA0B4tB,IAC9C,MAAM,MACJzB,EADI,SAEJpiB,EAFI,eAGJC,EAHI,SAIJggB,GACEhqB,KAAKtG,MAET,GAAIsG,KAAK5C,MAAMivB,UAAW,CACxB,MAAMlW,EAAWnW,KAAK6tB,mBAAmB1B,EAAOpiB,EAAUC,GACpD8jB,EAAUhiB,MAAyBke,EAAW,QAAU,OAC9D,OAAoB9rB,IAAMC,cAAc,MAAO,CAC7C1C,IAAKqQ,IACLwO,MAAO,CACLwT,YAEY5vB,IAAMC,cAAc4vB,KAAkBnG,GAAS,CAC7DzR,SAAUA,EACV6X,MAAOhuB,KAAKtG,MAAMu0B,aAAaxxB,KAAIyxB,GAAeA,EAAYj1B,MAC7D20B,KAGL,OAAO,QAGTlD,GAAgB1qB,KAAM,uBAAuB,KAC3C,MAAM,oBACJuP,EADI,SAEJya,EAFI,KAGJ5wB,GACE4G,KAAKtG,MACHk0B,EAAiB,CACrBO,SAAUnuB,KAAKouB,eAgFjB,OAAoBlwB,IAAMC,cAAckwB,WAAU,KAAMruB,KAAKsuB,uBAAuBV,GAAiB5D,GA7E9E,MACrB,MAAMsD,EAAgBttB,KAAKuuB,iBAAiBvE,GAC5C,IAAIwE,EACJ,MAAM9qB,EAAS1D,KAAKtG,MAAM+0B,uBAAuBzE,GAC3C1pB,EAAUlH,EACVs1B,EAAgBpB,EAAc5qB,OAC9BisB,EAAuBC,aAAwBtuB,EAASoD,KAC5BirB,GAEHD,EAAgBC,GAC7CH,EAA0C,IAAzBG,EAA6BxuB,UAAKC,EAAG,8GAA8G,CAClKY,kBAAmBC,YAAwBX,KACxCH,UAAKC,EAAG,+IAA+I,CAC1JyuB,iBAAkB5tB,YAAwBX,GAC1CwuB,UAAWH,IAEbrB,EAAc7pB,SAAQ,CAAC+J,EAAM/K,KAC3B+K,EAAKuhB,SAAWtsB,EAAQksB,MAEjB3D,GAAmBhB,IAAa0E,EAAgB,IACzDF,EAAiBruB,UAAKC,EAAG,0GACzBktB,EAAc7pB,SAAQ,CAAC+J,EAAM/K,KAC3B+K,EAAKuhB,SAAWtsB,EAAQ,MAI5B,IAAIusB,EAAU,KAEd,GAAIhF,IAAapoB,KAAqBopB,GAAmBhB,GAAW,CAClE,MAAMmE,EAAWnD,GAAmBhB,GAAYpV,GAAgB5U,KAAKouB,cAAc,IAAKxZ,EACtFuH,cAAe6N,IACZ4D,EAAeO,SACdc,EAAiC/wB,IAAMC,cAAc+wB,KAAe,CACxEjO,gBAAiB1R,EACjB4f,mBAAoB7B,EACpBkB,eAAgBA,EAChBL,SAAUA,IAENiB,EAAWpE,GAAmBhB,GAAyB9rB,IAAMC,cAAckxB,KAAQ,CACvF/Z,SAAU,4BACVlX,UAAWC,KAAOixB,MACjB,CAAC,CACF7zB,IAAKyO,GACL0M,MAAOzW,UAAKC,EAAE,aACb,CACD3E,IAAK0O,GACLyM,MAAOzW,UAAKC,EAAE,gBACb3D,KAAI,EACLhB,MACAmb,WACiB1Y,IAAMC,cAAcoxB,KAAK,CAC1C9zB,IAAKA,EACLgc,QAAS,IAAMzX,KAAKtG,MAAM0zB,aAAa3xB,GACvC0a,SAAU1a,IAAQuuB,GACjBpT,MAAW,KACdoY,EAAUI,EAAwBlxB,IAAMC,cAAcD,IAAMmwB,SAAU,KAAMe,EAAUH,GAAqBA,OAClGjF,IAAanf,IACtBmkB,EAAuB9wB,IAAMC,cAAcqxB,KAAiB,CAC1DC,gBAAiBnC,EACjBa,SAAUP,EAAeO,SACzBuB,oBAAqBzE,GAAuBjrB,KAAKtG,MAAMgW,YAGhDigB,YAA8Bt0B,OAAO0I,KAAK/D,KAAKtG,MAAMgnB,aAAahlB,SAASsuB,KACpFgF,EAAuB9wB,IAAMC,cAAcyxB,IAAkB,CAC3DtC,cAAeA,EACfphB,YAAa8d,EACbmE,SAAUP,EAAeO,SACzB0B,eAAgB7vB,KAAKtG,MAAMgnB,WAAWsJ,GAAUvwB,KAChDwnB,gBAAiB1R,KAKrB,OAAOyf,GAGwGc,OAGnHpF,GAAgB1qB,KAAM,qBAAqB+vB,GAAW,KACpDA,IACA/vB,KAAKgwB,iBAITC,SACE,MAAM,SACJjG,EADI,WAEJtJ,GACE1gB,KAAKtG,MACHqS,EAAYif,GAAmBhB,GAAYtJ,EAAW9e,KAAqB8e,EAAWsJ,GAC5F,OAAoB9rB,IAAMC,cAAckwB,WAAU,KAAMtiB,GAA0B7N,IAAMC,cAAc+xB,KAAO,CAC3GlyB,QAASgC,KAAKgwB,YACd1a,SAAW,kBAAiBvJ,EAAU9S,KACtCk3B,SAAU,MACVC,OAAO,GACOlyB,IAAMC,cAAckyB,KAAY,CAC9C/a,SAAU,8BACTvJ,EAAUtS,MAAoByE,IAAMC,cAAcmyB,KAAc,CACjEhb,SAAU,gCACTtV,KAAKuwB,uBAAqCryB,IAAMC,cAAcqyB,KAAc,CAC7Elb,SAAU,gCACIpX,IAAMC,cAAcsyB,IAAa,KAAmBvyB,IAAMC,cAAc6pB,GAAY,CAClGvQ,QAASzX,KAAKgwB,YACd1a,SAAU,uCACKpX,IAAMC,cAAcuyB,GAA8B,CACjE9G,gBAAiBmG,GAAW/vB,KAAKtG,MAAMi3B,qBAAqBj1B,SAASsuB,IAAagB,GAAmBhB,GAAyB9rB,IAAMC,cAAc8pB,GAAc,CAC9JxQ,QAASzX,KAAK4wB,kBAAkBb,GAChCza,SAAU,wCACMpX,IAAMC,cAAcgsB,GAAmB,CACvD1S,QAASzX,KAAK4wB,kBAAkBb,GAChCza,SAAU,+CAMlBsW,GAAciF,aAAe,CAC3B7N,WAAY8N,IAAU1kB,QAwBxBwf,GAAchX,aAAe,CAC3BoV,SAAU,KACVkC,MAAO,GACP+B,aAAc,IAoBDnwB,oBAjBSV,IAAK,CAC3BmS,oBAAqBI,GAAgCvS,GACrD4sB,SAAU3M,GAAwBjgB,GAClCsjB,WAAYD,GAAerjB,GAC3B2M,SAAUsY,GAAajlB,GACvB4M,eAAgBoT,GAAqBhgB,GACrC8uB,MAAOxO,GAAuBtgB,EAAOwE,KACrCuqB,MAAOzO,GAAuBtgB,EAAO0O,KACrCmiB,aAAcpe,GAAiBzS,GAC/BkwB,cAAetQ,GAAY5f,GAC3BsS,SAAUD,GAAarS,GACvBhE,KAAM6b,GAAW7X,GACjBqxB,uBAAwBviB,GAAeuR,GAAwBrgB,EAAO8O,GACtEykB,qBAAsB9S,GAA2BzgB,GACjDiwB,oBAAqB9hB,GAAa4R,GAAuB/f,EAAOmO,MAG1B,CACtC6hB,aAAc9a,GACdma,kBC5WiC50B,IAAK,CACtCuB,KAAMmpB,GACN1qB,UD2WA80B,WAAYnb,GACZ0b,YAAa5K,GACb6K,kBAAmB/a,GACnBsa,oBAAqB1a,IANRlU,CAOZ8tB,I,gEElXH,SAAShE,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WASzS,MAAMkJ,WAAyBlF,YACpCjsB,eAAeksB,GARjB,IAAyBnB,EAAKlvB,EAAK5D,EAS/BqI,SAAS4rB,GATsBj0B,EAWC,KAC9B,MAAM,GACJoB,EADI,MAEJwJ,EAFI,KAGJhJ,EAHI,WAIJu3B,EAJI,SAKJC,EALI,cAMJC,EANI,cAOJC,EAPI,QAQJ1Z,EARI,eASJ2Z,EATI,SAUJ9b,GACEtV,KAAKtG,MACH23B,EAAkB,CACtBp4B,KACAQ,OACAu3B,aACAC,WACAC,gBACAC,gBACA7b,YAEF,OAAoBpX,IAAMC,cAAcmzB,KAAW,CACjDC,YAAat4B,EACbwJ,MAAOA,EACP+uB,eAAgBR,GAAcE,GAAiBD,IAC9C,CAACQ,EAAUC,IAA0BxzB,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAcwzB,KAAe/J,GAAS,CACzIgK,SAAUH,EAASG,UAClBH,EAASI,eAAgBJ,EAASK,gBAAiB,CACpD1zB,UAAWszB,EAASK,WAAa1zB,KAAO2zB,SAAW3zB,KAAO4zB,YAC1Dxa,QAASA,EACT2Z,eAAgBA,GACfC,IAAmBK,EAASK,YAA2B7zB,IAAMC,cAAcwzB,KAAe/J,GAAS,CACpGxpB,UAAWC,KAAO6zB,oBACjBb,SA7CqB51B,EAWJ,YAXDkvB,EAWL3qB,MAX0C3E,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,GA8D5Kk5B,U,sBChEf,SAASnJ,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAEhT,SAAS6C,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAapM,MAAMwH,WAAyBtG,YACpCjsB,eAAeksB,GACb5rB,SAAS4rB,GAETpB,GAAgB1qB,KAAM,WAAY,GAElC0qB,GAAgB1qB,KAAM,0BAA0B+L,GAAaA,EAAUtS,KAAKqnB,cAAcplB,SAASsE,KAAKtG,MAAM04B,WAAWtR,iBAEzH4J,GAAgB1qB,KAAM,cAAc/G,GAAM+G,KAAKtG,MAAM24B,YAAY32B,SAASzC,KAE1EyxB,GAAgB1qB,KAAM,uBAAuB/G,GAAM+G,KAAKtG,MAAM44B,qBAAqB52B,SAASzC,KAE5FyxB,GAAgB1qB,KAAM,qBAAqB/G,GAAM+G,KAAKtG,MAAM64B,iBAAiB72B,SAASzC,KAEtFyxB,GAAgB1qB,KAAM,0BAA0B/G,GAAM+G,KAAKtG,MAAMgpB,eAAehnB,SAASzC,KAEzFyxB,GAAgB1qB,KAAM,cAAc,EAClC/G,KACAQ,WAEA,MAAM+4B,EAAY,CAChBv5B,KACAQ,OACAgJ,MAAOzC,KAAKyyB,WACZzB,WAAYhxB,KAAKgxB,WAAW/3B,GAC5Bg4B,SAAUjxB,KAAK0yB,kBAAkBz5B,GACjCi4B,cAAelxB,KAAK2yB,oBAAoB15B,GACxCk4B,cAAenxB,KAAK4yB,uBAAuB35B,GAC3Cwe,QAASzX,KAAKtG,MAAMm5B,iBACpBzB,eAAgBpxB,KAAKtG,MAAMo5B,wBAC3Bxd,SAAW,GAAEtV,KAAKtG,MAAM4b,2BAE1B,OAAoBpX,IAAMC,cAAc4yB,GAAkBnJ,GAAS,CACjEnsB,IAAM,cAAuBxC,KAC5Bu5B,OAGL9H,GAAgB1qB,KAAM,6BAA6BlD,GAAUkD,KAAKtG,MAAMgnB,WAAW5jB,OAAOA,GAAQA,OAAOkD,KAAK+yB,wBAAwBt2B,IAAIuD,KAAKgzB,cAGjJ/C,SACEjwB,KAAKyyB,SAAW,EAChB,MAAMQ,EAAkBjzB,KAAKkzB,2BAA0BnnB,GAAa1Q,OAAOoa,OAAO0d,eAAsBrmB,MAAKsmB,GAAYA,EAASn6B,KAAO8S,EAAU9S,OAC7Io6B,EAAoBrzB,KAAKkzB,2BAA0BnnB,GAAa1Q,OAAOoa,OAAO6d,eAAwBxmB,MAAKymB,GAAUA,EAAOt6B,KAAO8S,EAAU9S,OAC7Iu6B,EAA0BxzB,KAAKkzB,2BAA0BnnB,IAAc1Q,OAAOoa,OAAO+K,eAA2B1T,MAAK2mB,GAAaA,EAAUx6B,KAAO8S,EAAU9S,OACnK,OAAoBiF,IAAMC,cAAcu1B,KAAW,CACjDC,YAAa/wB,GACbgxB,gBAAgB,IACfnC,GAAyBvzB,IAAMC,cAAc,MAAOypB,GAAS,CAC9DxpB,UAAWC,KAAOC,UAClBu1B,IAAKpC,EAASG,UACbH,EAASqC,eAAgB,CAC1B,YAAa9zB,KAAKtG,MAAM4b,WACTpX,IAAMC,cAAc,MAAO,CAC1CC,UAAWC,KAAO01B,SACJ71B,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAO21B,SACJ91B,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAO41B,QACjB9zB,UAAKC,EAAE,oBAAkClC,IAAMC,cAAc,KAAM,CACpEC,UAAWC,KAAO61B,KAClB,YAAc,GAAEl0B,KAAKtG,MAAM4b,6BAC1B2d,IAAgC/0B,IAAMC,cAAc,MAAO,CAC5DC,UAAWC,KAAO21B,SACJ91B,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAO41B,QACjB9zB,UAAKC,EAAE,qBAAmClC,IAAMC,cAAc,KAAM,CACrEC,UAAWC,KAAO61B,KAClB,YAAc,GAAEl0B,KAAKtG,MAAM4b,+BAC1B+d,IAAkCn1B,IAAMC,cAAc,MAAO,CAC9DC,UAAWC,KAAO21B,SACJ91B,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAO41B,QACjB9zB,UAAKC,EAAE,oBAAkClC,IAAMC,cAAc,KAAM,CACpEC,UAAWC,KAAO61B,KAClB,YAAc,GAAEl0B,KAAKtG,MAAM4b,sCAC1Bke,KAA4B/B,EAAS1Y,gBAe5C,MAAMob,GAA8BC,aAAe,CAACC,EAAoBpf,aAAa7b,GAAQk7B,aAAwBl7B,KAC/Gm7B,GAA4BH,aAAe,CAACC,EAAoBpf,aAAa7b,GAAQo7B,aAAyBp7B,KAUrG0E,oBARSV,IAAK,CAC3BsjB,WAAYrlB,OAAOoa,OAAO4e,EAA4B5T,eAAerjB,IACrEi1B,YAAagC,EAAoBxW,2BAA2BzgB,GAC5DslB,eAAgB2R,EAAgC5R,mBAAmBrlB,GACnEk1B,qBAAsB6B,GAA4B/2B,GAClDm1B,iBAAkBgC,GAA0Bn3B,MAG/BU,CAAyBq0B,I,sBCrHxC,SAASzH,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAQpM,MAAM8J,WAA2B5I,YACtCjsB,eAAeksB,GACb5rB,SAAS4rB,GAETpB,GAAgB1qB,KAAM,QAAS,CAC7BoyB,WAAY,KAGd1H,GAAgB1qB,KAAM,iBAAiB,KACrCA,KAAKssB,SAAS,CACZ8F,WAAY,QAIhB1H,GAAgB1qB,KAAM,sBAAsBoyB,IAC1CpyB,KAAKssB,SAAS,CACZ8F,kBAKNnC,SACE,OAAoB/xB,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAOC,UAClB,YAAa,oBACCJ,IAAMC,cAAcu2B,KAAiB,CACnD3b,YAAa5Y,UAAKC,EAAE,qBACpBqa,KAAMza,KAAK5C,MAAMg1B,WACjBld,SAAUlV,KAAK20B,mBACfC,QAAS50B,KAAK60B,cACdC,kBAAkB,EAClB17B,KAAM,SACNkc,SAAU,4BACKpX,IAAMC,cAAcg0B,GAAkB,CACrDC,WAAYpyB,KAAK5C,MAAMg1B,WACvBU,wBAAyB9yB,KAAKtG,MAAMo5B,wBACpCD,iBAAkB7yB,KAAKtG,MAAMm5B,iBAC7Bvd,SAAU,4BASDmf,UCrDR,MAAMp2B,GAAS,CACpB02B,aAAc,CACZh2B,OAAQ,OACR+uB,QAAS,OACTkH,cAAe,SACfC,gBAAiB3hB,KAAO4hB,UCiHbp3B,oBAxCSV,IAAK,CAC3BiN,GAAIgqB,EAAoBxX,OAAOzf,GAC/BsjB,WAAY2T,EAA4B5T,eAAerjB,GACvD0F,OAAQuxB,EAAoBtX,aAAa3f,GACzCwN,iBAAkBypB,EAAoBrX,YAAY5f,GAClD+3B,4BAA6Bd,EAAoBrW,6BAA6B5gB,GAC9Eg4B,iBAAkBlpB,GAAemoB,EAAoB5W,wBAAwBrgB,EAAO8O,OAG3DnO,IAAQ,CACjCs3B,gBAAiB,EACfnpB,cACAxI,SACA4xB,yBACA/M,eACAgN,0BAEAx3B,EAASqT,GAAwB,CAC/B,CAAClF,GAAc,CACbxI,aAI2B,IAA3B4xB,GAAgC/M,IAAiBgN,GACnDx3B,EAASuU,GAAyBpG,KAGtCspB,kBAAmBtpB,IACjBnO,EAASuT,GAA2BpF,KAEtCupB,8BAA+B,CAACN,EAA6BzxB,KAC3D3F,EAASo3B,EAA8B7jB,GAA2B2M,KAAoC7M,GAAwB,CAC5H,CAAC6M,KAAmC,CAClCva,cAINmvB,iBAAkB55B,GAAM8E,EAASuU,GAAyBrZ,OAG7C6E,EA5GW,EACxB23B,gCACAJ,kBACAD,mBACAxqB,mBACAuqB,8BACAK,oBACAnrB,KACAwoB,uBAEA,MAAO6C,EAAYC,GAAiBC,oBAAS,IACtC1pB,EAAa2pB,GAAkBD,mBAAS,OACxC/B,EAAKiC,GAAUF,qBAEhBG,EAAa,KACbL,IACFG,EAAe,MACfC,EAAO,OAGTH,GAAeD,IAcjB,OAAoBx3B,IAAMC,cAAc,MAAO,CAC7Cmc,MAAOjc,GAAO02B,cACA72B,IAAMC,cAAcs2B,GAAoB,CACtD5B,iBAPyB55B,GAAM45B,EAAiBxoB,EAAGjR,OAASgS,KAAoBnS,IAAO2I,IAAoBsI,GAA0BjR,GAQrI65B,wBAfkC,CAACkD,EAAO/8B,EAAI46B,KAC9CmC,EAAMC,kBACNH,EAAOjC,EAAIh5B,SACXg7B,EAAe58B,GACf88B,OAYEL,GAAcxpB,GAAe2nB,GAAoB31B,IAAMC,cAAc+3B,KAAO,CAC9Eze,QAASse,GACK73B,IAAMC,cAAcg4B,KAAQ,CAC1CC,UAAWvC,EACXwC,UAAW,gBACGn4B,IAAMC,cAAcm4B,KAAe,CACjDpqB,YAAaA,EACbqqB,cAAenB,EAAiBlpB,GAChC5L,QAAS+J,EAAGjR,KACZk8B,wBAhBuC1qB,EAAiBsB,IAAgB,IAAIxJ,OAiB5E8zB,6BAA8BrB,EAC9BM,8BAA+BgB,GAAehB,EAA8BN,EAA6BsB,GACzGpB,gBAAiBA,EACjBG,kBAAmBA,EACnBx3B,QAAS+3B,EACTzgB,SAAU,sCACOpX,IAAMC,cAAcytB,GAAe,UClExD,SAASlB,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAW3M,MAAM+L,WAAmB7K,YACvBjsB,eAAeksB,GACb5rB,SAAS4rB,GAETpB,GAAgB1qB,KAAM,6BAA6B,EACjD22B,eACAC,cACA1yB,oBACA2yB,uBAEA,MAAM/zB,EAAS9C,KAAKtG,MAAMoJ,OACpBg0B,EAAa1zB,MAAM2zB,KAAKj0B,EAAO6zB,KAC9BK,GAASF,EAAWlb,OAAOgb,EAAa,GAE3CD,IAAiBzyB,GACnB4yB,EAAWlb,OAAOib,EAAkB,EAAGG,GACvCh3B,KAAKtG,MAAMu9B,oBAAoB,IAAKn0B,EAClC,CAAC6zB,GAAeG,KAGdnb,aAA0B3b,KAAKtG,MAAMN,KAAM0J,EAAOoB,GAAoBA,IACxElE,KAAKtG,MAAMw9B,gBAAgB,CACzB,CAACF,GAAQ,CACPtzB,OAAQQ,EACRzB,MAAOo0B,QAOjBnM,GAAgB1qB,KAAM,wBAAwB,EAC5C0D,SACAjB,QACAyJ,kBAEA,MAAM,OACJpJ,EADI,KAEJ1J,GACE4G,KAAKtG,MAET,IAAKiiB,aAA0BviB,EAAM0J,EAAOY,GAASA,GACnD,OAGF1D,KAAKtG,MAAMw9B,gBAAgB,CACzB,CAAChrB,GAAc,CACbxI,SACAjB,WAGJ,MAAMkI,EAAQ3K,KAAKtG,MAAMkR,iBAAiBsB,GACvBirB,SAASxsB,IAAUA,EAAMjI,UAEzB2J,YAA2BH,EAAaI,MACzDtM,KAAKtG,MAAM09B,mBAAmBlrB,MAIlCwe,GAAgB1qB,KAAM,aAAa6M,IACjC,MAAM,OACJib,EADI,YAEJ2O,EAFI,YAGJlF,GACE1kB,EAEC4pB,IAID3O,EAAO6L,cAAgB/wB,GACzB5C,KAAKq3B,qBAAqB,CACxB3zB,OAAQ+yB,EAAY9C,YACpBlxB,MAAOg0B,EAAYh0B,MACnByJ,YAAaqlB,IAGfvxB,KAAKs3B,0BAA0B,CAC7BX,aAAc7O,EAAO6L,YACrBiD,YAAa9O,EAAOrlB,MACpByB,kBAAmBuyB,EAAY9C,YAC/BkD,iBAAkBJ,EAAYh0B,YAMtCwtB,SACE,OAAoB/xB,IAAMC,cAAco5B,KAAiB,CACvDC,UAAWx3B,KAAKw3B,WACfx3B,KAAKtG,MAAM+9B,WA2BH35B,oBAZSV,IAAK,CAC3B0F,OAAQia,GAAa3f,GACrBhE,KAAM6b,GAAW7X,GACjBwN,iBAAkBoS,GAAY5f,OAGLW,IAAQ,CACjCm5B,gBAAiBz6B,GAAOsB,EAASqT,GAAwB3U,IACzD26B,mBAAoBlrB,GAAenO,EAASuU,GAAyBpG,IACrE+qB,oBAAqBn0B,GAAU/E,EAASmT,GAAcpO,OAGzChF,CAA6C44B,I,sBChI7C,IACb3C,QAAS,CACP5D,SAAU,WACVrxB,MAAO,SAETR,UAAW,CACT6xB,SAAU,WACVpxB,OAAQ,OACRD,MAAO,SCEJ,MAAM44B,WAAmC7L,YAC9CjsB,eAAeksB,GAXjB,IAAyBnB,EAAKlvB,EAAK5D,EAY/BqI,SAAS4rB,GAZsBj0B,EAciB2hB,IAC9C,GAAIA,EAAgB,CAClB,MAAMme,EAAqB,IAAG33B,KAAKtG,MAAMT,qBAAqBugB,EAAevgB,KAKzEktB,GAAQ2D,SAAS1D,WAAauR,IAChCxR,GAAQjrB,KAAKy8B,GACb33B,KAAKtG,MAAMkZ,sBAAsB,CAC/B3Z,GAAIugB,EAAevgB,GACnB2+B,QAASpe,EAAeoe,gBAI5BzR,GAAQjrB,KAAM,IAAG8E,KAAKtG,MAAMT,QA7BNwC,EAcJ,4BAdDkvB,EAcL3qB,MAd0C3E,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAkCzLo4B,SACE,MAAM,KACJ72B,EADI,GAEJH,EAFI,iBAGJ4+B,GACE73B,KAAKtG,MACT,OAAOT,EAAkBiF,IAAMC,cAAc,MAAO,CAClDmc,MAAOjc,GAAO01B,SACA71B,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOC,WACAJ,IAAMC,cAAc25B,KAA0B,CAC5DrR,GAAIzmB,KAAKwsB,QAAQ/F,GACjBrtB,KAAMA,EACNH,GAAIA,EACJ8+B,wBAAyBF,EACzBG,8BAA+Bh4B,KAAKi4B,2BAC/B,MAIXP,GAA2B9iB,aAAe,CACxCxb,KAAM,SAQRs+B,GAA2B7G,aAAe,CACxCpK,GAAIqK,IAAU1kB,QAGhB,MAIa8rB,GAAkBp6B,aAJPV,IAAK,CAC3By6B,iBAAkBta,GAAqBngB,GAAOnE,IAAM,QAGE,CACtD2Z,yBACAE,4BAF6BhV,CAG5B45B,I,eC1BYS,OA9Cc,IACPj6B,IAAMC,cAAc,MAAO,CAC7CW,MAAO,OACPC,OAAQ,OACRU,QAAS,YACT24B,QAAS,MACTp5B,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvClF,GAAI,MACJo/B,OAAQ,OACRC,YAAa,IACbp5B,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,IAAK,CACvClF,GAAI,WACJyG,UAAW,oCACGxB,IAAMC,cAAc,IAAK,CACvClF,GAAI,qBACJyG,UAAW,kCACGxB,IAAMC,cAAc,OAAQ,CAC1ClF,GAAI,QACJs/B,EAAG,IACHC,EAAG,IACH15B,MAAO,KACPC,OAAQ,OACOb,IAAMC,cAAc,IAAK,CACxClF,GAAI,SACJyG,UAAW,gCACX24B,OAAQ,UACRI,cAAe,QACfC,eAAgB,SACFx6B,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,4kBACHhG,GAAI,UACWiF,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,oCACHhG,GAAI,UACWiF,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,oCACHhG,GAAI,UACWiF,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,+BACHhG,GAAI,eC5CR,MAAM0/B,GAAiB,OCIVC,GAAe,kBAEfC,GAAoBvlB,KAAOC,QAC3BulB,GAAoB,QACpBC,GAAoB,kBACpBC,GAAwB1lB,KAAO2lB,MCPtCC,GAAW,CACfC,QDc0B,kBCb1BpxB,SDS4B,OCR5BqxB,WDO8B,ICN9B5kB,MDKwBlB,KAAOK,QCJ/B0lB,OAAQ,UACRC,UAAW,GACXC,WAAY,QAEDl7B,GAAS,CACpBm7B,YAAa,CACX1L,QAAS,OACT2L,ODEuB,MCDvBxE,gBDDiCyE,KAAMC,aCEvCC,aDE8B,MCD9BC,WAAY,SACZrP,SAAU,SAEZsP,KAAM,IAAKZ,GACTa,WAAY,SACZC,SAAU,SACVC,aAAc,YAEhBC,UAAW,CACTjF,gBAAiB3hB,KAAOC,SAE1B4mB,mBAAoB,CAClBC,aAAc,OAEhBC,gBAAiB,CACfD,aAAc,MACdtM,QAAS,OACT+L,WAAY,UAEdS,iBAAkB,CAChBC,YAAa,MACbC,UAAW,OAEb5jB,MAAO,CACLmjB,WAAY,SACZC,SAAU,SACVC,aAAc,aAGlB57B,GAAOo8B,SAAW,IAAKvB,GACrBa,WAAY,SACZC,SAAU,SACVC,aAAc,WACdnM,QAAS,OACT4M,qBAAsB,MACtBC,wBAAyB,MACzBd,WAAY,UAEdx7B,GAAOu8B,UAAY,IAAK1B,GACtBqB,YAAa,MACbM,oBAAqB,MACrBC,uBAAwB,OCzDnB,MAAMz8B,GAAS,CACpB08B,QAAS,CACPC,WAAY,SACZ7B,QAAS,UACT3kB,MAAOlB,KAAO2lB,MACdlxB,SAAU,OACVktB,gBAAiB3hB,KAAOK,QACxBsnB,UAAW,OACXrB,aAAc,MACdzJ,SAAU,WACV+K,IAAK,MACL1Q,SAAU,SAEZ0J,KAAM,CACJiH,cAAe,OACf1B,OAAQ,MACR2B,aAAc,OACdjC,QAAS,OAEX3rB,KAAM,CACJ4tB,aAAc,MACdrB,WAAY,SACZC,SAAU,SACVC,aAAc,YAEhBoB,YAAa,CACXvN,QAAS,OACT+L,WAAY,SACZuB,aAAc,OAEhBxkB,MAAO,CACLmjB,WAAY,SACZuB,WAAY,QCzBVC,GACU,IAAMp7B,UAAKC,EAAE,iBADvBm7B,GAEU9hC,GAAQ0G,UAAKC,EAAE,2BAA4B,CACvD3G,SAHE8hC,GAKoBC,GAAUr7B,UAAKC,EAAE,2BAA4B,CACnEo7B,WANED,GAQM,IAAMp7B,UAAKC,EAAE,0BAwGVtC,oBAJSV,IAAK,CAC3B2M,SAAUsY,GAAajlB,MAGVU,EAtGe,EAC5BoO,cACA2P,UACA9R,WACA0xB,uBACAC,kBAEA,MAAMC,EAAsB9f,EAAQngB,SAASqR,KAOvC6uB,EAAc,CAACC,EAAQjlB,EAAO7M,IAAa8xB,EAAOtgC,QAAO,CAACugC,EAAaC,EAASt5B,IAAW,GAAEq5B,IAAcr5B,EAAQ,EAAK,KAAO,KAAIsH,EAASgyB,GAAWhyB,EAASgyB,GAAStiC,KAAOsiC,KAAY,GAAEnlB,OAqE9LolB,EAnEsB,MAC1B,MAAMC,EAAW,GACXC,EAAW,GACXF,EAAmB,GAgBzB,OAdKP,GAAyBE,IAC5B9f,EAAQpY,SAAQxK,IACV8zB,KAAWoP,eAAeljC,GAC5BgjC,EAAS/gC,KAAK6xB,KAAWC,aAAa/zB,IAC7B8zB,KAAWqP,eAAenjC,GACnCijC,EAAShhC,KAAK6xB,KAAWC,aAAa/zB,IAEtC+iC,EAAiB9gC,KAAK6O,EAAS9Q,GAAM8Q,EAAS9Q,GAAIQ,KAAOR,MAG7DgjC,EAASv5B,QAAUs5B,EAAiB9gC,KAAK0gC,EAAYK,EAAU97B,UAAKC,EAAE,UAAW2J,IACjFmyB,EAASx5B,QAAUs5B,EAAiB9gC,KAAK0gC,EAAYM,EAAU/7B,UAAKC,EAAE,UAAW2J,KAG5EiyB,GAgDgBK,GACnBC,EA3EkB,MACtB,MAAMA,EAAkC,IAAnBzgB,EAAQnZ,OAAe64B,GAAoBxxB,EAAS8R,EAAQ,IAAM9R,EAAS8R,EAAQ,IAAIpiB,KAAOoiB,EAAQ,IAAM0f,GAA8B1f,EAAQnZ,QACvK,OAAO+4B,EAAuBa,EAAe,MAyE1BC,GACfC,GAAmBR,EAAiBt5B,SAAW45B,IAAiBX,EACtE,OAAoBz9B,IAAMC,cAAc,KAAM,CAC5Cmc,MAAOjc,GAAO61B,MACboI,GAlDwBA,IAA6Bp+B,IAAMC,cAAc,KAAM,CAChFmc,MAAOjc,GAAOmP,MACAtP,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOg9B,aACAn9B,IAAMC,cAAcs+B,KAAqB,MAAoBv+B,IAAMC,cAAc,OAAQ,CACvGmc,MAAOjc,GAAOuY,OACb0lB,KA4CgBI,CAAmBJ,GAAeZ,GAvBRx9B,IAAMC,cAAc,KAAM,CACrEmc,MAAOjc,GAAOmP,MACAtP,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOg9B,aACAn9B,IAAMC,cAAcw+B,IAAY,MAAoBz+B,IAAMC,cAAc,OAAQ,CAC9Fmc,MAAOjc,GAAOuY,OACb8kB,KAiBsFC,GAV1Cz9B,IAAMC,cAAc,KAAM,CACvE1C,IAAM,GAAEyQ,KAAeqvB,OACvBjhB,MAAOjc,GAAOmP,MACb+tB,MAOoIS,GA1CnHA,KAClB,MACMY,EAAgBZ,EAAiBhhC,MAAM,EADzB,GACyCyB,KAAIhD,GAAqByE,IAAMC,cAAc,KAAM,CAC9G1C,IAAM,GAAEyQ,KAAezS,IACvB6gB,MAAOjc,GAAOmP,MACb/T,KAWH,OATIuiC,EAAiBt5B,OAND,GAOlBk6B,EAAc1hC,KAAmBgD,IAAMC,cAAc,KAAM,CACzD1C,IAAM,GAAEyQ,iBACRoO,MAAOjc,GAAOmP,MACbwuB,EAAiBt5B,OAVF,IAU2B,EAAIvC,UAAKC,EAAE,kBAAoBD,UAAKC,EAAE,kCAAmC,CACpHsuB,cAAesN,EAAiBt5B,OAXhB,MAebk6B,GA0BkJC,CAAYb,GAAmBQ,GAf5It+B,IAAMC,cAAc,KAAM,CACtE1C,IAAM,GAAEyQ,KAAeqvB,OACvBjhB,MAAOjc,GAAOmP,MACb+tB,UC/EL,MAAMuB,GAAO,EACX1jC,OACA8S,cACA6wB,gBACAr5B,SACAiH,QACA8M,UACAwZ,WACA1wB,WACAwJ,WACAizB,kBAEA,MAAM/jC,EAAKgkC,KAAKC,SAAS9mB,SAAS,IAC5Bd,EAAY,eAAcpJ,IAC1BixB,EAA+Bj/B,IAAMC,cAAc,MAAO,CAC9Dmc,MAAOjc,GAAOi8B,iBACd,YAAc,GAAEhlB,eACFpX,IAAMC,cAAcw+B,IAAY,OAC1CS,EAAkCl/B,IAAMC,cAAc,MAAO,CACjEmc,MAAOjc,GAAOi8B,iBACd,YAAc,GAAEhlB,kBACFpX,IAAMC,cAAcs+B,KAAqB,OACnDY,EAAcjkC,IAASgS,KAAoBc,IAAgBtK,IAE3D07B,EAAsB,IAAM1O,aAAwBx1B,EAAMsK,GAE1D65B,EAAc,KACblxB,YAA2BH,EAAaI,MAC3CmL,KA8DE+lB,EAAoB,IAAmBt/B,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CAC7Hmc,MAAOjc,GAAOg8B,iBAzBO,MACrB,MAAMoD,EAAOpxB,YAA2BH,EAAa,QACrD,OAAOuxB,EAAoBv/B,IAAMC,cAAcs/B,EAAM,CACnDnjB,MAAOjc,GAAO87B,qBACEj8B,IAAMC,cAAcg6B,GAAsB,CAC1D7d,MAAOjc,GAAOq/B,wBAqBfC,IAAgCz/B,IAAMC,cAAc,OAAQ,CAC7Dmc,MAAQ+iB,EAA6B,GAAfh/B,GAAOuY,OAC5BmmB,GAA6B7+B,IAAMC,cAAc,OAAQ,CAC1Dmc,MAAO+iB,EAAch/B,GAAOuY,MAAQ,IAvDR,MAC5B,MAAM8X,EAAgB/jB,EAAMjI,OAC5B,IAAIk7B,EAEJ,GAAIjzB,EAAMjP,SAASqR,KACjB6wB,EAAaz9B,UAAKC,EAAE,YACf,GAAMk9B,KAAyB5O,EAAgB4O,IACpDM,EAAaz9B,UAAKC,EAAG,iDAAiD,CACpEy9B,MAAOnP,EACPC,qBAAsB2O,UAEnB,CAEH,IAAIQ,EAEJF,EAHEP,EAGWl9B,UAAKC,GAA+C,QAA3C09B,EAAmB/zB,EAASY,EAAM,WAAsC,IAArBmzB,OAA8B,EAASA,EAAiBrkC,OAAS,IAE7H0G,UAAKC,EAAE,qBAAsB,CACxCy9B,MAAOnP,IAKb,OAAO/jB,EAAMjI,OAAS,EAAK,KAAIk7B,IAAe,IAiC7CG,IAA0BC,aAAoB5kC,EAAMsK,EAAQiH,EAAMjI,SAAW06B,EAAoBnM,GAAYkM,GAEhH,OAAoBj/B,IAAMC,cAAc,MAAO,CAC7Cmc,MA/DuB,IAAYjc,GAAOm7B,eACrCntB,YAA2BH,EAAaI,MAA6B3B,EAAMjI,OAA4B,GAAnBrE,GAAO67B,WA+DhG,mBAAoBhuB,EACpB+xB,WAAYhN,EACZiN,YAtEgClI,IL9CL,IAAC5e,EAAG0Q,IK+CRpkB,GL/CK0T,EK+CZ4e,GL9ChBmI,aAAaC,QAAQzF,GAAgB0F,KAAKC,UAAU,CACpDpyB,YAAakL,EAAEC,OAAOknB,QAAQC,YAC9B1W,cKkHC5b,IAAgB+R,IAAgD/f,IAAMC,cAAcsgC,KAAS,CAC9FzP,QA7B2B,MAC3B,MAAM0P,EAAgBpB,IAAwB3yB,EAAM3P,MAAM,EAAGsiC,KAAyB3yB,EAChF+wB,EAAczK,EAAW9wB,UAAKC,EAAG,kEAAkE,CACvG28B,cAAeA,EACfx8B,SAAUA,GAAYC,aAAwBkD,EAAQhD,aAAuBtH,IAC7EulC,YAAa19B,YAAwB7H,KAClC,KACL,OAAoB8E,IAAMC,cAAcygC,GAAgB,CACtD1yB,YAAaA,EACb2P,QAAS6iB,EACThD,YAAaA,EACbD,qBAAsB9wB,EAAMjI,OAASg8B,EAAch8B,UAkB5Cm8B,GACTxI,UAAW,WACV,EACDxC,MACAiL,cACAC,gBACiB7gC,IAAMC,cAAc,MAAO,CAC5C,YAAamX,EACbrc,GAAIA,EACJqhB,MAAOjc,GAAOo8B,SACdhjB,QAAS8lB,EACT1J,IAAKA,EACLiL,YAAaA,EACbC,WAAYA,GACXvB,OAAqCt/B,IAAMC,cAAc,MAAO,CACjElF,GAAIA,EACJqhB,MAAOjc,GAAOo8B,SACd,YAAanlB,EACbmC,QAAS8lB,GACRC,KAAsBR,GAA4B9+B,IAAMC,cAAc,MAAO,CAC9Emc,MAAOjc,GAAOu8B,WACb,IAAKoC,KAeVF,GAAKloB,aAAe,CAClBjK,MAAO,IASM7M,oBANS,CAACV,EAAO0X,KAAR,CACtBioB,eAAgBtc,GAAerjB,GAAO0X,EAAS5I,cAAgB,IAAIzS,KACnEL,KAAM6b,GAAW7X,GACjB2M,SAAUsY,GAAajlB,MAGVU,CAAyBg/B,I,sBChIzBkC,OAjCI,EACjBvH,WACAniB,WACAD,WACA5b,OACAwlC,SACAxnB,UACAynB,UACAC,WACAC,kBACiBlhC,IAAMC,cAAc,SAAU,CAC/CC,UAAWC,KAAOghC,WAClB,YAAa/pB,EACbD,SAAUA,EACV5b,KAAMA,EACNwlC,OAAQA,EACRxnB,QAASA,EACTynB,QAASA,EACT,YAAaC,EACb,gBAAiBC,GAChB3H,GCsEY35B,oBA7BSV,IACf,CACL+3B,4BAA6Bd,EAAoBrW,6BAA6B5gB,OAIvDW,IAAQ,CACjCs3B,gBAAiB,EACfnpB,cACAxI,aAEA3F,EAASqT,GAAwB,CAC/B,CAAClF,GAAc,CACbxI,cAIN8xB,kBAAmBtpB,IACjBnO,EAASuT,GAA2BpF,KAEtCupB,8BAA+B,CAACN,EAA6BzxB,KAC3D3F,EAASo3B,EAA8B7jB,GAA2B2M,KAAoC7M,GAAwB,CAC5H,CAAC6M,KAAmC,CAClCva,iBAMO5F,EArFE,EACf23B,gCACAJ,kBACAkB,gBACArqB,cACAjT,KACAk8B,8BACAG,yBACAE,oBACAl1B,cAEA,MAAMg/B,EAAYC,oBACX7J,EAAYC,GAAiBC,oBAAS,GAEvCG,EAAa,IAAMJ,GAAeD,GAIxC,OAAoBx3B,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACpG01B,IAAKyL,GACSphC,IAAMC,cAAc6gC,GAAY,CAC9CG,SAAUzJ,EALa,YAAWz8B,IAKG,KACrCmmC,cAAc,EACd3nB,QAASse,EACTzgB,SAAW,2BAA0BpJ,KACvBhO,IAAMC,cAAcqhC,IAAY,QAAS9J,GAA2Bx3B,IAAMC,cAAc+3B,KAAO,CAC7Gze,QAASse,GACK73B,IAAMC,cAAcg4B,KAAQ,CAC1CC,UAAWkJ,EACXjJ,UAAW,gBACGn4B,IAAMC,cAAcm4B,KAAe,CACjDpqB,YAAaA,EACbqqB,cAAeA,EACfj2B,QAASA,EACTg1B,uBAAwBA,EACxBkB,6BAA8BrB,EAC9BM,8BAA+BgB,GAAehB,EAA8BN,EAA6BsB,GACzGpB,gBAAiBA,EACjBG,kBAAmBA,EACnBx3B,QAAS+3B,EACTzgB,SAAU,0C,sBC/CC,IACbmqB,cAAe,CACb3R,QAAS,OACTmH,gBAAiByK,GACjBC,YAAaD,GACbE,YAAaF,GACbG,YAAaH,GACbvG,QAASuG,IAEXI,kBAAmB,CACjBC,gBAAiB,GAEnBnpB,MAAO,CACLopB,SAAU,GACVxV,SAAU,GACV2O,QAAS,kBACTpxB,SAAU,GACVyM,MAAOlB,KAAOS,QACdwlB,WAAY,OACZ0G,cAAe,UCrBnB,SAASrY,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAgBhT,MAAMqY,WAAahiC,IAAM2tB,UACvBjsB,eAAeksB,GAfjB,IAAyBnB,EAAKlvB,EAAK5D,EAgB/BqI,SAAS4rB,GAhBsBj0B,EAkBKuf,IAClCA,EAAE+oB,mBAnBsB1kC,EAkBJ,gBAlBDkvB,EAkBL3qB,MAlB0C3E,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAuBzLo4B,SACE,MAAM,OACJvsB,EADI,KAEJc,EAFI,MAGJ8V,EAHI,KAIJlhB,EAJI,eAKJgnC,EALI,oBAMJC,GACErgC,KAAKtG,MACT,OAAoBwE,IAAMC,cAAc,MAAO,CAC7ClF,GAAIyK,EACJ,YAAc,GAAEA,SAChB4W,MAAO,IAAKjc,GAAOohC,iBACdnlB,GAELgmB,WAAYtgC,KAAKsgC,YACHpiC,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOuY,OACb5W,KAAKtG,MAAMkd,OAASpW,aAAwBkD,EAAQhD,aAAuBtH,KAAsB8E,IAAMC,cAAcu1B,KAAW,CACjIC,YAAajwB,EACb68B,UAAW,eACV9O,GAAyBvzB,IAAMC,cAAc,MAAOypB,GAAS,CAC9DxpB,UAAWoiC,KAAaxR,QACxB6E,IAAKpC,EAASG,UACbH,EAASqC,gBAAiBtvB,EAAK/H,KAAI,CAACyP,EAAazJ,KAClD,MAAMhH,EAAO,GAAEiI,KAAUwI,IACnB+kB,EAAWwP,aAAkBrnC,EAAM8S,GACnCvB,EAAQ01B,EAAoBn0B,GAClC,OAAoBhO,IAAMC,cAAcmzB,KAAW,CACjD71B,IAAKA,EACL81B,YAAa91B,EACbgH,MAAOA,EACP+uB,eAAgBP,IACfQ,GAAyBvzB,IAAMC,cAAc,MAAOypB,GAAS,CAC9DiM,IAAKpC,EAASG,UACbH,EAASI,eAAgBJ,EAASK,iBAA+B5zB,IAAMC,cAAc2+B,GAAM,CAC5FrlB,QAAS2oB,EAAel0B,GACxBxI,OAAQA,EACRwI,YAAaA,EACb+kB,SAAUA,EACVtmB,MAAOA,EACPqyB,YAAc/L,EAKT,KALiC/yB,IAAMC,cAAcuiC,GAAU,CAClEx0B,YAAaA,EACbqqB,cAAe7yB,EACfpD,QAASlH,EACTk8B,uBAAwB3qB,EAAMjI,iBAGhC+uB,EAAS1Y,iBAmCFjb,oBAhBSV,IAAK,CAC3BhE,KAAM6b,GAAW7X,GACjB0F,OAAQia,GAAa3f,GACrBijC,oBAAqBn0B,GAAewR,GAAuBtgB,EAAO8O,IAAgB,OAGzDnO,IAAQ,CACjCqiC,eAAgBl0B,GAAe,IAAMnO,EAASuU,GAAyBpG,QAGtD,CAACy0B,EAAYC,EAAe9rB,KAA5B,IAA+C6rB,KAC7DC,KACA9rB,EACHtQ,KAAMm8B,EAAW79B,OAAOgS,EAASpR,WAGpB5F,CAAyDoiC,IC1GjE,MAAMW,GAAoB,MAIlB,QACbC,GAAI,CACFhT,QAAS,OACTwL,UTPyB,QSS3ByH,UAAW,CACTjT,QAAS,OACTkH,cAAe,UAEjBgM,cAAe,CACbC,UAXmC,IAAMC,SAASL,GAAmB,IAApC,KAanCM,eAAgB,CACdF,UAAWJ,IAEb7kC,QAAS,CACPilC,UAAW,OAEbhlC,KAAM,CACJglC,UAAW,OAEb/kC,QAAS,CACP+kC,UAAW,SCtBf,MAAMG,GAAS,IAAmBljC,IAAMC,cAAc,MAAO,CAC3DlF,GAAI,YACJqhB,MAAOjc,GAAOyiC,IACA5iC,IAAMC,cAAc,MAAO,CACzClF,GAAI,eACJqhB,MAAO,IAAKjc,GAAO0iC,aACd1iC,GAAO2iC,gBAEE9iC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQjD,KACR6Z,MAAO,IAAKjc,GAAOrC,WACdslC,GAAkBxB,qBAER5hC,IAAMC,cAAckjC,GAAa,CAChD39B,OAAQ9C,KACR0Z,MAAO,IAAKjc,GAAOpC,QACdqlC,GAAkBxB,sBAEP5hC,IAAMC,cAAc,MAAO,CAC3ClF,GAAI,eACJqhB,MAAO,IAAKjc,GAAO0iC,aACd1iC,GAAO8iC,iBAEEjjC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQH,KACR+W,MAAOjc,GAAOnC,YAGhBklC,GAAOnU,YAAc,SACNmU,UC/BA,OACE,CACbH,UAHmC,IAAMC,SAFZ,MAEwC,IAApC,KACtB,GAIG,CACdD,UAR6B,OC6BlBG,OAvBA,IAAmBljC,IAAMC,cAAc,MAAO,CAC3DlF,GAAI,YACJqhB,MAAOinB,GAAoBT,IACb5iC,IAAMC,cAAc,MAAO,CACzClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BS,KAEStjC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQjD,KACR6Z,MAAO,IAAKinB,GAAoBrlC,WAC3BolC,GAAkBxB,sBAEP5hC,IAAMC,cAAc,MAAO,CAC3ClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BS,KAEStjC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQH,KACR+W,MAAOinB,GAAoBrlC,YCvBd,OACE,CACb+kC,UAHmC,IAAMC,SAFZ,MAEwC,IAApC,KACtB,GAIG,CACdD,UAR6B,OCMjC,MAAMG,GAAS,IAAmBljC,IAAMC,cAAc,MAAO,CAC3DlF,GAAI,YACJqhB,MAAOinB,GAAoBT,IACb5iC,IAAMC,cAAc,MAAO,CACzClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BU,KAESvjC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQjD,KACR6Z,MAAO,IAAKinB,GAAoBvlC,WAC3BslC,GAAkBxB,qBAER5hC,IAAMC,cAAckjC,GAAa,CAChD39B,OAAQ9C,KACR0Z,MAAO,IAAKinB,GAAoBtlC,QAC3BqlC,GAAkBxB,sBAEP5hC,IAAMC,cAAc,MAAO,CAC3ClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BU,KAESvjC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQH,KACR+W,MAAOinB,GAAoBrlC,YAG7BklC,GAAOnU,YAAc,SACNmU,UClBAM,OAhBQ,IAAmBxjC,IAAMC,cAAc,MAAO,CACnEY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,gBACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,kBACHC,KAAM,cCGOyiC,OAhBM,IAAmBzjC,IAAMC,cAAc,MAAO,CACjEY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,kBACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,gBACHC,KAAM,cCbO,IACbugC,cAAe,CACb3R,QAAS,OACT+L,WAAY,aACZ5E,gBAAiByK,GACjBC,YAAaD,GACbE,YAAaF,GACbG,YAAaH,GACbvG,QAASuG,IAEXI,kBAAmB,CACjBC,gBAAiB,GAEnBnpB,MAAO,CACLopB,SAAU,GACVxV,SAAU,GACV2O,QAAS,kBACTpxB,SAAU,GACVyM,MAAOlB,KAAOS,QACdwlB,WAAY,OACZ0G,cAAe,QACfnS,QAAS,OACTkH,cAAe,WC+GJl3B,oBAxBSV,IAAK,CAC3B0F,OAAQia,GAAa3f,GACrBiwB,oBAAqB9hB,GAAa4R,GAAuB/f,EAAOmO,OAGvCxN,IAAQ,CACjCqiC,eAAgBpW,GAAY,IAAMjsB,EAASuU,GAAyB0X,IACpE4X,kBAAmB,CAAC11B,EAAa2P,EAAStQ,IAAcxN,EAASiU,GAAsB,CACrF9F,cACA2P,UACAtQ,eAEFs2B,qBAAsB,CAAC31B,EAAa4P,EAAiBvQ,IAAcxN,EAASmU,GAAyB,CACnGhG,cACA4P,kBACAvQ,mBAIe,CAACo1B,EAAYC,EAAe9rB,KAA5B,IAA+C6rB,KAC7DC,KACA9rB,KAGUhX,EAxHF,EACX8Y,QACA0D,QACA8lB,iBACAz1B,QACAwR,gBACAkR,sBACAuU,oBACAC,2BAEA,MAAMvC,EAAYC,oBACXuC,EAAcC,GAAmBnM,oBAAS,GAE3CG,EAAa,IAAMgM,GAAiBD,GAEpCrL,EAActa,IAAkBjS,GAA0BC,GAA4BD,GAEtF83B,EAAS,KACbjM,IACA,MAAM7M,EAAgBmE,EAAoBnjB,IACpCif,EAAkBkE,EAAoBljB,IAC5C03B,EAAqBjgC,IAAmBsnB,EAAehf,IACvD23B,EAAqBjgC,IAAmBunB,EAAiBhf,IACzDy3B,EAAkBhgC,IAAmBunB,EAAiBjf,IACtD03B,EAAkBhgC,IAAmBsnB,EAAe/e,KA0CtD,OADAxR,QAAQC,IAAI,gBACQsF,IAAMC,cAAc,MAAO,CAC7ClF,GAAI2d,EACJ,YAAc,GAAEA,SAChB0D,MAAO,IAAKjc,GAAOohC,iBACdnlB,IAESpc,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOuY,OACbA,EAXsBuF,IAAkBjS,GAAuChM,IAAMC,cAAcwjC,GAAc,MAAqBzjC,IAAMC,cAAcujC,GAAgB,OAWvIxjC,IAAMC,cAAc2+B,GAAM,CAC9Dp5B,OAAQjD,KACRF,SAAUqW,EACVa,QAAS2oB,EAAejkB,GACxBjQ,YAAatK,IACb+I,MAAOA,EACPsmB,UAAU,EACV+L,YAtDwC9+B,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CAC1H01B,IAAKyL,GACSphC,IAAMC,cAAc6gC,GAAY,CAC9CG,SAAU2C,EAAgB,YAAW3lB,IAAkB,KACvDijB,cAAc,EACd3nB,QAASse,EACTzgB,SAAW,2BAA0B6G,KACvBje,IAAMC,cAAcqhC,IAAY,QAASsC,GAA6B5jC,IAAMC,cAAc+3B,KAAO,CAC/Gze,QAASse,GACK73B,IAAMC,cAAcg4B,KAAQ,CAC1CC,UAAWkJ,EACXjJ,UAAW,gBACGn4B,IAAMC,cAAcosB,IAAY,CAC9CjU,OAAO,EACPhB,SAAU,mCACIpX,IAAMC,cAAcsgC,KAAS,CAC3ChjC,IAAM,4BAA2BmG,MACjCotB,QAAS7uB,UAAKC,EAAE,6BAChB,aAAc,YACAlC,IAAMC,cAAcssB,KAAU,CAC5CpV,UAAU,EACViB,OAAO,EACPM,MAAOzW,UAAKC,EAAE,2BACdkV,SAAW,kDACKpX,IAAMC,cAAc8jC,KAAa,CACjD3rB,OAAO,EACP7a,IAAK,gCACUyC,IAAMC,cAAcssB,KAAU,CAC7ChvB,IAAM,GAAE0gB,QAAoBsa,IAC5Bhf,QAASuqB,EACTprB,MAAOzW,UAAKC,EAAG,8BAA8B,CAC3CG,SAAUk2B,IAAgBvsB,GAA0B/J,UAAKC,EAAE,YAAcD,UAAKC,EAAE,gBAElFkV,SAAW,+CAA8C6G,QAAoBsa,gBCvElE,OACE,CACbwK,UAHmC,IAAMC,SAFZ,MAEwC,IAApC,KACtB,GAIG,CACdD,UAR6B,OCwDlBnjC,oBAJSV,IAAK,CAC3BiwB,oBAAqB9hB,GAAa4R,GAAuB/f,EAAOmO,MAGnDzN,EA5CA,EACbuvB,yBACiBnvB,IAAMC,cAAc,MAAO,CAC5ClF,GAAI,YACJqhB,MAAOinB,GAAoBT,IACb5iC,IAAMC,cAAc,MAAO,CACzClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BmB,KAEShkC,IAAMC,cAAcgkC,GAAa,CAC/C7nB,MAAO,IAAKinB,GAAoBrlC,WAC3BolC,GAAkBxB,mBAEvB3jB,cAAejS,GACfS,MAAO0iB,EAAoBnjB,IAC3B0M,MAAOzW,UAAKC,EAAE,cACClC,IAAMC,cAAcgkC,GAAa,CAChD7nB,MAAOinB,GAAoBrlC,QAC3BigB,cAAehS,GACfQ,MAAO0iB,EAAoBljB,IAC3ByM,MAAOzW,UAAKC,EAAE,iBACElC,IAAMC,cAAc,MAAO,CAC3ClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BmB,KAEShkC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQ9C,KACR0Z,MAAO,IAAKinB,GAAoBrlC,WAEjBgC,IAAMC,cAAckjC,GAAa,CAChD39B,OAAQH,KACR+W,MAAOinB,GAAoBrlC,cC5C7B,MAYakmC,GAAgB,CAAC,CAC5BnpC,GAAI,YACJopC,QAAS,IAAMliC,UAAKC,EAAE,cACrB,CACDnH,GAAI,YACJopC,QAAS,IAAMliC,UAAKC,EAAE,cACrB,CACDnH,GAAI,eACJopC,QAAS,IAAMliC,UAAKC,EAAE,oBApBFkiC,KACpB,IAAIpqC,GAAO,IAAII,MAAOiqC,cACtB,OAAO,IAAIn/B,MAAMk/B,GAAKpjC,KAAK,MAAMzC,KAAI,KACnC,MAAM+lC,EAAa/4B,OAAOvR,KAC1B,MAAO,CACLe,GAAIupC,EACJH,QAAS,IAAMG,OAefC,CAAc,KAEPC,GAAkB,CAAC,CAC9BzpC,GAAI,cACJopC,QAAS,IAAMliC,UAAKC,EAAE,gBACrB,CACDnH,GAAI,cACJopC,QAAS,IAAMliC,UAAKC,EAAE,gBACrB,CACDnH,GAAI,eACJopC,QAAS,IAAMliC,UAAKC,EAAE,iBACrB,CACDnH,GAAI,eACJopC,QAAS,IAAMliC,UAAKC,EAAE,iBACrB,CACDnH,GAAI,gBACJopC,QAAS,IAAMliC,UAAKC,EAAE,kBACrB,CACDnH,GAAI,gBACJopC,QAAS,IAAMliC,UAAKC,EAAE,kBACrB,CACDnH,GAAI,kBACJopC,QAAS,IAAMliC,UAAKC,EAAE,mBACrB,CACDnH,GAAI,gBACJopC,QAAS,IAAMliC,UAAKC,EAAE,kBACrB,CACDnH,GAAI,gBACJopC,QAAS,IAAMliC,UAAKC,EAAE,kBACrB,CACDnH,GAAI,iBACJopC,QAAS,IAAMliC,UAAKC,EAAE,mBACrB,CACDnH,GAAI,mBACJopC,QAAS,IAAMliC,UAAKC,EAAE,oBACrB,CACDnH,GAAI,kBACJopC,QAAS,IAAMliC,UAAKC,EAAE,oBACrB,CACDnH,GAAI,qBACJopC,QAAS,IAAMliC,UAAKC,EAAE,sBACrB,CACDnH,GAAI,kBACJopC,QAAS,IAAMliC,UAAKC,EAAE,oBACrB,CACDnH,GAAI,qBACJopC,QAAS,IAAMliC,UAAKC,EAAE,sBACrB,CACDnH,GAAI,mBACJopC,QAAS,IAAMliC,UAAKC,EAAE,uBCrET,OACE,CACb6gC,UAHmC,IAAMC,SAASL,GAAmB,IAApC,KACtB,GAIG,CACdI,UAAWJ,ICRA,GACJ,CACP8B,KAAM,UCiCK7kC,oBALSV,IAAK,CAC3B4Q,mBAAoBiP,GAAyB7f,GAC7C2Q,qBAAsBmP,GAA2B9f,MAGpCU,EA3BUpE,GAAsBwE,IAAMC,cAAc,MAAO,CACxElF,GAAIS,EAAMgK,OACV,YAAc,GAAEhK,EAAMgK,cACtB4W,MAAO,IAAKgnB,GAAkB7B,iBACzB/lC,EAAM4gB,QAEGpc,IAAMC,cAAc,MAAO,CACzCC,UAAW,QACXkc,MAAOgnB,GAAkB1qB,OACxBpW,aAAwB9G,EAAMgK,OAAQk/B,OAA2C1kC,IAAMC,cAAc,MAAO,CAC7GC,UAAW,UACXkc,MAAO,IAAKgnB,GAAkBtS,WACzB6T,KAEJnpC,EAAM+9B,aCtBT,SAAS7P,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAOhT,MAAMib,GAAuB,EAC3Bj9B,UACAsQ,WACAjB,WACAI,cACiBpX,IAAMC,cAAc+X,KAAc,CACnDhB,SAAUA,EACViB,SAAUA,EACV4C,YAAa5Y,UAAKC,EAAE,mBACpBkW,OAAO,EACPhB,SAAUA,GACTzP,EAAQpJ,KAAI5C,GAAuBqE,IAAMC,cAAcwY,KAAoB,CAC5Elb,IAAK5B,EAAOZ,GACZpB,MAAOgC,EAAOZ,GACd2d,MAAO/c,EAAOwoC,UACd/sB,SAAW,GAAEA,YAAmBzb,EAAOZ,UAUnC8pC,GAAsB,EAC1Bl9B,UACAsQ,WACAjB,WACAI,cACiBpX,IAAMC,cAAc6kC,KAAa,CAClD9tB,SAAUA,EACViB,SAAUA,EACV4C,YAAa5Y,UAAKC,EAAE,gBACpBkW,OAAO,EACPhB,SAAUA,GACTzP,EAAQpJ,KAAI5C,GAAuBqE,IAAMC,cAAc8kC,KAAmB,CAC3ExnC,IAAK5B,EAAOZ,GACZpB,MAAOgC,EAAOZ,GACd2d,MAAO/c,EAAOwoC,UACd/sB,SAAW,GAAEA,YAAmBzb,EAAOZ,UA2B1BiqC,OAjBY,EACzBC,WACAtrC,WACG6B,KACc,SAAbypC,EAAmCjlC,IAAMC,cAAc4kC,GAAqBnb,GAAS,CACzFzR,SAAUte,GACT6B,IAAuBwE,IAAMC,cAAc2kC,GAAsBlb,GAAS,CAC3EzR,SAAUte,GACT6B,ICnDH,MAAM0nC,GAAS1nC,GAAsBwE,IAAMC,cAAc,MAAO,CAC9DlF,GAAI,YACJqhB,MAAOinB,GAAoBT,IACb5iC,IAAMC,cAAc,MAAO,CACzClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BqC,KAESllC,IAAMC,cAAcklC,GAAkB,CACpD3/B,OAAQjD,KACR6Z,MAAO,IAAKinB,GAAoBvlC,WAC3BslC,GAAkBxB,oBAET5hC,IAAMC,cAAc+kC,GAAoB,CACtDC,SAAU,OACVtrC,MAAO6B,EAAMsU,mBACbkH,SAAUxb,EAAM4pC,eAChBz9B,QAASu8B,GACT9sB,SAAW,cAAa7U,iBACRvC,IAAMC,cAAcklC,GAAkB,CACtD3/B,OAAQ9C,KACR0Z,MAAO,IAAKinB,GAAoBtlC,QAC3BqlC,GAAkBxB,oBAET5hC,IAAMC,cAAc+kC,GAAoB,CACtDrrC,MAAO6B,EAAMqU,qBAAqB,GAClCmH,SAAUxb,EAAM6pC,iBAChB19B,QAAS68B,GACTptB,SAAW,cAAa1U,kBACP1C,IAAMC,cAAc,MAAO,CAC5ClF,GAAI,eACJqhB,MAAO,IAAKinB,GAAoBR,aAC3BqC,KAESllC,IAAMC,cAAckjC,GAAa,CAC/C39B,OAAQH,KACR+W,MAAOinB,GAAoBrlC,YAG7BklC,GAAOnU,YAAc,SA0BNnvB,oBAlBSV,IAAK,CAC3B4Q,mBAAoBiP,GAAyB7f,GAC7C2Q,qBAAsBmP,GAA2B9f,OAGxBW,IAAQ,CACjCulC,eAAgB,EACdntB,eAEApY,EAAS6T,GAA0BuE,KAErCotB,iBAAkB,EAChBptB,eAEApY,EAAS+T,GAA4BqE,QAI1BrY,CAA6CsjC,ICrE5D,MAAMoC,GAAe,CACnB,CAACC,MAAsBC,GACvB,CAACC,MAAkBC,GACnB,CAAChB,MAA6BiB,GAC9B,CAACC,MAA0BC,GAC3B,CAACC,MAAsBC,IAqBVnmC,oBAJSV,IAAK,CAC3BkD,QAAS2U,GAAW7X,MAGkB,KAAzBU,EAlBA,EACbwC,cAEA,MAAM4jC,EAAaxjC,aAAuBJ,GACpC6jC,EAAkBX,GAAaU,GACrC,OAAoBhmC,IAAMC,cAAcgmC,EAAiB,CACvD7jC,QAASA,O,sBCtBN,MAeD8jC,GAAsB,CAACC,EAAK/pC,EAAeuL,KAC/Cw+B,EAAMA,EAAIC,iBAAiBhqC,EAAcqN,cAAc48B,oBAAoBjqC,EAAcoM,iBAAiB89B,oBAAoBlqC,EAAcqO,iBAAiB87B,eAAe,CAC1K99B,cAAerM,EAAcqM,gBAG3BrM,EAAcoqC,kBAChBL,EAAMA,EAAIM,oBAAoBrqC,EAAcoqC,kBAG1CpqC,EAAc2N,gBAChBo8B,EAAMA,EAAIO,kBAAkBtqC,EAAc2N,gBAGxCpC,EAAQg/B,qBACVR,EAAMA,EAAIS,uBAAuBj/B,EAAQg/B,qBAGpCR,G,0BCHMU,OA3BI,EACjBtN,WACAniB,WACAD,WACA5b,OACAwlC,SACAxnB,UACAynB,aACiBhhC,IAAMC,cAAc,SAAU,CAC/CC,UAAWC,KAAO2mC,WAClB,YAAa1vB,EACbD,SAAUA,EACV5b,KAAMA,EACNwlC,OAAQA,EACRxnB,QAASA,EACTynB,QAASA,GACRzH,GCpBH,SAAS7P,KAA2Q,OAA9PA,GAAWvsB,OAAOqP,QAAU,SAAU2M,GAAU,IAAK,IAAI0I,EAAI,EAAGA,EAAI8H,UAAUnlB,OAAQqd,IAAK,CAAE,IAAI+H,EAASD,UAAU9H,GAAI,IAAK,IAAItkB,KAAOqsB,EAAczsB,OAAOiO,UAAUC,eAAeC,KAAKse,EAAQrsB,KAAQ4b,EAAO5b,GAAOqsB,EAAOrsB,IAAY,OAAO4b,IAA2B0Q,MAAM/nB,KAAM6nB,WAgBhT,MAAMod,GAAgB,EACpBxH,OACAhG,cACG/qB,KACcxO,IAAMC,cAAcssB,KAAU7C,GAAS,CACxDtR,OAAO,EACPzW,KAAM49B,GAAqBv/B,IAAMC,cAAcs/B,EAAM,CACnDjpB,MAAOlB,KAAOe,WAEf3H,GAAO+qB,GAqKJyN,GAA6B9Q,aAAe,CAAC7W,KAAuB/D,GAAkBA,EAAeoe,cAAW5wB,IAmBzGm+B,GAAernC,aATJV,IAAK,CAC3BvC,QAASyT,GAAYlR,GACrBynC,mBAAoBK,GAA2B9nC,GAC/CnB,KAAM8gB,GAAa3f,GAAOnB,KAC1BD,QAAS+gB,GAAa3f,GAAOpB,QAC7BlC,MAAOmW,GAAU7S,GACjBkD,QAAS2U,GAAW7X,MAGMU,EAjLI,EAC9BjD,UACAoB,OACAD,UACAlC,QACA+qC,qBACAvkC,cAEA,MAAM0iB,EAAaoiB,eACb,QACJC,GACEC,eACG5P,EAAYC,GAAiBC,oBAAS,GAQvCG,EAAa,IAAMJ,GAAeD,GAElC6P,EAAgBltC,GAAU8nB,UAC9B,MAAMqlB,EAAW,IAAIC,gBACrBD,EAASE,OAAO,WAAY7qC,EAAQpB,MAEhCK,GACF0rC,EAASE,OAAO,MAAO5rC,GAGzB,MAAM6rC,OF5DsBxlB,QAC9BklB,UACAjsC,OACAosC,eAEA,MACMI,SADW1e,0BACF2e,IAAIC,SACbC,EAAO,GAAEV,aAAmBjsC,IAClC,OAAOwsC,EAAII,MAAMD,EAAK,CACpBE,OAAQ,OACRC,KAAMV,EACNW,QAAS,IAAIC,QAAQR,EAAIS,kBACxBC,MAAK5gB,GAAOA,EAAIigB,UEgDEY,CAAiB,CAClClB,UACAjsC,KAAMf,EACNmtC,aAEIO,EAAMS,IAAIC,gBAAgBd,GAChC5P,IACA2Q,OAAOC,KAAKZ,EAAK,WAGba,EAAe,CAACvuC,EAAQwuC,EAAUl9B,IAASwW,UAC/C,MAAM4lB,OFPqB,GAC7BV,UACAriB,aACA1oB,gBACAjC,SACAwN,UACAghC,WACAl9B,WAGA,IAAI06B,GAAM,IADcyC,KAAUC,aAAa/jB,GACjBgkB,UAAU9hB,kBAAkB5qB,EAAwB,iBAATqP,GAAyBs9B,WAAW5uC,GAAQ6uC,kBAAkB5sC,EAAcuN,eAAes/B,kBAAkB7sC,EAAcuN,eAAeu/B,4BAA2B,GAAMC,oBAEpPhD,EAAMD,GAAoBC,EAAK/pC,EAAeuL,GAE1C8D,IACF06B,EAAMA,EAAIiD,SAAS39B,IAGjBk9B,IACFxC,EAAMA,EAAIkD,mBAAmBV,IAG/B,MAAMd,EAAM,IAAIS,IAAK,GAAEnB,SAAehB,EAAImD,aAAe,GAAEd,OAAO5c,SAAS2d,SAASf,OAAO5c,SAAS1D,YAEpG,OADA/qB,OAAOC,QAAQ+oC,EAAIqD,cAAcjkC,SAAQ,EAAEhI,EAAK5D,KAAWkuC,EAAI4B,aAAajC,OAAOjqC,EAAK5D,KACjFkuC,GEjBa6B,CAAgB,CAChCvC,UACAriB,aACA1oB,cAAeO,EACfxC,SACAwN,QAAS,CACPg/B,sBAEFgC,WACAl9B,SAEFosB,IACA2Q,OAAOC,KAAKZ,EAAK1tC,EAAOuR,MAAM,aAAe,OAAS,WAGlDi+B,EAAgBxvC,GAAU8nB,UAC9B,MAAM4lB,OFpDsB,GAC9B/iB,aACAqiB,UACA/qC,gBACAjC,SACAwN,UACA5J,OACAD,cAGA,IAAIqoC,GAAM,IADcyC,KAAUC,aAAa/jB,GACjBgkB,UAAU9hB,kBAAkB5qB,GAAe2sC,WAAW5uC,GAAQyvC,kBAAkBC,SAAS9rC,EAAKU,KAAK,MAAMqrC,YAAYhsC,EAAQW,KAAK,MAChK0nC,EAAMD,GAAoBC,EAAK/pC,EAAeuL,GAE1CvL,EAAcmN,mBAChB48B,EAAMA,EAAI4D,wBAGR3tC,EAAcoN,gBAChB28B,EAAMA,EAAI6D,qBAGR5tC,EAAcuN,gBAChBw8B,EAAMA,EAAI6C,qBAGZ,MAAMnB,EAAM,IAAIS,IAAK,GAAEnB,SAAehB,EAAImD,aAAe,GAAEd,OAAO5c,SAAS2d,SAASf,OAAO5c,SAAS1D,YAEpG,OADA/qB,OAAOC,QAAQ+oC,EAAIqD,cAAcjkC,SAAQ,EAAEhI,EAAK5D,KAAWkuC,EAAI4B,aAAajC,OAAOjqC,EAAK5D,KACjFkuC,GEyBaoC,CAAiB,CACjC9C,UACAriB,aACA1oB,cAAeO,EACfxC,SACAwN,QAAS,CACPg/B,sBAEF5oC,OACAD,YAEF+5B,IACA2Q,OAAOC,KAAKZ,EAAgB,SAAX1tC,EAAoB,SAAW,SA8B5C+vC,EAA0B/vC,GAAU6F,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcoqC,KAAmB,CACpH3xB,MAAOzW,UAAKC,EAAE,wBACClC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,MACdqX,QAASmvB,EAAavuC,EAAQ,SACf6F,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,QACdqX,QAASmvB,EAAavuC,EAAQ,UACf6F,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,QACdqX,QAASmvB,EAAavuC,EAAQ,YAK1BinC,EAAyBkJ,sBAC/B,OAAoBtqC,IAAMC,cAAc,MAAO,CAC7CsqC,UAtGgBrxB,IAC0C,MAA/C,OAANA,QAAoB,IAANA,OAAe,EAASA,EAAEsxB,UAC3C/S,GAAc,KAqGFz3B,IAAMC,cAAc,MAAO,CACzC01B,IAAKyL,GACSphC,IAAMC,cAAc4mC,GAAY,CAC9CttB,QAASse,EACT1gB,UAAWxa,GACVsF,UAAKC,EAAE,cAAes1B,GAA2Bx3B,IAAMC,cAAc+3B,KAAO,CAC7Eze,QAASse,GACK73B,IAAMC,cAAcg4B,KAAQ,CAC1CC,UAAWkJ,EACXjJ,UAAW,gBACGn4B,IAAMC,cAAcosB,IAAY,KAAMjqB,IAAYyK,IAzCnC7M,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcoqC,KAAmB,CACzG3xB,MAAOzW,UAAKC,EAAE,kBACClC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,gBACdqX,QAASowB,EAAc,SACR3pC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,cACdqX,QAASowB,EAAc,SACR3pC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,gBACdqX,QAASowB,EAAc,YAtBS3pC,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcoqC,KAAmB,CAC5G3xB,MAAOzW,UAAKC,EAAE,cACClC,IAAMC,cAAc8mC,GAAe,CAClDxH,KAAMkL,IACN/xB,MAAOzW,UAAKC,EAAE,gBACdqX,QAAS8tB,EAAc,SACRrnC,IAAMC,cAAc8mC,GAAe,CAClDxH,KAAMmL,IACNhyB,MAAOzW,UAAKC,EAAE,cACdqX,QAAS8tB,EAAc,WA4CyHrnC,IAAMC,cAAcoqC,KAAmB,CACvL3xB,MAAOzW,UAAKC,EAAE,uBACClC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,SACbgoC,EAAwB,SAAuBlqC,IAAMC,cAAc8mC,GAAe,CACnFruB,MAAOzW,UAAKC,EAAE,QACbgoC,EAAwB,QAAsBlqC,IAAMC,cAAc8mC,GAAe,CAClFruB,MAAOzW,UAAKC,EAAE,UACbgoC,EAAwB,QAAsBlqC,IAAMC,cAAc8mC,GAAe,CAClFruB,MAAOzW,UAAKC,EAAE,QACbgoC,EAAwB,QAAsBlqC,IAAMC,cAAc8mC,GAAe,CAClFruB,MAAOzW,UAAKC,EAAE,aACAlC,IAAMC,cAAcoqC,KAAmB,CACrD3xB,MAAOzW,UAAKC,EAAE,oBACClC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,QACdqX,QAASmvB,EAAa,OAAQ,KAAM,kBACrB1oC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,OACdqX,QAASmvB,EAAa,MAAO,KAAM,kBACpB1oC,IAAMC,cAAcoqC,KAAmB,CACtD3xB,MAAOzW,UAAKC,EAAE,mBACClC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,SACdqX,QAASmvB,EAAa,WACP1oC,IAAMC,cAAc8mC,GAAe,CAClDruB,MAAOzW,UAAKC,EAAE,gBACdqX,QAASmvB,EAAa,MAAO,KAAM,uB,0BChLhC,MAuBMiC,GAAwB/qC,aATbV,IAAK,CAC3Bmc,iBAAkB+D,GAAuBlgB,GACzCnE,IAAKqV,GAAYlR,IAAU,IAAInE,OAGN8E,IAAQ,CACjC0Z,QAAS,IAAM1Z,EAASyU,SAGW1U,EAvBWpE,GAAsBwE,IAAMC,cAAc4mC,GAAY,CACpG1vB,UAAW3b,EAAMT,GACjBwe,QAAS/d,EAAM+d,SACd/d,EAAM6f,iBAAgCrb,IAAMC,cAAc,MAAO,CAClEC,UAAWC,KAAOg9B,aACJn9B,IAAMC,cAAc2qC,IAAoB,OAAsB5qC,IAAMC,cAAc,MAAO,CACvGC,UAAWC,KAAOg9B,aACJn9B,IAAMC,cAAc4qC,IAAmB,OAAQ5oC,UAAKC,EAAE,sB,0BCV/D,MA6EM4oC,GAAmBlrC,aAVR,CAACV,EAAO0X,KAAR,CACtBjd,MAAOilB,GAAc1f,GAAO0X,EAASjb,OAAOJ,UAGnB,CAACsE,EAAU+W,KAAX,CACzBI,SAAUrd,GAASkG,EAAS2S,GAAe,CACzC,CAACoE,EAASjb,OAAOJ,MAAO5B,QAIIiG,EA7EW,EACzCjE,SACA+c,QACAqyB,WACAC,aACArxC,QACAqd,WACAG,WACAC,eAEA,IAAI6zB,EAEJ,MAAMnjC,EAAenM,EAAOmM,cACrB6S,EAASuwB,GAAcxT,mBAAS/9B,IAAUmO,GAC3CmQ,EAAsF,QAA1EgzB,EAAqBtvC,EAAO8Q,MAAMpG,MAAKiJ,GAAQA,EAAK3V,QAAUA,WAA2C,IAAvBsxC,OAAgC,EAASA,EAAmBtxC,MAOhK,OAAoBqG,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,IACVq1B,EAA0BhrC,IAAMC,cAAckrC,IAAU,CACzDxwB,QAASA,EACTjC,MAAOA,EACPnd,KAAO,GAAEI,EAAOJ,cAChByb,SAAU,EACR2D,aAZaA,KACfuwB,EAAWvwB,GACX3D,EAAS2D,EAAUhf,EAAO8Q,MAAM,GAAG9S,MAAQmO,IAWrCsjC,CAASzwB,GACfvC,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,eACV,KAAQ4zB,IAAcrwB,GAAaxD,EAqBhC,KArBwDnX,IAAMC,cAAc,MAAO,CACzFC,UAAW8qC,EAAal1B,GAAuC,IACjD9V,IAAMC,cAAcorC,KAAmB,CACrD9vC,KAAO,GAAEI,EAAOJ,cAChBmd,MAAOsyB,EAAa,GAAKtyB,EACzB1B,SAAU,EACRiB,cACIjB,EAASiB,GACfA,SAAUA,EACV8yB,SAAUA,EACVjwB,WAAY,QACZ1C,OAAO,EACPhB,SAAW,GAAEA,YACZzb,EAAO8Q,MAAMlO,KAAI,EAClB5E,QACA+e,WACiB1Y,IAAMC,cAAcwY,KAAoB,CACzDlb,IAAK5D,EACLA,MAAOA,EACP+e,MAAOA,EACPtB,SAAW,GAAEA,qBCdFk0B,OA1CS,IAAmBtrC,IAAMC,cAAc6qC,GAAkB,CAC/EpyB,MAAOzW,UAAKC,EAAE,oBACd6oC,SAAU9oC,UAAKC,EAAE,mDACjBvG,OAAQ,CACNJ,KAAM,kBACNkR,MAAO,CAAC,CACN9S,MAAO,UACP+e,MAAOzW,UAAKC,EAAE,oBACb,CACDvI,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,UACb,CACDvI,MAAO,UACP+e,MAAOzW,UAAKC,EAAE,YACb,CACDvI,MAAO,uBACP+e,MAAOzW,UAAKC,EAAE,wCACb,CACDvI,MAAO,MACP+e,MAAOzW,UAAKC,EAAE,QACb,CACDvI,MAAO,OACP+e,MAAOzW,UAAKC,EAAE,eACb,CACDvI,MAAO,wBACP+e,MAAOzW,UAAKC,EAAE,+CACb,CACDvI,MAAO,MACP+e,MAAOzW,UAAKC,EAAE,QACb,CACDvI,MAAO,MACP+e,MAAOzW,UAAKC,EAAE,QACb,CACDvI,MAAO,SACP+e,MAAOzW,UAAKC,EAAE,uBACb,CACDvI,MAAO,WACP+e,MAAOzW,UAAKC,EAAE,iBCjCb,MAkDMqpC,GAAqB3rC,aAZV,CAACV,EAAO0X,KAAR,CACtBjd,MAAOkd,GAAa3X,EAAO0X,EAASjb,UAAW,MAGtB,CAACkE,EAAU+W,KAAX,CACzBI,SAAUrd,GAASkG,EAAS6S,GAAc,CACxCuE,SAAUL,EAASjb,OAAOZ,IAAM6b,EAASjb,OAAOJ,KAChDiK,OAAQoR,EAASjb,OAAO6J,OACxB7L,cAI8BiG,EAlDW,EAC3CjE,SACAovC,WACAryB,QACA/e,QACAqd,WACAw0B,WACA10B,eACAM,cACiBpX,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAcwrC,IAAe,CACjD9wB,QAAS6wB,GAAY7xC,EAAQA,EAC7BoxC,SAAUA,EACVryB,MAAOA,EACPnd,KAAMI,EAAOJ,KACbyb,SAAU,EACR2D,aACI3D,EAASw0B,GAAY7wB,EAAUA,GACrCvC,OAAO,EACPhB,SAAUA,MACNo0B,GAAY7xC,GAAS6xC,IAAa7xC,IAAUmd,EAA4B9W,IAAMC,cAAc,MAAO,CACvGC,UAAW4V,IACG9V,IAAMC,cAAc8a,GAAW,CAC7CjE,aAAcA,EACdM,SAAW,GAAEA,kBACT,QCnBSs0B,OATO,IAAmB1rC,IAAMC,cAAc,MAAO,CAClEC,UAAWyV,IACG3V,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,eAA6BlC,IAAMC,cAAcsrC,GAAoB,CAC3H7yB,MAAOzW,UAAKC,EAAE,iCACdvG,OAAQ,CACNJ,KAAM,oBCVM,KACdu1B,cADc,CAGdvzB,IAAK,gBACLmb,MAAOzW,UAAKC,EAAE,YACd4uB,YCDc,YAAY6a,GAAoB,CAC5C7a,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcqrC,GAAiB,MAAoBtrC,IAAMC,cAAcyrC,GAAe,YCK/HE,OAPe,IAAmB5rC,IAAMC,cAAcsrC,GAAoB,CACvF7yB,MAAOzW,UAAKC,EAAE,iCACdvG,OAAQ,CACNJ,KAAM,2BCIKswC,OAPE,IAAmB7rC,IAAMC,cAAcsrC,GAAoB,CAC1E7yB,MAAOzW,UAAKC,EAAE,gBACdvG,OAAQ,CACNJ,KAAM,cCSKuwC,OAVO,IAAmB9rC,IAAMC,cAAcsrC,GAAoB,CAC/E7yB,MAAOzW,UAAKC,EAAE,mBACdvG,OAAQ,CACNZ,GAAIyL,IAENglC,UAAU,EACV10B,aAAcmG,KACd7F,SAAU,sBCZI,KACd0Z,cADc,CAGdvzB,IAAK,oBACLmb,MAAOzW,UAAKC,EAAE,eACd4uB,YCAF,MAAMib,GAAiB,CAAc/rC,IAAMC,cAAc4rC,GAAU,MAAoB7rC,IAAMC,cAAc6rC,GAAe,OACpHE,GAAgB,CAAchsC,IAAMC,cAAc4rC,GAAU,MAAoB7rC,IAAMC,cAAc2rC,GAAuB,MAAoB5rC,IAAMC,cAAc6rC,GAAe,OAGxKG,WAAa,IAAUC,GAAsB,CACzDpb,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAC6B,EAAgBD,GAAgBD,SCF9D,MAAMI,GAAwB,WA4D/BC,GAAkB,EACtBrkC,WACAoP,cACiBnX,IAAMC,cAAc,MAAO,CAC5Cmc,MAAO,CACLwT,QAAS,OACTwN,WAAY,EACZiP,QAASl1B,EAAW,GAAM,KAEb,OAAbpP,QAAkC,IAAbA,OAAsB,EAASA,EAASukC,WAAavkC,EAASukC,SAAS/tC,KAAI,CAACguC,EAAShoC,IAAuBvE,IAAMC,cAAc,MAAO,CAC9Ja,MAAO,6BACPF,MAAO,GACPC,OAAQ,GACRtD,IAAM,WAAUgH,KACFvE,IAAMC,cAAc,OAAQ,KAAmBD,IAAMC,cAAc,UAAW,CAC5FlF,GAAK,KAAIwJ,IACTioC,aAAc,iBACd5rC,MAAO2rC,EAAQ3rC,MACfC,OAAQ0rC,EAAQ1rC,QACFb,IAAMC,cAAc,OAAQ,CAC1Cc,EAAGwrC,EAAQ9gC,KACX0uB,OAAQoS,EAAQj2B,MAChB8jB,YAAa,EACbp5B,KAAM,WACWhB,IAAMC,cAAc,OAAQ,CAC7CY,OAAQ,KACRD,MAAO,KACPI,KAAO,UAASuD,WACE,OAAbwD,QAAkC,IAAbA,OAAsB,EAASA,EAASqN,SAAWrN,EAASqN,OAAO7W,KAAI+X,GAAsBtW,IAAMC,cAAc,MAAO,CAClJ1C,IAAK+Y,EACL8F,MAAO,CACL2a,gBAAiBzgB,EACjB1V,MAAO,GACPC,OAAQ,SAmBGjB,oBAVSV,IAAK,CAC3BvF,MAAOilB,GAAc1f,GAAd,aAGkBW,IAAQ,CACjCmX,SAAUjP,GAAYlI,EAAS2S,GAAe,CAC5C,CAAC25B,IAAwBpkC,QAIdnI,EA9GE,EACfjG,QACAqd,WACAG,cACiBnX,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAcwa,IAAO,CACzClf,KAAM,oBACN6c,OAAO,GACN,CAAC,CAAC,CACHrd,GAAIiN,KACJ0Q,MAAOzW,UAAKC,EAAE,YACb,CACDnH,GAAI0xC,KACJ/zB,MAAOzW,UAAKC,EAAE,UACb,CACDnH,GAAI2xC,KACJh0B,MAAOzW,UAAKC,EAAE,aACb,CACDnH,GAAI4xC,KACJj0B,MAAOzW,UAAKC,EAAE,WACb,CACDnH,GAAI6xC,KACJl0B,MAAOzW,UAAKC,EAAE,SACb,CACDnH,GAAI8xC,KACJn0B,MAAOzW,UAAKC,EAAE,SACb,CACDnH,GAAI+xC,KACJp0B,MAAOzW,UAAKC,EAAE,gBACb,CACDnH,GAAIgyC,KACJr0B,MAAOzW,UAAKC,EAAE,cACb3D,KAAI,EACLxD,KACA2d,WACiB1Y,IAAMC,cAAc,OAAQ,CAC7C1C,IAAKxC,GACSiF,IAAMC,cAAcya,KAAO,CACzChC,MAAoB1Y,IAAMC,cAAcD,IAAMmwB,SAAU,KAAMzX,EAAoB1Y,IAAMC,cAAcmsC,GAAiB,CACrHrkC,SAAUilC,KAAUjyC,GACpBoc,SAAUA,KAEZxd,MAAOoB,EACPqd,OAAO,EACPpB,SAAU,EACRrd,WACIqd,EAASrd,GACfghB,QAAShhB,IAAUoB,EACnBoc,SAAUA,YCxDI81B,OAAmB,CACjC1vC,IAAK,kBACLmb,MAAOzW,UAAKC,EAAE,aACd6oC,SAAUkC,EAAsBhrC,UAAKC,EAAE,6DAA+D,KACtG4uB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcitC,GAAU,CAC1E/1B,SAAU81B,QCECE,OAPU,IAAmBntC,IAAMC,cAAcsrC,GAAoB,CAClF7yB,MAAOzW,UAAKC,EAAE,qBACdvG,OAAQ,CACNJ,KAAM,sBCHV,MAAM6xC,GAAa,oBACbtlC,GAAeH,GAAQylC,IAAYtlC,aAwB1BulC,OAtBW,IAAmBrtC,IAAMC,cAAc6qC,GAAkB,CACjFpyB,MAAOzW,UAAKC,EAAE,yBACd8oC,YAAY,EACZrvC,OAAQ,CACNJ,KAAM6xC,GACNtlC,aAAcA,GACd2E,MAAO,CAAC,CACN9S,MAAO,eACP+e,MAAOzW,UAAKC,EAAE,iBACb,CACDvI,MAAO,aACP+e,MAAOzW,UAAKC,EAAE,eACb,CACDvI,MAAO,0BACP+e,MAAOzW,UAAKC,EAAE,gCACb,CACDvI,MAAO,MACP+e,MAAOzW,UAAKC,EAAE,YCbLorC,OAPc,IAAmBttC,IAAMC,cAAcsrC,GAAoB,CACtF7yB,MAAOzW,UAAKC,EAAE,iCACdvG,OAAQ,CACNJ,KAAM,0BCIKgyC,OAPM,IAAmBvtC,IAAMC,cAAcsrC,GAAoB,CAC9E7yB,MAAOzW,UAAKC,EAAE,iBACdvG,OAAQ,CACNJ,KAAM,kBCHV,MAAM6xC,GAAa,YACbtlC,GAAeH,GAAO,UAAaG,aAkB1B0lC,OAhBG,IAAmBxtC,IAAMC,cAAc6qC,GAAkB,CACzEpyB,MAAOzW,UAAKC,EAAE,qBACd8oC,YAAY,EACZrvC,OAAQ,CACNJ,KAAM6xC,GACNtlC,aAAcA,GACd2E,MAAO,CAAC,CACN9S,MAAO,KACP+e,MAAOzW,UAAKC,EAAE,gBACb,CACDvI,MAAO,IACP+e,MAAOzW,UAAKC,EAAE,oBCjBJ,KACd4uB,cADc,CAGdvzB,IAAK,eACLmb,MAAOzW,UAAKC,EAAE,WACd4uB,YCEF,MAAMib,GAAiB,CAAc/rC,IAAMC,cAAcktC,GAAkB,MAAoBntC,IAAMC,cAAcotC,GAAmB,MAAoBrtC,IAAMC,cAAcutC,GAAW,MAAoBxtC,IAAMC,cAAcstC,GAAc,OACzOE,GAAiB,CAAcztC,IAAMC,cAAcqtC,GAAsB,SAAUvB,IACzE2B,WAAS,IAAUC,GAAmB,CAClD7c,QAAS9wB,IAAMmqC,SAASC,QAAQsD,EAAYD,GAAiB1B,QCalD6B,OAhBI,EACjBz2B,WACA3R,YACiBxF,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,WAAyBlC,IAAMC,cAAc8a,GAAW,CAC9GjE,aAAciG,KACd5F,SAAUA,EACV3R,OAAQA,EACR4R,SAAW,qBAAoB5R,kBChBjB,KACdsrB,UACAia,WACAvlC,aAHc,CAKdjI,IAAKiI,EAAU,wBAAuBA,IAAW,uBACjDkT,MAAOlT,EAASvD,UAAKC,EAAE,iCAAkC,CACvDsD,OAAQiJ,OAAOjJ,EAAO1I,OAAO,IAAM,IAChCmF,UAAKC,EAAE,uBACZ4uB,UACAia,aCVc,KACdja,UACAia,WACAvlC,aAHc,CAKdjI,IAAKiI,EAAU,sBAAqBA,IAAW,qBAC/CkT,MAAOlT,EAASvD,UAAKC,EAAE,+BAAgC,CACrDsD,OAAQiJ,OAAOjJ,EAAO1I,OAAO,IAAM,IAChCmF,UAAKC,EAAE,qBACZ4uB,UACAia,aCJc,KACdvlC,SACA6R,iBAEA,MAAMw2B,EAAWx2B,EAAay2B,GAA0BC,GAClDj3B,EAAeO,EAAauF,KAAiCC,KACnE,MAAO,IAAKgxB,EAAS,CACjB/c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAc+tC,GAAW,CAC3ExoC,OAAQA,EACRsR,aAAcA,IACC9W,IAAMC,cAAc2tC,GAAY,CAC/CpoC,OAAQA,UCdT,MAAMyoC,GAAW,EACtB1xB,UACiBvc,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAc,IAAK,CACvCC,UAAW0V,IACG5V,IAAMC,cAAc,OAAQ,CAC1CC,UAAWgW,IACGlW,IAAMC,cAAciuC,IAAY,OAAQ3xB,ICJ3C4xB,GAA4B,EACvCjzC,OACAwd,QACAmC,cACAkwB,WACAnqC,QACAjF,SACAhC,QACAqd,WACAo0B,WACAt0B,eACAk0B,aACArwB,UACAyzB,SACAj3B,WACAC,WACAC,gBACiBrX,IAAMC,cAAc,MAAO,CAC5CC,UAAWkuC,EAAS,GAAKz4B,IACxBq1B,EAA0BhrC,IAAMC,cAAckrC,IAAU,CACzDxwB,QAASA,EACTjC,MAAOA,EACPnd,KAAO,GAAEI,EAAOJ,cAChByb,SAAU,EACR2D,aACIywB,EAASzwB,GACfvC,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,eACV,MAAO4zB,GAAcrwB,EAAuB3a,IAAMC,cAAc,MAAO,CAC1EC,UAAW8qC,EAAal1B,GAAuC,IAC9Ds4B,EAAsBpuC,IAAMC,cAAcouC,IAAK,CAChDztC,MAAOA,GACOZ,IAAMC,cAAcquC,KAAO,CACzCpzC,KAAMA,EACN8b,SAAU,EACRrd,WACIqd,EAASrd,GACf4B,KAAMI,EAAOJ,KACb5B,MAAOA,EAAMue,WACb2C,YAAaA,EACbzC,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,aACIpX,IAAMC,cAAc2a,KAAY,CACjD1f,KAAMA,EACNwd,MAAOsyB,EAAa,GAAKtyB,EACzB1B,SAAU,EACRrd,WACIqd,EAASrd,GACf4B,KAAMI,EAAOJ,KACb5B,MAAOA,EACPoxC,SAAU5zB,EAAW,GAAK4zB,EAC1BlwB,YAAaA,EACbC,WAAYla,EACZwX,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,YACXN,EAA4B9W,IAAMC,cAAc8a,GAAW,CAC7DjE,aAAcA,EACdK,SAAUA,EACVC,SAAW,GAAEA,eACb5R,OAAQ7J,EAAO6J,OACf6R,WAAYA,IACT,MAAQ,MACb82B,GAA0Bz3B,aAAe,CACvC/a,OAAQ,IAqBV,MAqBa4yC,GAAiB3uC,aArBN,CAACV,EAAO0X,KAAR,CACtBjd,MAAOkd,GAAa3X,EAAO0X,EAASjb,SAAW,GAC/Cgf,QAAS9D,GAAa3X,EAAO,CAC3BnE,GAAI6b,EAASjb,OAAO6yC,UACpBhpC,OAAQoR,EAASjb,OAAO6J,WACpB,MAGmB,CAAC3F,EAAU+W,KAAX,CACzBI,SAAUrd,GAASkG,EAAS6S,GAAc,CACxCuE,SAAUL,EAASjb,OAAOZ,IAAM6b,EAASjb,OAAOJ,KAChDiK,OAAQoR,EAASjb,OAAO6J,OACxB7L,WAEFyxC,SAAUzwB,GAAW9a,EAAS6S,GAAc,CAC1CuE,SAAUL,EAASjb,OAAO6yC,UAC1BhpC,OAAQoR,EAASjb,OAAO6J,OACxB7L,MAAOghB,QAImB/a,CAA6CuuC,ICnF5DM,OA5Ba,EAC1Br3B,WACA5R,SACAsR,eACA/b,KACAsc,gBACiBrX,IAAMC,cAAcsuC,GAAgB,CACrDrzC,KAAM,OACN0F,MAAO,QACP8X,MAAOzW,UAAKC,EAAE,SACd2Y,YAAa5Y,UAAKC,EAAE,eACpBvG,OAAQ,CACNZ,KACAyK,UAEF4oC,QAAQ,EACRt3B,aAAcA,EACdM,SAAUA,EACVC,WAAYA,ICqDCzX,oBAbS,CAACV,EAAO0X,KAAR,CACtBjd,MAAOkd,GAAa3X,EAAO0X,EAASjb,QACpCgf,aAAkD7R,IAAzC+N,GAAa3X,EAAO0X,EAASjb,YAGb,CAACkE,EAAU+W,KAAX,CACzBI,SAAUrd,GAASkG,EAAS6S,GAAc,CACxCuE,SAAUL,EAASjb,OAAOZ,IAAM6b,EAASjb,OAAOJ,KAChDiK,OAAQoR,EAASjb,OAAO6J,OACxB7L,MAAiB,KAAVA,EAAe8U,OAAO9U,GAASA,QAI3BiG,EApEQ,EACrB8Y,QACAmC,cACAkwB,WACAnqC,QACAjF,SACAhC,QACAqd,WACAo3B,SACAj3B,WACAC,cACiBpX,IAAMC,cAAc,MAAO,CAC5CC,UAAWkuC,EAAS,GAAKz4B,IACX3V,IAAMC,cAAc,MAAO,KAAMmuC,EAAsBpuC,IAAMC,cAAcouC,IAAK,CAC9FztC,MAAOA,GACOZ,IAAMC,cAAcquC,KAAO,CACzCpzC,KAAM,SACN8b,SAAU,EACRrd,WACIqd,EAASrd,GACf4B,KAAMI,EAAOJ,KACb5B,OAAkB,OAAVA,QAA4B,IAAVA,OAAmB,EAASA,EAAMue,aAAe,GAC3E2C,YAAaA,EACbzC,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,aACIpX,IAAMC,cAAc2a,KAAY,CACjD1f,KAAM,SACNwd,MAAOA,EACP1B,SAAU,EACRrd,WACIqd,EAASrd,GACf4B,KAAMI,EAAOJ,KACb5B,MAAOA,EACPoxC,SAAU5zB,EAAW,GAAK4zB,EAC1BlwB,YAAaA,EACbC,WAAYla,EACZwX,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,gBCrBAs3B,OArBa,EAC1Bt3B,WACA5R,SACAzK,QACiBiF,IAAMC,cAAc0uC,GAAgB,CACrD/tC,MAAO,OACP8X,MAAOzW,UAAKC,EAAE,SACd2Y,YAAa5Y,UAAKC,EAAE,UACpBvG,OAAQ,CACNZ,KACAyK,UAEF4oC,QAAQ,EACRh3B,SAAUA,ICwDGxX,oBAfS,CAACV,EAAO0X,KAAR,CACtB+D,QAAS9D,GAAa3X,EAAO,CAC3BnE,GAAI6b,EAAS43B,UACbhpC,OAAQoR,EAASpR,WACb,MAGmB,CAAC3F,EAAU+W,KAAX,CACzBw0B,SAAUzwB,GAAW9a,EAAS6S,GAAc,CAC1CuE,SAAUL,EAAS43B,UACnBhpC,OAAQoR,EAASpR,OACjB7L,MAAOghB,QAII/a,EAhEe,EAC5B+a,UACAywB,WACAj0B,WACAuB,QACAtB,WACAN,eACA83B,UACAC,UACArpC,SACA6R,gBACiBrX,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAckrC,IAAU,CAC5CxwB,QAASA,EACTjC,MAAOA,EACPnd,KAAM,wBACNyb,SAAU,EACR2D,aACIywB,EAASzwB,GACfvC,OAAO,EACPjB,SAAUA,EACVC,SAAW,GAAEA,eACXuD,IAAYxD,EAAwBnX,IAAMC,cAAc,MAAO,CACjEC,UAAY,GAAE4V,MAAwCG,MACxCjW,IAAMC,cAAc,MAAO,KAAmBD,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,UAAwBlC,IAAMC,cAAcyuC,GAAqB,CACrKt3B,SAAW,GAAEA,UACb5R,OAAQA,EACRzK,GAAI6zC,KACY5uC,IAAMC,cAAc,MAAO,KAAmBD,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,UAAwBlC,IAAMC,cAAcwuC,GAAqB,CACvKr3B,SAAW,GAAEA,UACb5R,OAAQA,EACRsR,aAAcA,EACd/b,GAAI8zC,EACJx3B,WAAYA,MACP,QCxCA,MAAMy3B,GAAW,EACtB33B,WACA3R,SACA6R,gBACiBrX,IAAMC,cAAc8uC,GAAgB,CACrD53B,SAAUA,EACVuB,MAAOzW,UAAKC,EAAE,aACdkV,SAAU,mBACVN,aAAc3P,GACd0nC,QAAS5nC,GACT2nC,QAAS1nC,GACTsnC,UAAWxnC,GACXxB,OAAQA,EACR6R,WAAYA,ICbR+1B,GAAa,iBACbtlC,GAAeH,GAAO,eAAaG,aA4B1BknC,OA1BQ,EACrB73B,cACiBnX,IAAMC,cAAc6qC,GAAkB,CACvDE,YAAY,EACZtyB,MAAOzW,UAAKC,EAAE,cACdiV,SAAUA,EACVxb,OAAQ,CACNJ,KAAM6xC,GACNtlC,aAAcA,GACd2E,MAAO,CAAC,CACN9S,MAAO,SACP+e,MAAOzW,UAAKC,EAAE,WACb,CACDvI,MAAO,aACP+e,MAAOzW,UAAKC,EAAE,eACb,CACDvI,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,YAGlBkV,SAAU,sBCvBL,MAAM63B,GAAa,EACxB93B,WACA3R,SACA6R,gBACiBrX,IAAMC,cAAc8uC,GAAgB,CACrD53B,SAAUA,EACVuB,MAAOzW,UAAKC,EAAE,eACdkV,SAAU,qBACVN,aAAcvP,GACdsnC,QAASxnC,GACTunC,QAAStnC,GACTknC,UAAWpnC,GACX5B,OAAQA,EACR6R,WAAYA,ICjBE,SACdyZ,UACAia,eAFc,CAIdxtC,IAAK,aACLmb,MAAOzW,UAAKC,EAAE,SACd4uB,UACAia,aCAc,IAACkC,EAAqBznC,KAAtB,IAAuC0pC,GAAiB,CACpEpe,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAC,CAAcpqC,IAAMC,cAAc+uC,GAAgB,UAAa/B,EAI1F,CAAcjtC,IAAMC,cAAcguC,GAAU,CAChD1xB,KAAMta,UAAKC,EAAE,gFALuG,CAAclC,IAAMC,cAAcgvC,GAAY,CAClKzpC,OAAQA,IACOxF,IAAMC,cAAc6uC,GAAU,CAC7CtpC,OAAQA,WCJd,MAuDa2pC,GAAyBvvC,aAZd,CAACV,EAAO0X,KAAR,CACtBjd,MAAOkd,GAAa3X,EAAO0X,EAASjb,YAGX,CAACkE,EAAU+W,KAAX,CACzBI,SAAUrd,GAASkG,EAAS6S,GAAc,CACxCuE,SAAUL,EAASjb,OAAOZ,IAAM6b,EAASjb,OAAOJ,KAChDiK,OAAQoR,EAASjb,OAAO6J,OACxB7L,cAIkCiG,EAvDI,EACxC8Y,QACAmC,cACAkwB,WACAnqC,QACAjF,SACAhC,QACAqd,WACAG,WACAC,cACiBpX,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAc,MAAO,KAAmBD,IAAMC,cAAc2a,KAAY,CAC5F1f,KAAM,SACNwd,MAAOA,EACP1B,SAAU,EACRrd,YAEA,MAAMy1C,EAAcpM,SAASrpC,EAAO,IACjBqd,EAAnBo4B,GAAe,EAAarQ,KAAKsQ,MAAM11C,GAAmBy1C,EAAc,EAAI,OAE9E7zC,KAAMI,EAAOJ,KACb5B,MAAOA,GAAmB,IAAVA,EAAcA,EAAMue,WAAa,GACjD6yB,SAAUA,EACVlwB,YAAaA,EACbC,WAAYla,EACZwX,OAAO,EACPjB,SAAUA,EACVC,SAAUA,QCXGk4B,OAnBM,EACnBn4B,WACA3R,YACiBxF,IAAMC,cAAckvC,GAAwB,CAC7DvuC,MAAO,OACP8X,MAAOzW,UAAKC,EAAE,YACdiV,SAAUA,EACV0D,YAAa5Y,UAAKC,EAAE,QACpBvG,OAAQ,CACNZ,GAAI4L,GACJnB,UAEF4R,SAAW,GAAE5R,oB,sBCOA+pC,OAnBM,EACnBp4B,WACA3R,YACiBxF,IAAMC,cAAc0uC,GAAgB,CACrD/tC,MAAO,QACPia,YAAa5Y,UAAKC,EAAE,OACpBiV,SAAUA,EACVxb,OAAQ,CACNZ,GAAI6L,GACJpB,UAEF4oC,QAAQ,EACRh3B,SAAW,GAAE5R,qBCOAgqC,OAnBM,EACnBr4B,WACA3R,YACiBxF,IAAMC,cAAc0uC,GAAgB,CACrD/tC,MAAO,QACPia,YAAa5Y,UAAKC,EAAE,OACpBiV,SAAUA,EACVxb,OAAQ,CACNZ,GAAI8L,GACJrB,UAEF4oC,QAAQ,EACRh3B,SAAW,GAAE5R,qBCiBAiqC,OA1BG,EAChBt4B,WACA3R,YACiBxF,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAcua,KAAO,CACzCta,UAAWC,KAAOuY,OACjBzW,UAAKC,EAAE,eAA6BlC,IAAMC,cAAc,MAAO,CAChEC,UAAW+V,IACGjW,IAAMC,cAAcuvC,GAAc,CAChDr4B,SAAUA,EACV3R,OAAQA,IACOxF,IAAMC,cAAc,MAAO,CAC1Cmc,MAAO,CACLwT,QAAS,OACT+L,WAAY,WAEb,kBAAoC37B,IAAMC,cAAcsvC,GAAc,CACvEp4B,SAAUA,EACV3R,OAAQA,KACJ2R,EAAuH,KAA/FnX,IAAMC,cAAcyvC,IAAM,KAAMztC,UAAKC,EAAE,uDCLtDytC,OAnBU,EACvBx4B,WACA3R,YACiBxF,IAAMC,cAAckvC,GAAwB,CAC7DvuC,MAAO,OACPmqC,SAAU9oC,UAAKC,EAAE,gGACjBwW,MAAOzW,UAAKC,EAAE,SACdiV,SAAUA,EACV0D,YAAa5Y,UAAKC,EAAE,QACpBvG,OAAQ,CACNZ,GAAI2L,GACJlB,UAEF4R,SAAW,GAAE5R,iBCNC,KACdA,SACA6R,aACAu4B,YACAz1B,oBAEA,MAAM0zB,EAAWx2B,EAAa02B,GAA4BD,GACpDh3B,EAAeO,EAAawF,KAAmCD,KACrE,MAAO,IAAKixB,EAAS,CACjB/c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAc+tC,GAAW,CAC3ExoC,OAAQA,EACRsR,aAAcA,EACdqD,cAAeA,EACfC,gBAAgB,IACDpa,IAAMC,cAAcwvC,GAAW,CAC9CjqC,OAAQA,IACOxF,IAAMC,cAAc0vC,GAAW,CAC9CnqC,OAAQA,IACOxF,IAAMC,cAAcqvC,GAAc,CACjD9pC,OAAQA,IACOxF,IAAMC,cAAc2tC,GAAY,CAC/CpoC,OAAQA,OACFoqC,EAAY,CAAc5vC,IAAMC,cAAcgvC,GAAY,CAChEzpC,OAAQA,EACR6R,WAAYA,IACGrX,IAAMC,cAAc6uC,GAAU,CAC7CtpC,OAAQA,EACR6R,WAAYA,KACR,QACF8C,EAAgB,CAClB3U,UACE,SCvBKqqC,OAfE,EACfz4B,cACiBpX,IAAMC,cAAcsuC,GAAgB,CACrDrzC,KAAM,OACN0F,MAAO,QACPia,YAAa5Y,UAAKC,EAAE,kBACpBvG,OAAQ,CACNJ,KAAM,YAER6b,SAAUA,ICAZ,MAAM04B,GAAqB,OACrBC,GAAqB,OACrBC,GAAuB,SAE7B,MAAMC,WAAqBtiB,YACzBjsB,YAAYlG,GAnBd,IAAyBixB,EAAKlvB,EAAK5D,EAoB/BqI,MAAMxG,GApByB7B,EAsBQ,EACrCA,YAEAmI,KAAKssB,SAAS,CACZz0B,UAEFmI,KAAKtG,MAAMwb,SAASrd,IAAUo2C,GAAoBp2C,IAAUm2C,QAAqBhnC,EAAYhH,KAAKtG,MAAMqN,eAAYC,KA5B5FvL,EAsBJ,mBAtBDkvB,EAsBL3qB,MAtB0C3E,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EA+BvLmI,KAAKouC,aAAe,CAClBv2C,MAAOm2C,IAEThuC,KAAK5C,MAAQ1D,EAAM7B,MAAQ,CACzBA,MAAO6B,EAAM7B,OACXmI,KAAKouC,aAGXne,SACE,MAAM,MACJp4B,GACEmI,KAAK5C,OACH,kBACJ4D,GACEhB,KAAKtG,MACT,OAAoBwE,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,IACG3V,IAAMC,cAAcua,KAAO,KAAM1X,IAAsB+J,IAAuB5K,UAAKC,EAAE,kBAAoBD,UAAKC,EAAE,mBAAiClC,IAAMC,cAAcwa,IAAO,CAC1Llf,KAAM,wBACN6c,OAAO,EACPhB,SAAU,qCACT,CAAC,CACFrc,GAAI+0C,GACJp3B,MAAOzW,UAAKC,EAAE,mBACb,CACDnH,GAAIg1C,GACJr3B,MAAOzW,UAAKC,EAAE,SACb,CACDnH,GAAIi1C,GACJt3B,MAAOzW,UAAKC,EAAE,YACb3D,KAAI,EACLxD,KACA2d,WACiB1Y,IAAMC,cAAcya,KAAO,CAC5Cnd,IAAKxC,EACL2d,MAAOA,EACP/e,MAAOoB,EACPqd,OAAO,EACPpB,SAAUlV,KAAKquC,cACfx1B,QAAShhB,IAAUoB,OACfpB,IAAUq2C,GAAoChwC,IAAMC,cAAc,MAAO,CAC7EC,UAAW4V,IACG9V,IAAMC,cAAc4vC,GAAU,CAC5CzB,QAAQ,EACRh3B,SAAU,gCACN,KAAMzd,IAAUm2C,IAAsBn2C,IAAUq2C,GAAoChwC,IAAMC,cAAc,MAAO,CACnHC,UAAW4V,IACG9V,IAAMC,cAAc8a,GAAW,CAC7CjE,aAAcsG,KACdhG,SAAU,sCACN,OAWV,MAAMg5B,GAAuBla,aAAe,CAACtX,KAAgByxB,GAAaA,EAAU3nC,aAAeqnC,QAA4CjnC,IAAvBunC,EAAUxnC,SAAyBinC,GAAqBE,KAejKpwC,oBAbSV,IAAK,CAC3B4D,kBAAmBiU,GAAW7X,GAC9BvF,MAAOy2C,GAAqBlxC,GAC5B2J,SAAU+V,GAAc1f,GAAO2J,aAGNhJ,IAAQ,CACjCmX,SAAU,CAACtO,EAAcG,IAAahJ,EAAS2S,GAAe,CAC5D9J,eACAG,iBAIWjJ,CAA6CqwC,ICtG5D,MAAMK,GAAQ,EACZ53B,QACA01B,YACiBpuC,IAAMC,cAAcsuC,GAAgB,CACrDrzC,KAAM,OACN0F,MAAO,QACP8X,MAAOA,EACPmC,YAAa5Y,UAAKC,EAAE,eACpBvG,OAAQ,CACNJ,KAAM,SAER6yC,OAAQA,IAGVkC,GAAM55B,aAAe,CACnB03B,QAAQ,GAMKkC,UCZf,MAAMC,GAAkB,OAClBC,GAAkB,OAClBC,GAAoB,SAE1B,MAAMC,WAAkB/iB,YACtBjsB,YAAYlG,GAnBd,IAAyBixB,EAAKlvB,EAAK5D,EAoB/BqI,MAAMxG,GApByB7B,EAsBQ,EACrCA,YAEAmI,KAAKssB,SAAS,CACZz0B,UAEFmI,KAAKtG,MAAMwb,SAASrd,IAAU62C,GAAiB72C,IAAU42C,QAAkBznC,EAAYhH,KAAKtG,MAAMoG,YAASkH,KA5BnFvL,EAsBJ,mBAtBDkvB,EAsBL3qB,MAtB0C3E,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EA+BvLmI,KAAKouC,aAAe,CAClBv2C,MAAO42C,IAETzuC,KAAK5C,MAAQ1D,EAAM7B,MAAQ,CACzBA,MAAO6B,EAAM7B,OACXmI,KAAKouC,aAGXne,SACE,MAAM,MACJp4B,GACEmI,KAAK5C,MACT,OAAoBc,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,GACX,YAAa,sBACC3V,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,gBAA8BlC,IAAMC,cAAcwa,IAAO,CAC/Glf,KAAM,qBACN6c,OAAO,GACN,CAAC,CACFrd,GAAIw1C,GACJ73B,MAAOzW,UAAKC,EAAE,mBACb,CACDnH,GAAIy1C,GACJ93B,MAAOzW,UAAKC,EAAE,SACb,CACDnH,GAAI01C,GACJ/3B,MAAOzW,UAAKC,EAAE,YACb3D,KAAI,EACLxD,KACA2d,WACiB1Y,IAAMC,cAAcya,KAAO,CAC5Cnd,IAAKxC,EACL2d,MAAOA,EACP/e,MAAOoB,EACPqd,OAAO,EACPpB,SAAUlV,KAAKquC,cACfx1B,QAAShhB,IAAUoB,OACfpB,IAAU82C,GAAiCzwC,IAAMC,cAAc,MAAO,CAC1EC,UAAW4V,IACG9V,IAAMC,cAAcqwC,GAAO,CACzClC,QAAQ,KACJ,KAAMz0C,IAAU42C,IAAmB52C,IAAU82C,GAAiCzwC,IAAMC,cAAc,MAAO,CAC7GC,UAAW4V,IACG9V,IAAMC,cAAc8a,GAAW,CAC7CjE,aAAcqG,KACd/F,SAAU,mCACN,OAUV,MAAMu5B,GAAoBza,aAAe,CAACtX,KAAgByxB,GAAaA,EAAU1nC,UAAY6nC,QAAsC1nC,IAApBunC,EAAUzuC,MAAsB2uC,GAAkBE,KAclJ7wC,oBAZSV,IAAK,CAC3BvF,MAAOg3C,GAAkBzxC,GACzB0C,MAAOgd,GAAc1f,GAAO0C,UAGH/B,IAAQ,CACjCmX,SAAU,CAACrO,EAAW/G,IAAU/B,EAAS2S,GAAe,CACtD7J,YACA/G,cAIWhC,CAA6C8wC,IChG5C,SACdnzC,IAAK,eACLmb,MAAOzW,UAAKC,EAAE,UACd4uB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcywC,GAAW,MAAoB1wC,IAAMC,cAAcgwC,GAAc,U,sBCctHW,OAhBK,EAClB34B,WACAsB,UACAggB,cACiBv5B,IAAMC,cAAc,MAAO,CAC5CsZ,QAASA,EACTrZ,UAAWqW,KAAGpW,KAAO0wC,IAAK,CACxB,CAAC1wC,KAAO8X,UAAWA,KAEPjY,IAAMC,cAAcua,KAAO,KAAM+e,I,sBCFlCuX,OATQ,EACrBvX,cACiBv5B,IAAMC,cAAc,MAAO,CAC5CC,UAAWC,KAAOC,WACjBm5B,G,sBCwBYwX,OAzBE,EACftkC,QACA2K,eAEA,MAAO45B,EAAkBC,GAAuBvZ,mBAAS,GACzD,OAAoB13B,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACpGC,UAAWC,KAAOixB,KAClB,YAAaha,GACCpX,IAAMC,cAAc6wC,GAAgB,KAAMrkC,EAAMlO,KAAI,EAClEma,SACCnU,IAAuBvE,IAAMC,cAAc2wC,GAAa,CACzDrzC,IAAKgH,EACLgV,QAAS,IAAM03B,EAAoB1sC,GACnC0T,SAAU1T,IAAUysC,GACnBt4B,OAAwB1Y,IAAMC,cAAc,MAAO,CACpDC,UAAWC,KAAO2wB,SACJ9wB,IAAMC,cAAc,OAAQ,CAC1CC,UAAWqV,GAAgBrV,WAC1BuM,EAAMukC,GAAkBt4B,OAAQjM,EAAMukC,GAAkBlgB,SAAUvb,GAAgBpV,SCtBvE2wB,OAAO,CACrBvzB,IAAK,WACLmb,MAAOzW,UAAKC,EAAE,QACd4uB,QAAS,CAAC,CACRvzB,IAAK,YACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAc8wC,GAAU,CAC1EtkC,MAAOqkB,EACPvzB,IAAK,OACL6Z,SAAU,oBCVA0Z,OAAO,CACrBvzB,IAAK,WACLmb,MAAOzW,UAAKC,EAAE,QACd4uB,Y,UCKF,MAAM/L,GAAQ,CACZmsB,WAAY,CACVr2C,SAAU,aACVC,OAAQ,CACNwC,OAAQ,CAAC,KAAM,2BAA4B,kEAC3C6zC,OAAQ,WAKRC,GAAkB,EACtBz3C,QACA03C,UACA1pC,UACAq5B,UACAhqB,WACAI,cACiBpX,IAAMC,cAAcorC,KAAmB,CACxD9vC,KAAM,kBACNmd,MAAOzW,UAAKC,EAAE,UACd+V,SAAoB,OAAVte,QAA4B,IAAVA,OAAmB,EAASA,EAAMoB,GAC9D+f,WAAY,QACZD,YAAa5Y,UAAKC,EAAE,uBACpBovC,YAAarvC,UAAKC,EAAE,mBACpBmvC,QAASA,EACTj5B,OAAO,EACP4oB,QAASA,EACThqB,SAAU,EACRiB,cACIjB,EAAS,CACbjc,GAAIkd,EACJ8W,YAAapnB,EAAQtB,MAAK1K,GAAUA,EAAOhC,QAAUse,IAAUS,QAEjEtB,SAAW,GAAEA,YACZzP,EAAQpJ,KAAI,EACb5E,QACA+e,WACiB1Y,IAAMC,cAAcwY,KAAoB,CACzDlb,IAAK5D,EACLA,MAAOA,EACP+e,MAAOA,EACPtB,SAAW,GAAEA,gBAmFAxX,oBAnBSV,IAAK,CAC3BvF,MAAOkd,GAAa3X,EAAO,CACzBnE,GAAI2M,SAImB7H,IAAQ,CACjCmX,SAAU,EACRjc,KACAg0B,iBACIlvB,EAAS6S,GAAc,CAC3B/Y,MAAO,CACLoB,KACAg0B,eAEF9X,SAAUvP,SAIC9H,EAvEG,EAChBjG,QACAqd,WACAI,eAEA,MAAM0L,EAASokB,eACRv/B,EAAS4pC,GAAc7Z,mBAAS,KAChC8Z,EAAUC,GAAe/Z,oBAAS,GAErC/9B,GAASA,EAAMoB,KACZ4M,EAAQtB,MAAK1K,GAAUA,EAAOhC,QAAUA,EAAMoB,MACjDw2C,EAAW,IAAI5pC,EAAS,CACtBhO,MAAOA,EAAMoB,GACb2d,MAAO/e,EAAMo1B,gBAuBnB,OAAoB/uB,IAAMC,cAAcmxC,GAAiB,CACvDC,SAAUG,EACV73C,MAAOA,EACPgO,QAASA,EACTqP,SAAUA,EACVgqB,QAvBoB/e,UACpB,IAAKuvB,EAAU,CACb,MAAM,WACJN,SACQpuB,EAAOiC,MAAMA,IAEvB,GAAImsB,EAAY,CACd,MAAMvpC,EAAUupC,EAAWA,WAAW3yC,KAAImzC,IAAS,CACjD/3C,MAAO+3C,EAAU32C,GACjB2d,MAAOg5B,EAAUn2C,SAEnBg2C,EAAW5pC,GAGb8pC,GAAY,KAUdr6B,SAAUA,OC5CCxX,oBAfSV,IAAK,CAC3BvF,MAAOkd,GAAa3X,EAAO,CACzBnE,GAAIyM,SAImB3H,IAAQ,CACjCmX,SAAU,EACRrd,WACIkG,EAAS6S,GAAc,CAC3BuE,SAAUzP,GACV7N,cAIWiG,EAhDe,EAC5BjG,QACAqd,cACiBhX,IAAMC,cAAckwB,WAAU,KAAmBnwB,IAAMC,cAAcwa,IAAO,CAC7Flf,KAAMiM,GACN4Q,OAAO,GACOpY,IAAMC,cAAcya,KAAO,CACzCnd,IAAKo0C,KACLj5B,MAAOzW,UAAKC,EAAE,wCACdvI,MAAOg4C,KACPh3B,QAAShhB,IAAUg4C,KACnB36B,SAAUA,EACVoB,OAAO,EACPhB,SAAW,2BAA0Bu6B,SACtB3xC,IAAMC,cAAcya,KAAO,CAC1Cnd,IAAKq0C,KACLl5B,MAAOzW,UAAKC,EAAE,uDACdvI,MAAOi4C,KACPj3B,QAAShhB,IAAUi4C,KACnB56B,SAAUA,EACVoB,OAAO,EACPhB,SAAW,2BAA0Bw6B,UAClCj4C,IAAUi4C,KAA6C5xC,IAAMC,cAAc,MAAO,CACrFC,UAAW4V,IACG9V,IAAMC,cAAc4xC,GAAW,CAC7Cz6B,SAAU,sBACN,QCkBSxX,oBAfS,CAACV,EAAO0X,KAAR,CACtBjd,MAAOid,EAASjb,OAAOZ,GAAK8b,GAAa3X,EAAO,CAC9CnE,GAAI6b,EAASjb,OAAOZ,KACjB6jB,GAAc1f,GAAO0X,EAASjb,OAAOJ,UAGjB,CAACsE,EAAU+W,KAAX,CACzBI,SAAUrd,GAASid,EAASjb,OAAOZ,GAAK8E,EAAS6S,GAAc,CAC7DuE,SAAUL,EAASjb,OAAOZ,GAC1BpB,WACIkG,EAAS2S,GAAe,CAC5B,CAACoE,EAASjb,OAAOJ,MAAO5B,QAIbiG,EAlDgB,EAC7BjE,SACA+c,QACA/e,QACAqd,WACAG,WACAC,cACiBpX,IAAMC,cAAcwa,IAAO,CAC5Clf,KAAMI,EAAOJ,KACbmd,MAAOA,EACPN,OAAO,GACNzc,EAAO8Q,MAAMlO,KAAI,EAClBxD,KACA2d,WACiB1Y,IAAMC,cAAcya,KAAO,CAC5Cnd,IAAKxC,EACL2d,MAAOA,EACP/e,MAAOoB,EACP4f,QAAShhB,IAAUoB,EACnBic,SAAU,EACRrd,WACIqd,EAASrd,GACfwd,SAAUA,EACViB,OAAO,EACPhB,SAAW,GAAEA,YAAmBrc,WCVnB+2C,OAdY,IAAmB9xC,IAAMC,cAAc8xC,GAAiB,CACjFp2C,OAAQ,CACNZ,GAAI0M,GACJgF,MAAO,CAAC,CACN1R,GAAIi3C,KACJt5B,MAAOzW,UAAKC,EAAE,oCACb,CACDnH,GAAIk3C,KACJv5B,MAAOzW,UAAKC,EAAE,gCAGlBkV,SAAU,yBCJG86B,OARO,IAAmBlyC,IAAMC,cAAcsrC,GAAoB,CAC/E7yB,MAAOzW,UAAKC,EAAE,mBACdvG,OAAQ,CACNZ,GAAI0L,IAEN2Q,SAAU,sBCyFGxX,oBAbSV,IAAK,CAC3BwyC,UAAW76B,GAAa3X,EAAO,CAC7BnE,GAAI2M,KAENyqC,sBAAuBt7B,GAAa3X,EAAO,CACzCnE,GAAIyM,SAImB3H,IAAQ,CACjCmX,SAAUlc,GAAU+E,EAAS6S,GAAc5X,OAG9B8E,EApFA,EACb8xC,YACAS,wBACAn7B,WACAo7B,uBAEA,MAAOC,EAAeC,GAAoB5a,uBAAaya,GAAyBA,IAA0BP,QAAmCF,IAgC7I,OAAoB1xC,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,IACG3V,IAAMC,cAAckrC,IAAU,CAC5CxwB,QAAS03B,EACT35B,MAAOzW,UAAKC,EAAE,+BACd8U,SAnCuB,EACvB2D,cAEA23B,EAAiB33B,GAEbA,GACF3D,EAAS,CACPC,SAAUzP,GACV7N,MAAOg4C,OAET36B,EAAS,CACPC,SAAUxP,GACV9N,MAAOq4C,SAGTh7B,EAAS,CACPC,SAAUzP,GACV7N,MAAOi4C,OAET56B,EAAS,CACPC,SAAUvP,GACV/N,WAAOmP,IAETkO,EAAS,CACPC,SAAUxP,GACV9N,WAAOmP,MAWXsP,OAAO,IACLi6B,EAA6BryC,IAAMC,cAAc,MAAO,CAC1DC,UAAW4V,IACTs8B,EAM+D,KAN/BpyC,IAAMC,cAAc,MAAO,CAC7DC,UAAWyV,IACG3V,IAAMC,cAAcsyC,IAAU,KAAmBvyC,IAAMC,cAAcuyC,KAAc,KAAmBxyC,IAAMC,cAAc,OAAQ,CAChJC,UAAWqW,KAAGhB,GAAgBrV,UAAWwV,KACxCzT,UAAKC,EAAE,kBAAgClC,IAAMC,cAAc,MAAO,CACnEC,UAAWyV,IACG3V,IAAMC,cAAc6xC,GAAoB,SAA8B9xC,IAAMC,cAAc,MAAO,CAC/GC,UAAWyV,IACG3V,IAAMC,cAAcsyC,IAAU,KAAmBvyC,IAAMC,cAAcuyC,KAAc,KAAmBxyC,IAAMC,cAAc,OAAQ,CAChJC,UAAWqW,KAAGhB,GAAgBrV,UAAW,CACvC,CAACwV,IAAkC08B,KAEpCnwC,UAAKC,EAAE,iBAA+BlC,IAAMC,cAAc,MAAO,CAClEC,UAAWyV,IACG3V,IAAMC,cAAcwyC,GAAuB,SAAuBzyC,IAAMC,cAAc,MAAO,KAAmBD,IAAMC,cAAciyC,GAAe,QAAU,SCxE/J,KACdE,oBACE,MAFY,CAGd70C,IAAK,aACLmb,MAAOzW,UAAKC,EAAE,UACd4uB,QAAS,CAAC,CACRvzB,IAAK,mBACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcyyC,GAAQ,CACxEN,iBAAkBA,UCZxB,SAAS5lB,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAW3M,MAAMkmB,GAAiB,EACrBp3C,OACA5B,QACAqd,cAkBoBhX,IAAMC,cAAc,MAAO,CAC7Cmc,MAAO,CACLxb,MAAO,UAEKZ,IAAMC,cAAc+X,KAAc,CAChDzc,KAAMA,EACNyb,SAAU,EACRiB,eAEAjB,EAASiB,IAEXA,SAAUte,EACVi5C,SAAU,IACVC,cAAe,QACfz6B,OAAO,GA9BO,CAAC,CACfrd,GAAI,KACJ2d,MAAO,KACN,CACD3d,GAAI,KACJ2d,MAAO,KACN,CACD3d,GAAI,KACJ2d,MAAO,MACN,CACD3d,GAAI,KACJ2d,MAAO,KACN,CACD3d,GAAI,KACJ2d,MAAO,OAiBEna,KAAI,EACbxD,KACA2d,WACiB1Y,IAAMC,cAAcwY,KAAoB,CACzDlb,IAAKxC,EACLpB,MAAOoB,EACP2d,MAAOA,QAULo6B,GAAa,EACjBv3C,OACA5B,QACAqd,cACiBhX,IAAMC,cAAcquC,KAAO,CAC5C/yC,KAAMA,EACN5B,MAAOA,EACPuB,KAAM,SACN8b,SAAU,EACRrd,WACIqd,EAASrd,GACfiH,MAAO,OACPwX,OAAO,IAST,MAAM26B,WAAwBplB,YAC5BjsB,YAAYlG,GACVwG,MAAMxG,GAENgxB,GAAgB1qB,KAAM,WAAW,IAAMA,KAAKssB,SAAStsB,KAAKouC,aAAcpuC,KAAKtG,MAAMwb,SAAS,OAE5FwV,GAAgB1qB,KAAM,YAAYvG,GAAQ5B,IACxCmI,KAAKssB,SAAS,CACZ,CAAC7yB,GAAO5B,IACP,KACD,MAAM,IACJq5C,EADI,GAEJC,EAFI,IAGJC,EAHI,GAIJC,GACErxC,KAAK5C,MACHvF,EAAQ,GAEVq5C,GAAOC,GACTt5C,EAAMqD,KAAM,GAAEg2C,KAAOC,KAGnBC,GAAOC,GACTx5C,EAAMqD,KAAM,GAAEk2C,KAAOC,KAGvBrxC,KAAKtG,MAAMwb,SAASrd,EAAM6K,OAAS,EAAI7K,EAAM8E,KAAK,KAAO,UAI7DqD,KAAKouC,aAAe,CAClB8C,IAAK,GACLC,GAAI,GACJC,IAAK,GACLC,GAAI,IAEN,MAAOC,EAAM,GAAIC,EAAK,GAAIC,EAAO,GAAIC,EAAM,IAAM/3C,EAAM7B,MAAMoiB,MAAM,QACnEja,KAAK5C,MAAQ,CACX8zC,IAAKI,EACLH,GAAII,EACJH,IAAKI,EACLH,GAAII,GAIRxhB,SACE,MAAM,IACJihB,EADI,GAEJC,EAFI,IAGJC,EAHI,GAIJC,GACErxC,KAAK5C,MACT,OAAoBc,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,IACG3V,IAAMC,cAAc,IAAK,CACvCC,UAAW0V,IACV3T,UAAKC,EAAE,+JAA6KlC,IAAMC,cAAc,MAAO,CAChNC,UAAW+V,IACGjW,IAAMC,cAAc,MAAO,CACzCmc,MAAO,CACLxb,MAAO,UAEKZ,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,uBAAqClC,IAAMC,cAAc,MAAO,CACtHC,UAAW+V,IACGjW,IAAMC,cAAc0yC,GAAgB,CAClDp3C,KAAM,MACN5B,MAAOq5C,EACPh8B,SAAUlV,KAAKkV,SAAS,SACThX,IAAMC,cAAc6yC,GAAY,CAC/Cv3C,KAAM,KACN5B,MAAOs5C,EACPj8B,SAAUlV,KAAKkV,SAAS,UACPhX,IAAMC,cAAc,MAAO,CAC5Cmc,MAAO,CACLxb,MAAO,UAEKZ,IAAMC,cAAcua,KAAO,KAAMvY,UAAKC,EAAE,uBAAqClC,IAAMC,cAAc,MAAO,CACtHC,UAAW+V,IACGjW,IAAMC,cAAc0yC,GAAgB,CAClDp3C,KAAM,MACN5B,MAAOu5C,EACPl8B,SAAUlV,KAAKkV,SAAS,SACThX,IAAMC,cAAc6yC,GAAY,CAC/Cv3C,KAAM,KACN5B,MAAOw5C,EACPn8B,SAAUlV,KAAKkV,SAAS,WACNhX,IAAMC,cAAc,MAAO,CAC7Cmc,MAAO,CACLo3B,WAAY,SAEAxzC,IAAMC,cAAcqZ,IAAQ,CAC1CE,OAAO,EACPD,QAASzX,KAAK40B,SACbz0B,UAAKC,EAAE,4BAoBCtC,oBAVSV,IAAK,CAC3BvF,MAAOilB,GAAc1f,GAAOuL,iBAAmB,OAGtB5K,IAAQ,CACjCmX,SAAUrd,GAASkG,EAAS2S,GAAe,CACzC/H,gBAAiB9Q,QAINiG,CAA6CmzC,ICjM5C,SACdx1C,IAAK,kBACLmb,MAAOzW,UAAKC,EAAE,gBACd4uB,QAAS,CAOT,CACEvzB,IAAK,4BACLmb,MAAOzW,UAAKC,EAAE,gCACd4uB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAc8yC,GAAiB,YChBhF,MAAMU,GAAU,IAAmBzzC,IAAMC,cAAc,MAAO,CACnEa,MAAO,6BACPF,MAAO,KACPC,OAAQ,KACRU,QAAS,aACKvB,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1CW,MAAO,KACPC,OAAQ,IACRy5B,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,IACHr5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRG,KAAM,UACNqrC,QAAS,UAEEqH,GAAU,IAAmB1zC,IAAMC,cAAc,MAAO,CACnEa,MAAO,6BACPF,MAAO,KACPC,OAAQ,KACRU,QAAS,aACKvB,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1CW,MAAO,KACPC,OAAQ,IACRy5B,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,IACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRG,KAAM,UACNqrC,QAAS,UAEEsH,GAAY,IAAmB3zC,IAAMC,cAAc,MAAO,CACrEa,MAAO,6BACPF,MAAO,KACPC,OAAQ,KACRU,QAAS,aACKvB,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1CW,MAAO,KACPC,OAAQ,IACRy5B,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRG,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,IACHr5B,KAAM,UACNqrC,QAAS,UAEEuH,GAAW,IAAmB5zC,IAAMC,cAAc,MAAO,CACpEa,MAAO,6BACPF,MAAO,KACPC,OAAQ,KACRU,QAAS,aACKvB,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1CW,MAAO,KACPC,OAAQ,IACRy5B,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,IACHr5B,KAAM,UACNqrC,QAAS,QACMrsC,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRG,KAAM,UACNqrC,QAAS,U,0BCjIX,MAAMrgB,GAAgB,CAAC,EAAG,EAAG,EAAG,GAC1B6nB,GAAW,CAACC,IAAiBC,KAE7BC,GAAc,EAClBl2C,UACAm2C,cACAC,cACAl9B,WACAm9B,eACA/xC,UACAgyC,kBACAC,sBAEA,MAAMC,EAAiB,CAAClyC,KAAYyxC,GAASj1C,QAAO1D,GAAQA,IAASkH,KACrEmyC,qBAAU,KACR,GAAKL,EAAY1vC,OAEV,CACL,MAAMgwC,EAAeP,EAAY11C,KAAI+Q,IACnC,MAAMmlC,EAAcP,EAAY7tC,MAAK1K,GAAUA,EAAO8iB,gBAAkBnP,EAAKmP,gBAM7E,OAJIg2B,IACFA,EAAYl5C,KAAO+T,EAAK/T,MAGnBk5C,GAAenlC,KAExB0H,EAASw9B,QAXTx9B,EAASi9B,KAcV,IAEH,MAqEMS,EAAiBpuC,IACrB,OAAQA,GACN,KAAK,EACH,OAAoBtG,IAAMC,cAAcwzC,GAAS,MAEnD,KAAK,EACH,OAAoBzzC,IAAMC,cAAcyzC,GAAS,MAEnD,KAAK,EACH,OAAoB1zC,IAAMC,cAAc0zC,GAAW,MAErD,KAAK,EACH,OAAoB3zC,IAAMC,cAAc2zC,GAAU,QAIlDe,EAAc,CAAC/yC,EAAOC,EAAaF,IAAsB3B,IAAMC,cAAc,MAAO,CACxFC,UAAWC,KAAOy0C,gBACJ50C,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAO00C,WACjBlzC,GAAoB3B,IAAMC,cAAc,IAAK,CAC9CC,UAAWC,KAAO20C,YACjBlzC,GAAqB5B,IAAMC,cAAc,IAAK,CAC/CC,UAAWC,KAAO40C,kBACjBlzC,IAUH,OAAKuyC,GAAoBC,EAEdW,aAAiBl3C,EAAQ,GAAIm2C,EAAY11C,KAAI+Q,GAAQA,EAAKmP,iBAN9Bk2B,EAAY1yC,UAAKC,EAAE,8BAA+BD,UAAKC,EAAE,wGAAyGZ,MAQ9L2yC,EAAYrlC,MAAKU,GAAQA,EAAKmP,gBAAkB5P,MANzB8lC,EAAY1yC,UAAKC,EAAE,8BAA+BD,UAAKC,EAAE,oFAAqFZ,MASvKnE,OAAO0I,KAAKouC,GAAazvC,QAAU0vC,EAAY1vC,OA9GjBxE,IAAMC,cAAcg1C,KAAO,CAChEC,uBAAuB,EACvBh1C,UAAWC,KAAOg1C,OACJn1C,IAAMC,cAAc,WAAY,KAAmBD,IAAMC,cAAc,MAAO,CAC5FC,UAAWC,KAAOi1C,aACHp1C,IAAMC,cAAc,MAAO,CAC1CC,UAAWC,KAAOk1C,aACHr1C,IAAMC,cAAc,MAAO,CAC1CC,UAAWC,KAAOm1C,cACFt1C,IAAMC,cAAcs1C,KAAW,CAC/Cr1C,UAAWC,KAAOq1C,WACJx1C,IAAMC,cAAcw1C,KAAU,CAC5Cv1C,UAAWC,KAAOu1C,UACJ11C,IAAMC,cAAc01C,KAAW,CAC7Cz1C,UAAWC,KAAOy1C,WACjB3zC,UAAKC,EAAE,cAA4BlC,IAAMC,cAAc01C,KAAW,CACnEz1C,UAAWC,KAAOy1C,WACjBvB,GAAmBpyC,UAAKC,EAAE,uBAAwBkyC,GAAmBpoB,GAAcztB,KAAI,CAAC+H,EAAM/B,IAAuBvE,IAAMC,cAAc01C,KAAW,CACrJp4C,IAAKgH,EACLrE,UAAWC,KAAOy1C,WACjB3zC,UAAKC,EAAE,kBAAmB,CAC3BsD,OAAQjB,EAAQ,IACDvE,IAAMC,cAAc,MAAO,CAC1CC,UAAWC,KAAO01C,UACjBnB,EAAenwC,EAAQ,SAAsBvE,IAAMC,cAAc61C,KAAW,CAC7E51C,UAAWC,KAAO41C,WACjB7B,EAAY31C,KAAI+Q,GAAqBtP,IAAMC,cAAcw1C,KAAU,CACpEl4C,IAAM,uBAAsB+R,EAAKmP,gBACjCrH,SAAU,qBACIpX,IAAMC,cAAc01C,KAAW,CAC7Cz1C,UAAWC,KAAO61C,UACjB1mC,EAAK/T,MAAoByE,IAAMC,cAAc01C,KAAW,CACzDz1C,UAAWC,KAAO81C,UACjB5B,GAAmBC,EAAe/1C,KAAIrD,IACvC,MAAMg7C,EAAwBC,IAAaj7C,GAC3C,OAAoB8E,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAOi2C,cAClB74C,IAAKrC,GACS8E,IAAMC,cAAcya,KAAO,CACzCxa,UAAWC,KAAOk2C,WAClB94C,IAAKrC,EACL8b,SAAU,IAAMm9B,EAAa,CAC3B71B,YAAahP,EACb3V,MAAOuB,EACPshB,KAAMzQ,KAER4O,QAASrL,EAAKpU,KAAOoU,EAAKpU,OAASA,EAAOkH,IAAYlH,EACtDwd,MAAoB1Y,IAAMC,cAAc,OAAQ,CAC9CC,UAAWC,KAAOm2C,SACJt2C,IAAMC,cAAci2C,EAAuB,CACzD5/B,MAAOlB,KAAOe,WAEhBiC,OAAO,EACPhB,SAAW,aAAYlc,WAEtBk5C,GAAmBpoB,GAAcztB,KAAI+H,GAAqBtG,IAAMC,cAAc01C,KAAW,CAC5Fp4C,IAAK+I,EACLpG,UAAWC,KAAOo2C,UACJv2C,IAAMC,cAAcya,KAAO,CACzC1D,SAAU,IAAMm9B,EAAa,CAC3B71B,YAAahP,EACb3V,MAAO2M,EACPkW,KjJtG+B,SiJwGjC7B,QAASrL,EAAKhJ,OAASA,EACvB8R,OAAO,EACPhB,SAAW,aAAY9Q,EAAO,cA6BKquC,EAAY1yC,UAAKC,EAAE,mBAAoBD,UAAKC,EAAE,qDAAsDd,MAEhGuzC,EAAY1yC,UAAKC,EAAE,qBAAsBD,UAAKC,EAAE,+DAAgEvB,OA2B3JqzC,GAAYt9B,aAAe,CACzBu9B,YAAa,GACbC,YAAa,GACbE,iBAAiB,EACjBC,iBAAiB,GAGnB,MAOMjpB,GAAqB,CACzBpU,SAAUjO,GAAUlJ,IAClBA,EAAS2S,GAAe,CACtBzJ,aAGJorC,aAAc,EACZ71B,cACA3kB,QACA6iB,UACI3c,IACJA,EAASiT,GAAqB,CAC5BwL,cACA3kB,QACA6iB,YAIS5c,oBAzBSV,IAAK,CAC3B+0C,YAAa1qB,GAAqBrqB,GAClCpB,QAAS+gB,GAAa3f,GAAOpB,QAC7Bo2C,YAAat1B,GAAc1f,GAAO6J,OAClC3G,QAAS2U,GAAW7X,MAqBkBksB,GAAzBxrB,CAA6Co0C,ICtM5C,KACdI,kBACAC,mBACE,MAHY,CAId92C,IAAK,aACLmb,MAAOzW,UAAKC,EAAE,UACd4uB,QAAS,CAAC,CACRvzB,IAAK,eACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAc+zC,GAAa,CAC7EI,gBAAiBA,EACjBC,gBAAiBA,UCbPvjB,OAAO,CACrBvzB,IAAK,YACLmb,MAAOzW,UAAKC,EAAE,SACd4uB,YCaF,MAAMtrB,GAAS,UCOAgxC,OAnBG,EAChB50C,QACA2a,OACA/b,WAAU,EACVhG,SAAQ,KACSwF,IAAMC,cAAc,MAAO,CAC5CC,UAAWyV,IACG3V,IAAMC,cAAcw2C,KAAa,CAC/C70C,MAAOA,EACPpB,QAASA,EACThG,MAAOA,GACN+hB,ICLI,MAAMm6B,GAA6B,yBACpCtJ,GAAa,gBACbroB,GAAQ,CACZ4xB,mBAAoB,CAClB97C,SAAU,0BACVC,OAAQ,CACN87C,MAAO,YACPt5C,OAAQ,oCACR6zC,OAAQ,WAKR0F,GAAsB,EAC1Bl9C,QACA03C,UACA1pC,UACAq5B,UACAhqB,cACiBhX,IAAMC,cAAcorC,KAAmB,CACxD9vC,KAAM,sBACNmd,MAAOzW,UAAKC,EAAE,0BACd+V,SAAoB,OAAVte,QAA4B,IAAVA,OAAmB,EAASA,EAAMoB,GAC9D+f,WAAY,QACZD,YAAa5Y,UAAKC,EAAE,iCACpBovC,YAAarvC,UAAKC,EAAE,gCACpBmvC,QAASA,EACTj5B,OAAO,EACP4oB,QAASA,EACThqB,SAAU,EACRiB,cACIjB,EAAS,CACbjc,GAAIkd,EACJ8W,YAAapnB,EAAQtB,MAAK1K,GAAUA,EAAOhC,QAAUse,IAAUS,SAEhE/Q,EAAQpJ,KAAI,EACb5E,QACA+e,WACiB1Y,IAAMC,cAAcwY,KAAoB,CACzDlb,IAAK5D,EACLA,MAAOA,EACP+e,MAAOA,OAiEHo+B,GAA+B5gB,aAAe,CAAC3kB,G3HxElBrS,GAAS+mB,GAAS/mB,GAAO8mB,c2HwE6B,CAACxU,EAAUwU,KAAsE,IAAtDxU,EAASJ,yCAAkD4U,EAAW,yBAmB3KpmB,oBAjBSV,IAAK,CAC3BgM,QAAS4rC,GAA6B53C,GACtCvF,MAAOilB,GAAc1f,GAAd,eAAoC,OAGlBW,IAAQ,CACjCmX,SAAU,EACRjc,KACAg0B,iBACIlvB,EAAS2S,GAAe,CAC5B,CAAC46B,IAAa,CACZryC,KACAg0B,qBAKSnvB,EAzEO,EACpBjG,QACAqd,WACA9L,cAEA,MAAM4X,EAASokB,eACRv/B,EAAS4pC,GAAc7Z,mBAAS,KAChC8Z,EAAUC,GAAe/Z,oBAAS,GAEzC,IAAKxsB,EACH,OAAO,KAGLvR,GAASA,EAAMoB,KACZ4M,EAAQtB,MAAK1K,GAAUA,EAAOhC,QAAUA,EAAMoB,MACjDw2C,EAAW,IAAI5pC,EAAS,CACtBhO,MAAOA,EAAMoB,GACb2d,MAAO/e,EAAMo1B,gBAuBnB,OAAoB/uB,IAAMC,cAAc42C,GAAqB,CAC3DxF,SAAUG,EACV73C,MAAOA,EACPgO,QAASA,EACTqP,SAAUA,EACVgqB,QAvBoB/e,UACpB,IAAKuvB,EAAU,CACb,MAAM,mBACJmF,SACQ7zB,EAAOiC,MAAMA,IAEvB,GAAI4xB,EAAoB,CACtB,MAAMhvC,EAAUgvC,EAAmBA,mBAAmBp4C,KAAIw4C,IAAK,CAC7Dp9C,MAAOo9C,EAAMh8C,GACb2d,MAAOq+B,EAAMx7C,SAEfg2C,EAAW5pC,GAGb8pC,GAAY,UCxFHuF,OAPM,IAAmBh3C,IAAMC,cAAcsrC,GAAoB,CAC9E7yB,MAAOzW,UAAKC,EAAE,qBACdvG,OAAQ,CACNJ,KAAM,kBCIK07C,OAPG,IAAmBj3C,IAAMC,cAAcsrC,GAAoB,CAC3E7yB,MAAOzW,UAAKC,EAAE,kBACdvG,OAAQ,CACNJ,KAAM,eCIK27C,OAPI,IAAmBl3C,IAAMC,cAAcsrC,GAAoB,CAC5E7yB,MAAOzW,UAAKC,EAAE,sBACdvG,OAAQ,CACNJ,KAAM,gBCcK47C,OAjBa,IAAmBn3C,IAAMC,cAAc6qC,GAAkB,CACnFpyB,MAAOzW,UAAKC,EAAE,yBACdvG,OAAQ,CACNJ,KAAM,sBACNkR,MAAO,CAAC,CACN9S,MAAO,OACP+e,MAAOzW,UAAKC,EAAE,SACb,CACDvI,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,UACb,CACDvI,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,cCKLk1C,OAjBQ,IAAmBp3C,IAAMC,cAAc6qC,GAAkB,CAC9EpyB,MAAOzW,UAAKC,EAAE,mBACdvG,OAAQ,CACNJ,KAAM,iBACNkR,MAAO,CAAC,CACN9S,MAAO,cACP+e,MAAOzW,UAAKC,EAAE,gBACb,CACDvI,MAAO,SACP+e,MAAOzW,UAAKC,EAAE,WACb,CACDvI,MAAO,UACP+e,MAAOzW,UAAKC,EAAE,gBCELm1C,OAbU,EACvBC,qBACiBt3C,IAAMC,cAAcsrC,GAAoB,CACzD7yB,MAAOzW,UAAKC,EAAE,sCACd6oC,SAAWuM,EAAwF,KAAtEr1C,UAAKC,EAAE,kEACpCvG,OAAQ,CACNJ,KAAM,sBCOKg8C,OAbO,EACpBC,kBACiBx3C,IAAMC,cAAcsrC,GAAoB,CACzD7yB,MAAOzW,UAAKC,EAAE,oCACd6oC,SAAWyM,EAA+E,KAAhEv1C,UAAKC,EAAE,4DACjCvG,OAAQ,CACNJ,KAAM,mBCUKk8C,OAjBE,IAAmBz3C,IAAMC,cAAc6qC,GAAkB,CACxEpyB,MAAOzW,UAAKC,EAAE,aACdvG,OAAQ,CACNJ,KAAM,WACNkR,MAAO,CAAC,CACN9S,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,UACb,CACDvI,MAAO,SACP+e,MAAOzW,UAAKC,EAAE,WACb,CACDvI,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,cCLLw1C,OAPU,IAAmB13C,IAAMC,cAAcsrC,GAAoB,CAClF7yB,MAAOzW,UAAKC,EAAE,sBACdvG,OAAQ,CACNJ,KAAM,sBCIKo8C,OAPO,IAAmB33C,IAAMC,cAAcsrC,GAAoB,CAC/E7yB,MAAOzW,UAAKC,EAAE,mBACdvG,OAAQ,CACNJ,KAAM,mBCeKq8C,OAlBI,IAAmB53C,IAAMC,cAAc6qC,GAAkB,CAC1EpyB,MAAOzW,UAAKC,EAAE,eACd6oC,SAAU9oC,UAAKC,EAAE,iDACjBvG,OAAQ,CACNJ,KAAM,aACNkR,MAAO,CAAC,CACN9S,MAAO,QACP+e,MAAOzW,UAAKC,EAAE,UACb,CACDvI,MAAO,iBACP+e,MAAOzW,UAAKC,EAAE,sBACb,CACDvI,MAAO,oBACP+e,MAAOzW,UAAKC,EAAE,6BCNL21C,OAPe,IAAmB73C,IAAMC,cAAcsrC,GAAoB,CACvF7yB,MAAOzW,UAAKC,EAAE,qBACdvG,OAAQ,CACNJ,KAAM,sBCIKu8C,OAPqB,IAAmB93C,IAAMC,cAAcsrC,GAAoB,CAC7F7yB,MAAOzW,UAAKC,EAAE,4BACdvG,OAAQ,CACNJ,KAAM,4BCIKw8C,OAPc,IAAmB/3C,IAAMC,cAAcsrC,GAAoB,CACtF7yB,MAAOzW,UAAKC,EAAE,oBACdvG,OAAQ,CACNJ,KAAM,qBCIKy8C,OAPI,IAAmBh4C,IAAMC,cAAcsrC,GAAoB,CAC5E7yB,MAAOzW,UAAKC,EAAE,sBACdvG,OAAQ,CACNJ,KAAM,gBCIK08C,OAPM,IAAmBj4C,IAAMC,cAAcsrC,GAAoB,CAC9E7yB,MAAOzW,UAAKC,EAAE,kBACdvG,OAAQ,CACNJ,KAAM,kBCIK28C,OAPG,IAAmBl4C,IAAMC,cAAcsrC,GAAoB,CAC3E7yB,MAAOzW,UAAKC,EAAE,cACdvG,OAAQ,CACNJ,KAAM,eCIK48C,OAPa,IAAmBn4C,IAAMC,cAAcsrC,GAAoB,CACrF7yB,MAAOzW,UAAKC,EAAE,oBACdvG,OAAQ,CACNJ,KAAM,yBCIK68C,OAPO,IAAmBp4C,IAAMC,cAAcsrC,GAAoB,CAC/E7yB,MAAOzW,UAAKC,EAAE,uCACdvG,OAAQ,CACNJ,KAAM,mBCuBK88C,OA1BE,IAAmBr4C,IAAMC,cAAc6qC,GAAkB,CACxEpyB,MAAOzW,UAAKC,EAAE,aACdvG,OAAQ,CACNJ,KAAM,WACNkR,MAAO,CAAC,CACN9S,MAAO,IACP+e,MAAOzW,UAAKC,EAAE,SACb,CACDvI,MAAO,IACP+e,MAAO,KACN,CACD/e,MAAO,KACP+e,MAAO,MACN,CACD/e,MAAO,KACP+e,MAAO,MACN,CACD/e,MAAO,KACP+e,MAAO,MACN,CACD/e,MAAO,MACP+e,MAAO,WCxBG,KACdoY,cADc,CAGdvzB,IAAK,kBACLmb,MAAOzW,UAAKC,EAAE,cACd4uB,YCLc,KACdA,cADc,CAGdvzB,IAAK,cACLmb,MAAOzW,UAAKC,EAAE,UACd4uB,Y,sBCsCawnB,OAtCM,EACnBC,YACAC,kBACAC,eACAC,mBACiB14C,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACnGC,UAAWyV,IACG3V,IAAMC,cAAc,MAAO,CACzCC,UAAWyV,IACG3V,IAAMC,cAAckrC,IAAU,CAC5CxwB,QAAS49B,EACT7/B,MAAOzW,UAAKC,EAAE,iBACd8U,SAAU,EACR2D,aACI69B,EAAgB79B,GACtBvC,OAAO,IACQpY,IAAMC,cAAcyvC,IAAM,KAAMztC,UAAKC,EAAE,4EAA6Eq2C,GAA0Bv4C,IAAMC,cAAc,MAAO,CACxLC,UAAW8V,IACGhW,IAAMC,cAAc,MAAO,CACzCC,UAAWyV,IACG3V,IAAMC,cAAc2a,KAAY,CAC9C1f,KAAM,SACNwd,MAAOzW,UAAKC,EAAE,4BACdy2C,IAAK,MACLC,KAAM,MACN5hC,SAAUyK,GAASi3B,EAAcjqC,OAAOgT,EAAM9nB,QAC9CA,OAAyB,OAAjB8+C,QAA0C,IAAjBA,OAA0B,EAASA,EAAavgC,aAAe,GAChG2C,YAAa5Y,UAAKC,EAAE,UACpB4Y,WAAY,OACZ1C,OAAO,QCiBMygC,OA9CgB,EAC7BC,UACAC,kBACAC,iBACAC,mBACAC,uBACiBl5C,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACnGC,UAAWyV,IACG3V,IAAMC,cAAcwa,IAAO,CACzCrC,OAAO,GACN0gC,EAAQv6C,KAAI,EACbxD,KACA2d,WACiB1Y,IAAMC,cAAcya,KAAO,CAC5Cnd,IAAKxC,EACL2d,MAAOA,EACP/e,MAAOoB,EACP4f,QAASo+B,IAAoBh+C,EAC7Bic,SAAU,EACRrd,YAEAq/C,EAAer/C,IAEjBye,OAAO,OACUpY,IAAMC,cAAcyvC,IAAM,KAAMztC,UAAKC,EAAE,yKAAuLlC,IAAMC,cAAc2a,KAAY,CAC/Q1f,KAAM,SACNwd,MAAOzW,UAAKC,EAAE,oBACdy2C,IAAK,IACLC,KAAM,MACN5hC,SAAU,EACRrd,WACIu/C,EAAkBzqC,OAAO9U,IAC/BA,OAA6B,OAArBs/C,QAAkD,IAArBA,OAA8B,EAASA,EAAiB/gC,aAAe,GAC5G6yB,SAAU9oC,UAAKC,EAAE,qFACjB2Y,YAAa5Y,UAAKC,EAAE,UACpB4Y,WAAY,OACZ1C,OAAO,KC/BT,MAAM+gC,GAAe,UACfC,GAAc,gBACdC,GAAiB,kBACjBC,GAAkB,UAClBC,GAAgB,QAChBC,GAA+B,kBAI/BV,GAAU,CAAC,CACf/9C,GAJiB,MAKjB2d,MAAOzW,UAAKC,EAAE,6BACdu3C,iBAAkB,KACjB,CACD1+C,GAP8B,mBAQ9B2d,MAAOzW,UAAKC,EAAE,4BACdu3C,iBAAkB,GACjB,CACD1+C,GAV8B,mBAW9B2d,MAAOzW,UAAKC,EAAE,oBACdu3C,iBAAkB,IAEdC,GAAgB,CACpB,CAACP,KAAe,EAChB,CAACC,IAlBgB,MAmBjB,CAACC,IAAiB,IAClBM,aAAc,CACZ,CAACL,KAAkB,EACnB,CAACC,IAAgB,IAiFN35C,oBAVSV,IAAK,CAC3B+J,gBAAiB2V,GAAc1f,GAAd,iBAAsDw6C,OAG9C75C,IAAQ,CACjCmX,SAAUrd,GAASkG,EAAS2S,GAAe,CACzC,CAACgnC,IAA+B7/C,QAIrBiG,EA5EE,EACfqJ,kBACA+N,eAEA,MAAM4iC,EAAY,CAACp9B,EAAM7iB,IAAUqd,EAAS,IAAK/N,EAC/C,CAACuT,GAAO7iB,IAGJkgD,EAAwB,CAACr9B,EAAM7iB,IAAUqd,EAAS,IAAK/N,EAC3D0wC,aAAc,IAAK1wC,EAAgB0wC,aACjC,CAACn9B,GAAO7iB,KAIZ,OAAoBqG,IAAMC,cAAc,MAAO,CAC7CC,UAAWyV,IACG3V,IAAMC,cAAc,MAAO,CACzCC,UAAWyV,IACG3V,IAAMC,cAAckrC,IAAU,CAC5CxwB,QAAS1R,EAAe,QACxByP,MAAOzW,UAAKC,EAAE,oBACd8U,SAAU,EACR2D,aACIi/B,EAAUT,GAAcx+B,GAC9BvC,OAAO,EACPhB,SAAW,qCACIpX,IAAMC,cAAcyvC,IAAM,KAAMztC,UAAKC,EAAE,8GAA+G+G,EAAe,SAA+BjJ,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACrSC,UAAW8V,IACGhW,IAAMC,cAAc,MAAO,CACzCC,UAAWyV,IACG3V,IAAMC,cAAcsyC,IAAU,KAAmBvyC,IAAMC,cAAcyyC,KAAQ,KAAmB1yC,IAAMC,cAAc,OAAQ,CAC1IC,UAAWqV,GAAgBrV,WAC1B+B,UAAKC,EAAE,8BAA4ClC,IAAMC,cAAc,MAAO,CAC/EC,UAAWyV,IACG3V,IAAMC,cAAc44C,GAAwB,CAC1DC,QAASA,GACTE,eAAgBr/C,GAASqd,EAAS,IAAK/N,EACrC,CAACmwC,IAAcz/C,EACf,CAAC0/C,IAAiBP,GAAQzyC,MAAKiJ,GAAQA,EAAKvU,KAAOpB,IAAO8/C,mBAE5DP,kBAAmBv/C,GAASigD,EAAUP,GAAgB1/C,GACtDo/C,gBAAiB9vC,EAAgBmwC,IACjCH,iBAAkBhwC,EAAe,sBACdjJ,IAAMC,cAAc,MAAO,CAC9CC,UAAWC,KAAO25C,UACH95C,IAAMC,cAAc,MAAO,CAC1CC,UAAW8V,IACGhW,IAAMC,cAAc,MAAO,CACzCC,UAAWyV,IACG3V,IAAMC,cAAcsyC,IAAU,KAAmBvyC,IAAMC,cAAcyyC,KAAQ,KAAmB1yC,IAAMC,cAAc,OAAQ,CAC1IC,UAAWqV,GAAgBrV,WAC1B+B,UAAKC,EAAE,mBAAiClC,IAAMC,cAAc,MAAO,CACpEC,UAAWyV,IACG3V,IAAMC,cAAcq4C,GAAc,CAChDC,UAAWtvC,EAAgB0wC,aAAhB,QACXnB,gBAAiB7+C,GAASkgD,EAAsBP,GAAiB3/C,GACjE8+C,aAAcxvC,EAAgB0wC,aAAhB,MACdjB,cAAe/+C,GAASkgD,EAAsBN,GAAe5/C,cC9F1D,MAAMogD,GAAmB,EAC9B7+C,OACA8+C,6BACAC,0BACAhN,sBACAiN,mBAEA,MAMMxjC,EAAe,CACnBu2B,sBACAS,UARgByM,YAAcj/C,GAS9B+wC,cARoBmO,YAAkBl/C,GAStCm/C,gBARsBC,YAAgBp/C,GAStCq/C,kBARwBC,YAAet/C,GASvCu/C,kBARwBC,YAAYx/C,GASpCg/C,eACA7iC,WATiBM,YAAezc,IAYlC,OAAQA,GACN,KAAK4R,IACH,M5BfgB,CAAC6tC,GAAW,CAAChN,GAAmB,CACpD7c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcstC,GAAc,UAC9E2B,GAAiB,CACnBpe,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcgvC,GAAY,CAC5EzpC,OAAQA,KACOxF,IAAMC,cAAc6uC,GAAU,CAC7CtpC,OAAQA,SAERo1C,OAAwBC,KAAgBC,GAAW,CAAChN,GAAwB,CAC9Ehd,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcwvC,GAAW,CAC3EjqC,OAAQA,KACOxF,IAAMC,cAAc2tC,GAAY,CAC/CpoC,OAAQA,WAENu1C,KAAgBC,GAAY,CAACC,Q4BG/B,KAAKvrC,IACH,MCzBgB,CAACirC,GAAW,CAAChN,GAAmB,CACpD7c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcstC,GAAc,UAC9EqN,OAAwBG,KAAgBC,GAAY,CAACC,KAAoBC,OAAwBC,MDyBjG,KAAKpuC,IACH,ME5BgB,CAAC4tC,GAAW,CAAChN,GAAmB,CACpD7c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcstC,GAAc,UAC9EqN,OAAwBC,GAAa,CACvCzI,kBAAkB,IAChB2I,KAAgBC,GAAY,CAACC,KAAoB,CACnD19C,IAAK,kBACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAck3C,GAAqB,YFwBrF,KAAKtqC,IACH,MGHU,GACdmtC,6BACAC,6BACI,CAACU,GAAW,CAAChN,GAAmB,CACpC7c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAck4C,GAAqB,MAAoBn4C,IAAMC,cAAcstC,GAAc,UAC3I6N,GAAkB,CACpBtqB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcg3C,GAAW,MAAoBj3C,IAAMC,cAAc+2C,GAAc,MAAoBh3C,IAAMC,cAAci4C,GAAW,MAAoBl4C,IAAMC,cAAcg4C,GAAc,UAC1OoD,GAAqB,CACvBvqB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcy3C,GAAkB,MAAoB13C,IAAMC,cAAc03C,GAAe,UACzIhM,GAAoB,CACtB7a,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcqrC,GAAiB,MAAoBtrC,IAAMC,cAAc23C,GAAY,MAAoB53C,IAAMC,cAAcyrC,GAAe,MAAoB1rC,IAAMC,cAAcq7C,GAAe,YACjPT,KAAgBE,KAAgBC,GAAY,CAAC,CACjDz9C,IAAK,kBACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcqwC,GAAO,CACvE53B,MAAOzW,UAAKC,EAAE,iBACClC,IAAMC,cAAcm3C,GAAgB,MAAoBp3C,IAAMC,cAAcw3C,GAAU,MAAoBz3C,IAAMC,cAAck3C,GAAqB,MAAoBn3C,IAAMC,cAAco3C,GAAkB,CAC5NC,gBAAiB0C,IACFh6C,IAAMC,cAAcs3C,GAAe,CAClDC,aAAcyC,OAEf,CACD18C,IAAK,kBACLmb,MAAOzW,UAAKC,EAAE,UACd4uB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcm4C,GAAe,WAC9E+C,KAAqB,CACxB59C,IAAK,iBACLmb,MAAOzW,UAAKC,EAAE,cACd4uB,QAAS,CAAC,CACRvzB,IAAK,uBACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcu2C,GAAW,CAC3Ej6B,KAAMta,UAAKC,EAAE,4IACbN,MAAOK,UAAKC,EAAE,oCACd1B,SAAS,IACMR,IAAMC,cAAc83C,GAAsB,MAAoB/3C,IAAMC,cAAc43C,GAAuB,MAAoB73C,IAAMC,cAAc63C,GAA6B,MAAoB93C,IAAMC,cAAc+3C,GAAY,MAAoBh4C,IAAMC,cAAci3C,GAAY,MAAoBl3C,IAAMC,cAAcutC,GAAW,MAAoBxtC,IAAMC,cAAco4C,GAAU,YH9BnYkD,CAAiB,CACtBvB,6BACAC,4BAGJ,KAAK/sC,IACH,MI9BU,MAAM,OAACytC,GAAW,CAAChN,GAAmB,CACpD7c,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcstC,GAAc,UAC9E2B,GAAiB,CAEnBpe,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcguC,GAAU,CAC1E1xB,KAAMta,UAAKC,EAAE,gFAEb04C,OAAwBE,GAAW,CAACU,GAAoB,CAC1Dh2C,OAVqB,UAWrBoqC,WAAW,IACT4L,GAAoB,CACtBh2C,OAZuB,UAavBoqC,WAAW,EACXv4B,YAAY,MACR0jC,KAAgBC,GAAY,CAACC,QC/BnBnqB,ED+BwD,CAAC,CACvEvzB,IAAK,mBACLuzB,QAAS9wB,IAAMmqC,SAASC,QAAQ,CAAcpqC,IAAMC,cAAcw7C,GAAU,UCjCvD,CACrBl+C,IAAK,eACLmb,MAAOzW,UAAKC,EAAE,YACd4uB,aAHcA,OL+CH4qB,GAET,QACE,MMrCU,GACdzO,sBACAsN,oBACAE,oBACAxO,gBACAyB,YACA2M,kBACAH,eAAe,GACf7iC,cACE,KAAO,CAACsjC,GAAW,CAACgB,GAAkBjO,GAAYkO,GAAgB3O,EAAqB,WAAY2N,UAA4BP,EAAkB,CAACQ,GAAa,CACjKzI,kBAAkB,KACd,GAAK0I,GAAW,IAAIZ,EAAa37C,KAAIxD,GAAMygD,GAAoB,CACnEh2C,OAAS,SAAQzK,IACjBsc,aACAu4B,UAAW3C,EACX9yB,cAAe+/B,EAAa11C,OAAS,GAAK01C,EAAatrC,MAAK7T,GAAMA,EAAK,QACpE8gD,GAAqB,CACxBr2C,OAAQ,WACR6R,iBACI0jC,GAAa,CACjB3G,gBAAiBmG,EACjBlG,gBAAiBoG,IACfO,GAAY,CAACc,GAAqB7P,GAAgBgP,KAAoBC,GAAmBjO,KAAwBkO,MNexGY,CAAcrlC,KOiBZ9W,oBARSV,IAAK,CAC3B4D,kBAAmBiU,GAAW7X,GAC9B88C,qBAAsBv8B,GAAyBvgB,EAAOqD,MACtD05C,kBAAmBx8B,GAAyBvgB,EAAOwD,MACnDqG,OAAQ6V,GAAc1f,GAAO6J,OAC7BjL,QAAS+gB,GAAa3f,GAAOpB,WAGhB8B,EA1DqB,EAClCkD,oBACAk5C,uBACAC,oBACAn+C,UACAiL,aAEA,MAAO66B,EAAcC,GAAmBnM,oBAAS,GAE3Cne,EAAUsY,GAAW,KACzBA,IACA/xB,KAGIA,EAAU,KACdo8C,KAGIA,EAAmC,KACvCrY,GAAiBD,IAGbuY,EAAiBpzC,EAAOnK,QAAOw9C,GAAcJ,EAAqBptC,MAAKytC,GAAcA,IAAeD,EAAW39B,kBAC/G69B,EAAgBvC,GAAiB,CACrC7+C,KAAM4H,EACNmqC,oBAAqBuN,YAAe13C,IAAsBqX,aAAcgiC,KAAoBnH,aAAiBl3C,EAAQ,GAAIk+C,GACzH9B,aAAyB,OAAXnxC,QAA8B,IAAXA,GAAqBA,EAAOvE,QAAUg2C,YAAe13C,GAAqB,IAAI,IAAIgb,IAAI/U,EAAOxK,KAAIg+C,GAASA,EAAMj2C,SAAQ9H,MAAK,CAACg+C,EAAGC,IAAMD,EAAIC,IAAK,CAAC,GAClLzC,2BAA4B/gB,QAAQ+iB,EAAqBx3C,QACzDy1C,wBAAyBhhB,QAAQgjB,EAAkBz3C,UAErD,OAAoBxE,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc4mC,GAAY,CACzGzvB,SAAU,6BACVmC,QAAS2iC,GACRj6C,UAAKC,EAAE,YAAa0hC,GAA6B5jC,IAAMC,cAAcuyB,GAA8B,CACpG9G,gBAAiBmG,GAAwB7xB,IAAMC,cAAcy8C,KAAsB,CACjFJ,cAAeA,EACf/wB,SAAUhS,EAAQsY,GAClB/xB,QAASA,U,sBC/Bf,MAAM68C,GAAS5hD,IACb,MAAM0Q,EAAQ,IAAG1Q,IAEbktB,GAAQ2D,SAAS1D,WAAazc,EAChCwc,GAAQ3tB,QAAQ,CACd4tB,SAAUzc,EACVvM,MAAO,CACL09C,WAAW,KAIf30B,GAAQjrB,KAAKyO,IAIXoxC,GAAQ,KACsB,MAA9B50B,GAAQ2D,SAAS1D,SACnBD,GAAQ3tB,QAAQ,CACd4tB,SAAU,IACVhpB,MAAO,CACL49C,aAAa,KAIjB70B,GAAQjrB,KAAK,MAIX+/C,GAAcvhD,GAASwhD,GAAWxhD,EAAMyhD,sBAAsBD,GAE9DE,GAAY1hD,GAASwhD,GAAWxhD,EAAM2hD,oBAAoBH,GAAS,GAEnEI,GAAc5hD,GAASwhD,GAAWxhD,EAAM2hD,oBAAoBH,GAAS,GAErEK,GAAc7hD,GAAS,IAAMA,EAAM8hD,wBAEnCC,GAAa/hD,GAAShB,GAASgB,EAAMjB,QAAQC,GAE7CgjD,GAAqB,EACzBpmC,cACG5b,GACF8yB,IAAyBtuB,IAAMC,cAAc,MAAO,CACrDC,UAAWC,KAAOs9C,QAClB,YAAarmC,GACCpX,IAAMC,cAAcuyB,GAA8B,CAChE9G,gBAAiBmG,GAAwB7xB,IAAMC,cAAc8pB,GAAc,CACzE7pB,UAAWC,KAAOu9C,aAClBlkC,OAAO,EACPD,QAASsY,EACTza,SAAW,GAAEA,sBAEApX,IAAMC,cAAc09C,KAAU,CAC7Cp1B,GAAI+F,EAAQ/F,GACZq1B,SAAUpiD,EAAMqiD,cAChBC,WAAYtiD,EAAMmB,QAClBggD,OAAQA,GACRE,MAAOA,GACPkB,SAAUhB,GAAYvhD,GACtBwiD,OAAQd,GAAU1hD,GAClByiD,SAAUb,GAAY5hD,GACtB0iD,SAAUb,GAAY7hD,GACtBjB,QAASgjD,GAAW/hD,KACLwE,IAAMC,cAAck+C,GAA6B,MAAoBn+C,IAAMC,cAAcgnC,GAAc,MAAoBjnC,IAAMC,cAAc,MAAO,CACrKC,UAAWC,KAAOi+C,OACHp+C,IAAMC,cAAc0qC,GAAuB,OAO5D6S,GAAmB7qB,aAAe,CAChCpK,GAAIqK,IAAU1kB,QAGhB,MAkBamwC,GAAUz+C,aAlBCV,IAAK,CAC3BvC,QAASyT,GAAYlR,OAGIW,IAAQ,CACjCo9C,sBAAuBD,GAAWn9C,E1JSE,GACpCtE,OACAsG,iBACI,CAAChC,EAAUqiB,KACf,MAAMhjB,EAAQgjB,IACR9lB,EAAgBqU,GAAkBvR,GAClCvC,EAAUyT,GAAYlR,GACtBo/C,EAAuB,IAAKliD,GAE5BmiD,EAAiB,IAAK5hD,GAGxBpB,IACF+iD,EAAqB/iD,KAAOgjD,EAAehjD,KAAOA,GAGhDsG,IACFy8C,EAAqBz8C,YAAc08C,EAAe18C,YAAcA,GAGlEhC,EAASmnB,GAAqCs3B,IAI5Cz+C,EAASonB,GADP7qB,IAAkBO,EACc2hD,EAEAC,IAGpC1+C,EAAS2+C,GAAuC,CAC9Cz+C,QAASN,GACTT,QAASiD,UAAKC,EAAE,qBAChBjD,SAAU,Q0JzC+BusB,CAAmCwxB,IAC9EG,oBAAqB,CAACH,EAAU,GAAI51B,IAASvnB,EAAS2rB,GAAiCwxB,EAAS51B,IAChGk2B,sBAAuB,IAAMz9C,G1JmGa,CAACA,EAAUqiB,KACrD,MAAMvlB,EAAUyT,GAAY8R,KAC5BriB,EAAS2+C,GAAuC,CAC9Cz+C,QAASN,GACTT,QAASiD,UAAKC,EAAE,4CAA6C,CAC3Du8C,cAAe9hD,EAAQpB,OAEzB0D,SAAU,OAEZgpB,GAAQjrB,KAAK,Q0J3GbzC,QAASC,IACP,MAAMwE,EAA8B,UAApBxE,EAAMkkD,UAAwBz8C,UAAKC,EAAE,oFAAsF1H,EAAMwE,QAC3Ie,G7L4EiC4+C,E6L5EKnkD,EAAMokD,e7L4EGrzC,OAAOozC,GAAYjzC,MAAM,QAAUlM,GAAgBE,IAAjEi/C,M6L3EvC9+C,EAAS2rB,EAAyBlsB,0BAA0B,CAC1DS,UACAf,iBAKiBY,CAA6C49C,IC1CrDqB,OAjEY,IACL7+C,IAAMC,cAAc,MAAO,CAC7CW,MAAO,OACPC,OAAQ,OACRU,QAAS,YACT24B,QAAS,MACTp5B,MAAO,8BACOd,IAAMC,cAAc,IAAK,CACvClF,GAAI,MACJo/B,OAAQ,OACRC,YAAa,IACbp5B,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,IAAK,CACvClF,GAAI,4BACJyG,UAAW,uCACGxB,IAAMC,cAAc,OAAQ,CAC1Ce,KAAM,UACNq5B,EAAG,IACHC,EAAG,IACH15B,MAAO,OACPC,OAAQ,QACOb,IAAMC,cAAc,IAAK,CACxClF,GAAI,aACJyG,UAAW,qCACGxB,IAAMC,cAAc,IAAK,CACvClF,GAAI,aACJyG,UAAW,mCACGxB,IAAMC,cAAc,OAAQ,CAC1ClF,GAAI,cACJiG,KAAM,UACNqrC,QAAS,cACThS,EAAG,IACHC,EAAG,IACH15B,MAAO,MACPC,OAAQ,KACRi+C,GAAI,MACW9+C,IAAMC,cAAc,IAAK,CACxClF,GAAI,OACJyG,UAAW,iCACGxB,IAAMC,cAAc,OAAQ,CAC1ClF,GAAI,QACJs/B,EAAG,IACHC,EAAG,IACH15B,MAAO,KACPC,OAAQ,OACOb,IAAMC,cAAc,WAAY,CAC/ClF,GAAI,OACJo/B,OAAQ,UACRI,cAAe,QACfC,eAAgB,QAChBukB,OAAQ,wCACO/+C,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,wMACHhG,GAAI,OACJo/B,OAAQ,UACRI,cAAe,QACfC,eAAgB,UACDx6B,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,0SACHhG,GAAI,iBACJiG,KAAM,kB,WC9DK,IACbg+C,SAAU,CACRpvB,QAAS,OACTqvB,eAAgB,UAElBC,KAAM,CACJtvB,QAAS,OACT+L,WAAY,SACZwjB,WAAY/pC,KAAO2lB,MACnBE,QAAS,MACTS,aAAc,MACdH,OAAQ,OAEV35B,MAAO,CACLiI,SAAU,QAEZu1C,OAAQ,CACN/iB,YAAa,OAEf/gB,eAAgB,CACdzR,SAAU,OACVyM,MAAOlB,KAAOS,SAEhBwpC,mBAAoB,CAClBzvB,QAAS,OACT+L,WAAY,SACZ96B,OAAQ,OACRD,MAAO,OACP0+C,YAAa,OAEfC,aAAc,CACZjpC,MAAOlB,KAAOoqC,QACdx2C,UAAW,UAEby2C,WAAY,CACVnpC,MAAOlB,KAAOS,UCxBX,MAED6pC,GAAoB,IAAKv/C,GAAO++C,QACjC/+C,GAAOyB,OAEN+9C,GAA6B,IAAKx/C,GAAO++C,QAC1C/+C,GAAOmb,gBAGNskC,GAAe,CAACC,EAAYzjD,KAChC,OAAQyjD,GACN,KAAKjvC,GACH,OAZ+B3O,UAAKC,EAAE,yBAcxC,KAAK2O,GACL,KAAKC,GACH,OAAO1U,EAAc2yB,aAAe3yB,EAAcb,KAEpD,QACE,MAAO,KAIPukD,GAAsBD,IAC1B,OAAQA,GACN,KAAKjvC,GACH,OAAOzQ,GAAOo/C,aAEhB,QACE,OAAO,OAIPQ,GAAYF,IAChB,OAAQA,GACN,KAAK/uC,GACH,OAAoB9Q,IAAMC,cAAc,MAAO,CAC7Cmc,MAAO,IAAKjc,GAAOi/C,UACdj/C,GAAOs/C,YAEZ,YAAa,kBACX,KAxCyBx9C,UAAKC,EAAE,aA0CtC,QACE,MAAO,KAsDA89C,GAAWpgD,aAvBAV,IAAK,CAC3B9C,cAAeqU,GAAkBvR,GACjCvC,QAASyT,GAAYlR,GACrBoc,eAAgB+D,GAAqBngB,GACrCtF,SAAUiY,GAAa3S,MAmBwB,MAhB9B,CAACujC,EAAYC,EAAe9rB,KAC7C,MAAM,cACJxa,EADI,QAEJO,EAFI,eAGJ2e,EAHI,SAIJ1hB,GACE6oC,EACEod,EAAanvC,GAAsBtU,EAAeO,GACxD,MAAO,IAAK+lC,KACP9rB,EACHipC,WAAYA,EACZI,UAAWL,GAAaC,EAAYzjD,GACpC8jD,mBAAoB5kC,GAAkBA,EAAeoe,QAAUhgC,aAAW4hB,EAAeoe,QAAS9/B,GAAY,QAI1FgG,EAlDW,EACjCigD,aACAI,YACAC,yBAEA,MAAMC,EAAa,IAAKT,MACnBI,GAAoBD,IAEzB,OAAOI,EAAyBjgD,IAAMC,cAAc,MAAO,CACzD,YAAa,WACbmc,MAAOjc,GAAO6+C,UACAh/C,IAAMC,cAAc,MAAO,CACzCmc,MAAO+jC,GACNF,EAAWF,GAAUF,IAAcK,GAAmClgD,IAAMC,cAAc,MAAO,CAClGmc,MAAOujC,IACO3/C,IAAMC,cAAc,MAAO,CACzCmc,MAAOjc,GAAOk/C,oBACAr/C,IAAMC,cAAc4+C,GAAoB,OAAqB7+C,IAAMC,cAAc,MAAO,KAAMgC,UAAKC,EAAE,qDAAsD,CACzKg+C,0BACM,Q,eC/EV,MAAME,GAAkB,CACtBvlD,SAAU,aACVC,OAAQ,EACNmK,UADM,CAGN3H,OAAQ,6FACRsB,OAAS,UAASqG,EAAIxG,KAAK,W,eCF/B,MAAM4hD,GAAc,EAClBjkD,gBACAkkD,YACAC,eACArP,aACAn2C,GAAIylD,EACJpkC,QACAqkC,mBACAC,UAAWC,EACXC,6BAEA,MAAMC,EAAYxf,sBAAOv4B,GACnBg4C,EAAYzf,iBAAOjlB,GACnB2kC,EAAoB1f,iBAAOmf,GAC3BQ,EAAsBC,uBAAYP,IACtC,MAAMQ,EAAsBC,aAAoBb,EAAWlkD,EAAeykD,EAAUlkD,QAAS,IAAK4jD,EAChGG,YACAxP,aACA0P,+BACC93C,OAAWA,EAAWs4C,YAAchlD,EAAclB,MAAQ,OAAS,cAGlEkmD,YAAchlD,EAAclB,MAC9BulD,EAAiBS,EAAoB9kD,eAErCqkD,EAAiBS,EAAoB9kD,cAAcilD,gBAAgB,CACjEC,aAAc,IACdC,YAAa,UAGhB,CAACV,EAAWzkD,EAAeqkD,EAAkBH,EAAWC,EAAcrP,IAqBzE,OApBAqD,qBAAU,KACRyM,EAAoBL,KAEnB,CAACvkD,EAAekkD,EAAWC,IAC9BhM,qBAAU,KACJiM,IAAkBO,EAAkBpkD,UACtCqkD,EAAoB,GACpBD,EAAkBpkD,QAAU6jD,KAI7B,CAACA,IACJjM,qBAAU,KACJn4B,EAAMxb,QAAUkgD,EAAUnkD,QAAQiE,OAASwb,EAAMvb,SAAWigD,EAAUnkD,QAAQkE,SAChFmgD,EAAoB,GACpBF,EAAUnkD,QAAUyf,KAIrB,CAACA,IACgBpc,IAAMC,cAAc,MAAO,CAC7C01B,IAAKkrB,EACLzkC,MAAOA,KAIXikC,GAAY3pC,aAAe,CACzBta,cAAe,GACf4B,QAAS,GACToe,MAAO,GACPskC,UAAW,IACX3lD,GAAI,KACJ0lD,iBAAkBe,SAASp2C,WAE7Bi1C,GAAYoB,UAAY,CACtBlB,aAAc3tB,IAAU1kB,OAAOwzC,WAC/BxQ,WAAYte,IAAU+uB,QAAQ/uB,IAAU1kB,QAAQwzC,WAChDpB,UAAW1tB,IAAU+uB,QAAQ/uB,IAAU1kB,QAAQwzC,WAC/CtlD,cAAew2B,IAAU1kB,OAAOwzC,WAChChB,UAAW9tB,IAAU0K,OACrBviC,GAAI63B,IAAU0K,OACdlhB,MAAOwW,IAAU1kB,OACjBuyC,iBAAkB7tB,IAAUgvB,KAC5BhB,uBAAwBhuB,IAAUgvB,MAErBvB,UC7Ef,MAAMwB,GAAoB,EACxBzlC,QAAQ,CACNxb,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,kBACHC,KAAM,SACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,iEACHC,KAAM,WAGR6gD,GAAkBJ,UAAY,CAC5BrlC,MAAOwW,IAAU1kB,QAEJ2zC,UCpBf,MAAMC,GAAkB,EACtB1lC,QAAQ,CACNxb,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,kBACHC,KAAM,SACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,8DACHC,KAAM,WAGR8gD,GAAgBL,UAAY,CAC1BrlC,MAAOwW,IAAU1kB,QAEJ4zC,UCdf,MAAMC,GAAiB,EACrBC,SACAC,WACA1oC,UACA2e,YACA9gB,eAEA,MAAM0L,EAASokB,eACRgb,EAAQC,GAAazqB,wBAAS5uB,IAC9Bs5C,EAAcC,GAAmB3qB,wBAAS5uB,GAI3Cw5C,EAAgBrB,uBAAYh/B,eACVsgC,YAAyBz/B,EAAQ0/B,IAEtD,CAAC1/B,IACJyxB,qBAAU,KACR4N,EAAU,MAONH,EAAOQ,MALKvgC,WACd,MAAMnU,QAAgBw0C,EAAcN,EAAOQ,MAC3CL,EAAUr0C,IAIV20C,KAID,CAACT,IACJzN,qBAAU,KAGR,GAFA8N,EAAgB,MAED,OAAXH,QAA8B,IAAXA,GAAqBA,EAAO3oB,SAAS/0B,OAAQ,CAClE,MAAMk+C,GAxBU7kB,EAwBcqkB,EAAO3oB,SAAS,GAAGwd,MAxBtBkL,EAAS57C,MAAKiJ,GAAQA,EAAKynC,QAAUlZ,KA0B5D6kB,GACFL,EAAgBK,GA3BF7kB,QAgCjB,CAACqkB,IACJ,MAAMS,EAAgB,CACpB/yB,QAAS,eACTkS,SAAU,KAEZ,OAAOogB,EAAsBliD,IAAMC,cAAcg4B,KAAQ,CACvDC,UAAWA,EACXC,UAAW,cACX/gB,SAAUA,GACIpX,IAAMC,cAAcosB,IAAY,KAAmBrsB,IAAMC,cAAcssB,KAAU,CAC/FnU,OAAO,EACPM,MAAOzW,UAAKC,EAAE,mBACdkV,SAAW,GAAEA,eACA,OAAX8qC,QAA8B,IAAXA,OAAoB,EAASA,EAAOU,SAAwB5iD,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAcssB,KAAU,CACtKnU,OAAO,EACPzW,KAAmB3B,IAAMC,cAAc6hD,GAAiB,MACxDppC,MAAoB1Y,IAAMC,cAAc,OAAQ,CAC9Cmc,MAAOumC,GACNT,EAAOU,OAAOrnD,MACjBge,QAAS,IAAMA,EAAQ,CACrBqV,GAAI,CACF7zB,GAAImnD,EAAOU,OAAO7nD,MAGtBqc,SAAW,GAAEA,wBACXgrC,GAA6BpiD,IAAMC,cAAc4iD,IAAS,OAAQT,GAA6BpiD,IAAMC,cAAcssB,KAAU,CAC/HnU,OAAO,EACPzW,KAAmB3B,IAAMC,cAAc4hD,GAAmB,MAC1DnpC,MAAoB1Y,IAAMC,cAAc,OAAQ,CAC9Cmc,MAAOumC,GACN1gD,UAAKC,EAAE,iCAAkC,CAC1C60C,MAAOqL,EAAa7mD,KACpBunD,QAASZ,EAAO3mD,QAElBge,QAAS,IAAMA,EAAQ,CACrBqV,GAAI,CACF7zB,GAAImnD,EAAOnnD,GACX0Q,KAAMy2C,EAAOz2C,KACbsrC,MAAOqL,EAAarnD,MAGxBqc,SAAW,GAAEA,6BACP,MAGV2qC,GAAeN,UAAY,CACzBO,OAAQpvB,IAAU1kB,OAClBkJ,SAAUwb,IAAUmwB,OACpBd,SAAUrvB,IAAU/1B,MACpBq7B,UAAWtF,IAAU1kB,OACrBqL,QAASqZ,IAAUgvB,MAENG,U,UCvGR,MA2GMiB,GAA4BC,GACnCC,aAA8Bh2B,MAAQi2B,aAAa98C,MAAK+8C,GAAUA,EAAOroD,KAAOkoD,EAAY,GAAGloD,KAC1FmyB,KACEg2B,aAA8Bj2B,MAAOk2B,aAAa98C,MAAK+8C,GAAUA,EAAOroD,KAAOkoD,EAAY,GAAGloD,KAChGkyB,UADF,EC7GHo2B,GAAW12C,IACJ22C,GAAoBrhC,MAAO6C,EAAY1oB,EAAeuL,KACjE,MAAM47C,EAAkB3a,KAAUC,aAAa/jB,GACzCqhB,GAAM,IAAIod,EAAgBza,SAAU9hB,kBAAkB5qB,GAAemqC,eAAe5+B,GAASwhC,kBAAkB/sC,EAAclB,OAAS2R,KACtI22C,QAAoBD,EAAgBE,UAAU76B,IAAIud,GACxD,MAAO,CAAC,IAAIod,EAAgBh9B,SAASi9B,KAwDjCE,GAAiC,EACrCC,kBACAC,eACAC,iBAEA,MAAMC,EAAqB,GACrBC,EAAc,GACdC,EAAkBL,EAAgBM,SAASzhC,WAAW6gC,IAAUvmD,QAAQ0B,OAAO0lD,UAC/EC,EAA2B,OAAjBP,GAAwC,OAAfC,EAazC,OAZAG,EAAgBz+C,SAAQvL,IACtB8pD,EAAmB9mD,KAAK2mD,EAAgBM,SAASx3C,MAAMzS,GAAMuB,MAC7D,MAAM6oD,EAAiD,KAApC,IAAIhqD,KAAKJ,EAAM,EAAG,IAAIqqD,UAGrCF,IAAYC,EAEdL,EAAY/mD,KAAM,GAAEhD,WAEpB+pD,EAAY/mD,KAAM,GAAEhD,KAAQ4pD,KAAgBC,QAGzC,CACLC,qBACAC,gBASEO,GAAkCriC,OACtCshC,kBACAnnD,gBACAuL,UACAg8C,kBACAC,eACAC,iBAEA,MAAMC,EAAqB,GACrBC,EAAc,GACdC,EAAkBL,EAAgBM,SAASzhC,WAAW6gC,IAAUvmD,QAAQ0B,OAAO0lD,UAO/EK,EAAsBP,EAAgB/mD,QAC5C6mD,EAAmB9mD,KAAK2mD,EAAgBM,SAASx3C,MAAM83C,GAAqBhpD,MAC5EwoD,EAAY/mD,KAAM,GAAEunD,KAAuBX,KAAgBC,KAE3D,MAAMW,GAAqB,IAAIjB,EAAgBza,SAAU9hB,kBAAkB5qB,GAAemqC,eAAe5+B,GAASi/B,uBAAwB,GAAE2d,KAAuBX,KAAgBC,KAAcY,cAAa,GAAMC,cAAa,GAI3NC,SAH2BpB,EAAgBE,UAAU3b,MAAM0c,IAGlBP,SAASzhC,WAAW6gC,IAAUuB,OACtEC,EAAmBC,GAAuBH,EAAoB5oC,MAAM,KACrEgpC,EAAyBR,EAAsBM,EAC/CG,EAAchB,EAAgB3mD,QAAO,CAAC4nD,EAASjrD,KACnD8pD,EAAmB9mD,KAAK2mD,EAAgBM,SAASx3C,MAAMzS,GAAMuB,MAC7D0pD,EAAQjoD,KAAM,GAAEhD,EAAO+qD,KAA0BD,KAErB,OAAxBA,GACFG,EAAQjoD,KAAQhD,EAAO+qD,EAAT,OAGTE,IACN,IAEH,GAAID,EAAYxgD,OAAQ,CAEtB,MAAM0gD,GAAiB,IAAI3B,EAAgBza,SAAUqc,mBAAmBH,GAAaP,cAAa,GAAMC,cAAa,GAAOxb,4BAA2B,GACjJkc,QAAuB7B,EAAgBE,UAAU3b,MAAMod,GAGvDG,EAAY,GAClBD,EAAenB,SAASzhC,WAAW6gC,IAAU7kD,OAAO0lD,UAAU3+C,SAAQ69C,IACpE,MAAMppD,EAAOopD,EAAO/oD,OAAO,EAAG,GAE9B,IAAKgrD,EAAU7nD,SAASxD,GAAO,CAC7B,MAAMsrD,EAAa,IAAIlrD,KAAKgrD,EAAenB,SAASx3C,MAAM22C,GAAQmC,SAClED,EAAWE,QAAQF,EAAWjB,UAAY,GAC1CN,EAAY/mD,KAAM,GAAEsoD,EAAWjhB,kBAAkB,IAAMihB,EAAWG,WAAa,IAAIC,SAAS,EAAG,OAAO,GAAKJ,EAAWjB,WAAWqB,SAAS,EAAG,MAC7IL,EAAUM,QAAQ3rD,OAKxB,MAAO,CACL8pD,qBACAC,gBCzJSp8C,GAAU,CACrB1E,KAAM,CACJ2E,aAAa,EACbC,SAAS,EACTC,aAAc,IAEhBC,SAAU,CACRD,aAAcE,KACdJ,aAAa,EACbC,SAAS,GAEXI,iBAAkB,CAChBH,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXK,kBAAmB,CACjBJ,aAAc,OACdF,aAAa,EACbC,SAAS,GAEXM,UAAW,CACTL,aAAc,GACdF,aAAa,EACbC,SAAS,GAEX1J,OAAQ,CACN2J,aAAc,GACdF,aAAa,EACbC,SAAS,GAEXO,sBAAuB,CACrBN,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXQ,qBAAsB,CACpBP,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXS,eAAgB,CACdR,aAAc,OACdF,aAAa,EACbC,SAAS,GAEXU,SAAU,CACRT,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXW,gBAAiB,CACfV,aAAc,UACdF,aAAa,EACbC,SAAS,GAEXY,cAAe,CACbX,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXa,aAAc,CACZZ,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXc,UAAW,CACTb,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXe,UAAW,CACTd,aAAc,IACdF,aAAa,EACbC,SAAS,GAEXgB,SAAU,CACRf,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXjG,MAAO,CACLkG,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXkB,OAAQ,CACNjB,aAAc,GACdF,aAAa,EACbC,SAAS,GAEXmB,UAAW,CACTlB,aAAc,GACdF,aAAa,EACbC,SAAS,GAGXqB,UAAW,CACTpB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXsB,aAAc,CACZrB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXuB,UAAW,CACTtB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXwB,aAAc,CACZvB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXyB,oBAAqB,CACnBxB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX0B,iBAAkB,CAChBzB,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX2B,cAAe,CACb1B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX4B,aAAc,CACZ3B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX6B,WAAY,CACV5B,aAAc,QACdF,aAAa,EACbC,SAAS,GAEX8B,cAAe,CACb7B,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX+B,eAAgB,CACd9B,aAAc,SACdF,aAAa,EACbC,SAAS,GAEXgC,SAAU,CACR/B,aAAc,SACdF,aAAa,EACbC,SAAS,GAEXiC,oBAAqB,CACnBhC,aAAc,QACdF,aAAa,EACbC,SAAS,GAEXkC,cAAe,CACbjC,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEXmC,iBAAkB,CAChBlC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXoC,cAAe,CACbnC,cAAc,EACdF,aAAa,EACbC,SAAS,GAGXsC,gBAAiB,CACfrC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXuC,iBAAkB,CAChBtC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEXwC,uBAAwB,CACtBvC,cAAc,EACdF,aAAa,EACbC,SAAS,GAGXyC,4BAA6B,CAC3BxC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX0C,WAAY,CACVzC,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX2C,WAAY,CACV1C,cAAc,EACdF,aAAa,EACbC,SAAS,GAEX4C,gBAAiB,CACf3C,kBAAcgB,EACdlB,aAAa,EACbC,SAAS,GAEX6C,SAAU,CACR5C,aAAc,IACdF,aAAa,EACbC,SAAS,IAIN,MC9NM+9C,GAAoB,CAACxpD,EAAe4B,EAAS6nD,KACxD,MAAMl+C,EDqOCxK,OAAOC,QAAQuK,IAAS/I,QAAOknD,GAASA,EAAM,GAAGl+C,cCrOjBvK,QAAO,CAACkB,GAAM5C,EAAQH,WAE7BsN,IAA1B1M,EAAcT,IAAyBS,EAAcT,KAAYH,EAAMsM,eACzEvJ,EAAI5C,GAAUS,EAAcT,IAGvB4C,IACN,IAMH,GAJIP,EAAQ2oC,qBACVh/B,EAAQg/B,mBAAqB3oC,EAAQ2oC,oBAGlB,OAAjBkf,QAA0C,IAAjBA,GAA2BA,EAAarf,gBACnE,OAAQqf,EAAarf,iBACnB,IAAK,mBACH7+B,EAAQ6+B,gBAAkB,YAC1B,MAEF,IAAK,cACH7+B,EAAQ6+B,gBAAkB,OAOhC,GAAIxoC,EAAQ+nD,aAAe/nD,EAAQ+nD,YAAYvhD,OAAQ,CACrD,MAAMypB,EAAQjwB,EAAQ+nD,YAAYxnD,KAAIynD,GAAUA,EAAOjqC,MAAM,KAAKjf,OAAO,GAAG,KAC5E6K,EAAQo+C,YAAc93B,EAAMxvB,KAAK,KAGnC,OAAOkJ,GC7BHs+C,GAA6B3/C,IAASA,GAAQ,IAAI/H,KAAIqoB,IAC1D,IAAIC,EAEJ,MAAO,IAAKD,EACVna,MAAc,OAAPma,QAAsB,IAAPA,GAAoD,QAA1BC,EAAYD,EAAGna,aAAiC,IAAdoa,OAA5C,EAA4EA,EAAUjoB,QAAO0Q,GAAQA,EAAKvU,KAAO8T,UAI9Iq3C,GAAYjkC,OACvB6C,aACA1oB,gBACA4B,UACAmoD,eACAN,mBAEA,MAAMO,EAAuB,IAAKhqD,EAChC0B,QAASmoD,GAA2B7pD,EAAc0B,SAClDC,KAAMkoD,GAA2B7pD,EAAc2B,MAC/CC,QAASioD,GAA2B7pD,EAAc4B,UAE9C2J,EAAUi+C,GAAkBQ,EAAsBpoD,EAAS6nD,GAC3DtF,EAAe,CACnB8F,UAAWF,GAGb,GAAIxqC,YAAeyqC,EAAqBlrD,MAAO,CAC7C,MAAM,UACJolD,EADI,mBAEJwD,QHxB0C7hC,OAAO6C,EAAY1oB,EAAeuL,KAChF,MAAM47C,EAAkB3a,KAAUC,aAAa/jB,GAC/C,IAAIwhC,GAAkB,IAAI/C,EAAgBza,SAAUqc,mBAAmB/oD,EAAcmqD,cAAc9B,cAAa,GAAMC,cAAa,GAAOxb,4BAA2B,GAEjKvhC,EAAQg/B,qBACV2f,EAAkBA,EAAgB1f,uBAAuBj/B,EAAQg/B,qBAGnE,MAAMgd,QAAwBJ,EAAgBE,UAAU3b,MAAMwe,GACxDvC,EAAc,GACdD,EAAqB,GACrB0C,EAAM,IAAIpsD,KACVypD,GAAc,GAAK2C,EAAInC,WAAWqB,SAAS,EAAG,GAC9C9B,GAAgB,IAAM4C,EAAIf,WAAa,IAAIC,SAAS,EAAG,GACvDzC,EAAch0C,aAAwB7S,EAAeinD,IAE3D,GAAIL,GAA0BC,KAAiB/1B,OAAW+1B,EAAY,GAAGloD,KAAO0rD,KAAiB,CAC/F,MAAMC,QAA0BpC,GAAgC,CAC9Df,kBACAnnD,gBACAuL,UACAg8C,kBACAC,eACAC,eAEFE,EAAY/mD,QAAQ0pD,EAAkB3C,aACtCD,EAAmB9mD,QAAQ0pD,EAAkB5C,yBACxC,GAAId,GAA0BC,KAAiBh2B,KAAO,CAC3D,MAAM05B,EAAmBjD,GAA+B,CACtDC,kBACAC,eACAC,eAEFE,EAAY/mD,QAAQ2pD,EAAiB5C,aACrCD,EAAmB9mD,QAAQ2pD,EAAiB7C,yBAE5CH,EAAgBM,SAASzhC,WAAW6gC,IAAU7kD,OAAO0lD,UAAU3+C,SAAQvL,IACrE8pD,EAAmB9mD,KAAK2mD,EAAgBM,SAASx3C,MAAMzS,GAAMuB,MAC7DwoD,EAAY/mD,KAAM,GAAEhD,KAAQ4pD,KAAgBC,QAKhD,MAAM+C,EAAW7C,EAAY1mD,QAAO,CAAC24B,EAAMsvB,KACzC,MAAMnf,GAAM,IAAIod,EAAgBza,SAAU9hB,kBAAkB5qB,GAAemqC,eAAe5+B,GAASi/B,uBAAuB0e,GAE1H,OADAtvB,EAAKh5B,KAAKumD,EAAgBE,UAAU76B,IAAIud,IACjCnQ,IACN,IACH,OAAO3Q,QAAQC,IAAIshC,GAAUxe,MAAKkY,IAAa,CAC7CA,UAAWA,EAAU/hD,KAAIipB,GAAO,IAAI+7B,EAAgBh9B,SAASiB,KAC7Ds8B,0BGzBU+C,CAAiC/hC,EAAYshC,EAAsBz+C,GACvEm/C,EAAU73C,aAAwBm3C,EAAsBz5C,KACxDo6C,EAAyB/D,GAA0B8D,GACnDE,EJpCsB,EAAC1G,EAAWyG,KAC1C,MAAME,EAAe3G,EAAUjjD,QAAO,CAAC24B,EAAMxO,KAC3CwO,EAAKh5B,KAAKwqB,EAAIy8B,SAASzhC,WAAW0kC,IAC3BlxB,IACN,IAEH,GAAI+wB,IAA2B95B,KAAO,CACpCg6B,EAAazoD,MAAK,CAACg+C,EAAGC,IAAMD,EAAE,GAAGniD,QAAQ,GAAKoiD,EAAE,GAAGpiD,QAAQ,KAC3D,MAAM2sD,EAA2BC,EAAahqD,QAAQsB,KAAI8kD,GAAY,CAACA,KA0BvE,OAzBA4D,EAAa1hD,SAAQ4hD,IACnBA,EAAY5hD,SAAQ89C,IAClB,MAAM+D,EAAc/D,EAAS33C,MAAM,yBAC7BzR,EAAQmtD,EAAY,GACpBltD,EAAMktD,EAAY,GAElBC,EAAsBL,EAAyBxoC,WAAU8oC,GAAcA,EAAW,GAAGjtD,OAAO,KAAQ,GAAEJ,IAAQC,MAEpH,IAA6B,IAAzBmtD,EACFL,EAAyBK,GAAqBrqD,KAAKqmD,QAC9C,GAAc,OAAVppD,GAA0B,OAARC,EAAc,CAGzC,MAAMqtD,EAAgBP,EAAyBxoC,WAAU8oC,IAA8E,IAAhEA,EAAW9oC,WAAUgpC,GAAa,QAAQC,KAAKD,QAE/F,IAAnBD,EACFP,EAAyBtpC,OAAO6pC,EAAgB,EAAG,EAAG,CAAClE,IAEvD2D,EAAyBhqD,KAAK,CAACqmD,SAGjC2D,EAAyBhqD,KAAK,CAACqmD,UAI9B2D,EACF,GAAID,IAA2B75B,KAAQ,CAC5C+5B,EAAazoD,MAAK,CAACg+C,EAAGC,IAAMA,EAAE,GAAG1gC,MAAM,KAAK,GAAKygC,EAAE,GAAGzgC,MAAM,KAAK,KACjE,MAAMirC,EAA2BC,EAAahqD,QAAQsB,KAAI8kD,GAAY,CAACA,KAwBvE,OAvBA4D,EAAa1hD,SAAQ4hD,IACnBA,EAAY5hD,SAAQ89C,IAClB,MAAOrpD,EAAM0tD,GAAQrE,EAAStnC,MAAM,KAE9BsrC,EAAsBL,EAAyBxoC,WAAU8oC,GAAcA,EAAW,GAAGvrC,MAAM,KAAK,KAAO2rC,IAE7G,IAA6B,IAAzBL,EACFL,EAAyBK,GAAqBrqD,KAAKqmD,QAC9C,GAAa,MAATqE,EAAc,CACvB,MAAMC,EAAaX,EAAyBxoC,WAAU8oC,IAA4E,IAA9DA,EAAW9oC,WAAUgpC,GAAa,MAAMC,KAAKD,QAE7F,IAAhBG,EACFX,EAAyBW,GAAY3qD,KAAKqmD,GAE1C2D,EAAyBhqD,KAAK,CAACqmD,QAE5B,CAEL,MAAMuE,EAAyBZ,EAAyBxoC,WAAU8oC,IAA0F,IAA5EA,EAAW9oC,WAAUgpC,GAAaA,IAAe,GAAExtD,KAAQ0tD,EAAO,QAClJV,EAAyBtpC,OAAOkqC,EAAyB,EAAG,EAAG,CAACvE,WAI/D2D,EAUP,OARiCC,EAAa5pD,QAAO,CAAC24B,EAAMmxB,KAC1DA,EAAY5hD,SAAQ,CAAC89C,EAAU9+C,KAC7ByxB,EAAKzxB,GAAOvH,KAAKqmD,MAEZrtB,IACN9wB,MAAM2zB,KAAK,CACZr0B,OAAQyiD,EAAa,GAAGziD,SACvB,IAAM,OIlCwBqjD,CAAiBvH,EAAWyG,GACvDe,EAAwBd,EAAyB3pD,QAAO,CAACkB,EAAK+oD,EAAY/iD,KAC9E+iD,EAAW/hD,SAAQiiD,GAAajpD,EAAIipD,GAAajjD,IAC1ChG,IACN,IACGwpD,EAAchB,EJiC2B,EAACC,EAA0BD,KAC5E,OAAQA,GACN,KAAK75B,KACH,OAAO85B,EACNzoD,KAAI+oD,GAAcA,EAAW,GAAGjtD,OAAO,KAAIqlB,OAE9C,KAAKuN,KACH,OAAO+5B,EAAyBzoD,KAAI+oD,GACpCA,EAAW,GAAGjtD,OAAO,GAAGC,QAAQ,iBAAkB,WAAUolB,SIzCjBsoC,CAAoChB,EAA0BD,GJ4CtEzG,KACvC,MAWMz0C,EAXWy0C,EAAUjjD,QAAO,CAAC4qD,EAAKzgC,KAClCygC,EAAIhE,SACFz8B,EAAIy8B,SAASzhC,WAAW0kC,GAAG1iD,OAASyjD,EAAIhE,SAASzhC,WAAW0kC,GAAG1iD,SACjEyjD,EAAMzgC,GAGRygC,EAAMzgC,EAGDygC,IACN,IACuBhE,SAC1B,OAAOp4C,EAAS2W,WAAW0kC,GAAG7pD,QAAO,CAAC6qD,EAAoB7E,KACxD,MAAM9nD,EAAOsQ,EAASY,MAAM42C,GAAU9nD,KAKtC,OADA2sD,EAAmBlrD,KAAKzB,EAAKjB,QAAQ,YAAa,KAC3C4tD,IACN,KIhEoIC,CAA0B7H,GAC/J,MAAO,CACLA,YACAC,aAAc,IAAKA,EACjBgG,aAAczC,EACdiE,cACAD,0BAKN,MAAO,CACLxH,gBAAiBgD,GAAkBx+B,EAAYshC,EAAsBz+C,GACrE44C,iB,eCnDJ,MAAM6H,GAAc,EAClB9H,YACApP,aACA90C,gBACAggB,QACArhB,GAAIylD,EACJI,4BAEoB5gD,IAAMC,cAAc,MAAO,CAC7Cmc,MAAOA,GACOpc,IAAMC,cAAcooD,KAAY,CAC9CjsD,cAAeA,EACfsrB,KAAM44B,EAAU,GAAG/5B,SACnB2qB,WAAYA,EACZsP,cAAeA,EACfI,uBAAwBA,KAI5BwH,GAAY1xC,aAAe,CACzB0F,MAAO,IAETgsC,GAAY3G,UAAY,CACtBvQ,WAAYte,IAAU+uB,QAAQ/uB,IAAU1kB,QAAQwzC,WAChDpB,UAAW1tB,IAAU+uB,QAAQ/uB,IAAU1kB,QAAQwzC,WAC/CtlD,cAAew2B,IAAU1kB,OAAOwzC,WAChC3mD,GAAI63B,IAAU0K,OACdlhB,MAAOwW,IAAU1kB,OACjB0yC,uBAAwBhuB,IAAUgvB,MAErBwG,U,sBCtBR,MAAME,GAAsB,EACjClsD,gBACA4B,UACAmoD,eACAprD,KACAqhB,QACAypC,eACApF,mBACAlmD,UACAguD,oBACAC,sBACAC,cAEA,IAAIC,EAAwBC,EAE5B,MAAM7lC,EAASokB,eACR+a,EAAU2G,GAAelxB,wBAAS5uB,IAClC+/C,EAAaC,GAAkBpxB,mBAAS,OACxCqxB,EAAmBC,GAAwBtxB,wBAAS5uB,IACpDmgD,EAAsBC,GAA2BxxB,mBAAS,KAC1DyxB,EAAeC,GAAoB1xB,oBAAS,IAC5C2xB,EAAUC,GAAe5xB,mBAAS,GAInCkpB,EAAyB,CAACjrB,EAAKjO,KACnC,GAAIA,EAAK86B,KACP0G,EAAwBxhC,GACxBshC,EAAqBrzB,QAChB,GAAIjO,EAAK6hC,WAA2C,IAA9BntD,EAAc2B,KAAKyG,QAAgBpI,EAAc2B,KAAK,GAAG8P,YAAcD,KAAsD,IAA9BxR,EAAc2B,KAAKyG,QAAgBpI,EAAc2B,KAAK,GAAG8P,YAAcD,KAAuB,CACxN,IAAI47C,EAEJ,MAAMhH,EAA6N,QAArNgH,EAAsBrsD,OAAOoa,OAAOsxC,EAAYvI,UAAU,GAAG2D,SAASx3C,OAAOpG,MAAKiJ,GAAQA,EAAK/T,OAASmsB,EAAK6hC,UAAYV,EAAYvI,UAAU,GAAG2D,SAASzhC,WAAW5U,KAAsBpQ,SAAS8R,EAAK0Y,cAA2C,IAAxBwhC,OAAiC,EAASA,EAAoBxhC,IACzSkhC,EAAwB,CACtB1G,SAEFwG,EAAqBrzB,QAChB,GAAIjO,EAAK6hC,UAAYntD,EAAc0B,QAAQ8Q,MAAK66C,GAAUA,EAAO57C,YAAcD,MAAuB,CAC3G,IAAI87C,EAEJ,MAAMlH,EAA4N,QAApNkH,EAAuBvsD,OAAOoa,OAAOsxC,EAAYvI,UAAU,GAAG2D,SAASx3C,OAAOpG,MAAKiJ,GAAQA,EAAK/T,OAASmsB,EAAK3e,QAAU8/C,EAAYvI,UAAU,GAAG2D,SAASzhC,WAAW5U,KAAsBpQ,SAAS8R,EAAK0Y,cAA4C,IAAzB0hC,OAAkC,EAASA,EAAqB1hC,IAC1SkhC,EAAwB,CACtB1G,SAEFwG,EAAqBrzB,KAInBg0B,EAAsB,IAAMX,OAAqBlgD,GAOjD8gD,EAAc3I,uBAAYh/B,UAC9B,MAAMtT,QAAeu3C,GAAU,CAC7BphC,WAAYhC,EACZ1mB,gBACA4B,UACAmoD,eACAN,iBAOF,OAJIl3C,EAAO2xC,UAAU97C,QACnBgkD,EAAoB75C,EAAO2xC,WAGtB3xC,IACN,CAACmU,EAAQ9kB,EAASmoD,EAAcN,EAAc2C,EAAqBpsD,IAChEytD,EAAoB5I,uBAAYh/B,UACpC,IAAK6nC,EAAatlD,OAChB,MAAO,GAIT,YX/E8Byd,OAAO6C,EAAY7f,WACtB6f,EAAWC,MAAM,CAC5CmsB,WAAYkP,IACX,CACD55B,UAAW,CACTvhB,UAGkBisC,WAAWA,WWsEN6Y,CAAmBjnC,EAAQgnC,KAEnD,CAAChnC,IAgEJ,GA/DAyxB,qBAAU,KACgBtyB,WACtB,MAAMggC,QAAiB+H,YAA+BlnC,GACtD8lC,EAAY3G,IAGdgI,KACC,CAACnnC,IACJyxB,qBAAU,KACRuU,EAAe,MAEI7mC,WACjB,IAAIioC,EAAuBC,EAAwBC,EAAwBC,EAE3E,MAAM,UACJ/J,EADI,aAEJC,SACQqJ,EAAYxtD,EAAe4B,EAASmoD,GACxC2D,EAAe,GAErB,OAA2D,QAAlDI,EAAwB9tD,EAAc+B,cAA8C,IAA1B+rD,OAAmC,EAASA,EAAsB/tC,UACnI,KAAKy1B,KACqD,QAAnDuY,EAAyB/tD,EAAc+B,cAA+C,IAA3BgsD,GAA+F,QAAzDC,EAAyBD,EAAuB7tC,WAA4C,IAA3B8tC,GAAqCA,EAAuBrvD,IACjO+uD,EAAa9sD,KAAKZ,EAAc+B,OAAOme,IAAIvhB,IAG7C,MAEF,KAAK42C,MAMa2O,EAAU,GAAG2D,SAASzhC,WAAW8nC,IAAM,IAC/C/kD,SAAQglD,IACZ,MAAMC,EAAclK,EAAU,GAAG2D,SAASx3C,MAAM89C,GAAM7Y,UAElD8Y,GACFV,EAAa9sD,KAAKwtD,MAGtB,MAIN,MAAMtZ,QAAmB2Y,EAAkBC,GAC3ChB,EAAe,CACb1sD,gBACA80C,aACAoP,YACAC,iBAEF6I,EAAqE,QAAnDiB,EAAyBjuD,EAAc+B,cAA+C,IAA3BksD,OAAoC,EAASA,EAAuBhuC,SACjJksC,KAGFkC,GAAaC,OAAMlwD,IACjBD,EAAQC,QAGT,CAAC4B,EAAe4B,EAASmoD,KAEvB0C,IAAgB5G,EACnB,OAAO,KAGT,MAAM0I,EAA2C,OAAtB5B,QAAoD,IAAtBA,OAA+B,EAASA,EAAkB6B,wBAC7GC,EAA+BF,EAAqB,CACxDC,sBAAuB,IAAMD,GAC3B,KACJ,IAAIzZ,EAAa,GAEjB,OAA4D,QAAnDwX,EAAyBtsD,EAAc+B,cAA+C,IAA3BuqD,OAAoC,EAASA,EAAuBvsC,UACtI,KAAKw1B,KACH,CACE,IAAKkX,EAAYzsD,cAAc0B,QAAQ8Q,MAAKU,GAA2B,OAAnBA,EAAKzB,YACvD,MAGF,MAAMi9C,EAAmB3tD,OAAOoa,OAAOsxC,EAAYvI,UAAU,GAAG2D,SAASx3C,OAAO7N,QAAO0Q,GAAQu5C,EAAY3X,WAAW3yC,KAAImzC,GAAaA,EAAU32C,KAAIyC,SAAS8R,EAAKoiC,aAAYnzC,KAAI+Q,IAAQ,CACzL0O,OAAQ1O,EAAK0Y,IACb0pB,UAAWpiC,EAAKoiC,cAEZqZ,GAAyB3uD,EAAc2M,QAAU,IAAInK,QAAO29C,GAASA,EAAMrhD,OAAS64C,MAAex1C,KAAI+Q,GAAQA,EAAKmP,gBAC1HyyB,EAAa2X,EAAY3X,WAAWtyC,QAAO8yC,GAAaoZ,EAAiBlsD,QAAO0Q,IAASy7C,EAAsBvtD,SAAS8R,EAAK0O,UAASzf,KAAIysD,GAAsBA,EAAmBtZ,YAAWl0C,SAASk0C,EAAU32C,MAEnN,MAEF,KAAK62C,KACHV,EAAa2X,EAAY3X,WAI7B,MAAM+Z,GAA+C,QAA9BtC,EAAczX,SAAwC,IAAhByX,OAAyB,EAASA,EAAYnkD,QAAU,GAAK81C,YAAgBuO,EAAYzsD,cAAclB,MAC9JgwD,EAAmB/E,GAAgB8E,EAAe,IAAK7uC,EAC3Dxb,MAAOwb,EAAMxb,OAASuoD,EAAgB,IAAM,KAG1C/sC,EAqCJ,OAAoBpc,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACpGC,UAAWC,KAAOC,WAChByoD,EAAYzsD,cAAclB,MAAQ2tD,EAAYzsD,cAAclB,OAAS2R,IAOvD7M,IAAMC,cAAcogD,GAAa,CACjDjkD,cAAe+uD,YAAsBlJ,EAAU4G,EAAYzsD,eAC3DkkD,UAAWuI,EAAYvI,UACvBC,aAAcsI,EAAYtI,aAC1BrP,WAAYA,EACZ0P,uBAAwB6H,EAAU7H,OAAyB93C,EAC3D/N,GAAIorD,EAAekD,EAAWtuD,EAC9B0lD,iBAAkBA,EAClBrkC,MAAO8uC,IAfoGlrD,IAAMC,cAAcmoD,GAAa,CAC5IhsD,cAAe+uD,YAAsBlJ,EAAU4G,EAAYzsD,eAC3DkkD,UAAWuI,EAAYvI,UACvBpP,WAAYA,EACZ0P,uBAAwB6H,EAAU7H,OAAyB93C,EAC3D/N,GAAIA,EACJqhB,MAAO8uC,KA3CY,MACnB,IAAIE,EAEJ,OAAIH,GAAgB9E,EACEnmD,IAAMC,cAAcD,IAAMmwB,SAAU,KAAMg5B,GAA8BnpD,IAAMC,cAAc,MAAO,CACrHC,UAAWC,KAAOkrD,UAClB,YAAa,4BACCrrD,IAAMC,cAAc,MAAO,CACzCC,UAAWqW,KAAGpW,KAAO01B,QAAS11B,KAAOmrD,eACvBtrD,IAAMC,cAAcsrD,KAAW,CAC7Cra,WAAYA,MACKlxC,IAAMC,cAAc,MAAO,CAC5CC,UAAWC,KAAOqrD,iBACJxrD,IAAMC,cAAcqZ,IAAQ,CAC1CE,OAAO,EACPC,WAAW,EACXF,QAAS,KACP6vC,GAAkBD,GA7KQG,EAAYD,EAAW,IAgLnD1nD,KAAmB3B,IAAMC,cAAcwrD,IAAc,MACrD/xC,QAASyvC,MAEF8B,GAA+E,QAA9DG,EAAwBvC,EAAYzsD,cAAc+B,cAA8C,IAA1BitD,GAAoCA,EAAsB/uC,QACtIrc,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAOkrD,UAClB,YAAa,4BACCrrD,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAO01B,SACJ71B,IAAMC,cAAcsrD,KAAW,CAC7Cra,WAAYA,WAPT,GA8BJwa,GAAgBf,GAAmC3qD,IAAMC,cAAc+3B,KAAO,CACjFze,QAASowC,EACTvyC,SAAU,qCACIpX,IAAMC,cAAc8hD,GAAgB,CAClD7pB,UAAW2yB,EACX7I,OAAQiH,EACRhH,SAAUA,EACV1oC,QA7LgCqU,IAChC+7B,IACAlB,EAAQ76B,IA4LRxW,SAAU,qCAGdkxC,GAAoB5xC,aAAe,CACjC1Y,QAAS,GACTmoD,cAAc,EACd1F,iBAAkBe,SAASp2C,UAC3B7Q,QAASinD,SAASp2C,UAClBm9C,kBAAmB/G,SAASp2C,UAC5Bo9C,oBAAqBhH,SAASp2C,UAC9BgR,MAAO,GACPhgB,cAAe,GACfypD,aAAc,IAEhByC,GAAoB7G,UAAY,CAC9BrlD,cAAew2B,IAAU1kB,OAAOwzC,WAChC1jD,QAAS40B,IAAU1kB,OACnBi4C,aAAcvzB,IAAU+4B,KACxB5wD,GAAI63B,IAAU0K,OACdlhB,MAAOwW,IAAU1kB,OACjB23C,aAAcjzB,IAAU1kB,OACxBuyC,iBAAkB7tB,IAAUgvB,KAC5B6G,QAAS71B,IAAUgvB,KACnBrnD,QAASq4B,IAAUgvB,KACnB2G,kBAAmB31B,IAAUgvB,KAC7B4G,oBAAqB51B,IAAUgvB,M,0BCzQlBgK,OARf,WACE,OAAoB5rD,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAO0rD,OACJ7rD,IAAMC,cAAc6rD,IAAgB,CAClD5rD,UAAWC,KAAO4rD,a,0BCoGPnsD,oBALSV,IAAK,CAC3B1E,MAAOmpB,GAAczkB,GACrB4mB,SAAUI,GAAahnB,MAGVU,EA3FK,EAClBpF,QACAsrB,eAEA,MAAOkmC,EAA0BC,GAA+Bv0B,mBAAS,IACnE5U,EAASokB,cACfqN,qBAAU,MACRtyB,eAAgDa,GAC9C,MACMopC,QCvBoC,EAACpnC,EAAYqnC,EAAUrmC,KACrE,MAAMxnB,EAAqB,CACzBzD,SAAU,2BACVC,OAAQ,CACNG,UAAWN,EACXwxD,SAAUA,GAAY,MAClBrmC,EAAW,CACbA,YACE,KAGR,OAAOhB,EAAWC,MAAM,CACtB3oB,cAAekC,KDUgC8tD,CAAiCtpC,EAAQ,EAAGgD,IACnC1pB,cAEtD,GAAI8vD,GAAkBA,EAAe1nD,OAAQ,CAC3C,MAAM6nD,QpNCyBvnC,EoND2BhC,EpNCfnkB,EoNDuButD,EAAe3tD,KAAInC,GAAiBA,EAAcrB,KpNEnH+pB,EAAWC,MAAMrmB,EAAqB,CAC3C8nB,UAAW,CACT7nB,uBoNDQgQ,EEhC4B,EAACu9C,EAAgBI,KACzD,MAAM39C,EAAS,GAYf,OAXAu9C,EAAe3mD,SAAQnJ,IACrB,IAAImwD,EAEJ,MAAMrxD,EAAqH,QAA7GqxD,EAAwBD,EAAuBjmD,MAAKmmD,GAAeA,EAAYzxD,KAAOqB,EAAcrB,YAA2C,IAA1BwxD,OAAmC,EAASA,EAAsBrxD,KAEjMA,GACFyT,EAAO3R,KAAK,IAAKZ,EACflB,YAICyT,GFmBc89C,CAA2BP,EAFXG,EAAqBjwD,cAAc8vD,gBAGlED,EAA4Bt9C,GpNHE,IAACmW,EAAYnmB,EoNO/C+tD,CAAiC5pC,KAChC,IAEH,MAkCM6pC,EAAkB,IAAmB3sD,IAAMC,cAAc,MAAO,CACpEC,UAAWC,KAAOy0C,eAClB,YAAa,gCACZp6C,aAAiBiH,GAAkCzB,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACtIC,UAAWC,KAAO00C,WACjBr6C,EAAMmH,QAAsB3B,IAAMC,cAAc,IAAK,CACtDC,UAAWC,KAAO20C,YACjBt6C,EAAMoH,OAAqB5B,IAAMC,cAAc,IAAK,CACrDC,UAAWC,KAAO40C,kBACjBv6C,EAAMqH,cAA6B7B,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACtHC,UAAWC,KAAO00C,WACjBvzC,MAA8BtB,IAAMC,cAAc,IAAK,CACxDC,UAAWC,KAAO20C,YACjBhxC,IAAiC9D,IAAMC,cAAc,IAAK,CAC3DC,UAAWC,KAAO40C,kBACjBv6C,EAAMwE,SAAWxE,KAEpB,OAAoBwF,IAAMC,cAAc,MAAO,CAC7CC,UAAWC,KAAO0rD,OACJ7rD,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAOysD,OAtDKpyD,EAAQmyD,IAAiC3sD,IAAMC,cAAc,MAAO,CAC3F,YAAa,gBACCD,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAO21B,SACJ91B,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAOyB,MAClB,YAAa,sCACZK,UAAKC,EAAE,oBAAkClC,IAAMC,cAAc,KAAM,CACpEC,UAAWC,KAAO0sD,OACJ7sD,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAO2sD,WACjB7qD,UAAKC,EAAE,0FAAwGlC,IAAMC,cAAc,KAAM,CAC1IC,UAAWC,KAAO2sD,WACjB7qD,UAAKC,EAAE,uCAAqDlC,IAAMC,cAAc,KAAM,CACvFC,UAAWC,KAAO2sD,WACjB7qD,UAAKC,EAAE,+CAAgD8pD,EAAyBxnD,OAAS,GAAkBxE,IAAMC,cAAc,MAAO,CACvIC,UAAWC,KAAO21B,SACJ91B,IAAMC,cAAc,KAAM,CACxCC,UAAWC,KAAOyB,MAClB,YAAa,wCACZK,UAAKC,EAAE,uCAAwC8pD,EAAyBztD,KAAI,CAACnC,EAAemI,KAC7F,MAAMwoD,EAAoB5W,IAAa/5C,EAAclB,MACrD,OAAoB8E,IAAMC,cAAc,IAAK,CAC3C1C,IAAKgH,EACLrE,UAAWC,KAAO/D,cAClBmd,QAAS,IAAM0O,GAAQjrB,KAAM,IAAGZ,EAAcrB,MAC9C,YAAa,sCACCiF,IAAMC,cAAc,OAAQ,CAC1CC,UAAWC,KAAOm2C,SACJt2C,IAAMC,cAAc8sD,EAAmB,CACrDz2C,MAAOlB,KAAOe,WACEnW,IAAMC,cAAc,OAAQ,KAAM7D,EAAcb,iBGvEvD,IACbyxD,YAAa,CACXp9B,QAAS,OACTqvB,eAAgB,aAChBtjB,WAAY,aACZ96B,OAAQ,QAEVosD,aAAc,CACZh7B,SAAU,WACVpxB,OAAQ,OACRD,MAAO,OACPssD,KAAM,EACNlwB,IAAK,EACLmwB,OAAQ,IACRhO,WAAY,cCdhB,SAAS3yB,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EAuBpM,MAAM2gC,WAAiCz/B,YAC5CjsB,YAAYlG,GACVwG,MAAMxG,GAENgxB,GAAgB1qB,KAAM,WAAWykB,IAC/B,IAAI8mC,EAEJ,IAAI7yD,EAEJ,GAAI+rB,EACF,OAAmD,QAA1C8mC,EAAoB9mC,EAASy2B,eAA2C,IAAtBqQ,OAA+B,EAASA,EAAkB3O,WACnH,IAAK,QACHlkD,EAAQ,IAAIyJ,GACZ,MAEF,IAAK,QACHzJ,EAAQ,IAAI0J,GACZ,MAEF,IAAK,QACH1J,EAAQ,IAAIoJ,GACZ,MAEF,IAAK,QACHpJ,EAAQ,IAAI+I,GAAiCzB,KAAKtG,MAAMY,cAAclB,MACtE,MAEF,IAAK,QACHV,EAAQ,IAAIqJ,GACZ,MAEF,IAAK,QAED,IAAIypD,EAAmBC,EAGrB/yD,EADe,OAAb+rB,QAAkC,IAAbA,GAAkE,QAA1C+mC,EAAoB/mC,EAASvnB,eAA2C,IAAtBsuD,GAAgCA,EAAkB9vD,SAAS,QACpJ,IAAImG,GAAY7B,KAAKtG,MAAMY,cAAclB,MAC3B,OAAbqrB,QAAkC,IAAbA,GAAmE,QAA3CgnC,EAAqBhnC,EAASvnB,eAA4C,IAAvBuuD,GAAiCA,EAAmB/vD,SAAS,QAC9J,IAAI4G,GAEJ,IAAIJ,GAGhB,MAEF,QACExJ,EAAQ+rB,OAGZ/rB,EAAQ,IAAIwJ,GAGdlC,KAAKtG,MAAMgyD,aAAahzD,MAG1BgyB,GAAgB1qB,KAAM,oBAAoB2rD,GAAO3rD,KAAKtG,MAAMkyD,SAASD,KAErEjhC,GAAgB1qB,KAAM,uBAAuBw+C,IAC3C,MAAM5xB,EAAc,GAapB,GAZA4xB,EAAU/6C,SAAQghB,IAChBppB,OAAOC,QAAQmpB,EAAS09B,SAASx3C,OAAOlH,SAAQ,EAAExK,EAAIuU,MACpDof,EAAY3zB,GAAM,CAChBA,KACAQ,KAAM+T,EAAK/T,MAAQ+T,EAAKyf,YACxBA,YAAazf,EAAKyf,YAClBS,kBAAmBlgB,EAAKkgB,yBAI9B1tB,KAAKtG,MAAMwzB,YAAYN,IAElB4xB,EAAU1xC,MAAK2X,GAAYA,EAASxoB,MAAQwoB,EAASxoB,KAAKyG,SAC7D,MAAM,IAAIzC,MAIdyqB,GAAgB1qB,KAAM,WAAW6rD,IAC/B,GAAkB,OAAdA,QAAoC,IAAdA,GAAwBA,EAAU/+B,GAAI,CAC9D,MAAMA,EAAK++B,EAAU/+B,GACfjR,EAAU,CAACiR,EAAG7zB,IAMpB,GAJI6zB,EAAGmoB,OACLp5B,EAAQ3gB,KAAM,SAAQ4xB,EAAGmoB,SAGvBnoB,EAAGnjB,KAAM,CACX,MAAMA,EAAOD,GAAsBojB,EAAGnjB,MACtC3J,KAAKtG,MAAMyzB,kBAAkB,CAC3B,CAACL,EAAG7zB,IAAK0Q,IAAU,KAAImjB,EAAG7zB,KAAO,GAAK0Q,EAAKnR,QAAQ,MAAO,MAI9DwH,KAAKtG,MAAMizB,WAAW,CACpBzgB,YAAa,KACb2P,YAMJ7b,KAAKtG,MAAMoyD,gBAGbphC,GAAgB1qB,KAAM,kBAAkB,IAAMA,KAAKssB,SAAS,CAC1Di7B,SAAyC,kBAAxBvnD,KAAK5C,MAAMmqD,SAAwBvnD,KAAK5C,MAAMmqD,SAAW,EAAI,MAGhF78B,GAAgB1qB,KAAM,oBAAoB,KACxC0mC,OAAOqlB,iBAAiB,SAAUh2C,cAAS,KACzC/V,KAAKgsD,mBACJ,SAGLhsD,KAAK5C,MAAQ,CACXmqD,SAAU,MAId0E,oBACEjsD,KAAKksD,mBAGPC,mBAAmBngC,GAEbhsB,KAAKtG,MAAM6f,mBAAqByS,EAAUzS,kBAC5CvZ,KAAKgsD,iBAIT/7B,SACE,MAAM,cACJ31B,EADI,WAEJ8xD,EAFI,aAGJrI,EAHI,MAIJrrD,EAJI,UAKJgpB,EALI,kBAMJ+kC,GACEzmD,KAAKtG,OACH,SACJ6tD,GACEvnD,KAAK5C,MACT,OAAQ9C,GAAiB5B,EAAqBwF,IAAMC,cAAckuD,GAAa,MAAqBnuD,IAAMC,cAAckwB,WAAU,KAAM3M,EAAyBxjB,IAAMC,cAAc,MAAO,CAC1Lmc,MAAOjc,GAAO8sD,cACAjtD,IAAMC,cAAc2rD,GAAa,OAAS,KAAmB5rD,IAAMC,cAAcqoD,GAAqB,CACpHvtD,GAAIsuD,EACJjtD,cAAeA,EACf4B,QAASkwD,EACTzN,iBAAkB3+C,KAAK2+C,iBACvB8H,kBAAmBA,EACnBC,oBAAqB1mD,KAAK0mD,oBAC1BjuD,QAASuH,KAAKvH,QACdkuD,QAAS3mD,KAAK2mD,QACdrsC,MAAOjc,GAAO6sD,YACdnH,aAAcA,MAoBb,MAAMuI,GAAwBl4B,aAAe,CAAC9lB,GAAaK,GAAmB4O,KAAuB,CAAC1iB,EAASP,EAAekf,IAAmBA,EAAevgB,GAAKqB,EAAgBO,IAC/K0xD,GAAqBn4B,aAAe,CAAC7W,KAAuB/D,GAAkBA,EAAeoe,QAAU,CAClHiN,mBAAoBrrB,EAAeoe,SACjC,KACS40B,GAAuBp4B,aAAe,CAACzkB,KAAkC+0B,IAAe,CACnGA,sBAsBW+nB,GAAgB3uD,aAnBLV,IAAK,CAC3B9C,cAAegyD,GAAsBlvD,GACrCgvD,WAAYG,GAAmBnvD,GAC/Bmc,iBAAkB+D,GAAuBlgB,GACzC1E,MAAOmpB,GAAczkB,GACrBskB,UAAWK,GAAoB3kB,GAC/B2mD,aAAcyI,GAAqBpvD,OAGVW,IAAQ,CACjC0oD,kBAAmB,IAAM1oD,EAASmkB,IAAmB,IACrDgL,YAAanjB,GAAYhM,EAASukB,GAAcvY,IAChDojB,kBAAmBnjB,GAAkBjM,EAASqU,GAAoBpI,IAClE4hD,SAAU9xD,GAASiE,ECxNU,CAC7B3E,KAAM4W,GACNnY,MDsNuCiC,IACvC4xD,aAAchzD,GAASqF,EAASikB,GAAetpB,IAC/Ci0B,WAAY/G,GAAQ7nB,EAASyT,GAAaoU,IAC1CkmC,WAAY,IAAM/tD,EAASmiB,SAGApiB,CAA6CwtD,IErM3DoB,OAvBG,EAChBpyC,QAAQ,CACNxb,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT24B,QAAS,MACT9d,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCk6B,OAAQ,OACRC,YAAa,IACbp5B,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,wUACHC,KAAM,cClBD,MAAMytD,GAAoB,CAAC3gD,EAAShC,KACzC,QAAmChD,IAA/BgD,EAAegC,EAAQ/S,IAM3B,MAAmC,KAA/B+Q,EAAegC,EAAQ/S,IAClB,IAAM+S,EAAQ/S,GAGhB,IAAM+Q,EAAegC,EAAQ/S,IAAM,IAAM+S,EAAQ/S,IA4D7C2zD,GAAiC,CAAC/xD,EAASkP,EAAUM,KAChE,IAAIwC,EAMJ,OALAA,EAxC6DhS,KAAO,IAAUA,EAC9E5B,QAAI+N,EACJvN,UAAMuN,EACNimB,iBAAajmB,IAqCJ6lD,CAAgDhyD,GACzDgS,EApCwD,EAAChS,EAASkP,KAClE,MAAM+iD,EAAc/gD,IAAS,IAAUA,EACrCpB,MAAOoB,EAAUpB,MAAMlO,KAAI+Q,IAAI,IAAUA,EACvC/T,KAAMsQ,EAASyD,EAAKvU,IAAM8Q,EAASyD,EAAKvU,IAAIQ,UAAOuN,QAIvD,MAAO,IAAKnM,EACVmB,QAASnB,EAAQmB,QAAQS,IAAIqwD,GAC7B5wD,QAASrB,EAAQqB,QAAQO,IAAIqwD,GAC7B7wD,KAAMpB,EAAQoB,KAAKQ,IAAIqwD,KA0BhBC,CAA2ClgD,EAAQ9C,GAC5D8C,EAxBuD,EAAChS,EAASkP,KACjE,MAAMijD,EAAsBjhD,IAAS,IAAUA,EAC7CpB,MAAOoB,EAAUpB,MAAMlO,KAAI+Q,IAAI,IAAUA,EACvCkgB,kBAAmB3jB,EAASyD,EAAKvU,IAAM8Q,EAASyD,EAAKvU,IAAIy0B,uBAAoB1mB,QAIjF,MAAO,IAAKnM,EACVmB,QAASnB,EAAQmB,QAAQS,IAAIuwD,GAC7B9wD,QAASrB,EAAQqB,QAAQO,IAAIuwD,GAC7B/wD,KAAMpB,EAAQoB,KAAKQ,IAAIuwD,KAchBC,CAA0CpgD,EAAQ9C,GAC3D8C,EA/DmC,EAAChS,EAASwP,KAC7C,MAAMsB,EAAqBC,aAAkC/Q,GAEvDgR,EADgBrI,GAAiBmI,GACVG,MACvB,eACJ9B,GACEK,EAEJ,OAAKwB,EAIE,IAAKhR,EACV,CAACgR,GAAShR,EAAQgR,GAAQpP,KAAIsP,IAAS,IAAUA,EAC/CpB,MAAOoB,EAAUpB,MAAMlO,KAAI+Q,IAAI,IAAUA,EACvC7D,KAAMgjD,GAAkBn/C,EAAMxD,YAN3BnP,GAsDAqyD,CAAsBrgD,EAAQxC,GACvCwC,EAb0C,EAAChS,GAC3CmP,qBAD0C,IAEhCnP,EACVmP,eAAgB,IAAKnP,EAAQmP,kBACxBA,KASImjD,CAA6BtgD,EAAQxC,GACvCwC,GC3CMugD,OAlCE,EACf9yC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,8CACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,oCCQKoQ,OApCC,EACd/yC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BCKKqQ,OAnCI,EACjBhzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BCAKsQ,OA7BG,EAChBjzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,oBACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,OAAQ,CAC3Ck6B,OAAQ,UACRC,YAAa,IACbr5B,EAAG,kFACYf,IAAMC,cAAc,OAAQ,CAC3Ck6B,OAAQ,UACRC,YAAa,IACbr5B,EAAG,2GCoBUuuD,OA3CG,EAChBlzC,QAAQ,CACNxb,MAAO,GACPC,OAAQ,GACRq7B,aAAc,UAECl8B,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,oBACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,OAAQ,CAC3Ce,KAAM,UACNC,SAAU,UACVF,EAAG,gSACYf,IAAMC,cAAc,IAAK,CACxCgB,SAAU,UACVO,UAAW,kBACGxB,IAAMC,cAAc,UAAW,CAC7Ce,KAAM,UACN+9C,OAAQ,kQACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,yXACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,kQACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,kYACO/+C,IAAMC,cAAc,OAAQ,CAC3Ce,KAAM,UACND,EAAG,mSCNUwuD,OA/BE,EACfnzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,oCCUKyQ,OAnCC,EACdpzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,oBACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,KACH0jB,OAAQ,UACRC,YAAa,MACEp6B,IAAMC,cAAc,OAAQ,CAC3Ce,KAAM,UACND,EAAG,kIACHS,UAAW,sBACIxB,IAAMC,cAAc,OAAQ,CAC3Ce,KAAM,UACND,EAAG,kIACHS,UAAW,wBCsBEiuD,OAnDQ,EACrBrzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,KACPC,OAAQ,KACRw5B,EAAG,IACHC,EAAG,KACHH,OAAQ,UACRC,YAAa,MACEp6B,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,KACPC,OAAQ,IACRw5B,EAAG,IACHC,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,IACPC,OAAQ,KACRw5B,EAAG,KACHC,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,KACPC,OAAQ,IACRw5B,EAAG,IACHC,EAAG,KACHt5B,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,KACPC,OAAQ,IACRw5B,EAAG,IACHC,EAAG,KACHt5B,KAAM,cCOO0uD,OApDG,EAChBtzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,oBACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,KACH0jB,OAAQ,UACRC,YAAa,MACEp6B,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,IACH0jB,OAAQ,UACRC,YAAa,MACEp6B,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,IACHzV,KAAM,YACShB,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,IACHzV,KAAM,YACShB,IAAMC,cAAc,SAAU,CAC7CsW,GAAI,KACJC,GAAI,KACJC,EAAG,IACHzV,KAAM,YACShB,IAAMC,cAAc,UAAW,CAC9Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,wBCfK4Q,OA/BK,EAClBvzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5CY,OAAQ,KACRU,QAAS,YACTX,MAAO,KACPE,MAAO,6BACPsb,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,OAAQ,CAC1Cc,EAAG,oBACYf,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,uBACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,4YACHC,KAAM,YACShB,IAAMC,cAAc,OAAQ,CAC3Cc,EAAG,gUACHC,KAAM,cCWO4uD,OApCS,EACtBxzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,OAAQ,CAC3CW,MAAO,KACPC,OAAQ,KACRw5B,EAAG,IACHC,EAAG,KACHH,OAAQ,UACRC,YAAa,MACEp6B,IAAMC,cAAc,OAAQ,CAC3Ce,KAAM,UACN87B,WAAY,qCACZjzB,SAAU,KACVqxB,WAAY,OACZ6G,cAAe,MACD/hC,IAAMC,cAAc,QAAS,CAC3Co6B,EAAG,KACHC,EAAG,MACF,UCUYu1B,OAzCS,EACtBzzC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,gEACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,8CACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,kCACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,sCCUK+Q,OA7CQ,EACrB1zC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BCKKgR,OA5CW,EACxB3zC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BCMKiR,OA5CgB,EAC7B5zC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,WACIjB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,4BCHKkR,OAnCc,EAC3B7zC,QAAQ,CACN8f,aAAc,MACdt7B,MAAO,GACPC,OAAQ,OAEOb,IAAMC,cAAc,MAAO,CAC5Ca,MAAO,6BACPS,QAAS,YACT6a,MAAOA,GACOpc,IAAMC,cAAc,IAAK,CACvCe,KAAM,OACNC,SAAU,UACVO,UAAW,2BACGxB,IAAMC,cAAc,UAAW,CAC7C8+C,OAAQ,wBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,sBACO/+C,IAAMC,cAAc,UAAW,CAC9Ce,KAAM,UACN+9C,OAAQ,0BACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,kCACO/+C,IAAMC,cAAc,WAAY,CAC/Ck6B,OAAQ,UACRC,YAAa,IACb2kB,OAAQ,oCCgFKmR,OA5FM,EACnBC,WACA/zC,YAEA,OAAQ+zC,GACN,KAAKC,IACH,OAAoBpwD,IAAMC,cAAc8vD,GAAmB,CACzD3zC,MAAOA,IAGX,KAAKi0C,IACH,OAAoBrwD,IAAMC,cAAckvD,GAAS,CAC/C/yC,MAAOA,IAGX,KAAKk0C,IACH,OAAoBtwD,IAAMC,cAAc6vD,GAAgB,CACtD1zC,MAAOA,IAGX,KAAK1M,IACH,OAAoB1P,IAAMC,cAAcuvD,GAAS,CAC/CpzC,MAAOA,IAGX,KAAKtP,IACH,OAAoB9M,IAAMC,cAAcovD,GAAW,CACjDjzC,MAAOA,IAGX,KAAK23B,IACH,OAAoB/zC,IAAMC,cAAcsvD,GAAU,CAChDnzC,MAAOA,IAGX,KAAKm0C,IACH,OAAoBvwD,IAAMC,cAAcivD,GAAU,CAChD9yC,MAAOA,IAGX,KAAKo0C,IACH,OAAoBxwD,IAAMC,cAAc4vD,GAAiB,CACvDzzC,MAAOA,IAGX,KAAKq0C,IACH,OAAoBzwD,IAAMC,cAAcyvD,GAAW,CACjDtzC,MAAOA,IAGX,KAAK9P,IACH,OAAoBtM,IAAMC,cAAcgwD,GAAsB,CAC5D7zC,MAAOA,IAGX,KAAK7P,IACH,OAAoBvM,IAAMC,cAAc+vD,GAAwB,CAC9D5zC,MAAOA,IAGX,KAAKrP,IACH,OAAoB/M,IAAMC,cAAc2vD,GAAiB,CACvDxzC,MAAOA,IAGX,IAAK,MACH,OAAoBpc,IAAMC,cAAcqvD,GAAW,CACjDlzC,MAAOA,IAGX,KAAKvP,IACH,OAAoB7M,IAAMC,cAAcwvD,GAAgB,CACtDrzC,MAAOA,IAGX,KAAKlP,IACH,OAAoBlN,IAAMC,cAAc0vD,GAAa,CACnDvzC,MAAOA,IAGX,KAAK03B,IACL,QACE,OAAoB9zC,IAAMC,cAAcmvD,GAAY,CAClDhzC,MAAOA,M,sBCpDAs0C,OA9CmB,EAChCP,WACAz3C,QACA7W,cACAsV,WACA2b,aACAvZ,cAEA,MAAMo3C,EAAa,CAACxwD,KAAOywD,UAU3B,OARI99B,GACF69B,EAAW3zD,KAAKmD,KAAO0wD,gBAGrB15C,GACFw5C,EAAW3zD,KAAKmD,KAAO2wD,kBAGL9wD,IAAMC,cAAc,MAAO,CAC7CC,UAAWywD,EAAWlyD,KAAK,KAC3B8a,QAASA,GACKvZ,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAO4wD,cACJ/wD,IAAMC,cAAciwD,GAAc,CAChDC,SAAUA,EACV/zC,MAAO,CACLxb,MAAO,GACPC,OAAQ,OAEMb,IAAMC,cAAc,MAAO,CAC3CC,UAAWC,KAAO6wD,cACJhxD,IAAMC,cAAc,IAAK,CACvCC,UAAWC,KAAO8wD,cACjBv4C,GAAqB1Y,IAAMC,cAAc,IAAK,CAC/CC,UAAWC,KAAO+wD,qBACjBrvD,MCvBE,MAEDsvD,GAAuC,EAC3CruD,oBACAqJ,KACAilD,QACAC,cACA10D,UACAkP,YACCyiB,KACD,MAAM6Y,EAAU7Y,EAAQ6Y,SACjBmqB,EAAYC,GAAiB75B,oBAAS,GAEvC85B,EAAa,IAAMD,GAAeD,GAElCG,EAAsBv2D,GAAQ,KAClCk2D,EAAM/kD,GAAmB,IAAKF,EAC5BjR,UAEFm2D,IACAG,KAgBIE,EAA4B1xD,IAAMC,cAAc,MAAO,CAC3D,YAAa,oCACCD,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAOwxD,eACJ3xD,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAOyxD,aAPMz0D,OAAO0I,KAAKgsD,KAQrBtzD,KAAIrD,GAAqB8E,IAAMC,cAAcywD,GAA2B,CACvFnzD,IAAKrC,EACLi1D,SAAUj1D,EACVwd,MAAOm5C,IAAoB32D,GAC3B2G,YAAaiwD,IAAoB52D,GACjC43B,WAAY53B,IAAS4H,EACrByW,QAASk4C,EAAoBv2D,QACZ8E,IAAMC,cAAc4iD,IAAS,MAAoB7iD,IAAMC,cAAc,MAAO,CAC7FC,UAAWC,KAAOyxD,aACJ5xD,IAAMC,cAAcywD,GAA2B,CAC7DnzD,IAAK,MACL4yD,SAAU,MACVz3C,MAAOzW,UAAKC,EAAE,eAEdL,YAAaI,UAAKC,EAAE,6EACpBqX,QAlC2B0I,UAC3B,IAAKtlB,EAEH,YADAm7B,EAAMC,kBAIR,MAAMg6B,EAA0BrD,GAA+B/xD,EAASkP,EAAUM,SAC5E2c,GAAyBipC,GAC/BvpB,OAAO5c,SAASomC,KAAQ,GAAE7qB,mBAA2B9e,WA2BrDlR,UAAWxa,OAEPykC,EAAyBkJ,sBAC/B,OAAoBtqC,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACpGsZ,QAASi4C,EACT77B,IAAKyL,EACLlhC,UAAWC,KAAO8xD,OAClB,YAAa,sCACCjyD,IAAMC,cAAciwD,GAAc,CAChDC,SAAUrtD,IACK9C,IAAMC,cAAc,OAAQ,CAC3C,YAAa,uDACZ4xD,IAAoB/uD,IAAkC9C,IAAMC,cAAc,OAAQ,CACnFC,UAAWC,KAAO+xD,WACJlyD,IAAMC,cAAcuuD,GAAW,QAAS8C,GAA2BtxD,IAAMC,cAAc+3B,KAAO,CAC5Gze,QAASi4C,GACKxxD,IAAMC,cAAcg4B,KAAQ,CAC1CC,UAAWkJ,EACXjJ,UAAW,gBACGn4B,IAAMC,cAAc,MAAO,CACzCC,UAAWC,KAAOgyD,eACjBT,OAWLP,GAAqCx+B,aAAe,CAClDwU,QAASvU,IAAUmwB,QAGrB,MAYaqP,GAA4BxyD,aAZjBV,IAAK,CAC3B4D,kBAAmBiU,GAAW7X,GAC9BvC,QAASyT,GAAYlR,GACrB2M,SAAUsY,GAAajlB,GACvBiN,GAAIwS,GAAOzf,OAGcW,IAAQ,CACjCuxD,MAAOjlD,GAAMtM,EAASmS,GAAQ7F,IAC9BklD,YAAa,IAAMxxD,EAASiV,SAGWlV,CAA6CuxD,I,gBC3HtF,SAAS3kC,GAAgBC,EAAKlvB,EAAK5D,GAAiK,OAApJ4D,KAAOkvB,EAAOtvB,OAAOuvB,eAAeD,EAAKlvB,EAAK,CAAE5D,MAAOA,EAAOgzB,YAAY,EAAMC,cAAc,EAAMC,UAAU,IAAkBJ,EAAIlvB,GAAO5D,EAAgB8yB,EA2BpM,MAAM4lC,WAAuB1kC,YAClCjsB,eAAeksB,GACb5rB,SAAS4rB,GAETpB,GAAgB1qB,KAAM,WAAY,MAElC0qB,GAAgB1qB,KAAM,gBAAiB,iBAEvC0qB,GAAgB1qB,KAAM,QAAS,CAC7BwwD,iBAAkB,KAClBC,uBAAuB,EACvBC,mBAAmB,IAGrBhmC,GAAgB1qB,KAAM,WAAW8pB,IAC/B,IAAK9pB,KAAK5C,MAAMozD,iBACd,OAAO,EAMT,OAHW1mC,EAAS1D,SAASprB,MAAM,GAAGif,MAAM,KAAK,KAClCja,KAAK5C,MAAMozD,iBAAiBx1D,MAAM,GAAGif,MAAM,KAAK,IAE1Cja,KAAK5C,MAAMozD,mBAAqB1mC,EAAS1D,YAOhEsE,GAAgB1qB,KAAM,iBAAiB8pB,IACrC,MAAM6mC,EAAY7mC,EAAS1D,SAASprB,MAAM,GAAGif,MAAM,KAGnD,MAAO,CACLhhB,GAHS03D,EAAU,GAInB94B,iBAHuB84B,EAAU,OAOrCjmC,GAAgB1qB,KAAM,qBAAqBmgB,UACzC,GAAI2J,EAAS1D,SAAS1jB,OAAS,EAAG,CAIhC,MAAM,GACJzJ,EADI,iBAEJ4+B,GACE73B,KAAK4wD,cAAc9mC,GACjBD,EAA0B5wB,IAAOstB,GAEvC,GAAIsD,EAAyB,CAC3B,MAAMgnC,QAAWzpC,KACjBpnB,KAAKtG,MAAMyzB,kBAAkB1hB,GAAmColD,IAIhE7wD,KAAKtG,MAAMo3D,qBACX9wD,KAAKtG,MAAMq3D,eACX/wD,KAAKtG,MAAMs3D,uBAAuBH,GAClC7wD,KAAKtG,MAAMu3D,iBAAiBjxD,KAAKtG,MAAM2Q,KAGpCwf,GAA2B7pB,KAAKkxD,QAAQpnC,UACrC9pB,KAAKtG,MAAMy3D,iBAAiB,CAChCl4D,KACA4+B,mBACAsoB,SAAUngD,KAAKtG,MAAMymD,WAIpBtoB,GACH73B,KAAKtG,MAAM03D,2BAGbpxD,KAAKtG,MAAMsrB,WACXhlB,KAAKtG,MAAM03D,sBAGbpxD,KAAKssB,SAAS,CACZmkC,uBAAuB,IAEzBzwD,KAAKssB,SAAS,CACZkkC,iBAAkB1mC,EAAS1D,cAI/BsE,GAAgB1qB,KAAM,qBAAqBmgB,UACzC,MAAM,GACJsG,EADI,aAEJs9B,GACE/jD,KAAKtG,YACHsG,KAAKtG,MAAM23D,YAAYtN,GAC7B/jD,KAAKtG,MAAM43D,QAAQ7qC,EAAGC,aACtB1mB,KAAKtG,MAAM63D,kBAAkB3c,IAC7B50C,KAAKtG,MAAM83D,gBACX,MAAMvjC,EAAejuB,KAAKtG,MAAMgW,SAASF,sBACnC2yC,EAAW,IpM5Ed9mD,OAAOC,QAAQ,CA3CtBm2D,MAAOtxD,UAAKC,EAAE,SACdsxD,UAAWvxD,UAAKC,EAAE,aAClBuxD,YAAaxxD,UAAKC,EAAE,eACpBwxD,YAAazxD,UAAKC,EAAE,eACpByxD,aAAc1xD,UAAKC,EAAE,gBACrB0xD,UAAW3xD,UAAKC,EAAE,aAClB2xD,UAAW5xD,UAAKC,EAAE,aAClB4xD,aAAc7xD,UAAKC,EAAE,gBACrB6xD,cAAe9xD,UAAKC,EAAE,iBACtB8xD,cAAe/xD,UAAKC,EAAE,iBACtBukD,gBAAiBxkD,UAAKC,EAAE,mBACxB+xD,WAAYhyD,UAAKC,EAAE,cACnBgyD,WAAYjyD,UAAKC,EAAE,cACnBiyD,cAAelyD,UAAKC,EAAE,iBACtBkyD,cAAenyD,UAAKC,EAAE,iBACtBmyD,eAAgBpyD,UAAKC,EAAE,kBACvBoyD,iBAAkBryD,UAAKC,EAAE,oBACzBqyD,aAActyD,UAAKC,EAAE,gBACrBsyD,aAAcvyD,UAAKC,EAAE,gBACrBuyD,gBAAiBxyD,UAAKC,EAAE,mBACxBwyD,mBAAoBzyD,UAAKC,EAAE,sBAC3ByyD,aAAc1yD,UAAKC,EAAE,gBACrB0yD,aAAc3yD,UAAKC,EAAE,gBACrB2yD,gBAAiB5yD,UAAKC,EAAE,mBACxB4yD,mBAAoB7yD,UAAKC,EAAE,sBAC3B6yD,eAAgB9yD,UAAKC,EAAE,kBACvB8yD,eAAgB/yD,UAAKC,EAAE,kBACvB+yD,iBAAkBhzD,UAAKC,EAAE,qBACzBgzD,oBAAqBjzD,UAAKC,EAAE,uBAC5BizD,oBAAqBlzD,UAAKC,EAAE,uBAC5BkzD,uBAAwBnzD,UAAKC,EAAE,0BAC/BmzD,UAAWpzD,UAAKC,EAAE,aAClBozD,UAAWrzD,UAAKC,EAAE,aAClBqzD,aAActzD,UAAKC,EAAE,gBAIrB,CAACkc,MAAgBnc,UAAKC,EAAE,0BACxB,CAACszD,MAAyBvzD,UAAKC,EAAE,kBACjC,CAACuzD,MAA8BxzD,UAAKC,EAAE,uBAMnC7E,QAAO,CAACovB,GAAMlvB,EAAK5D,MAAZ,IAA6B8yB,EACrC,CAAClvB,GAAM,CACLhC,KAAM5B,MAEN,KoMwEAo2B,EAAaxqB,SAAQyqB,IACfA,EAAYj1B,KACdkpD,EAASj0B,EAAYj1B,IAAM,IAAKi1B,EAC9BvkB,KAAO,IAAGukB,EAAYj1B,UAI5B+G,KAAKtG,MAAMwzB,YAAYi1B,GACvBniD,KAAK4zD,kBAAkB5zD,KAAKtG,MAAMowB,UAClC9pB,KAAK6zD,SAAW1tC,GAAQ2tC,QAAOhqC,IAC7B,IAAIiqC,EAAiBC,EAAkBC,EAEvC,MAAM5tC,EAAkD,QAAtC0tC,EAAkBjqC,EAAS1sB,aAAuC,IAApB22D,OAA6B,EAASA,EAAgB1tC,SAChHy0B,EAAoD,QAAvCkZ,EAAmBlqC,EAAS1sB,aAAwC,IAArB42D,OAA8B,EAASA,EAAiBlZ,UACpHE,EAAsD,QAAvCiZ,EAAmBnqC,EAAS1sB,aAAwC,IAArB62D,OAA8B,EAASA,EAAiBjZ,aACtH,iBACJnjB,GACE73B,KAAK4wD,cAAc9mC,GAGvBlb,GAAsB5O,KAAKtG,MAAMY,cAAe0F,KAAKtG,MAAMmB,WAAamU,IACxEhP,KAAK5C,MAAMozD,mBAAqB1mC,EAAS1D,UACvCpmB,KAAKtG,MAAM8f,eAAevgB,IAAM4+B,GACjCxR,IAKKA,GAAYy0B,GAAaE,GAAeh7C,KAAK5C,MAAMozD,mBAAqB1mC,EAAS1D,WACnFpmB,KAAK4zD,kBAAkB9pC,GAGzB9pB,KAAKssB,SAAS,CACZokC,kBAAmB,QATrB1wD,KAAKssB,SAAS,CACZokC,kBAAmB5mC,OAYzBoqC,SAAShuB,KAAK6lB,iBAAiB,SAAS30C,GAAe,UAAVA,EAAE3b,MAAiC,IAAd2b,EAAE+8C,SAAoBn0D,KAAKtG,MAAMu3D,iBAAiBjxD,KAAKtG,MAAM2Q,MAC/Hq8B,OAAOqlB,iBAAiB,gBAAgB/1B,IAClCpnB,GAAsB5O,KAAKtG,MAAMY,cAAe0F,KAAKtG,MAAMmB,WAAamU,KAC1EgnB,EAAMmK,iBACNnK,EAAMo+B,YAAcj0D,UAAKC,EAAE,oCAMnCi0D,uBACMr0D,KAAK6zD,UACP7zD,KAAK6zD,WAITS,kBACE,MAAO,CACLjvB,QAASrlC,KAAKtG,MAAM2rC,QACpBllC,eACAsmB,GAAIzmB,KAAKtG,MAAM+sB,GACfzD,WAAYhjB,KAAKtG,MAAMspB,YAI3BiN,SACE,OAAoB/xB,IAAMC,cAAcD,IAAMmwB,SAAU,KAAmBnwB,IAAMC,cAAc,MAAO,CACpGC,UAAW,4CACGF,IAAMC,cAAc,MAAO,CACzCC,UAAW,2BACGF,IAAMC,cAAc,MAAO,CACzCC,UAAW,gBACGF,IAAMC,cAAcmyD,GAA2B,OAAqBpyD,IAAMC,cAAc,MAAO,CAC7GC,UAAW,+BACGF,IAAMC,cAAco+C,GAAS,CAC3CR,cAAe/7C,KAAK+7C,cACpBzmC,SAAU,kBACOpX,IAAMC,cAAc,MAAO,CAC5CC,UAAW,oCACGF,IAAMC,cAAcu4B,GAAY,KAAmBx4B,IAAMC,cAAc,MAAO,CAC5FC,UAAW,aACGF,IAAMC,cAAco2D,GAAiB,OAAqBr2D,IAAMC,cAAc,MAAO,CACnGC,UAAW,6DACGF,IAAMC,cAAc,MAAO,CACzCC,UAAW,sBACGF,IAAMC,cAAcijC,GAAQ,OAAqBljC,IAAMC,cAAc,MAAO,CAC1FC,UAAW,wBACGF,IAAMC,cAAc+/C,GAAU,OAAqBhgD,IAAMC,cAAc,MAAO,CAC5FC,UAAW,kCACV4B,KAAK5C,MAAMqzD,uBAAsCvyD,IAAMC,cAAcsuD,GAAe,SAAUzsD,KAAKtG,MAAM2Q,GAAGkP,kBAAoBvZ,KAAKtG,MAAMmB,SAAwBqD,IAAMC,cAAc,MAAO,CAC/LC,UAAW,cACGF,IAAMC,cAAc+5B,GAAiB,CACnD9+B,KAAM4G,KAAK+7C,cACX9iD,GAAI+G,KAAKtG,MAAMmB,QAAQ5B,QAClB+G,KAAK5C,MAAMszD,mBAAkCxyD,IAAMC,cAAc+xB,KAAO,CAC7ExY,OAAO,EACPpC,SAAU,uBACIpX,IAAMC,cAAckyB,KAAY,KAAMlwB,UAAKC,EAAE,6BAA2ClC,IAAMC,cAAcmyB,KAAc,KAAMnwB,UAAKC,EAAE,yFAAuGlC,IAAMC,cAAcqyB,KAAc,KAAmBtyB,IAAMC,cAAcsyB,IAAa,CAClV+jC,KAAK,GACSt2D,IAAMC,cAAcqZ,IAAQ,CAC1CG,WAAW,EACXF,QAAS,KACPzX,KAAKssB,SAAS,CACZokC,kBAAmB,OAErBvqC,GAAQsuC,UAEVn/C,SAAU,qCACTnV,UAAKC,EAAE,eAA6BlC,IAAMC,cAAcqZ,IAAQ,CACjEC,QAAS,KACPzX,KAAK4zD,kBAAkB5zD,KAAK5C,MAAMszD,mBAClC1wD,KAAKssB,SAAS,CACZokC,kBAAmB,QAGvBxoC,SAAS,EACT5S,SAAU,sCACTnV,UAAKC,EAAE,kBAAgClC,IAAMC,cAAcN,GAAU,MAAoBK,IAAMC,cAAcu2D,IAAc,CAC5HphD,QAAQ,EACRH,SAAS,EACTwhD,YAAY,MAMlB,MASMrrC,GAAqB,CACzB2nC,iBAAkBvnC,EAAwBzJ,mBAC1C6wC,mBAAoBpnC,EAA8BtZ,QAClD2gD,aAAcrnC,EAAwBtZ,QACtC4gD,uBAAwBtnC,EAAmBpZ,yBAC3C6c,kBAAmBzD,EAAmBtX,oBACtCwiD,cAAelrC,EAAyBjsB,gBACxC4zD,YAAa3nC,EAAyB7G,aACtCyuC,QAAS5nC,EAAqBrF,eAC9BktC,kBAAmB7nC,EAAqBnF,mBACxCitC,cAAe9nC,EAA2B3I,eAC1CmM,YAAaxD,EAAyBpH,cACtC6uC,iBtMrOkC,EAClCl4D,KACA4+B,mBACAsoB,cACIhgC,MAAOpiB,EAAUqiB,EAAUY,KAC/B,MAAME,EAAYf,UAChBpiB,EAASknB,IAA8B,IACvC,MAAM3qB,EAAgB+uD,YAAsBlJ,EAAU17B,EAASnqB,eAK/D,GAJAA,EAAc0B,QAAU6oB,GAAevqB,EAAc0B,SACrD1B,EAAc2B,KAAO4oB,GAAevqB,EAAc2B,MAClD3B,EAAc4B,QAAU2oB,GAAevqB,EAAc4B,SAEjD27B,EAAkB,CACpB,MAAMre,EAAiBlf,EAAc8B,gBAAgBmI,MAAKwb,GAAKA,EAAE9mB,KAAO4+B,IAEpEre,IACFzb,EAASqnB,GAA6B5L,IACtCzb,EAASqnB,O5C7CoB,EAACpC,EAAY/pB,KAAO+pB,EAAW+C,OAAOjtB,EAAuB,CAChG4rB,UAAW,CACTzrB,MAEFR,a4C6CEo8D,CAAsB7zC,EAAQ1mB,EAAcrB,IAC5C8E,EAASmnB,GAAqC5qB,IAC9CyD,EAASonB,GAAyB7qB,IAClCyD,EAASqnB,GAAgC9qB,IACzCyD,EAASknB,OAGX,IACE,OAAO/D,OzC9C0B,EAAC8B,EAAY/pB,IACzC+pB,EAAWC,MAAMzmB,EAAoB,CAC1CkoB,UAAW,CACTzrB,QyC2CqB67D,CAAsB9zC,EAAQ/nB,IACrD,MAAO87D,GACP,IAAIC,EAEJ,IAAIt8D,EAAQq8D,EAGVr8D,EADmN,OAA9L,OAAlBq8D,QAA4C,IAAlBA,GAAwF,QAAnDC,EAAwBD,EAAc7Z,eAA+C,IAA1B8Z,OAArE,EAAiHA,EAAsBlY,gBACvL,IAAIz6C,GACe,OAAlB0yD,QAA4C,IAAlBA,GAA4BA,EAAc73D,QACrE63D,EAAc73D,QAEd,IAAIgF,GAGdnE,EAASinB,GAAStsB,IAClBksB,GAAS,uBAAwBlsB,KsM0LnC04D,oBAAqB1nC,EAAmB5W,wBACxCkS,SAAU0E,IAEZ6mC,GAAe1/B,aAAe,CAC5BokC,MAAOnkC,IAAU1kB,QAEnBmkD,GAAe2E,kBAAoB,CACjCzuC,GAAIqK,IAAU1kB,OACd4W,WAAY8N,IAAU1kB,OACtBi5B,QAASvU,IAAUmwB,OACnB9gD,KAAM2wB,IAAU1kB,QA4BX,MAAM+oD,GAAMr3D,aA5DKV,IAAK,CAC3BsS,SAAU2kB,EAA0B5kB,aAAarS,GACjDvC,QAASw5B,EAAyB/lB,YAAYlR,GAC9Coc,eAAgB6a,EAAoB9W,qBAAqBngB,GACzDiN,GAAIgqB,EAAoBxX,OAAOzf,GAC/B9C,cAAeqU,GAAkBvR,GACjCG,SAAU82B,EAA0B/2B,aAAaF,MAsDPksB,GAAzBxrB,CAA6CyyD,ICjTnD6E,GAAoB,CAC/Br8D,SAAU,eACVC,OAAQ,CACNyC,IAAK,CAAC,cAAe,gCAGZ45D,GAA+BC,wBAAc,IAiC3CC,OA/Bc,EAC3B99B,eAEA,MAAO/nB,EAAU8lD,GAAe5/B,mBAAS,IACnC5U,EAASokB,cAiBf,OAhBAqN,qBAAU,MACRtyB,iBACE,MAAM,aACJ4jC,SACQ/iC,EAAOiC,MAAM,CACrB8gC,aAAcqR,KAEhBI,EAAY,IAAKzR,EACfrf,gBAAiBqf,EAAa0R,2BAC9BlmD,oBAAiE,SAA5Cw0C,EAAa0R,2BAAwC,cAAgB,mBAC1F39D,SAAUisD,EAAav8B,cAI3B48B,KACC,IACiBlmD,IAAMC,cAAck3D,GAAgBK,SAAU,CAChE79D,MAAO,CACLksD,aAAcr0C,IAEf+nB,I,QCjBUk+B,OAfQC,IAIrB,MAAMC,EAAqC,kBAAXnvB,QAAuBA,OAAOovB,qCAAuCpvB,OAAOovB,qCAAqC,CAC/Ir8D,KAAM,wBACHs8D,KAML,OAJKrvB,OAAOovB,qCAILE,aAAYC,GAASJ,EAAiBK,gBAAmBN,MCflD,KACd73D,cACIo4D,GAAQ94D,IACe,kBAApBA,EAAO0M,WAA0B3G,MAAMC,QAAQhG,EAAO0M,WAAahM,EAASukB,GAAcjlB,EAAO0M,WACxGosD,EAAK94D,I,sXCsCP,MAAM4pB,GAAY,UAClB9mB,UAAKi2D,aAAa,KAAMnvC,GAAWovC,IACnCl2D,UAAKi2D,aAAa,QAASnvC,GAAWqvC,IACtCn2D,UAAKi2D,aAAa,MAAOnvC,GAAWsvC,IACpCp2D,UAAKi2D,aAAa,KAAMnvC,GAAWuvC,IACnCr2D,UAAKi2D,aAAa,KAAMnvC,GAAWwvC,IACnCt2D,UAAKi2D,aAAa,KAAMnvC,GAAWyvC,IACnCv2D,UAAKi2D,aAAa,KAAMnvC,GAAW0vC,IACnCx2D,UAAKi2D,aAAa,SAAUnvC,GAAW2vC,IACvCz2D,UAAKi2D,aAAa,KAAMnvC,GAAW4vC,IACnC12D,UAAKi2D,aAAa,KAAMnvC,GAAW6vC,IACnC32D,UAAKi2D,aAAa,KAAMnvC,GAAW8vC,IACnC52D,UAAKi2D,aAAa,KAAMnvC,GAAW+vC,IACnC72D,UAAKi2D,aAAa,KAAMnvC,GAAWgwC,IACnC92D,UAAKi2D,aAAa,KAAMnvC,GAAWiwC,IACnC/2D,UAAKi2D,aAAa,KAAMnvC,GAAWkwC,IACnCh3D,UAAKi2D,aAAa,KAAMnvC,GAAWmwC,IACnCj3D,UAAKi2D,aAAa,MAAOnvC,GAAWowC,IACpCl3D,UAAKi2D,aAAa,KAAMnvC,GAAWqwC,IACnCn3D,UAAKi2D,aAAa,KAAMnvC,GAAWswC,IACnCp3D,UAAKi2D,aAAa,QAASnvC,GAAWuwC,IACtCr3D,UAAKi2D,aAAa,KAAMnvC,GAAWwwC,IACnCt3D,UAAKi2D,aAAa,KAAMnvC,GAAWywC,IACnCv3D,UAAKi2D,aAAa,KAAMnvC,GAAW0wC,IACnCx3D,UAAKi2D,aAAa,KAAMnvC,GAAW2wC,IACnCz3D,UAAKi2D,aAAa,MAAOnvC,GAAW4wC,IACpC13D,UAAKi2D,aAAa,KAAMnvC,GAAW6wC,IACnC33D,UAAKi2D,aAAa,KAAMnvC,GAAW8wC,IACnC53D,UAAKi2D,aAAa,KAAMnvC,GAAW+wC,IACnC73D,UAAKi2D,aAAa,KAAMnvC,GAAWgxC,IACnC93D,UAAKi2D,aAAa,UAAWnvC,GAAWixC,IACxC/3D,UAAKi2D,aAAa,UAAWnvC,GAAWkxC,IACxCh4D,UAAKi2D,aAAa,KAAMnvC,GAAWmxC,IACnCj4D,UAAKi2D,aAAa,KAAMnvC,GAAWoxC,IACnCl4D,UAAKi2D,aAAa,QAASnvC,GAAWqxC,IACvBn4D,EAAf,QCPeo4D,UA1DI,KACjB,MAAM,QACJlzB,GACEC,cACEtkB,EAASokB,cACT6vB,EAAQU,GAAe,CAAC6C,IAAMC,kBAAkBz3C,GAAS03C,KAE3DhyB,OAAOiyB,UACTjyB,OAAOuuB,MAAQA,GAGjB,MAAO9U,EAAU2G,GAAelxB,mBAAS,MACnCgjC,EAAsBzZ,uBAAYh/B,eACf+nC,YAA+BlnC,IAErD,CAACA,IACJyxB,qBAAU,KACQtyB,WACd,MAAM04C,QAAqBD,IAC3B9R,EAAY+R,IAGdlY,KAEC,IACH,MACMmY,EAAW,CACfC,QAFc,CAAC,gBAAiB,mBAAoB,cAItD,OAAoB76D,IAAMC,cAAc66D,IAAe,CACrD/D,MAAOA,GACO/2D,IAAMC,cAAco3D,GAAsB,KAAmBr3D,IAAMC,cAAck3D,GAAgB4D,SAAU,MAAM,EAC/HlV,kBAEwB,OAAjBA,QAA0C,IAAjBA,GAA2BA,EAAav8B,YAA2BtpB,IAAMC,cAAc+6D,IAAQ,CAC7HJ,SAAUA,EACVK,SAAU,aACVC,OAAQrV,EAAav8B,cACpB,EACDf,QAEKA,EAIiBvoB,IAAMC,cAAcg3D,GAAK,CAC3C1uC,GAAIA,EACJqD,SAAU3D,GAAQ2D,SAClBub,QAASA,EACTriB,WAAYhC,EACZm/B,SAAUA,EACV4D,aAAcA,IART,OAWN","file":"static/js/app.9fb6af51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrowIcon\":\"VisualizationTypeSelector_arrowIcon__3-VDi\",\"button\":\"VisualizationTypeSelector_button__1d_Dv\",\"cardContainer\":\"VisualizationTypeSelector_cardContainer__2ZbJX\",\"listContainer\":\"VisualizationTypeSelector_listContainer__2ofGu\",\"listSection\":\"VisualizationTypeSelector_listSection__3wu8W\",\"listItem\":\"VisualizationTypeSelector_listItem__3Faru\",\"listItemActive\":\"VisualizationTypeSelector_listItemActive__1jCF3\",\"listItemDisabled\":\"VisualizationTypeSelector_listItemDisabled__2vjjv\",\"listItemSvg\":\"VisualizationTypeSelector_listItemSvg__30TD2\",\"listItemIcon\":\"VisualizationTypeSelector_listItemIcon__2vUNZ\",\"listItemName\":\"VisualizationTypeSelector_listItemName__1dM76\",\"listItemDescription\":\"VisualizationTypeSelector_listItemDescription__1-Joc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Snackbar_container__3g0Vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TextStyle_container__3Vjzk\",\"buttonStrip\":\"TextStyle_buttonStrip__Oj9Al\",\"fontSizeSelect\":\"TextStyle_fontSizeSelect__1coQa\",\"textAlignSelect\":\"TextStyle_textAlignSelect__1BWew\",\"textColorLabel\":\"TextStyle_textColorLabel__3_9vF\",\"textColorInput\":\"TextStyle_textColorInput__RRc04\",\"textColorIcon\":\"TextStyle_textColorIcon__U5wlq\",\"disabled\":\"TextStyle_disabled__3jpDQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"DialogManager_tabs__3ckG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notDragging\":\"DndDimensionItem_notDragging__3jgQJ\",\"dragging\":\"DndDimensionItem_dragging__1uXIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionList_container__DCFRx\",\"wrapper\":\"DndDimensionList_wrapper__1gYqU\",\"list\":\"DndDimensionList_list__1sErz\",\"header\":\"DndDimensionList_header__Ugsfp\",\"section\":\"DndDimensionList_section__1KL69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionsPanel_container__1gaeS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconButton\":\"IconButton_iconButton__2bUtk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"DefaultAxis_content__VAbLV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuButton\":\"MenuButton_menuButton__1AF2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconWrapper\":\"InterpretationsButton_iconWrapper__1Jh2C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"AxisRange_label__3EO63\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tab\":\"VerticalTab_tab__19jwC\",\"selected\":\"VerticalTab_selected__111gW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"VerticalTabBar_container__2NnHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"AxesTabs_tabs__Nmg_g\",\"content\":\"AxesTabs_content__1iife\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameColumn\":\"SeriesTable_nameColumn__1lKoI\",\"typeColumn\":\"SeriesTable_typeColumn__3IJyD\",\"tableHead\":\"SeriesTable_tableHead__mKvSY\",\"tableCell\":\"SeriesTable_tableCell__19T31\",\"tableBody\":\"SeriesTable_tableBody__3ZBSF\",\"itemName\":\"SeriesTable_itemName__2IJxR\",\"typeContainer\":\"SeriesTable_typeContainer__362YU\",\"visIcon\":\"SeriesTable_visIcon__1knYT\",\"axisIcon\":\"SeriesTable_axisIcon__jMyg-\",\"errorContainer\":\"SeriesTable_errorContainer__3RrKX\",\"errorIcon\":\"SeriesTable_errorIcon__2iTpj\",\"errorTitle\":\"SeriesTable_errorTitle__3e3NZ\",\"errorDescription\":\"SeriesTable_errorDescription__2SfGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Outliers_divider__2KHJJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuBar\":\"MenuBar_menuBar__3-AXT\",\"updateButton\":\"MenuBar_updateButton__1NS3q\",\"grow\":\"MenuBar_grow__1w_QG\"};","/**\n *\n * @param {Date} value Javascript date\n * @param {String} uiLocale\n * @returns {String}\n */\nconst formatDate = (value = '', uiLocale = 'en') => {\n  if (typeof global.Intl !== 'undefined' && Intl.DateTimeFormat) {\n    return new Intl.DateTimeFormat(uiLocale, {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(new Date(value));\n  }\n\n  return value.substr(0, 19).replace('T', ' ');\n};\n\nexport default formatDate;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"VisualizationPlugin_container__1YekL\",\"legendKey\":\"VisualizationPlugin_legendKey__mkOzm\",\"legendKeyToggle\":\"VisualizationPlugin_legendKeyToggle__2f56s\",\"wrapper\":\"VisualizationPlugin_wrapper__3RWry\",\"buttonMargin\":\"VisualizationPlugin_buttonMargin__3AAfe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"LoadingMask_progress__2bHzE\",\"outer\":\"LoadingMask_outer__d-GDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"StartScreen_outer__2nbkE\",\"inner\":\"StartScreen_inner__2exeL\",\"errorContainer\":\"StartScreen_errorContainer__u2dgL\",\"errorIcon\":\"StartScreen_errorIcon__1QTyz\",\"errorTitle\":\"StartScreen_errorTitle__2Ksw9\",\"errorDescription\":\"StartScreen_errorDescription__syq9m\",\"title\":\"StartScreen_title__2-0vP\",\"section\":\"StartScreen_section__3ITr1\",\"guide\":\"StartScreen_guide__d793i\",\"guideItem\":\"StartScreen_guideItem__13mvT\",\"visualization\":\"StartScreen_visualization__3FqSm\",\"visIcon\":\"StartScreen_visIcon__2SFAA\"};","// Helper functions\nexport const onError = error => console.log('Error: ', error);","import { onError } from './index.js';\nexport const EVENT_TYPE = 'VISUALIZATION_VIEW';\nconst dataStatisticMutation = {\n  resource: 'dataStatistics',\n  params: ({\n    id\n  }) => ({\n    favorite: id,\n    eventType: EVENT_TYPE\n  }),\n  type: 'create'\n};\nexport const apiPostDataStatistics = (dataEngine, id) => dataEngine.mutate(dataStatisticMutation, {\n  variables: {\n    id\n  },\n  onError\n});","export const BASE_FIELD_NAME = 'name';\nexport const BASE_FIELD_TYPE = 'type';\nexport const BASE_FIELD_YEARLY_SERIES = 'yearlySeries';\n\nconst getFieldObject = (name, props = {}) => ({\n  [BASE_FIELD_NAME]: name,\n  ...props\n}); // fields by type\n\n\nexport const fieldsByType = {\n  reportTable: [getFieldObject('cumulative', {\n    option: true\n  }), getFieldObject('hideEmptyColumns', {\n    option: true\n  }), getFieldObject('measureCriteria', {\n    option: true\n  }), getFieldObject('numberType', {\n    option: true\n  }), getFieldObject('regression', {\n    option: true\n  }), getFieldObject('reportingParams', {\n    option: true\n  }), getFieldObject('skipRounding', {\n    option: true\n  }), getFieldObject('fixColumnHeaders', {\n    option: true\n  }), getFieldObject('fixRowHeaders', {\n    option: true\n  })],\n  chart: [getFieldObject('category', {\n    excluded: true\n  }), getFieldObject(BASE_FIELD_YEARLY_SERIES)],\n  eventReport: [getFieldObject('dataType')],\n  reportTable_eventReport: [getFieldObject('colSubTotals', {\n    option: true\n  }), getFieldObject('colTotals', {\n    option: true\n  }), getFieldObject('displayDensity', {\n    option: true\n  }), getFieldObject('fontSize', {\n    option: true\n  }), getFieldObject('hideEmptyRows', {\n    option: true\n  }), getFieldObject('rowSubTotals', {\n    option: true\n  }), getFieldObject('rowTotals', {\n    option: true\n  }), getFieldObject('showDimensionLabels', {\n    option: true\n  }), getFieldObject('showHierarchy', {\n    option: true\n  })],\n  chart_eventChart: [getFieldObject('axes', {\n    option: true\n  }), getFieldObject('colorSet', {\n    option: true\n  }), getFieldObject('cumulativeValues', {\n    option: true\n  }), getFieldObject('fontStyle', {\n    option: true\n  }), getFieldObject('hideEmptyRowItems', {\n    option: true\n  }), getFieldObject('seriesKey', {\n    option: true\n  }), getFieldObject('legend', {\n    option: true\n  }), getFieldObject('noSpaceBetweenColumns', {\n    option: true\n  }), getFieldObject('percentStackedValues', {\n    option: true\n  }), getFieldObject('regressionType', {\n    option: true\n  }), getFieldObject('series', {\n    option: true\n  }), getFieldObject('showData', {\n    option: true\n  }), getFieldObject('outlierAnalysis', {\n    option: true\n  }), getFieldObject(BASE_FIELD_TYPE, {\n    option: true\n  })],\n  eventReport_eventChart: [getFieldObject('attributeValueDimension'), getFieldObject('collapseDataDimensions'), getFieldObject('dataElementValueDimension'), getFieldObject('endDate'), getFieldObject('eventStatus', {\n    option: true\n  }), getFieldObject('hideNaData', {\n    option: true\n  }), getFieldObject('outputType', {\n    option: true\n  }), getFieldObject('program'), getFieldObject('programStage'), getFieldObject('programStatus', {\n    option: true\n  }), getFieldObject('startDate'), getFieldObject('value')],\n  reportTable_eventReport_eventChart: [getFieldObject('columnDimensions', {\n    excluded: true\n  }), getFieldObject('rowDimensions', {\n    excluded: true\n  })],\n  reportTable_chart_eventReport_eventChart: [getFieldObject('access'), getFieldObject('aggregationType', {\n    option: true\n  }), getFieldObject('attributeDimensions', {\n    excluded: true\n  }), getFieldObject('attributeValues', {\n    excluded: true\n  }), getFieldObject('categoryDimensions', {\n    excluded: true\n  }), getFieldObject('categoryOptionGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('code', {\n    excluded: true\n  }), getFieldObject('columns'), getFieldObject('completedOnly', {\n    option: true\n  }), getFieldObject('created'), getFieldObject('dataDimensionItems', {\n    excluded: true\n  }), getFieldObject('dataElementDimensions', {\n    excluded: true\n  }), getFieldObject('dataElementGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('description'), getFieldObject('digitGroupSeparator'), getFieldObject('displayDescription'), getFieldObject('displayName'), getFieldObject('displayShortName'), getFieldObject('externalAccess', {\n    excluded: true\n  }), getFieldObject('favorite'), getFieldObject('favorites'), getFieldObject('filterDimensions', {\n    excluded: true\n  }), getFieldObject('filters'), getFieldObject('hideSubtitle', {\n    option: true\n  }), getFieldObject('hideTitle', {\n    option: true\n  }), getFieldObject('href'), // required for translations via analytics FileMenu and d2-ui TranslationDialog\n  getFieldObject('id'), getFieldObject('interpretations'), getFieldObject('itemOrganisationUnitGroups', {\n    excluded: true\n  }), getFieldObject('lastUpdated'), getFieldObject('lastUpdatedBy'), getFieldObject('name'), getFieldObject('organisationUnitGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('organisationUnitLevels', {\n    excluded: true\n  }), getFieldObject('organisationUnits', {\n    excluded: true\n  }), getFieldObject('parentGraphMap'), getFieldObject('periods', {\n    excluded: true\n  }), getFieldObject('programIndicatorDimensions', {\n    excluded: true\n  }), getFieldObject('publicAccess'), getFieldObject('relativePeriods', {\n    excluded: true\n  }), getFieldObject('rows'), getFieldObject('shortName'), getFieldObject('sortOrder', {\n    option: true\n  }), getFieldObject('subscribed'), getFieldObject('subscribers'), getFieldObject('subtitle', {\n    option: true\n  }), getFieldObject('timeField'), getFieldObject('title', {\n    option: true\n  }), getFieldObject('topLimit', {\n    option: true\n  }), getFieldObject('translations'), getFieldObject('user'), getFieldObject('userAccesses'), getFieldObject('userGroupAccesses'), getFieldObject('userOrganisationUnit', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitChildren', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitGrandChildren', {\n    excluded: true\n  })]\n};\nfieldsByType.visualization = [...fieldsByType.reportTable, ...fieldsByType.chart, ...fieldsByType.reportTable_eventReport, ...fieldsByType.chart_eventChart, ...fieldsByType.reportTable_eventReport_eventChart, ...fieldsByType.reportTable_chart_eventReport_eventChart]; // actions\n\nexport const extractName = propObj => propObj[BASE_FIELD_NAME];\nexport const markExcluded = fieldObj => fieldObj.excluded === true ? { ...fieldObj,\n  [BASE_FIELD_NAME]: `!${fieldObj[BASE_FIELD_NAME]}`\n} : fieldObj;\n/* eslint-disable-next-line max-params */\n\nexport const moveExcludedToEnd = (acc, current, curIndex, array) => {\n  !acc && (acc = array.slice());\n  current.charAt(0) === '!' && acc.push(acc.shift());\n  return acc;\n}; // getters\n\nexport const getAllFieldObjectsByType = type => Object.entries(fieldsByType).reduce((fields, [key, value]) => key.includes(type) ? fields.concat(value) : fields, []);","// constants\nconst ID = 'id';\nconst NAME = 'name,displayName,displayShortName';\nconst DIMENSION_ITEM = `dimensionItem~rename(${ID})`;\nconst LEGEND_SET = `${ID},${NAME}`;\nconst USER = `${NAME},userCredentials[username]`;\nconst ITEMS = `${DIMENSION_ITEM},${NAME},dimensionItemType`;\nconst AXIS = `dimension,filter,legendSet[${LEGEND_SET}],items[${ITEMS}]`;\nconst INTERPRETATIONS = 'id,created';\nconst LEGEND = `showKey,style,strategy,set[${LEGEND_SET}]`; // nested fields map\n\nexport const nestedFields = {\n  columns: AXIS,\n  rows: AXIS,\n  filters: AXIS,\n  user: USER,\n  interpretations: INTERPRETATIONS,\n  legend: LEGEND\n};\nexport const extendFields = field => `${field}${nestedFields[field] ? `[${nestedFields[field]}]` : ''}`;","import { getFieldsStringByType } from '../modules/fields/index.js';\nconst visualizationQuery = {\n  visualization: {\n    resource: 'visualizations',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: getFieldsStringByType('visualization')\n    }\n  }\n};\nconst visualizationsQuery = {\n  visualization: {\n    resource: 'visualizations',\n    params: ({\n      visualizationIds\n    }) => ({\n      filter: `id:in:[${visualizationIds}]`,\n      fields: ['id', 'type']\n    })\n  }\n};\nexport const apiFetchVisualization = (dataEngine, id) => {\n  return dataEngine.query(visualizationQuery, {\n    variables: {\n      id\n    }\n  });\n};\nexport const apiFetchVisualizations = (dataEngine, visualizationIds) => {\n  return dataEngine.query(visualizationsQuery, {\n    variables: {\n      visualizationIds\n    }\n  });\n};\nexport const apiSaveVisualization = (dataEngine, visualization) => {\n  const mutation = {\n    type: 'create',\n    resource: 'visualizations',\n    data: visualization,\n    params: {\n      skipTranslations: 'true',\n      skipSharing: 'true'\n    }\n  };\n\n  if (visualization.id) {\n    mutation.type = 'update';\n    mutation.id = visualization.id;\n  }\n\n  return dataEngine.mutate(mutation);\n};","import { getAllFieldObjectsByType, extractName, markExcluded, moveExcludedToEnd } from './baseFields.js';\nimport { extendFields } from './nestedFields.js';\nexport { getAllFieldObjectsByType };\nexport const getOptionsByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.option === true);\nexport const getIncludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => !fieldObj.excluded);\nexport const getExcludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.excluded === true);\nexport const getFieldsStringByType = type => getAllFieldObjectsByType(type).map(markExcluded).map(extractName).sort().reduce(moveExcludedToEnd, null).map(extendFields).join(',');","export const RECEIVED_SNACKBAR_MESSAGE = 'RECEIVED_SNACKBAR_MESSAGE';\nexport const CLEAR_SNACKBAR = 'CLEAR_SNACKBAR';\nexport const DEFAULT_SNACKBAR = {\n  message: null,\n  duration: null\n};\nexport default ((state = DEFAULT_SNACKBAR, action) => {\n  switch (action.type) {\n    case RECEIVED_SNACKBAR_MESSAGE:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    case CLEAR_SNACKBAR:\n      {\n        return DEFAULT_SNACKBAR;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSnackbar = state => state.snackbar;","import { RECEIVED_SNACKBAR_MESSAGE, CLEAR_SNACKBAR } from '../reducers/snackbar.js';\nexport const acReceivedSnackbarMessage = value => ({\n  type: RECEIVED_SNACKBAR_MESSAGE,\n  value\n});\nexport const acClearSnackbar = () => ({\n  type: CLEAR_SNACKBAR\n});","import { AlertBar } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acClearSnackbar } from '../../actions/snackbar.js';\nimport { sGetSnackbar } from '../../reducers/snackbar.js';\nimport styles from './styles/Snackbar.module.css';\nexport const VARIANT_ERROR = 'error';\nexport const VARIANT_SUCCESS = 'success';\nexport const VARIANT_WARNING = 'warning';\nexport const UnconnectedSnackbar = ({\n  snackbar,\n  onClose\n}) => {\n  const {\n    variant,\n    message,\n    duration\n  } = snackbar;\n  return message && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(AlertBar, {\n    duration: duration,\n    critical: variant === VARIANT_ERROR,\n    success: variant === VARIANT_SUCCESS,\n    warning: variant === VARIANT_WARNING,\n    permanent: variant === VARIANT_ERROR || variant === VARIANT_WARNING,\n    onHidden: onClose\n  }, message));\n};\nUnconnectedSnackbar.propTypes = {\n  snackbar: PropTypes.object,\n  onClose: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  snackbar: sGetSnackbar(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: () => dispatch(acClearSnackbar())\n});\n\nexport const Snackbar = connect(mapStateToProps, mapDispatchToProps)(UnconnectedSnackbar);","import React from 'react';\nexport const EmptyBox = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"100\",\n  height: \"100\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M96.4184693 4.6480742l-2.9759268 2.6728C91.5558812 5.2202435 88.8786031 4 86 4V0c4.0260387 0 7.7809122 1.7113874 10.4184693 4.6480742zM100 19.269042h-4l-.0000544-5.3024514c-.0043849-1.346405-.2739964-2.6517927-.7866406-3.8623659l3.6833463-1.559795c.7189815 1.6978243 1.0971493 3.5288134 1.1032837 5.4156229L100 19.269042zm0 13.9999755h-4v-10h4v10zm0 14h-4v-10h4v10zm0 14h-4v-10h4v10zm0 13.9999995h-4v-9.9999995h4v9.9999995zm-.516108 14.50858l-3.8521996-1.077292C95.8751624 87.829701 96 86.924153 96 86v-6.730983h4V86c0 1.289184-.1747984 2.557136-.516108 3.777597zM87.7213345 99.895024l-.4874961-3.970182c2.8302961-.34753 5.3578432-1.892491 6.9762006-4.213767l3.2812621 2.287645c-2.2629208 3.245799-5.802045 5.409086-9.7699666 5.896304zM73.461965 100v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zM3.17264828 94.875717l3.09219912-2.537382c1.79303608 2.185097 4.4211055 3.525451 7.2855127 3.651773l-.176231 3.996116c-4.01094422-.176885-7.69477669-2.055693-10.20148082-5.110507zM0 80.192922h4l.00006331 5.84312c.00418159 1.190127.21554574 2.348454.61951638 3.438567L.86883696 90.864547C.3022517 89.335619.0059261 87.711683.00007566 86.043095L0 80.192922zm0-13.999974h4v10H0v-10zm0-14.0000005h4v10H0v-10zm0-14h4v10H0v-10zm0-14h4v10H0v-10zM.701349 9.6140131l3.79891292 1.2523021C4.17021443 11.8675286 4 12.9209553 4 14v6.1929475H0V14c0-1.5058511.2385093-2.9819426.701349-4.3859869zM12.9113947.0417954l.3073341 3.9881757c-2.8514503.2197365-5.43930476 1.6474003-7.16021518 3.8917822l-3.1742768-2.4339201C5.29022999 2.3499781 8.91606935.3496804 12.9113947.0417954zM27.07607 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10z\",\n  fill: \"#A0ADBA\",\n  fillRule: \"nonzero\"\n}));\nexport const PeriodError = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"100\",\n  height: \"100\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#A0ADBA\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M72.9999996 82.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM72.9999996 60.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M72.9999996 45.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L82.0312812 51.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M49.9999996-3.4e-7c27.6142375 0 50 22.38576254 50 50.00000004 0 3.4254464-.3449043 6.8082851-1.0236569 10.111998-.3334386 1.6229556-1.9194094 2.6683156-3.542365 2.334877-1.6229555-.3334386-2.6683156-1.9194094-2.334877-3.5423649.5972413-2.9069705.9008989-5.8852591.9008989-8.9045101 0-24.300529-19.699471-44.00000004-44-44.00000004S5.99999963 25.6994707 5.99999963 49.9999997c0 20.0457004 13.52123857 37.4107541 32.60787227 42.5117075 1.6006767.4277851 2.5514932 2.0721783 2.1237081 3.672855-.4277851 1.6006767-2.0721782 2.5514932-3.672855 2.1237082C15.3630605 92.5100466-3.7e-7 72.7795776-3.7e-7 49.9999997-3.7e-7 22.3857622 22.3857621-3.4e-7 49.9999996-3.4e-7z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M31.9999996 52.4999997c-1.3807118 0-2.5-1.1192882-2.5-2.5 0-1.3254834 1.031536-2.4100387 2.3356243-2.4946824l.1643757-.0053176 15.4995614-.0008627.0004386-24.4991373c0-1.3807119 1.1192882-2.5 2.5-2.5 1.3254834 0 2.4100387 1.0315359 2.4946823 2.3356243l.0053177.1643757v27c0 1.3254834-1.0315359 2.4100386-2.3356243 2.4946823l-.1643757.0053177h-18z\"\n})));\nexport const DataError = () => /*#__PURE__*/React.createElement(\"svg\", {\n  width: \"98\",\n  height: \"97\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#A0ADBA\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M47.9999996-3.4e-7c26.375131 0 48 8.64933258 48 21.00093054 0 6.7822228-6.3726775 12.3999932-16.8111022 16.1776421-1.5579685.5638263-3.2780231-.2420853-3.8418493-1.8000538-.5638263-1.5579685.2420852-3.2780231 1.8000537-3.8418493 8.3196582-3.0108708 12.8528978-7.007103 12.8528978-10.535739 0-7.5352197-18.6656043-15.00093054-42-15.00093054-23.3343956 0-41.99999997 7.46571084-41.99999997 15.00093054 0 8.3458435 22.23414277 16.1998284 47.97788217 14.8410919 1.6545514-.087326 3.066622 1.1831611 3.1539481 2.8377124.087326 1.6545514-1.1831611 3.066622-2.8377125 3.1539481C25.4193432 43.3576729-3.7e-7 34.3785482-3.7e-7 21.0009302-3.7e-7 8.64933224 21.6248687-3.4e-7 47.9999996-3.4e-7z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92.9999996 17.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v24c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-24c0-1.6568543 1.3431458-3 3-3zM2.99999963 17.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.0917782c0 6.7884007 15.40674827 13.7997289 36.16062537 14.9125249 1.6544777.088711 2.9237824 1.5018446 2.8350715 3.1563223-.088711 1.6544776-1.5018446 2.9237823-3.1563223 2.8350714C18.3983599 64.7388196.36378289 56.6257218.00543546 45.431923L-3.7e-7 45.0917779V20.9999997c0-1.6568543 1.34314575-3 3-3z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2.99999963 41.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.011713c0 5.6006467 10.94212037 11.6895243 27.41972777 14.017794 1.6405579.2318092 2.7825744 1.7496627 2.5507652 3.3902207-.2318092 1.640558-1.7496627 2.7825745-3.3902207 2.5507653l-1.1438963-.168296C13.057544 85.989973.26320686 78.7580311.00401161 69.3047869L-3.7e-7 69.0117127v-24.011713c0-1.6568543 1.34314575-3 3-3zM70.9999996 79.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM70.9999996 57.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M70.9999996 42.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L80.0312812 48.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\"\n})));\nexport const EmptySeries = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"100\",\n  width: \"100\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92 52c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V60c0-4.418278 3.581722-8 8-8zm0 4H8c-2.209139 0-4 1.790861-4 4v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V60c0-2.209139-1.790861-4-4-4z\",\n  fill: \"#e8edf2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.5567844 7.04865205l-3.8222065 1.17929519C94.9653901 5.7349373 92.6508139 4 90 4V0c4.4179248 0 8.2737479 2.89021004 9.5567844 7.04865205zM100 21.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 48v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 43.8539409 9.22479438 44 10 44h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 33.461965h4V38c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 42.558667 0 40.3386428 0 38zm0-14h4v10H0zM1.6090385 4.55843779L4.96347541 6.7373717C4.33751189 7.70103338 4 8.82295605 4 10v5.461965H0V10c0-1.95639059.56487346-3.8340854 1.6090385-5.44156221zM16.0507133 0v4H10c-1.00213211 0-1.96454891.24434864-2.82591887.70537441L5.28653945 1.17873487C6.72503094.40881989 8.33525118 0 10 0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0z\",\n  fill: \"#a0adba\"\n})));\nexport const EmptyCategory = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"100\",\n  width: \"100\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92 0c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V8c0-4.418278 3.581722-8 8-8zm0 4H8C5.790861 4 4 5.790861 4 8v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V8c0-2.209139-1.790861-4-4-4z\",\n  fill: \"#e8edf2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.5567844 59.048652l-3.8222065 1.1792952C94.9653901 57.7349373 92.6508139 56 90 56v-4c4.4179248 0 8.2737479 2.89021 9.5567844 7.048652zM100 73.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 100v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 95.8539409 9.22479438 96 10 96h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 85.461965h4V90c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 94.558667 0 92.3386428 0 90zm0-14h4v10H0zm1.6090385-14.9035272l3.35443691 2.1789339C4.33751189 59.7010334 4 60.822956 4 62v5.461965H0V62c0-1.9563906.56487346-3.8340854 1.6090385-5.4415622zM16.0507133 52v4H10c-1.00213211 0-1.96454891.2443486-2.82591887.7053744l-1.88754168-3.5266395C6.72503094 52.4088199 8.33525118 52 10 52zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4z\",\n  fill: \"#a0adba\"\n})));\nexport const GenericError = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"96\",\n  viewBox: \"0 0 96 96\",\n  width: \"96\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"#a0adba\",\n  transform: \"translate(3 3)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m40.5 73.5000001c0 2.4852813 2.0147186 4.5 4.5 4.5s4.5-2.0147187 4.5-4.5c0-2.4142734-1.9012365-4.3844892-4.2881643-4.4951021l-.2128322-.0048979c-2.4848234.0005384-4.4990035 2.0150507-4.4990035 4.5z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m48 60v-30c0-1.6568542-1.3431458-3-3-3s-3 1.3431458-3 3v30c0 1.6568542 1.3431458 3 3 3s3-1.3431458 3-3z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m45-2.99904788c3.8985931 0 7.4578604 2.21715778 9.1770339 5.71709169l37.8912554 77.19048409c1.3845546 2.8165473 1.2171646 6.1482722-.4427191 8.811863-1.6598833 2.6635901-4.5771005 4.2816904-7.7135702 4.2796124h-77.82201115c-3.13845856.002078-6.05567574-1.6160223-7.71555901-4.2796124-1.65988369-2.6635908-1.82727377-5.9953157-.44346379-8.8103471l37.89234295-77.19269833c1.7188306-3.49923557 5.2780979-5.71639335 9.176691-5.71639335zm0 6c-1.6106864 0-3.0811818.91600885-3.7909661 2.36100407l-37.89274459 77.19351591c-.47005356.9562122-.41322496 2.0873262.15030227 2.99161.56352731.9042839 1.5539177 1.4529206 2.62140842 1.4529206h77.8259889c1.0655018 0 2.0558922-.5486367 2.6194195-1.4529206.5635272-.9042838.6203558-2.0353978.1495577-2.9931259l-37.8916571-77.19130167c-.7101272-1.44569356-2.1806226-2.36170241-3.791309-2.36170241z\"\n})));","import { getDisplayNameByVisType, getAvailableAxes, getAxisNameByLayoutType, getLayoutTypeByVisType, getAxisPerLockedDimension, DIMENSION_ID_DATA, AXIS_ID_COLUMNS, AXIS_ID_ROWS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { EmptySeries, EmptyCategory, PeriodError, DataError, GenericError, EmptyBox } from '../assets/ErrorIcons.js';\nimport { VARIANT_ERROR, VARIANT_WARNING } from '../components/Snackbar/Snackbar.js';\nexport class VisualizationError {\n  constructor(icon, title, description) {\n    this.icon = icon;\n    this.title = title;\n    this.description = description;\n  }\n\n}\nexport class EmptyResponseError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('No data available'), i18n.t('The selected dimensions didn’t return any data. There may be no data, or you may not have access to it.'));\n  }\n\n}\nexport class NoSeriesError extends VisualizationError {\n  constructor(visType) {\n    super(EmptySeries, i18n.t(`{{axisName}} is empty`, {\n      axisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{axisName}}.', {\n      axisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType))\n    }));\n  }\n\n}\nexport class NoCategoryError extends VisualizationError {\n  constructor(visType) {\n    super(EmptyCategory, i18n.t(`{{axisName}} is empty`, {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{axisName}}.', {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }));\n  }\n\n}\nexport class NoSeriesOrCategoryError extends VisualizationError {\n  constructor(visType) {\n    super(EmptyBox, i18n.t(`{{columnsAxisName}} and {{rowsAxisName}} are empty`, {\n      columnsAxisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType)),\n      rowsAxisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{columnsAxisName}} or {{rowsAxisName}} to create a {{visualizationType}}.', {\n      columnsAxisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType)),\n      rowsAxisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType)),\n      visualizationType: getDisplayNameByVisType(visType)\n    }));\n  }\n\n}\nexport class NoPeriodError extends VisualizationError {\n  constructor(visType) {\n    super(PeriodError, i18n.t('No period selected'), i18n.t('{{visualizationType}} must have at least one period selected in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class NoPointsError extends VisualizationError {\n  constructor(visType) {\n    super(EmptyBox, i18n.t(`{{axisName}} is empty`, {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add organisation units to {{axisName}}.', {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }));\n  }\n\n}\nexport class NoVerticalError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('Vertical is empty'), i18n.t('Add a data item to the vertical axis.'));\n  }\n\n}\nexport class NoHorizontalError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('Horizontal is empty'), i18n.t('Add a data item to the horizontal axis.'));\n  }\n\n}\nexport class DuplicateItemsError extends VisualizationError {\n  constructor() {\n    super(DataError, i18n.t('Axes data items are the same'), i18n.t('The horizontal and vertical axes have the same data item. Scatter chart axes must have different data for each axis.'));\n  }\n\n}\nexport class NoDataOrDataElementGroupSetError extends VisualizationError {\n  constructor(visType) {\n    const lockedAxis = getAxisPerLockedDimension(visType, DIMENSION_ID_DATA);\n    super(DataError, i18n.t('No data selected'), i18n.t('{{visualizationType}} must have at least one data item or data element group set item in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: lockedAxis ? getAxisNameByLayoutType(lockedAxis, getLayoutTypeByVisType(visType)) : getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class NoDataError extends VisualizationError {\n  constructor(visType) {\n    const lockedAxis = getAxisPerLockedDimension(visType, DIMENSION_ID_DATA);\n    super(DataError, i18n.t('No data selected'), i18n.t('{{visualizationType}} must have at least one data item in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: lockedAxis ? getAxisNameByLayoutType(lockedAxis, getLayoutTypeByVisType(visType)) : getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class MultipleIndicatorAsFilterError extends VisualizationError {\n  constructor() {\n    super(DataError, i18n.t(\"There's a problem with the layout\"), i18n.t('A single indicator must be the only data item when using indicators as Data in Filter.'));\n  }\n\n}\nexport class CombinationDEGSRRError extends VisualizationError {\n  constructor() {\n    super(DataError, genericErrorTitle, i18n.t('Data Element Group Sets and Reporting Rates cannot be used together.'));\n  }\n\n}\nexport class GenericClientError extends VisualizationError {\n  constructor(visType) {\n    super(GenericError, genericErrorTitle, i18n.t('There is a problem with this {{visualizationType}} visualization.', {\n      visualizationType: getDisplayNameByVisType(visType)\n    }));\n  }\n\n}\nexport class GenericServerError extends VisualizationError {\n  constructor() {\n    super(GenericError, genericErrorTitle, i18n.t('There was a problem getting the data from the server.'));\n  }\n\n}\nexport class AssignedCategoriesDataElementsError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories can only be used with data elements'), i18n.t('Fix this problem by selecting data elements or removing Assigned Categories.'));\n  }\n\n}\nexport class AssignedCategoriesAsFilterError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories cannot be used as Filter'), i18n.t('Fix this problem by moving or removing Assigned Categories.'));\n  }\n\n}\nexport class VisualizationNotFoundError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Visualization not found'), i18n.t('The visualization you are trying to view could not be found, the ID could be incorrect or it could have been deleted.'));\n  }\n\n}\nexport class NoOrgUnitResponseError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('No organization units found'), i18n.t(\"The level or group selections didn't return any organization units.\"));\n  }\n\n}\nexport const genericErrorTitle = i18n.t('Something went wrong');\n\nconst getAvailableAxesDescription = visType => {\n  const axes = getAvailableAxes(visType);\n  let axesDescription = '';\n\n  for (let index = 0; index < axes.length; index++) {\n    axesDescription += getAxisNameByLayoutType(axes[index], getLayoutTypeByVisType(visType));\n\n    if (index < axes.length - 2) {\n      axesDescription += ', ';\n    } else if (index < axes.length - 1) {\n      axesDescription += ` ${i18n.t('or')} `;\n    }\n  }\n\n  return axesDescription;\n};\n\nexport const getErrorVariantByStatusCode = statusCode => String(statusCode).match(/50\\d/) ? VARIANT_ERROR : VARIANT_WARNING;","import { createHashHistory } from 'history';\nexport default createHashHistory();","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, getAxisMaxNumberOfDimensions, getAvailableAxes, isAxisFull, getTransferableDimension } from '@dhis2/analytics'; // Names for dnd sources\n\nexport const SOURCE_DIMENSIONS = 'dimensions'; // Layout utility functions\n// Exclude one or many dimensions from layout\n\nexport const getFilteredLayout = (layout, excludedIds) => {\n  var _layout$AXIS_ID_COLUM, _layout$AXIS_ID_ROWS, _layout$AXIS_ID_FILTE;\n\n  const ids = Array.isArray(excludedIds) ? excludedIds : [excludedIds];\n  return {\n    [AXIS_ID_COLUMNS]: ((_layout$AXIS_ID_COLUM = layout[AXIS_ID_COLUMNS]) === null || _layout$AXIS_ID_COLUM === void 0 ? void 0 : _layout$AXIS_ID_COLUM.filter(dim => !ids.includes(dim))) || [],\n    [AXIS_ID_ROWS]: ((_layout$AXIS_ID_ROWS = layout[AXIS_ID_ROWS]) === null || _layout$AXIS_ID_ROWS === void 0 ? void 0 : _layout$AXIS_ID_ROWS.filter(dim => !ids.includes(dim))) || [],\n    [AXIS_ID_FILTERS]: ((_layout$AXIS_ID_FILTE = layout[AXIS_ID_FILTERS]) === null || _layout$AXIS_ID_FILTE === void 0 ? void 0 : _layout$AXIS_ID_FILTE.filter(dim => !ids.includes(dim))) || []\n  };\n}; // Accepts layout: { columns: ['dx'] }\n// Returns inverse layout: { dx: 'columns' }\n\nexport const getInverseLayout = layout => {\n  const entries = Object.entries(layout);\n  const map = {};\n  entries.forEach(([axisId, dimensionIds]) => {\n    dimensionIds.forEach(id => {\n      map[id] = axisId;\n    });\n  });\n  return map;\n}; // Accepts layout and transfer object\n// Returns transfer with possible retransfers\n\nexport const getRetransfer = (layout, transfer, visType) => {\n  const inverseLayout = getInverseLayout(layout);\n  const dimensionIds = Object.keys(transfer);\n  const retransfer = {};\n  dimensionIds.forEach(id => {\n    const sourceAxis = inverseLayout[id] || null;\n    const destinationAxisId = transfer[id].axisId;\n    const dimensionsAtDestination = layout[destinationAxisId] || [];\n\n    if (isAxisFull(visType, destinationAxisId, dimensionsAtDestination.length)) {\n      const transferableDimension = getTransferableDimension(visType, destinationAxisId, layout[destinationAxisId]);\n\n      if (transferableDimension) {\n        const axisId = sourceAxis ? sourceAxis : getAvailableAxes(visType).find(axis => !getAxisMaxNumberOfDimensions(visType, axis));\n        retransfer[transferableDimension] = {\n          axisId\n        };\n      }\n    }\n  });\n  return retransfer;\n};","import { COLOR_SET_DEFAULT } from '@dhis2/analytics';\nimport pick from 'lodash-es/pick';\nexport const OPTION_SHOW_SERIES_KEY = 'showSeriesKey';\nexport const OPTION_SHOW_LEGEND_KEY = 'showLegendKey';\nexport const OPTION_AXIS_STEPS = 'steps';\nexport const OPTION_AXIS_DECIMALS = 'decimals';\nexport const OPTION_AXIS_MAX_VALUE = 'maxValue';\nexport const OPTION_AXIS_MIN_VALUE = 'minValue';\nexport const OPTION_AXIS_TITLE = 'axisTitle';\nexport const OPTION_AXIS_TITLE_TEXT_MODE = 'axisTitleTextMode';\nexport const OPTION_BASE_LINE_ENABLED = 'baseLineEnabled';\nexport const OPTION_BASE_LINE_TITLE = 'baseLineTitle';\nexport const OPTION_BASE_LINE_VALUE = 'baseLineValue';\nexport const OPTION_BASE_LINE_TITLE_FONT_STYLE = 'baseLineTitleFontStyle';\nexport const OPTION_TARGET_LINE_ENABLED = 'targetLineEnabled';\nexport const OPTION_TARGET_LINE_TITLE = 'targetLineTitle';\nexport const OPTION_TARGET_LINE_VALUE = 'targetLineValue';\nexport const OPTION_TARGET_LINE_TITLE_FONT_STYLE = 'targetLineTitleFontStyle';\nexport const OPTION_LEGEND_DISPLAY_STRATEGY = 'legendDisplayStrategy';\nexport const OPTION_LEGEND_DISPLAY_STYLE = 'legendDisplayStyle';\nexport const OPTION_LEGEND_SET = 'legendSet';\nexport const options = {\n  axes: {\n    requestable: false,\n    savable: true,\n    defaultValue: []\n  },\n  colorSet: {\n    defaultValue: COLOR_SET_DEFAULT,\n    requestable: false,\n    savable: true\n  },\n  cumulativeValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRowItems: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  seriesKey: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  legend: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  noSpaceBetweenColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  percentStackedValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  regressionType: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  showData: {\n    defaultValue: true,\n    requestable: false,\n    savable: true\n  },\n  aggregationType: {\n    defaultValue: 'DEFAULT',\n    requestable: true,\n    savable: true\n  },\n  completedOnly: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  hideSubtitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideTitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  sortOrder: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  },\n  subtitle: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  title: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  series: {\n    defaultValue: [],\n    requestable: false,\n    savable: true\n  },\n  fontStyle: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  outlierAnalysis: {\n    requestable: false,\n    savable: true,\n    defaultValue: null\n  },\n  // only for PT\n  colTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  colSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  showDimensionLabels: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRows: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  skipRounding: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  numberType: {\n    defaultValue: 'VALUE',\n    requestable: false,\n    savable: true\n  },\n  showHierarchy: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  displayDensity: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  fontSize: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  digitGroupSeparator: {\n    defaultValue: 'SPACE',\n    requestable: false,\n    savable: true\n  },\n  approvalLevel: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: false\n  },\n  fixColumnHeaders: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  fixRowHeaders: {\n    defaultValue: false,\n    requestble: false,\n    savable: true\n  },\n  // these are stored in the AO under reportingParams\n  reportingPeriod: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  organisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  parentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  // not exposed in UI\n  grandParentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  regression: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  cumulative: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  measureCriteria: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: true\n  },\n  topLimit: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  }\n};\nexport default options;\nexport const getOptionsForUi = () => {\n  return Object.entries({ ...options\n  }).reduce((map, [option, props]) => {\n    map[option] = props.defaultValue;\n    return map;\n  }, {});\n};\nexport const getOptionsForRequest = () => {\n  return Object.entries(options).filter(entry => entry[1].requestable // entry = [option, props]\n  );\n};\nexport const getOptionsFromVisualization = visualization => {\n  const optionsFromVisualization = { ...getOptionsForUi(),\n    ...pick(visualization, Object.keys(options))\n  };\n  optionsFromVisualization.axes = optionsFromVisualization.axes.map(axis => {\n    if (axis.targetLine || axis.baseLine) {\n      const clonedAxis = { ...axis\n      };\n\n      if (clonedAxis.targetLine) {\n        clonedAxis.targetLine = { ...clonedAxis.targetLine,\n          enabled: true\n        };\n      }\n\n      if (clonedAxis.baseLine) {\n        clonedAxis.baseLine = { ...clonedAxis.baseLine,\n          enabled: true\n        };\n      }\n\n      return clonedAxis;\n    } else {\n      return axis;\n    }\n  }); // nested options under reportingParams\n\n  if (visualization.reportingParams) {\n    optionsFromVisualization.organisationUnit = visualization.reportingParams.organisationUnit;\n    optionsFromVisualization.reportingPeriod = visualization.reportingParams.reportingPeriod;\n    optionsFromVisualization.parentOrganisationUnit = visualization.reportingParams.parentOrganisationUnit;\n    optionsFromVisualization.grandParentOrganisationUnit = visualization.reportingParams.grandParentOrganisationUnit;\n  } // cast option values from Number for some options\n\n\n  ;\n  ['sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n      optionsFromVisualization[option] = String(visualization[option]);\n    }\n  });\n  return optionsFromVisualization;\n};","export const removeLastPathSegment = path => {\n  // if root path, then return unprocessed path\n  if (path.match(/\\//g).length === 1) {\n    return path;\n  }\n\n  return path.substr(0, path.lastIndexOf('/'));\n};\n/**\n * Get org unit path by ou id\n * @param id\n * @param metadata\n * @param parentGraphMap\n * @returns {*}\n */\n\nexport const getOuPath = (id, metadata, parentGraphMap) => {\n  if (metadata[id] && metadata[id].path) {\n    return metadata[id].path;\n  } // for root org units\n\n\n  if (parentGraphMap[id] === id || parentGraphMap[id] === '') {\n    return `/${id}`;\n  }\n\n  return parentGraphMap[id] ? `/${parentGraphMap[id]}/${id}` : undefined;\n};","import { DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, DIMENSION_ID_DATA, layoutGetAxisIdDimensionIdsObject, layoutGetDimensionIdItemIdsObject, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_SCATTER, defaultVisType, isYearOverYear, getAdaptedUiLayoutByType, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields.js';\nimport { getInverseLayout } from './layout.js';\nimport { getOptionsFromVisualization } from './options.js';\nimport { removeLastPathSegment } from './orgUnit.js';\nexport const SERIES_ITEM_TYPE_PROP = 'type';\nexport const SERIES_ITEM_AXIS_PROP = 'axis';\nexport const ITEM_ATTRIBUTE_VERTICAL = 'VERTICAL';\nexport const ITEM_ATTRIBUTE_HORIZONTAL = 'HORIZONTAL'; // Transform from backend model to store.ui format\n\nexport const getUiFromVisualization = (vis, currentState = {}) => ({ ...currentState,\n  type: vis.type || defaultVisType,\n  options: getOptionsFromVisualization(vis),\n  layout: layoutGetAxisIdDimensionIdsObject(vis),\n  itemsByDimension: layoutGetDimensionIdItemIdsObject(vis),\n  parentGraphMap: vis.parentGraphMap || getParentGraphMapFromVisualization(vis) || currentState.parentGraphMap,\n  yearOverYearSeries: isYearOverYear(vis.type) && vis[BASE_FIELD_YEARLY_SERIES] ? vis[BASE_FIELD_YEARLY_SERIES] : currentState.yearOverYearSeries,\n  yearOverYearCategory: isYearOverYear(vis.type) ? vis.rows[0].items.map(item => item.id) : currentState.yearOverYearCategory\n}); // Transform from store.ui to default format\n\nconst defaultUiAdapter = ui => ({ ...ui,\n  layout: getAdaptedUiLayoutByType(ui.layout, ui.type)\n}); // Transform from store.ui to year on year format\n\n\nconst yearOverYearUiAdapter = ui => {\n  const state = Object.assign({}, ui);\n  const items = Object.assign({}, state.itemsByDimension);\n  delete items[DIMENSION_ID_PERIOD];\n  return { ...state,\n    layout: getAdaptedUiLayoutByType(ui.layout, ui.type),\n    itemsByDimension: items\n  };\n};\n\nconst singleValueUiAdapter = ui => {\n  const adaptedUi = defaultUiAdapter(ui);\n  adaptedUi.options.measureCriteria = undefined;\n  return adaptedUi;\n}; // Transform from store.ui to scatter format\n\n\nconst scatterUiAdapter = ui => {\n  const adaptedUi = { ...ui,\n    layout: getAdaptedUiLayoutByType(ui.layout, ui.type)\n  };\n  const dataItems = ui.itemsByDimension[DIMENSION_ID_DATA] || [];\n  adaptedUi.itemAttributes = [// TODO: Should this be cleared for all other uiAdapters?\n  ...(dataItems[0] ? [{\n    id: dataItems[0],\n    attribute: ITEM_ATTRIBUTE_VERTICAL\n  }] : []), ...(dataItems[1] ? [{\n    id: dataItems[1],\n    attribute: ITEM_ATTRIBUTE_HORIZONTAL\n  }] : [])];\n  const items = Object.assign({}, ui.itemsByDimension);\n  items[DIMENSION_ID_DATA] = dataItems.slice(0, 2);\n  adaptedUi.itemsByDimension = items;\n  adaptedUi.options.measureCriteria = undefined;\n  return adaptedUi;\n};\n\nexport const getAdaptedUiByType = ui => {\n  switch (ui.type) {\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        return yearOverYearUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return ui;\n\n    case VIS_TYPE_GAUGE:\n    case VIS_TYPE_SINGLE_VALUE:\n      return singleValueUiAdapter(ui);\n\n    case VIS_TYPE_SCATTER:\n      return scatterUiAdapter(ui);\n\n    default:\n      return defaultUiAdapter(ui);\n  }\n};\nexport const getParentGraphMapFromVisualization = vis => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(vis);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n\n  if (!ouAxis) {\n    return {};\n  }\n\n  const parentGraphMap = {};\n  const ouDimension = vis[ouAxis].find(dimension => dimension.dimension === DIMENSION_ID_ORGUNIT);\n  ouDimension.items.filter(orgUnit => orgUnit.path).forEach(orgUnit => {\n    if ('/' + orgUnit.id === orgUnit.path) {\n      // root org unit case\n      parentGraphMap[orgUnit.id] = '';\n    } else {\n      const path = removeLastPathSegment(orgUnit.path);\n      parentGraphMap[orgUnit.id] = path[0] === '/' ? path.substr(1) : path;\n    }\n  });\n  return parentGraphMap;\n};\nexport const mergeUiMaps = (destinationMap, sourceMap, propName) => {\n  Object.keys(sourceMap || {}).forEach(key => {\n    if (!(key in destinationMap)) {\n      destinationMap[key] = {};\n    }\n\n    destinationMap[key][propName] = sourceMap[key];\n  });\n};","/*eslint no-unused-vars: [\"error\", { \"ignoreRestSiblings\": true }]*/\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIE, dimensionCreate, layoutGetDimensionItems, layoutReplaceDimension, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS, getAdaptedUiLayoutByType, VIS_TYPE_SCATTER, ALL_DYNAMIC_DIMENSION_ITEMS } from '@dhis2/analytics';\nimport pick from 'lodash-es/pick';\nimport { ITEM_ATTRIBUTE_HORIZONTAL, ITEM_ATTRIBUTE_VERTICAL } from '../modules/ui.js';\nimport { BASE_FIELD_TYPE, BASE_FIELD_YEARLY_SERIES } from './fields/baseFields.js';\nimport options from './options.js';\nimport './layout.js';\n\nconst hasItems = (object, id) => Array.isArray(object[id]) && object[id].length;\n\nexport const getAxesFromUi = ui => Object.entries(ui.layout).reduce((layout, [axisId, dimensionIds]) => ({ ...layout,\n  [axisId]: dimensionIds.map(dimensionId => hasItems(ui.itemsByDimension, dimensionId) || getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS) ? dimensionCreate(dimensionId, ui.itemsByDimension[dimensionId]) : null).filter(dim => dim !== null)\n}), {});\nexport const getOptionsFromUi = ui => {\n  const optionsFromUi = pick(ui.options, Object.keys(options));\n\n  if (optionsFromUi.axes && optionsFromUi.axes.length) {\n    optionsFromUi.axes = [...optionsFromUi.axes.map(axis => ({ ...axis\n    }))];\n    optionsFromUi.axes.forEach(axis => {\n      if (axis.targetLine) {\n        const {\n          enabled,\n          ...rest\n        } = axis.targetLine;\n        axis.targetLine = { ...rest\n        };\n      }\n\n      if (axis.baseLine) {\n        const {\n          enabled,\n          ...rest\n        } = axis.baseLine;\n        axis.baseLine = { ...rest\n        };\n      }\n    });\n  } // approvalLevel is stored as an object { id, level, displayName }\n  // only pass approvalLevel id\n\n\n  if (optionsFromUi.approvalLevel !== options.approvalLevel.defaultValue) {\n    optionsFromUi.approvalLevel = optionsFromUi.approvalLevel.id;\n  } // nested options under reportingParams\n\n\n  optionsFromUi.reportingParams = {};\n  ['organisationUnit', 'reportingPeriod', 'parentOrganisationUnit', 'grandParentOrganisationUnit'].forEach(option => {\n    optionsFromUi.reportingParams[option] = optionsFromUi[option];\n    delete optionsFromUi[option];\n  }) // cast option values to Number for some options\n  ;\n  ['sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(optionsFromUi, option)) {\n      if (optionsFromUi[option] !== undefined && optionsFromUi[option] !== '') {\n        optionsFromUi[option] = Number(optionsFromUi[option]);\n      }\n    }\n  });\n  return optionsFromUi;\n};\nexport const getSeriesFromUi = ui => {\n  return ui.options.series ? [...ui.options.series] : [];\n};\nexport const getItemsByDimensionFromUi = ui => {\n  const result = {};\n  Object.keys(ui.itemsByDimension).forEach(key => // strip out all other items when 'ALL' is in use, to be passed to the backend\n  result[key] = ui.itemsByDimension[key].some(id => id === ALL_DYNAMIC_DIMENSION_ITEMS) ? [ALL_DYNAMIC_DIMENSION_ITEMS] : ui.itemsByDimension[key]);\n  return result;\n};\nexport const getSingleValueCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...getAdaptedUiLayoutByType(action.value.layout, VIS_TYPE_SINGLE_VALUE)\n    },\n    itemsByDimension: getItemsByDimensionFromUi(action.value)\n  };\n  const axesFromUi = getAxesFromUi(ui); // only save the first dx item\n\n  const dxItems = layoutGetDimensionItems(axesFromUi, DIMENSION_ID_DATA);\n  const singleValueAxesFromUi = layoutReplaceDimension(axesFromUi, DIMENSION_ID_DATA, [dxItems[0]]);\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...singleValueAxesFromUi,\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getScatterCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...getAdaptedUiLayoutByType(action.value.layout, VIS_TYPE_SCATTER)\n    },\n    itemsByDimension: getItemsByDimensionFromUi(action.value)\n  };\n  const axesFromUi = getAxesFromUi(ui); // only save first vertical and first horizontal dx items\n\n  const verticalItem = ui.itemAttributes.find(item => item.attribute === ITEM_ATTRIBUTE_VERTICAL) || {};\n  const horizontalItem = ui.itemAttributes.find(item => item.attribute === ITEM_ATTRIBUTE_HORIZONTAL) || {};\n  const scatterAxesFromUi = layoutReplaceDimension(axesFromUi, DIMENSION_ID_DATA, [verticalItem, horizontalItem].map(item => ({\n    id: item.id\n  })));\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...scatterAxesFromUi,\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getPieCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...getAdaptedUiLayoutByType(action.value.layout, VIS_TYPE_PIE)\n    },\n    itemsByDimension: getItemsByDimensionFromUi(action.value)\n  };\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...getAxesFromUi(ui),\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getYearOverYearCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    itemsByDimension: getItemsByDimensionFromUi(action.value)\n  };\n  const periodDimension = dimensionCreate(DIMENSION_ID_PERIOD, ui.yearOverYearCategory);\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    [AXIS_ID_COLUMNS]: [],\n    [AXIS_ID_ROWS]: [periodDimension],\n    [AXIS_ID_FILTERS]: getAxesFromUi(ui).filters,\n    [[BASE_FIELD_YEARLY_SERIES]]: ui.yearOverYearSeries,\n    ...getOptionsFromUi(ui)\n  };\n};","import { VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_SCATTER } from '@dhis2/analytics';\nimport { getAxesFromUi, getOptionsFromUi, getPieCurrentFromUi, getYearOverYearCurrentFromUi, getSingleValueCurrentFromUi, getSeriesFromUi, getScatterCurrentFromUi, getItemsByDimensionFromUi } from '../modules/current.js';\nimport { BASE_FIELD_TYPE } from '../modules/fields/baseFields.js';\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const SET_CURRENT_FROM_UI = 'SET_CURRENT_FROM_UI';\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\nexport const DEFAULT_CURRENT = null;\n\nconst getDefaultFromUi = (state, action) => {\n  const adaptedUi = { ...action.value,\n    itemsByDimension: getItemsByDimensionFromUi(action.value)\n  };\n  const axesFromUi = getAxesFromUi(adaptedUi);\n  const optionsFromUi = getOptionsFromUi(adaptedUi);\n  const series = getSeriesFromUi(adaptedUi);\n  return { ...state,\n    [BASE_FIELD_TYPE]: action.value.type,\n    ...axesFromUi,\n    ...optionsFromUi,\n    series\n  };\n};\n\nexport default ((state = DEFAULT_CURRENT, action) => {\n  switch (action.type) {\n    case SET_CURRENT:\n      {\n        return action.value;\n      }\n\n    case SET_CURRENT_FROM_UI:\n      {\n        switch (action.value.type) {\n          case VIS_TYPE_PIE:\n            return getPieCurrentFromUi(state, action);\n\n          case VIS_TYPE_SINGLE_VALUE:\n          case VIS_TYPE_GAUGE:\n            return getSingleValueCurrentFromUi(state, action);\n\n          case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n          case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n            return getYearOverYearCurrentFromUi(state, action);\n\n          case VIS_TYPE_SCATTER:\n            return getScatterCurrentFromUi(state, action);\n\n          default:\n            {\n              return getDefaultFromUi(state, action);\n            }\n        }\n      }\n\n    case CLEAR_CURRENT:\n      return DEFAULT_CURRENT;\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetCurrent = state => state.current;\nexport const sGetCurrentFromUi = state => {\n  const ui = state.ui;\n\n  switch (ui.type) {\n    case VIS_TYPE_PIE:\n      return getPieCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return getSingleValueCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return getYearOverYearCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_SCATTER:\n      return getScatterCurrentFromUi(state, {\n        value: ui\n      });\n\n    default:\n      {\n        return getDefaultFromUi(state, {\n          value: ui\n        });\n      }\n  }\n};","export const SET_VISUALIZATION = 'SET_VISUALIZATION';\nexport const CLEAR_VISUALIZATION = 'CLEAR_VISUALIZATION';\nexport const DEFAULT_VISUALIZATION = null;\nexport default ((state = DEFAULT_VISUALIZATION, action) => {\n  switch (action.type) {\n    case SET_VISUALIZATION:\n      {\n        return action.value;\n      }\n\n    case CLEAR_VISUALIZATION:\n      {\n        return DEFAULT_VISUALIZATION;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetVisualization = state => state.visualization;\nexport const sGetInterpretations = state => state.visualization ? state.visualization.interpretations : [];","import { DEFAULT_CURRENT } from '../reducers/current.js';\nimport { DEFAULT_VISUALIZATION } from '../reducers/visualization.js';\nimport options from './options.js';\nexport const getVisualizationFromCurrent = current => {\n  const visualization = Object.assign({}, current);\n  const nonSavableOptions = Object.keys(options).filter(option => !options[option].savable);\n  nonSavableOptions.forEach(option => delete visualization[option]);\n  return visualization;\n};\nexport const getVisualizationState = (visualization, current) => {\n  if (current === DEFAULT_CURRENT) {\n    return STATE_EMPTY;\n  } else if (visualization === DEFAULT_VISUALIZATION) {\n    return STATE_UNSAVED;\n  } else if (current === visualization) {\n    return STATE_SAVED;\n  } else {\n    return STATE_DIRTY;\n  }\n};\nexport const STATE_EMPTY = 'EMPTY';\nexport const STATE_SAVED = 'SAVED';\nexport const STATE_UNSAVED = 'UNSAVED';\nexport const STATE_DIRTY = 'DIRTY';","export const ADD_SETTINGS = 'ADD_SETTINGS';\nexport const DEFAULT_SETTINGS = {\n  keyDateFormat: 'yyyy-MM-dd',\n  keyAnalysisRelativePeriod: 'LAST_12_MONTHS',\n  keyAnalysisDigitGroupSeparator: 'SPACE',\n  keyIgnoreAnalyticsApprovalYearThreshold: -1,\n  displayNameProperty: 'displayName',\n  uiLocale: 'en',\n  rootOrganisationUnits: []\n};\nexport default ((state = DEFAULT_SETTINGS, action) => {\n  switch (action.type) {\n    case ADD_SETTINGS:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSettings = state => state.settings;\nexport const sGetSettingsDisplayNameProperty = state => sGetSettings(state).displayNameProperty;\nexport const sGetSettingsDigitGroupSeparator = state => sGetSettings(state).keyAnalysisDigitGroupSeparator;\nexport const sGetRootOrgUnits = state => sGetSettings(state).rootOrganisationUnits;\nexport const sGetRelativePeriod = state => sGetSettings(state).keyAnalysisRelativePeriod;\nexport const sGetUiLocale = state => sGetSettings(state).uiLocale;","export const SET_CHART = 'SET_CHART';\nexport const DEFAULT_CHART = null;\nexport default ((state = DEFAULT_CHART, action) => {\n  switch (action.type) {\n    case SET_CHART:\n      {\n        return action.value;\n      }\n\n    default:\n      return state;\n  }\n});\nexport const sGetChart = state => state.chart;","import { SET_UI, CLEAR_UI, SET_UI_FROM_VISUALIZATION, SET_UI_TYPE, SET_UI_OPTIONS, SET_UI_LAYOUT, ADD_UI_LAYOUT_DIMENSIONS, REMOVE_UI_LAYOUT_DIMENSIONS, SET_UI_ITEMS, REMOVE_UI_ITEMS, ADD_UI_PARENT_GRAPH_MAP, SET_UI_ACTIVE_MODAL_DIALOG, SET_UI_YEAR_ON_YEAR_SERIES, SET_UI_YEAR_ON_YEAR_CATEGORY, SET_UI_ITEM_ATTRIBUTES, REMOVE_UI_ITEM_ATTRIBUTES, TOGGLE_UI_RIGHT_SIDEBAR_OPEN, SET_UI_RIGHT_SIDEBAR_OPEN, SET_UI_INTERPRETATION, CLEAR_UI_INTERPRETATION, CLEAR_SERIES_TYPE, UPDATE_UI_SERIES_ITEM, SET_UI_OPTION, SET_UI_OPTION_FONT_STYLE } from '../reducers/ui.js';\nexport const acSetUi = value => ({\n  type: SET_UI,\n  value\n});\nexport const acClear = value => ({\n  type: CLEAR_UI,\n  value\n});\nexport const acSetUiFromVisualization = value => ({\n  type: SET_UI_FROM_VISUALIZATION,\n  value\n});\nexport const acSetUiType = value => ({\n  type: SET_UI_TYPE,\n  value\n});\nexport const acSetUiOptions = value => ({\n  type: SET_UI_OPTIONS,\n  value\n});\nexport const acSetUiOption = value => ({\n  type: SET_UI_OPTION,\n  value\n});\nexport const acSetUiOptionFontStyle = value => ({\n  type: SET_UI_OPTION_FONT_STYLE,\n  value\n});\nexport const acUpdateUiSeriesItem = value => ({\n  type: UPDATE_UI_SERIES_ITEM,\n  value\n});\nexport const acSetUiLayout = value => ({\n  type: SET_UI_LAYOUT,\n  value\n});\nexport const acAddUiLayoutDimensions = value => ({\n  type: ADD_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acRemoveUiLayoutDimensions = value => ({\n  type: REMOVE_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acSetUiItems = value => ({\n  type: SET_UI_ITEMS,\n  value\n});\nexport const acRemoveUiItems = value => ({\n  type: REMOVE_UI_ITEMS,\n  value\n});\nexport const acSetUiYearOverYearSeries = value => ({\n  type: SET_UI_YEAR_ON_YEAR_SERIES,\n  value\n});\nexport const acSetUiYearOverYearCategory = value => ({\n  type: SET_UI_YEAR_ON_YEAR_CATEGORY,\n  value\n});\nexport const acSetUiItemAttributes = value => ({\n  type: SET_UI_ITEM_ATTRIBUTES,\n  value\n});\nexport const acRemoveUiItemAttributes = value => ({\n  type: REMOVE_UI_ITEM_ATTRIBUTES,\n  value\n});\nexport const acAddParentGraphMap = value => ({\n  type: ADD_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetUiActiveModalDialog = value => ({\n  type: SET_UI_ACTIVE_MODAL_DIALOG,\n  value\n});\nexport const acToggleUiRightSidebarOpen = () => ({\n  type: TOGGLE_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiRightSidebarOpen = () => ({\n  type: SET_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiInterpretation = value => ({\n  type: SET_UI_INTERPRETATION,\n  value\n});\nexport const acClearUiInterpretation = () => ({\n  type: CLEAR_UI_INTERPRETATION\n});\nexport const acClearSeriesType = () => ({\n  type: CLEAR_SERIES_TYPE\n});","import _JSXStyle from \"styled-jsx/style\";\nimport { colors, spacers } from '@dhis2/ui';\nimport React from 'react';\n/* eslint-disable-line no-unused-vars */\n\nexport const tabBar = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3103009923\"\n  }, [`div.jsx-3103009923{padding-right:${spacers.dp24};}`]),\n  className: \"jsx-3103009923\"\n};\nexport const tabContent = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2208787536\"\n  }, [`div.jsx-2208787536{overflow:auto;padding-right:${spacers.dp24};}`]),\n  className: \"jsx-2208787536\"\n};\nexport const tabSection = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1427514941\"\n  }, [`div.jsx-1427514941{padding:${spacers.dp16} 0;}`, `div.jsx-1427514941:not(:last-child){border-bottom:1px solid ${colors.grey300};margin-bottom:${spacers.dp8};}`]),\n  className: \"jsx-1427514941\"\n};\nexport const tabSectionContent = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1655721637\"\n  }, [\"div.jsx-1655721637{overflow-y:auto;}\"]),\n  className: \"jsx-1655721637\"\n};\nexport const tabSectionTitle = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3115295887\"\n  }, [`span.jsx-3115295887{display:inline-block;padding-bottom:${spacers.dp12};font-size:15px;color:${colors.grey900};font-weight:500;-webkit-letter-spacing:0.2px;-moz-letter-spacing:0.2px;-ms-letter-spacing:0.2px;letter-spacing:0.2px;}`]),\n  className: \"jsx-3115295887\"\n};\nexport const tabSectionTitleMargin = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"642558349\"\n  }, [`span.jsx-642558349{margin-top:${spacers.dp8};}`]),\n  className: \"jsx-642558349\"\n};\nexport const tabSectionOption = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1665807213\"\n  }, [`div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:${spacers.dp16};}`]),\n  className: \"jsx-1665807213\"\n};\nexport const tabSectionOptionItem = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"2983019948\"\n  }, [`div.jsx-2983019948:not(:last-child){padding-bottom:${spacers.dp8};}`]),\n  className: \"jsx-2983019948\"\n};\nexport const tabSectionOptionText = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"3330936769\"\n  }, [`p.jsx-3330936769{margin:0;padding-bottom:${spacers.dp8};font-size:14px;line-height:19px;color:${colors.grey700};}`]),\n  className: \"jsx-3330936769\"\n};\nexport const tabSectionOptionToggleable = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"684239008\"\n  }, [`div.jsx-684239008{margin:${spacers.dp4} 0 0 23px;}`]),\n  className: \"jsx-684239008\"\n};\nexport const tabSectionToggleableSubsection = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1383096027\"\n  }, [\"div.jsx-1383096027{margin-left:23px;}\"]),\n  className: \"jsx-1383096027\"\n};\nexport const tabSectionOptionComplexInline = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"1912734430\"\n  }, [\"div.jsx-1912734430{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}\"]),\n  className: \"jsx-1912734430\"\n};\nexport const tabSectionOptionIcon = {\n  styles: /*#__PURE__*/React.createElement(_JSXStyle, {\n    id: \"112181591\"\n  }, [`span.jsx-112181591{vertical-align:top;margin-right:${spacers.dp4};color:${colors.grey600};}`]),\n  className: \"jsx-112181591\"\n};","import React from 'react';\n\nconst BoldIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  width: \"24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m7 5h6c2.209139 0 4 1.790861 4 4 0 .97998001-.3524116 1.8776499-.9374171 2.5731919 1.1608063.6986588 1.9374171 1.9720399 1.9374171 3.4268081 0 2.209139-1.790861 4-4 4h-7zm7 8h-5v4h5c1.1045695 0 2-.8954305 2-2 0-1.0543618-.8158778-1.9181651-1.8507377-1.9945143zm-1-6h-4v4h4c1.1045695 0 2-.8954305 2-2 0-1.0543618-.8158778-1.91816512-1.8507377-1.99451426z\",\n  fill: \"#inherit\"\n}));\n\nexport default BoldIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst FontColorIcon = ({\n  color\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  width: \"24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"12\",\n  cy: \"12\",\n  fillRule: \"evenodd\",\n  fill: color,\n  r: \"7\"\n}));\n\nFontColorIcon.defaultProps = {\n  color: '#000000'\n};\nFontColorIcon.propTypes = {\n  color: PropTypes.string\n};\nexport default FontColorIcon;","import React from 'react';\n\nconst ItalicIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"24\",\n  viewBox: \"0 0 24 24\",\n  width: \"24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m13.5 7h-3.5v-2h9v2h-3.5l-5 10h3.5v2h-9v-2h3.5z\",\n  fill: \"#inherit\"\n}));\n\nexport default ItalicIcon;","import { getFontSizeOptions, getTextAlignOptions, FONT_STYLE_OPTION_FONT_SIZE, FONT_STYLE_OPTION_BOLD, FONT_STYLE_OPTION_ITALIC, FONT_STYLE_OPTION_TEXT_COLOR, FONT_STYLE_OPTION_TEXT_ALIGN, isVerticalType } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, SingleSelectOption, Button } from '@dhis2/ui';\nimport cx from 'classnames';\nimport debounce from 'lodash-es/debounce';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport BoldIcon from '../../../assets/BoldIcon.js';\nimport FontColorIcon from '../../../assets/FontColorIcon.js';\nimport ItalicIcon from '../../../assets/ItalicIcon.js';\nimport { sGetUiOption, sGetUiType } from '../../../reducers/ui.js';\nimport styles from '../styles/TextStyle.module.css';\n\nconst TextStyle = ({\n  fontStyleKey,\n  fontStyle,\n  visType,\n  onChange,\n  disabled,\n  dataTest,\n  isVertical\n}) => {\n  const fontSizeOptions = Object.values(getFontSizeOptions(fontStyleKey));\n  const textAlignOptions = getTextAlignOptions(fontStyleKey, isVertical || isVerticalType(visType));\n  const onChangeColor = debounce(value => {\n    onChange(FONT_STYLE_OPTION_TEXT_COLOR, value);\n  }, 100);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest\n  }, fontStyle[FONT_STYLE_OPTION_FONT_SIZE] && /*#__PURE__*/React.createElement(SingleSelect, {\n    onChange: ({\n      selected\n    }) => {\n      onChange(FONT_STYLE_OPTION_FONT_SIZE, Number(selected));\n    },\n    selected: (fontStyle[FONT_STYLE_OPTION_FONT_SIZE] || '').toString(),\n    prefix: i18n.t('Size'),\n    dense: true,\n    className: styles.fontSizeSelect,\n    disabled: disabled,\n    dataTest: `${dataTest}-font-size-select`\n  }, fontSizeOptions.map(option => {\n    var _option$value, _option$value2, _option$value3;\n\n    return /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: (_option$value = option.value) === null || _option$value === void 0 ? void 0 : _option$value.toString(),\n      value: (_option$value2 = option.value) === null || _option$value2 === void 0 ? void 0 : _option$value2.toString(),\n      label: option.label,\n      dataTest: `${dataTest}-font-size-option-${(_option$value3 = option.value) === null || _option$value3 === void 0 ? void 0 : _option$value3.toString()}`\n    });\n  })), fontStyle[FONT_STYLE_OPTION_TEXT_ALIGN] && /*#__PURE__*/React.createElement(SingleSelect, {\n    onChange: ({\n      selected\n    }) => {\n      onChange(FONT_STYLE_OPTION_TEXT_ALIGN, selected);\n    },\n    selected: fontStyle[FONT_STYLE_OPTION_TEXT_ALIGN],\n    prefix: i18n.t('Position'),\n    dense: true,\n    className: styles.textAlignSelect,\n    disabled: disabled,\n    dataTest: `${dataTest}-text-align-select`\n  }, textAlignOptions.map(option => {\n    var _option$value4;\n\n    return /*#__PURE__*/React.createElement(SingleSelectOption, {\n      key: option.value,\n      value: option.value,\n      label: option.label,\n      dataTest: `${dataTest}-text-align-option-${(_option$value4 = option.value) === null || _option$value4 === void 0 ? void 0 : _option$value4.toString()}`\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: cx({\n      [styles.buttonStrip]: fontStyle[FONT_STYLE_OPTION_TEXT_COLOR] || fontStyle[FONT_STYLE_OPTION_BOLD] || fontStyle[FONT_STYLE_OPTION_ITALIC]\n    })\n  }, fontStyle[FONT_STYLE_OPTION_TEXT_COLOR] && /*#__PURE__*/React.createElement(\"label\", {\n    className: cx(styles.textColorLabel, {\n      [styles.disabled]: disabled\n    }),\n    \"data-test\": `${dataTest}-text-color-picker`\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"color\",\n    value: fontStyle[FONT_STYLE_OPTION_TEXT_COLOR],\n    onChange: e => onChangeColor(e.target.value),\n    className: styles.textColorInput,\n    disabled: disabled\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.textColorIcon\n  }, /*#__PURE__*/React.createElement(FontColorIcon, {\n    color: fontStyle[FONT_STYLE_OPTION_TEXT_COLOR]\n  }))), fontStyle[FONT_STYLE_OPTION_BOLD] != null && /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(BoldIcon, null),\n    onClick: () => {\n      onChange(FONT_STYLE_OPTION_BOLD, !fontStyle[FONT_STYLE_OPTION_BOLD]);\n    },\n    small: true,\n    secondary: true,\n    toggled: fontStyle[FONT_STYLE_OPTION_BOLD],\n    disabled: disabled,\n    dataTest: `${dataTest}-bold-toggle`\n  }), fontStyle[FONT_STYLE_OPTION_ITALIC] != null && /*#__PURE__*/React.createElement(Button, {\n    icon: /*#__PURE__*/React.createElement(ItalicIcon, null),\n    onClick: () => {\n      onChange(FONT_STYLE_OPTION_ITALIC, !fontStyle[FONT_STYLE_OPTION_ITALIC]);\n    },\n    small: true,\n    secondary: true,\n    disabled: disabled,\n    toggled: fontStyle[FONT_STYLE_OPTION_ITALIC],\n    dataTest: `${dataTest}-italic-toggle`\n  })));\n};\n\nTextStyle.propTypes = {\n  fontStyleKey: PropTypes.string.isRequired,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  fontStyle: PropTypes.object,\n  isVertical: PropTypes.bool,\n  visType: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  fontStyle: sGetUiOption(state, {\n    id: ownProps.fontStyleKey,\n    axisId: ownProps.axisId\n  }) || {},\n  visType: sGetUiType(state)\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: (option, value) => dispatch(acSetUiOption({\n    optionId: ownProps.fontStyleKey,\n    axisId: ownProps.axisId,\n    //FIXME: Should axisId be listed in propTypes?\n    fontStyleOption: option,\n    value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextStyle);","import { defaultFontStyle, FONT_STYLE_OPTION_TEXT_COLOR } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Field, Radio, InputField, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption, acSetUiOptionFontStyle } from '../../../actions/ui.js';\nimport { OPTION_AXIS_TITLE, OPTION_AXIS_TITLE_TEXT_MODE } from '../../../modules/options.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle.js';\nexport const TITLE_AUTO = 'AUTO';\nexport const TITLE_NONE = 'NONE';\nexport const TITLE_CUSTOM = 'CUSTOM';\nconst colors = ['#4292c6', '#cb181d', '#41ab5d', '#6c66b8'];\n\nconst AxisTitle = ({\n  axisId,\n  fontStyleKey,\n  textMode,\n  onTextChange,\n  onTextModeChange,\n  title,\n  hasCustomAxes,\n  setTitleColor,\n  fontStyle,\n  setFontStyle,\n  showAutoOption\n}) => {\n  const onRadioChange = ({\n    value: newTextMode\n  }) => {\n    onTextModeChange(newTextMode);\n\n    if ((newTextMode === TITLE_AUTO || newTextMode === TITLE_CUSTOM) && hasCustomAxes && fontStyle[FONT_STYLE_OPTION_TEXT_COLOR] === defaultFontStyle[fontStyleKey][FONT_STYLE_OPTION_TEXT_COLOR]) {\n      setTitleColor(colors[axisId.slice(-1)]);\n    } else if (newTextMode === TITLE_NONE) {\n      onTextChange(null);\n    }\n  };\n\n  const resetStyle = () => {\n    setFontStyle(hasCustomAxes ? {\n      textColor: colors[axisId.slice(-1)]\n    } : {});\n  };\n\n  const fontStyleIsDefault = () => Object.keys(fontStyle).every(key => (key !== FONT_STYLE_OPTION_TEXT_COLOR || !hasCustomAxes) && fontStyle[key] === defaultFontStyle[fontStyleKey][key] || key === FONT_STYLE_OPTION_TEXT_COLOR && hasCustomAxes && fontStyle[key] === colors[axisId.slice(-1)]);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className,\n    \"data-test\": 'option-chart-title'\n  }, /*#__PURE__*/React.createElement(Label, null, i18n.t('Axis title')), /*#__PURE__*/React.createElement(Field, {\n    name: \"title-selector\",\n    dense: true\n  }, [...(showAutoOption ? [{\n    id: TITLE_AUTO,\n    label: i18n.t('Auto generated from axis items')\n  }] : []), {\n    id: TITLE_NONE,\n    label: i18n.t('None')\n  }, {\n    id: TITLE_CUSTOM,\n    label: i18n.t('Custom')\n  }].map(({\n    id,\n    label\n  }) => /*#__PURE__*/React.createElement(Radio, {\n    key: id,\n    label: label,\n    value: id,\n    dense: true,\n    onChange: onRadioChange,\n    checked: textMode === id\n  }))), textMode === TITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOptionToggleable.className\n  }, /*#__PURE__*/React.createElement(InputField, {\n    type: 'text',\n    onChange: ({\n      value\n    }) => onTextChange(value),\n    value: title,\n    placeholder: i18n.t('Add a title'),\n    inputWidth: '280px',\n    dense: true,\n    dataTest: `${axisId}-axis-title-input`\n  })) : null, textMode === TITLE_AUTO || textMode === TITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOptionToggleable.className\n  }, /*#__PURE__*/React.createElement(TextStyle, {\n    fontStyleKey: fontStyleKey,\n    dataTest: `${axisId}-axis-title-text-style`,\n    axisId: axisId\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: resetStyle,\n    disabled: fontStyleIsDefault(),\n    small: true\n  }, i18n.t('Reset style to default'))) : null);\n};\n\nAxisTitle.propTypes = {\n  axisId: PropTypes.string,\n  fontStyle: PropTypes.object,\n  fontStyleKey: PropTypes.string,\n  hasCustomAxes: PropTypes.bool,\n  setFontStyle: PropTypes.func,\n  setTitleColor: PropTypes.func,\n  showAutoOption: PropTypes.bool,\n  textMode: PropTypes.string,\n  title: PropTypes.string,\n  onTextChange: PropTypes.func,\n  onTextModeChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  fontStyle: sGetUiOption(state, {\n    id: ownProps.fontStyleKey,\n    axisId: ownProps.axisId\n  }) || {},\n  title: sGetUiOption(state, {\n    axisId: ownProps.axisId,\n    id: OPTION_AXIS_TITLE\n  }),\n  textMode: sGetUiOption(state, {\n    id: OPTION_AXIS_TITLE_TEXT_MODE,\n    axisId: ownProps.axisId\n  }) || TITLE_NONE\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onTextChange: value => dispatch(acSetUiOption({\n    optionId: OPTION_AXIS_TITLE,\n    axisId: ownProps.axisId,\n    value\n  })),\n  onTextModeChange: textMode => dispatch(acSetUiOption({\n    optionId: OPTION_AXIS_TITLE_TEXT_MODE,\n    axisId: ownProps.axisId,\n    value: textMode\n  })),\n  setTitleColor: value => dispatch(acSetUiOption({\n    optionId: ownProps.fontStyleKey,\n    axisId: ownProps.axisId,\n    fontStyleOption: FONT_STYLE_OPTION_TEXT_COLOR,\n    value\n  })),\n  setFontStyle: value => dispatch(acSetUiOptionFontStyle({\n    optionId: ownProps.fontStyleKey,\n    axisId: ownProps.axisId,\n    value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AxisTitle);","/*eslint no-unused-vars: [\"error\", { \"ignoreRestSiblings\": true }]*/\nimport { DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, DIMENSION_ID_ASSIGNED_CATEGORIES, canDimensionBeAddedToAxis, defaultVisType, defaultFontStyle, FONT_STYLE_LEGEND, FONT_STYLE_VISUALIZATION_TITLE, FONT_STYLE_VISUALIZATION_SUBTITLE, FONT_STYLE_AXIS_LABELS, FONT_STYLE_HORIZONTAL_AXIS_TITLE, FONT_STYLE_VERTICAL_AXIS_TITLE, FONT_STYLE_REGRESSION_LINE_LABEL, USER_ORG_UNIT } from '@dhis2/analytics';\nimport objectClean from 'd2-utilizr/lib/objectClean';\nimport castArray from 'lodash-es/castArray';\nimport { TITLE_AUTO, TITLE_CUSTOM } from '../components/VisualizationOptions/Options/AxisTitle.js';\nimport { getFilteredLayout, getInverseLayout, getRetransfer } from '../modules/layout.js';\nimport { getOptionsForUi, OPTION_AXIS_DECIMALS, OPTION_SHOW_SERIES_KEY, OPTION_AXIS_MAX_VALUE, OPTION_AXIS_MIN_VALUE, OPTION_AXIS_STEPS, OPTION_AXIS_TITLE, OPTION_AXIS_TITLE_TEXT_MODE, OPTION_BASE_LINE_TITLE, OPTION_BASE_LINE_VALUE, OPTION_BASE_LINE_TITLE_FONT_STYLE, OPTION_TARGET_LINE_VALUE, OPTION_TARGET_LINE_TITLE_FONT_STYLE, OPTION_TARGET_LINE_TITLE, OPTION_BASE_LINE_ENABLED, OPTION_TARGET_LINE_ENABLED, OPTION_SHOW_LEGEND_KEY, OPTION_LEGEND_DISPLAY_STRATEGY, OPTION_LEGEND_SET, OPTION_LEGEND_DISPLAY_STYLE } from '../modules/options.js';\nimport { getAdaptedUiByType, getUiFromVisualization, SERIES_ITEM_TYPE_PROP } from '../modules/ui.js';\nexport const SET_UI = 'SET_UI';\nexport const SET_UI_FROM_VISUALIZATION = 'SET_UI_FROM_VISUALIZATION';\nexport const SET_UI_TYPE = 'SET_UI_TYPE';\nexport const SET_UI_OPTIONS = 'SET_UI_OPTIONS';\nexport const SET_UI_OPTION = 'SET_UI_OPTION';\nexport const SET_UI_OPTION_FONT_STYLE = 'SET_UI_OPTION_FONT_STYLE';\nexport const SET_UI_LAYOUT = 'SET_UI_LAYOUT';\nexport const ADD_UI_LAYOUT_DIMENSIONS = 'ADD_UI_LAYOUT_DIMENSIONS';\nexport const REMOVE_UI_LAYOUT_DIMENSIONS = 'REMOVE_UI_LAYOUT_DIMENSIONS';\nexport const SET_UI_ITEMS = 'SET_UI_ITEMS';\nexport const REMOVE_UI_ITEMS = 'REMOVE_UI_ITEMS';\nexport const ADD_UI_PARENT_GRAPH_MAP = 'ADD_UI_PARENT_GRAPH_MAP';\nexport const SET_UI_ACTIVE_MODAL_DIALOG = 'SET_UI_ACTIVE_MODAL_DIALOG';\nexport const SET_UI_YEAR_ON_YEAR_SERIES = 'SET_UI_YEAR_ON_YEAR_SERIES';\nexport const SET_UI_YEAR_ON_YEAR_CATEGORY = 'SET_UI_YEAR_ON_YEAR_CATEGORY';\nexport const SET_UI_ITEM_ATTRIBUTES = 'SET_UI_ITEM_ATTRIBUTES';\nexport const REMOVE_UI_ITEM_ATTRIBUTES = 'REMOVE_UI_ITEM_ATTRIBUTES';\nexport const CLEAR_UI = 'CLEAR_UI';\nexport const TOGGLE_UI_RIGHT_SIDEBAR_OPEN = 'TOGGLE_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_RIGHT_SIDEBAR_OPEN = 'SET_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_INTERPRETATION = 'SET_UI_INTERPRETATION';\nexport const CLEAR_UI_INTERPRETATION = 'CLEAR_UI_INTERPRETATION';\nexport const CLEAR_SERIES_TYPE = 'CLEAR_SERIES_TYPE';\nexport const UPDATE_UI_SERIES_ITEM = 'UPDATE_UI_SERIES_ITEM';\nexport const DEFAULT_UI = {\n  type: defaultVisType,\n  options: getOptionsForUi(),\n  layout: {\n    columns: [DIMENSION_ID_DATA],\n    rows: [DIMENSION_ID_PERIOD],\n    filters: [DIMENSION_ID_ORGUNIT]\n  },\n  itemsByDimension: {\n    [DIMENSION_ID_ORGUNIT]: [],\n    [DIMENSION_ID_PERIOD]: []\n  },\n  yearOverYearSeries: [],\n  yearOverYearCategory: [],\n  itemAttributes: [],\n  parentGraphMap: {},\n  activeModalDialog: null,\n  rightSidebarOpen: false,\n  interpretation: {},\n  outlierAnalysis: null\n};\nexport const PRESELECTED_YEAR_OVER_YEAR_SERIES = ['THIS_YEAR', 'LAST_YEAR'];\nexport const PRESELECTED_YEAR_OVER_YEAR_CATEGORY = ['MONTHS_THIS_YEAR'];\n\nconst getPreselectedUi = options => {\n  const {\n    rootOrganisationUnits,\n    relativePeriod,\n    digitGroupSeparator\n  } = options;\n  const parentGraphMap = { ...DEFAULT_UI.parentGraphMap\n  };\n  rootOrganisationUnits.forEach(root => {\n    if (root.id) {\n      parentGraphMap[root.id] = '';\n    }\n  });\n  return { ...DEFAULT_UI,\n    options: { ...DEFAULT_UI.options,\n      digitGroupSeparator\n    },\n    itemsByDimension: { ...DEFAULT_UI.itemsByDimension,\n      [DIMENSION_ID_ORGUNIT]: [USER_ORG_UNIT],\n      [DIMENSION_ID_PERIOD]: [relativePeriod]\n    },\n    yearOverYearSeries: PRESELECTED_YEAR_OVER_YEAR_SERIES,\n    yearOverYearCategory: PRESELECTED_YEAR_OVER_YEAR_CATEGORY,\n    parentGraphMap\n  };\n};\n\nexport default ((state = DEFAULT_UI, action) => {\n  switch (action.type) {\n    case SET_UI:\n      {\n        return { ...action.value\n        };\n      }\n\n    case SET_UI_FROM_VISUALIZATION:\n      {\n        return getAdaptedUiByType(getUiFromVisualization(action.value, state));\n      }\n\n    case SET_UI_TYPE:\n      {\n        return { ...state,\n          type: action.value\n        };\n      }\n\n    case SET_UI_OPTIONS:\n      {\n        return { ...state,\n          options: { ...state.options,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_OPTION:\n      {\n        const options = {\n          axes: state.options.axes || [],\n          seriesKey: state.options.seriesKey || {},\n          fontStyle: state.options.fontStyle || {},\n          legend: state.options.legend || {}\n        };\n        const value = action.value.value;\n        const optionId = action.value.optionId;\n        const [axisType, axisIndex] = (action.value.axisId || '').split('_');\n        const fontStyleOption = action.value.fontStyleOption;\n\n        switch (optionId) {\n          case OPTION_AXIS_DECIMALS:\n          case OPTION_AXIS_STEPS:\n          case OPTION_AXIS_MAX_VALUE:\n          case OPTION_AXIS_MIN_VALUE:\n            {\n              options.axes = pushAxis(options.axes, { ...getAxis(options.axes, Number(axisIndex), axisType),\n                [optionId]: value\n              });\n              break;\n            }\n\n          case OPTION_SHOW_SERIES_KEY:\n            options.seriesKey = { ...options.seriesKey,\n              hidden: value\n            };\n            break;\n\n          case OPTION_LEGEND_DISPLAY_STRATEGY:\n            options.legend = { ...options.legend,\n              strategy: value\n            };\n            break;\n\n          case OPTION_LEGEND_DISPLAY_STYLE:\n            options.legend = { ...options.legend,\n              style: value\n            };\n            break;\n\n          case OPTION_SHOW_LEGEND_KEY:\n            options.legend = { ...options.legend,\n              showKey: value\n            };\n            break;\n\n          case OPTION_LEGEND_SET:\n            options.legend = { ...options.legend,\n              set: value\n            };\n            break;\n\n          case OPTION_AXIS_TITLE:\n            {\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              options.axes = pushAxis(options.axes, { ...axis,\n                title: { ...axis.title,\n                  text: value\n                }\n              });\n              break;\n            }\n\n          case OPTION_AXIS_TITLE_TEXT_MODE:\n            {\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              options.axes = pushAxis(options.axes, { ...axis,\n                title: { ...axis.title,\n                  textMode: [TITLE_CUSTOM, TITLE_AUTO].includes(value) ? value : null\n                }\n              });\n              break;\n            }\n\n          case OPTION_BASE_LINE_ENABLED:\n          case OPTION_TARGET_LINE_ENABLED:\n            {\n              const prop = optionId === OPTION_BASE_LINE_ENABLED ? 'baseLine' : 'targetLine';\n              options.axes = pushAxis(options.axes, { ...getAxis(options.axes, Number(axisIndex), axisType),\n                [prop]: value ? {\n                  enabled: value\n                } : null\n              });\n              break;\n            }\n\n          case OPTION_BASE_LINE_TITLE:\n          case OPTION_TARGET_LINE_TITLE:\n            {\n              var _axis$prop;\n\n              const prop = optionId === OPTION_BASE_LINE_TITLE ? 'baseLine' : 'targetLine';\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              axis[prop] = { ...axis[prop],\n                title: { ...((_axis$prop = axis[prop]) === null || _axis$prop === void 0 ? void 0 : _axis$prop.title),\n                  text: value || undefined\n                }\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n\n          case OPTION_BASE_LINE_VALUE:\n          case OPTION_TARGET_LINE_VALUE:\n            {\n              const prop = optionId === OPTION_BASE_LINE_VALUE ? 'baseLine' : 'targetLine';\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              axis[prop] = { ...axis[prop],\n                value: value || value === 0 ? value : undefined\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n\n          case OPTION_BASE_LINE_TITLE_FONT_STYLE:\n          case OPTION_TARGET_LINE_TITLE_FONT_STYLE:\n            {\n              var _axis$prop$title;\n\n              const prop = optionId === OPTION_BASE_LINE_TITLE_FONT_STYLE ? 'baseLine' : 'targetLine';\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              axis[prop].title = { ...axis[prop].title,\n                fontStyle: { ...((_axis$prop$title = axis[prop].title) === null || _axis$prop$title === void 0 ? void 0 : _axis$prop$title.fontStyle),\n                  [fontStyleOption]: defaultFontStyle[FONT_STYLE_REGRESSION_LINE_LABEL][fontStyleOption] !== value ? value : undefined\n                }\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n\n          case FONT_STYLE_VERTICAL_AXIS_TITLE:\n          case FONT_STYLE_HORIZONTAL_AXIS_TITLE:\n            {\n              var _axis$title;\n\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              axis.title = { ...axis.title,\n                fontStyle: { ...((_axis$title = axis.title) === null || _axis$title === void 0 ? void 0 : _axis$title.fontStyle),\n                  [fontStyleOption]: defaultFontStyle[optionId][fontStyleOption] !== value ? value : undefined\n                }\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n\n          case FONT_STYLE_AXIS_LABELS:\n            {\n              var _axis$label;\n\n              const axis = getAxis(options.axes, Number(axisIndex), axisType);\n              axis.label = { ...axis.label,\n                fontStyle: { ...((_axis$label = axis.label) === null || _axis$label === void 0 ? void 0 : _axis$label.fontStyle),\n                  [fontStyleOption]: defaultFontStyle[optionId][fontStyleOption] !== value ? value : undefined\n                }\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n\n          case FONT_STYLE_LEGEND:\n            {\n              var _options$seriesKey$la;\n\n              options.seriesKey = { ...options.seriesKey,\n                label: {\n                  fontStyle: { ...((_options$seriesKey$la = options.seriesKey.label) === null || _options$seriesKey$la === void 0 ? void 0 : _options$seriesKey$la.fontStyle),\n                    [fontStyleOption]: defaultFontStyle[optionId][fontStyleOption] !== value ? value : undefined\n                  }\n                }\n              };\n              break;\n            }\n\n          case FONT_STYLE_VISUALIZATION_TITLE:\n          case FONT_STYLE_VISUALIZATION_SUBTITLE:\n            {\n              options.fontStyle = { ...options.fontStyle,\n                [optionId]: { ...options.fontStyle[optionId],\n                  [fontStyleOption]: defaultFontStyle[optionId][fontStyleOption] !== value ? value : undefined\n                }\n              };\n              break;\n            }\n\n          default:\n            {\n              options[optionId] = value;\n              break;\n            }\n        }\n\n        options.fontStyle = deepClean(options.fontStyle);\n        options.seriesKey = deepClean(options.seriesKey);\n        options.axes = cleanAxes(options.axes);\n        return { ...state,\n          options: { ...state.options,\n            ...options\n          }\n        };\n      }\n\n    case SET_UI_OPTION_FONT_STYLE:\n      {\n        const options = {\n          axes: state.options.axes || []\n        };\n        const [axisType, axisIndex] = (action.value.axisId || '').split('_');\n        const axis = getAxis(options.axes, Number(axisIndex), axisType);\n\n        switch (action.value.optionId) {\n          case FONT_STYLE_VERTICAL_AXIS_TITLE:\n          case FONT_STYLE_HORIZONTAL_AXIS_TITLE:\n            {\n              axis.title = { ...axis.title,\n                fontStyle: action.value.value\n              };\n              options.axes = pushAxis(options.axes, axis);\n              break;\n            }\n        }\n\n        options.axes = cleanAxes(options.axes);\n        return { ...state,\n          options: { ...state.options,\n            ...options\n          }\n        };\n      }\n\n    case SET_UI_LAYOUT:\n      {\n        return { ...state,\n          layout: { ...action.value\n          }\n        };\n      }\n    // action.value: transfer object (dimensionId:axisId) saying what to add where: { ou: 'rows' }\n    // Reducer takes care of swapping (retransfer) if dimension already exists in layout\n\n    case ADD_UI_LAYOUT_DIMENSIONS:\n      {\n        const transfers = { ...action.value,\n          ...getRetransfer(state.layout, action.value, state.type)\n        };\n        let newLayout = state.layout; // Add dimension ids to destination (axisId === null means remove from layout)\n\n        Object.entries(transfers).forEach(([dimensionId, {\n          axisId,\n          index\n        }]) => {\n          if (newLayout[axisId] && canDimensionBeAddedToAxis(state.type, newLayout[axisId], axisId)) {\n            // Filter out transferred dimension id (remove from source)\n            newLayout = getFilteredLayout(newLayout, [dimensionId]);\n\n            if (index === null || index === undefined) {\n              newLayout[axisId].push(dimensionId);\n            } else {\n              newLayout[axisId].splice(index, 0, dimensionId);\n            }\n          }\n        });\n        return { ...state,\n          layout: newLayout\n        };\n      }\n\n    case REMOVE_UI_LAYOUT_DIMENSIONS:\n      {\n        return { ...state,\n          layout: getFilteredLayout(state.layout, action.value)\n        };\n      }\n\n    case SET_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: itemIds\n          }\n        };\n      }\n\n    case REMOVE_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIdsToRemove\n        } = action.value;\n        const dxItems = (state.itemsByDimension[dimensionId] || []).filter(id => !itemIdsToRemove.includes(id));\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_SERIES:\n      {\n        return { ...state,\n          yearOverYearSeries: action.value || DEFAULT_UI.yearOverYearSeries\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_CATEGORY:\n      {\n        return { ...state,\n          yearOverYearCategory: action.value ? castArray(action.value) : DEFAULT_UI.yearOverYearCategory\n        };\n      }\n\n    case SET_UI_ITEM_ATTRIBUTES:\n      {\n        const {\n          attribute,\n          itemIds,\n          dimensionId\n        } = action.value;\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: [...new Set([...state.itemsByDimension[dimensionId].filter(id => state.itemAttributes.find(itemAttr => itemAttr.id === id && itemAttr.attribute !== attribute)), ...itemIds])]\n          },\n          itemAttributes: [...state.itemAttributes.filter(item => item.attribute !== attribute), ...itemIds.map(id => ({\n            id,\n            attribute\n          }))]\n        };\n      }\n\n    case REMOVE_UI_ITEM_ATTRIBUTES:\n      {\n        const {\n          dimensionId,\n          itemIdsToRemove,\n          attribute\n        } = action.value;\n        const itemAttributes = (state.itemAttributes || []).filter(({\n          id: itemId,\n          attribute: itemAttribute\n        }) => !(itemIdsToRemove.includes(itemId) && itemAttribute === attribute));\n        const dxItems = (state.itemsByDimension[dimensionId] || []).filter(id => itemAttributes.some(({\n          id: itemId\n        }) => itemId === id) || !itemIdsToRemove.includes(id));\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          },\n          itemAttributes\n        };\n      }\n\n    case ADD_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: { ...state.parentGraphMap,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_ACTIVE_MODAL_DIALOG:\n      {\n        return { ...state,\n          activeModalDialog: action.value || DEFAULT_UI.activeModalDialog\n        };\n      }\n\n    case CLEAR_UI:\n      {\n        return getPreselectedUi(action.value);\n      }\n\n    case TOGGLE_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: !state.rightSidebarOpen\n      };\n\n    case SET_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: true\n      };\n\n    case SET_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: action.value\n      };\n\n    case CLEAR_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: DEFAULT_UI.interpretation\n      };\n\n    case CLEAR_SERIES_TYPE:\n      return { ...state,\n        options: { ...state.options,\n          series: state.options.series.map(({\n            type,\n            ...rest\n          }) => rest)\n        }\n      };\n\n    case UPDATE_UI_SERIES_ITEM:\n      {\n        const {\n          changedItem,\n          value,\n          prop\n        } = action.value;\n        const series = [...state.options.series];\n        const itemIndex = series.findIndex(item => item.dimensionItem == changedItem.dimensionItem);\n\n        if (prop === SERIES_ITEM_TYPE_PROP && value === state.type) {\n          const {\n            [prop]: remove,\n            ...rest\n          } = series[itemIndex];\n          series[itemIndex] = { ...rest\n          };\n        } else {\n          series[itemIndex] = Object.assign({}, series[itemIndex], {\n            [prop]: value\n          });\n        }\n\n        return { ...state,\n          options: { ...state.options,\n            series\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetUi = state => state.ui;\nexport const sGetUiType = state => sGetUi(state).type;\nexport const sGetUiOptions = state => sGetUi(state).options;\nexport const sGetUiLayout = state => sGetUi(state).layout;\nexport const sGetUiItems = state => sGetUi(state).itemsByDimension;\nexport const sGetUiYearOverYearSeries = state => sGetUi(state).yearOverYearSeries;\nexport const sGetUiYearOverYearCategory = state => sGetUi(state).yearOverYearCategory;\nexport const sGetUiItemsByAttribute = (state, attribute) => (sGetUi(state).itemAttributes || []).filter(item => item.attribute === attribute).map(item => item.id);\nexport const sGetUiParentGraphMap = state => sGetUi(state).parentGraphMap;\nexport const sGetUiActiveModalDialog = state => sGetUi(state).activeModalDialog;\nexport const sGetUiRightSidebarOpen = state => sGetUi(state).rightSidebarOpen;\nexport const sGetUiInterpretation = state => sGetUi(state).interpretation;\nexport const sGetAxes = state => sGetUi(state).axes; // Selectors level 2\n\nexport const sGetAxisIdByDimensionId = (state, dimensionId) => (getInverseLayout(sGetUiLayout(state)) || {})[dimensionId];\nexport const sGetUiItemsByDimension = (state, dimension) => sGetUiItems(state)[dimension] || DEFAULT_UI.itemsByDimension[dimension];\nexport const sGetDimensionItemsByAxis = (state, axisId) => {\n  const dimensions = (sGetUiLayout(state) || {})[axisId] || [];\n  return dimensions.reduce((items, dimension) => {\n    items.push(sGetUiItemsByDimension(state, dimension));\n    return items;\n  }, []).flat();\n};\nexport const sGetDimensionIdsFromLayout = state => Object.values(sGetUiLayout(state)).reduce((ids, axisDimensionIds) => ids.concat(axisDimensionIds), []);\nexport const sLayoutHasDimension = (state, dimension) => sGetDimensionIdsFromLayout(state).includes(dimension);\nexport const sLayoutHasAssignedCategories = state => sLayoutHasDimension(state, DIMENSION_ID_ASSIGNED_CATEGORIES);\nexport const sGetAxisSetup = state => {\n  const columns = sGetUiLayout(state).columns;\n  const items = sGetUiItems(state);\n  const axes = sGetAxes(state) || {};\n  return Array.isArray(items[columns[0]]) && items[columns[0]].length ? items[columns[0]].map(id => ({\n    id,\n    axis: id in axes ? axes[id] : 0\n  })) : [];\n};\nexport const sGetUiOption = (state, option) => {\n  var _getAxis$title, _getAxis$title2, _options$seriesKey, _options$legend, _options$legend2, _options$legend3, _options$legend4, _options$seriesKey2, _options$seriesKey2$l, _getAxis$baseLine, _getAxis$baseLine2, _getAxis$baseLine2$ti, _getAxis$baseLine3, _getAxis$baseLine4, _getAxis$baseLine4$ti, _getAxis$targetLine, _getAxis$targetLine2, _getAxis$targetLine2$, _getAxis$targetLine3, _getAxis$targetLine4, _getAxis$targetLine4$, _getAxis$label, _getAxis$title3;\n\n  const options = sGetUi(state).options;\n  const [axisType, axisIndex] = (option.axisId || '').split('_');\n  let value;\n\n  if (option.name) {\n    value = options[option.name];\n  } else if (option.id) {\n    switch (option.id) {\n      case OPTION_AXIS_MAX_VALUE:\n      case OPTION_AXIS_MIN_VALUE:\n      case OPTION_AXIS_DECIMALS:\n      case OPTION_AXIS_STEPS:\n        value = getAxis(options.axes, Number(axisIndex), axisType)[option.id];\n        break;\n\n      case OPTION_AXIS_TITLE_TEXT_MODE:\n        value = (_getAxis$title = getAxis(options.axes, Number(axisIndex), axisType).title) === null || _getAxis$title === void 0 ? void 0 : _getAxis$title.textMode;\n        break;\n\n      case OPTION_AXIS_TITLE:\n        value = (_getAxis$title2 = getAxis(options.axes, Number(axisIndex), axisType).title) === null || _getAxis$title2 === void 0 ? void 0 : _getAxis$title2.text;\n        break;\n\n      case OPTION_SHOW_SERIES_KEY:\n        value = (_options$seriesKey = options.seriesKey) === null || _options$seriesKey === void 0 ? void 0 : _options$seriesKey.hidden;\n        break;\n\n      case OPTION_LEGEND_DISPLAY_STRATEGY:\n        value = (_options$legend = options.legend) === null || _options$legend === void 0 ? void 0 : _options$legend.strategy;\n        break;\n\n      case OPTION_LEGEND_DISPLAY_STYLE:\n        value = (_options$legend2 = options.legend) === null || _options$legend2 === void 0 ? void 0 : _options$legend2.style;\n        break;\n\n      case OPTION_SHOW_LEGEND_KEY:\n        value = (_options$legend3 = options.legend) === null || _options$legend3 === void 0 ? void 0 : _options$legend3.showKey;\n        break;\n\n      case OPTION_LEGEND_SET:\n        value = (_options$legend4 = options.legend) === null || _options$legend4 === void 0 ? void 0 : _options$legend4.set;\n        break;\n\n      case FONT_STYLE_LEGEND:\n        value = getConsolidatedFontStyle(option.id, (_options$seriesKey2 = options.seriesKey) === null || _options$seriesKey2 === void 0 ? void 0 : (_options$seriesKey2$l = _options$seriesKey2.label) === null || _options$seriesKey2$l === void 0 ? void 0 : _options$seriesKey2$l.fontStyle);\n        break;\n\n      case OPTION_BASE_LINE_ENABLED:\n        value = (_getAxis$baseLine = getAxis(options.axes, Number(axisIndex), axisType).baseLine) === null || _getAxis$baseLine === void 0 ? void 0 : _getAxis$baseLine.enabled;\n        break;\n\n      case OPTION_BASE_LINE_TITLE:\n        value = (_getAxis$baseLine2 = getAxis(options.axes, Number(axisIndex), axisType).baseLine) === null || _getAxis$baseLine2 === void 0 ? void 0 : (_getAxis$baseLine2$ti = _getAxis$baseLine2.title) === null || _getAxis$baseLine2$ti === void 0 ? void 0 : _getAxis$baseLine2$ti.text;\n        break;\n\n      case OPTION_BASE_LINE_VALUE:\n        value = (_getAxis$baseLine3 = getAxis(options.axes, Number(axisIndex), axisType).baseLine) === null || _getAxis$baseLine3 === void 0 ? void 0 : _getAxis$baseLine3.value;\n        break;\n\n      case OPTION_BASE_LINE_TITLE_FONT_STYLE:\n        value = getConsolidatedFontStyle(FONT_STYLE_REGRESSION_LINE_LABEL, (_getAxis$baseLine4 = getAxis(options.axes, Number(axisIndex), axisType).baseLine) === null || _getAxis$baseLine4 === void 0 ? void 0 : (_getAxis$baseLine4$ti = _getAxis$baseLine4.title) === null || _getAxis$baseLine4$ti === void 0 ? void 0 : _getAxis$baseLine4$ti.fontStyle);\n        break;\n\n      case OPTION_TARGET_LINE_ENABLED:\n        value = (_getAxis$targetLine = getAxis(options.axes, Number(axisIndex), axisType).targetLine) === null || _getAxis$targetLine === void 0 ? void 0 : _getAxis$targetLine.enabled;\n        break;\n\n      case OPTION_TARGET_LINE_TITLE:\n        value = (_getAxis$targetLine2 = getAxis(options.axes, Number(axisIndex), axisType).targetLine) === null || _getAxis$targetLine2 === void 0 ? void 0 : (_getAxis$targetLine2$ = _getAxis$targetLine2.title) === null || _getAxis$targetLine2$ === void 0 ? void 0 : _getAxis$targetLine2$.text;\n        break;\n\n      case OPTION_TARGET_LINE_VALUE:\n        value = (_getAxis$targetLine3 = getAxis(options.axes, Number(axisIndex), axisType).targetLine) === null || _getAxis$targetLine3 === void 0 ? void 0 : _getAxis$targetLine3.value;\n        break;\n\n      case OPTION_TARGET_LINE_TITLE_FONT_STYLE:\n        value = getConsolidatedFontStyle(FONT_STYLE_REGRESSION_LINE_LABEL, (_getAxis$targetLine4 = getAxis(options.axes, Number(axisIndex), axisType).targetLine) === null || _getAxis$targetLine4 === void 0 ? void 0 : (_getAxis$targetLine4$ = _getAxis$targetLine4.title) === null || _getAxis$targetLine4$ === void 0 ? void 0 : _getAxis$targetLine4$.fontStyle);\n        break;\n\n      case FONT_STYLE_AXIS_LABELS:\n        value = getConsolidatedFontStyle(option.id, (_getAxis$label = getAxis(options.axes, Number(axisIndex), axisType).label) === null || _getAxis$label === void 0 ? void 0 : _getAxis$label.fontStyle);\n        break;\n\n      case FONT_STYLE_VERTICAL_AXIS_TITLE:\n      case FONT_STYLE_HORIZONTAL_AXIS_TITLE:\n        value = getConsolidatedFontStyle(option.id, (_getAxis$title3 = getAxis(options.axes, Number(axisIndex), axisType).title) === null || _getAxis$title3 === void 0 ? void 0 : _getAxis$title3.fontStyle);\n        break;\n\n      case FONT_STYLE_VISUALIZATION_TITLE:\n      case FONT_STYLE_VISUALIZATION_SUBTITLE:\n        value = getConsolidatedFontStyle(option.id, (options.fontStyle || {})[option.id]);\n        break;\n    }\n  }\n\n  return value;\n};\n\nconst getAxis = (axes = [], axisIndex, axisType) => ({ ...(axes.find(axis => axis.index === axisIndex && axis.type === axisType) || {\n    index: Number(axisIndex),\n    type: axisType\n  })\n});\n\nconst getConsolidatedFontStyle = (fontStyleKey, fontStyle) => ({ ...defaultFontStyle[fontStyleKey],\n  ...(fontStyle || {})\n});\n\nconst deepClean = input => {\n  const result = objectClean(input);\n  Object.keys(result).forEach(key => {\n    if (typeof result[key] === 'object') {\n      result[key] = deepClean(result[key]);\n\n      if (!Object.keys(result[key]).length) {\n        delete result[key];\n      }\n    }\n  });\n  return result;\n};\n\nconst pushAxis = (axes, axis) => {\n  const updatedAxes = axes.filter(filter => filter.index !== Number(axis.index) || filter.type !== axis.type);\n  updatedAxes.push(axis);\n  return updatedAxes;\n};\n\nconst cleanAxes = axes => axes.map(axis => {\n  const cleanAxis = deepClean(axis);\n  return !Object.keys(cleanAxis).filter(key => !['type', 'index'].includes(key)).length ? null : cleanAxis;\n}).filter(i => i);","import { SET_CURRENT, SET_CURRENT_FROM_UI, CLEAR_CURRENT } from '../reducers/current.js';\nimport { sGetUi } from '../reducers/ui.js';\nexport const acSetCurrent = value => ({\n  type: SET_CURRENT,\n  value\n});\nexport const acClear = () => ({\n  type: CLEAR_CURRENT\n});\nexport const acSetCurrentFromUi = value => ({\n  type: SET_CURRENT_FROM_UI,\n  value\n});\nexport const tSetCurrentFromUi = () => async (dispatch, getState) => {\n  dispatch(acSetCurrentFromUi(sGetUi(getState())));\n};","import { getPredefinedDimensions } from '@dhis2/analytics';\nexport const SET_DIMENSIONS = 'SET_DIMENSIONS';\nexport const SET_SELECTED_DIMENSION = 'SET_SELECTED_DIMENSION';\nexport const DEFAULT_DIMENSIONS = getPredefinedDimensions();\nexport default ((state = DEFAULT_DIMENSIONS, action) => {\n  switch (action.type) {\n    case SET_DIMENSIONS:\n      {\n        return { ...DEFAULT_DIMENSIONS,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\n/**\n * Selector which returns dimensions from the state object\n * If state.dimensions is null, then the dimensions api request\n * has not yet completed. If state.dimensions is an empty object\n * then the dimensions api request is complete, and there are no\n * dimensions\n *\n * @function\n * @param {Object} state The current state\n * @returns {Array}\n */\n\nexport const sGetDimensions = state => state.dimensions;","import { apiFetchDimensions } from '@dhis2/analytics';\nimport keyBy from 'lodash-es/keyBy';\nimport sortBy from 'lodash-es/sortBy';\nimport { SET_DIMENSIONS } from '../reducers/dimensions.js';\nimport { sGetSettingsDisplayNameProperty } from '../reducers/settings.js';\nexport const acSetDimensions = dimensions => ({\n  type: SET_DIMENSIONS,\n  value: keyBy(sortBy(dimensions, [d => d.name.toLowerCase()]), 'id')\n});\nexport const tSetDimensions = () => async (dispatch, getState, engine) => {\n  const onSuccess = dimensions => {\n    dispatch(acSetDimensions(dimensions));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchDimensions): ', error);\n    return error;\n  };\n\n  try {\n    const displayNameProp = sGetSettingsDisplayNameProperty(getState());\n    const dimensions = await apiFetchDimensions(engine, displayNameProp);\n    return onSuccess(dimensions);\n  } catch (err) {\n    return onError(err);\n  }\n};","export const SET_LOAD_ERROR = 'SET_LOAD_ERROR';\nexport const CLEAR_LOAD_ERROR = 'CLEAR_LOAD_ERROR';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_PLUGIN_LOADING = 'SET_PLUGIN_LOADING';\nexport const DEFAULT_LOADING = {\n  isLoading: false,\n  loadingError: null,\n  isPluginLoading: true\n};\nexport default ((state = DEFAULT_LOADING, action) => {\n  switch (action.type) {\n    case SET_LOAD_ERROR:\n      {\n        return { ...state,\n          loadingError: action.value\n        };\n      }\n\n    case CLEAR_LOAD_ERROR:\n      return { ...state,\n        loadingError: DEFAULT_LOADING.loadingError\n      };\n\n    case SET_LOADING:\n      return { ...state,\n        isLoading: action.value\n      };\n\n    case SET_PLUGIN_LOADING:\n      return { ...state,\n        isPluginLoading: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetLoadError = state => state.loader.loadingError;\nexport const sGetIsLoading = state => state.loader.isLoading;\nexport const sGetIsPluginLoading = state => state.loader.isPluginLoading;","import { SET_LOAD_ERROR, CLEAR_LOAD_ERROR, SET_LOADING, SET_PLUGIN_LOADING } from '../reducers/loader.js';\nexport const acSetLoadError = value => ({\n  type: SET_LOAD_ERROR,\n  value\n});\nexport const acClearLoadError = () => ({\n  type: CLEAR_LOAD_ERROR\n});\nexport const acSetLoading = value => ({\n  type: SET_LOADING,\n  value\n});\nexport const acSetPluginLoading = value => ({\n  type: SET_PLUGIN_LOADING,\n  value\n});","export const ADD_METADATA = 'ADD_METADATA';\nexport const DEFAULT_METADATA = {};\nexport default ((state = DEFAULT_METADATA, action) => {\n  switch (action.type) {\n    case ADD_METADATA:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetMetadata = state => state.metadata;","import { ADD_METADATA } from '../reducers/metadata.js';\nexport const acAddMetadata = value => ({\n  type: ADD_METADATA,\n  value\n});","export const SET_RECOMMENDED_IDS = 'SET_RECOMMENDED_IDS';\nexport const DEFAULT_RECOMMENDED_IDS = [];\nexport default ((state = DEFAULT_RECOMMENDED_IDS, action) => {\n  switch (action.type) {\n    case SET_RECOMMENDED_IDS:\n      {\n        return action.value || DEFAULT_RECOMMENDED_IDS;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetRecommendedIds = state => state.recommendedIds;","import { SYSTEM_SETTINGS } from '../modules/settings.js';\nimport { onError } from './index.js';\nconst systemSettingsQuery = {\n  resource: 'systemSettings',\n  params: {\n    key: SYSTEM_SETTINGS\n  }\n};\nexport const apiFetchSystemSettings = async dataEngine => {\n  const systemSettingsData = await dataEngine.query({\n    systemSettings: systemSettingsQuery\n  }, {\n    onError\n  });\n  return systemSettingsData.systemSettings;\n};","export const SYSTEM_SETTINGS = ['keyDateFormat', 'keyAnalysisRelativePeriod', 'keyAnalysisDigitGroupSeparator', 'keyIgnoreAnalyticsApprovalYearThreshold', 'keyHideBiMonthlyPeriods', 'keyHideDailyPeriods', 'keyHideMonthlyPeriods', 'keyHideWeeklyPeriods', 'keyHideBiWeeklyPeriods'];","import { apiFetchOrganisationUnitRoots } from '@dhis2/analytics';\nimport { apiFetchSystemSettings } from '../api/settings.js';\nimport { ADD_SETTINGS } from '../reducers/settings.js';\nexport const acAddSettings = value => ({\n  type: ADD_SETTINGS,\n  value\n});\nexport const tAddSettings = (...extraSettings) => async (dispatch, getState, engine) => {\n  const onSuccess = fetchedSettings => {\n    dispatch(acAddSettings(Object.assign({}, fetchedSettings, ...extraSettings)));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchSystemSettings): ', error);\n    return error;\n  };\n\n  try {\n    const fetchSystemSettings = apiFetchSystemSettings(engine);\n    const fetchOrgUnitRoots = apiFetchOrganisationUnitRoots(engine); // run in parallel\n\n    const [systemSettings, orgUnitRoots] = await Promise.all([fetchSystemSettings, fetchOrgUnitRoots]);\n    return onSuccess({ ...systemSettings,\n      rootOrganisationUnits: orgUnitRoots\n    });\n  } catch (err) {\n    return onError(err);\n  }\n};","const userAuthorityQuery = {\n  authority: {\n    resource: 'me/authorization',\n    id: ({\n      authorityId\n    }) => authorityId\n  }\n};\nexport const apiFetchUserAuthority = (dataEngine, authorityId) => dataEngine.query(userAuthorityQuery, {\n  variables: {\n    authorityId\n  }\n});","export const RECEIVED_USER = 'RECEIVED_USER';\nexport const SET_USER_AUTHORITY = 'SET_USER_AUTHORITY';\nexport const DEFAULT_USER = {\n  id: '',\n  username: '',\n  uiLocale: '',\n  isSuperuser: false,\n  authorities: {}\n};\nexport default ((state = DEFAULT_USER, action) => {\n  switch (action.type) {\n    case RECEIVED_USER:\n      {\n        return fromD2ToUserObj(action.value);\n      }\n\n    case SET_USER_AUTHORITY:\n      {\n        return { ...state,\n          authorities: { ...state.authorities,\n            ...action.value\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n});\n\nfunction fromD2ToUserObj(d2Object) {\n  return {\n    id: d2Object.id,\n    username: d2Object.username,\n    uiLocale: d2Object.settings.keyUiLocale,\n    isSuperuser: d2Object.authorities.has('ALL')\n  };\n} // Selectors\n\n\nexport const sGetUser = state => state.user;\nexport const sGetUserId = state => sGetUser(state).id;\nexport const sGetUsername = state => sGetUser(state).username;\nexport const sGetIsSuperuser = state => sGetUser(state).isSuperuser;\nexport const sGetUiLocale = state => sGetUser(state).uiLocale;\nexport const sGetUserAuthorities = state => sGetUser(state).authorities;","import { apiFetchUserAuthority } from '../api/user.js';\nimport { GenericServerError } from '../modules/error.js';\nimport { RECEIVED_USER, SET_USER_AUTHORITY } from '../reducers/user.js';\nimport { acSetLoadError } from './loader.js';\nexport const acReceivedUser = value => ({\n  type: RECEIVED_USER,\n  value\n});\nexport const acSetUserAuthority = value => ({\n  type: SET_USER_AUTHORITY,\n  value\n});\nexport const tLoadUserAuthority = authorityKey => async (dispatch, getState, engine) => {\n  const onSuccess = response => {\n    dispatch(acSetUserAuthority({\n      [authorityKey]: response.authority\n    }));\n  };\n\n  try {\n    return onSuccess(await apiFetchUserAuthority(engine, authorityKey));\n  } catch (err) {\n    dispatch(acSetLoadError(new GenericServerError()));\n  }\n};","import { SET_VISUALIZATION, CLEAR_VISUALIZATION } from '../reducers/visualization.js';\nexport const acSetVisualization = visualization => ({\n  type: SET_VISUALIZATION,\n  value: visualization\n});\nexport const acClear = () => ({\n  type: CLEAR_VISUALIZATION\n});","import { getDisplayNameByVisType, convertOuLevelsToUids, ALL_DYNAMIC_DIMENSION_ITEMS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { apiPostDataStatistics } from '../api/dataStatistics.js';\nimport { apiFetchVisualization, apiSaveVisualization } from '../api/visualization.js';\nimport { VARIANT_SUCCESS } from '../components/Snackbar/Snackbar.js';\nimport { GenericServerError, VisualizationNotFoundError } from '../modules/error.js';\nimport history from '../modules/history.js';\nimport { getVisualizationFromCurrent } from '../modules/visualization.js';\nimport { sGetCurrent } from '../reducers/current.js';\nimport { sGetRootOrgUnits, sGetRelativePeriod, sGetSettingsDigitGroupSeparator } from '../reducers/settings.js';\nimport { sGetVisualization } from '../reducers/visualization.js';\nimport * as fromChart from './chart.js';\nimport * as fromCurrent from './current.js';\nimport * as fromDimensions from './dimensions.js';\nimport * as fromLoader from './loader.js';\nimport * as fromMetadata from './metadata.js';\nimport * as fromRecommended from './recommendedIds.js';\nimport * as fromSettings from './settings.js';\nimport * as fromSnackbar from './snackbar.js';\nimport * as fromUi from './ui.js';\nimport * as fromUser from './user.js';\nimport * as fromVisualization from './visualization.js';\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommended, fromUi, fromMetadata, fromSettings, fromUser, fromChart, fromSnackbar, fromLoader };\n\nconst logError = (action, error) => {\n  console.log(`Error in action ${action}: ${error}`);\n};\n\nconst adaptAxisItems = axis => (axis || []).map(ai => {\n  var _ai$items;\n\n  return { ...ai,\n    items: ai !== null && ai !== void 0 && (_ai$items = ai.items) !== null && _ai$items !== void 0 && _ai$items.length ? ai.items : ![DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, DIMENSION_ID_ASSIGNED_CATEGORIES].includes(ai.dimension) ? [{\n      id: ALL_DYNAMIC_DIMENSION_ITEMS,\n      name: i18n.t('All items')\n    }] : null\n  };\n}); // visualization, current, ui\n\n\nexport const tDoLoadVisualization = ({\n  id,\n  interpretationId,\n  ouLevels\n}) => async (dispatch, getState, engine) => {\n  const onSuccess = async response => {\n    dispatch(fromLoader.acSetPluginLoading(true));\n    const visualization = convertOuLevelsToUids(ouLevels, response.visualization);\n    visualization.columns = adaptAxisItems(visualization.columns);\n    visualization.rows = adaptAxisItems(visualization.rows);\n    visualization.filters = adaptAxisItems(visualization.filters);\n\n    if (interpretationId) {\n      const interpretation = visualization.interpretations.find(i => i.id === interpretationId);\n\n      if (interpretation) {\n        dispatch(fromUi.acSetUiInterpretation(interpretation));\n        dispatch(fromUi.acSetUiRightSidebarOpen());\n      }\n    }\n\n    apiPostDataStatistics(engine, visualization.id);\n    dispatch(fromVisualization.acSetVisualization(visualization));\n    dispatch(fromCurrent.acSetCurrent(visualization));\n    dispatch(fromUi.acSetUiFromVisualization(visualization));\n    dispatch(fromLoader.acClearLoadError());\n  };\n\n  try {\n    return onSuccess(await apiFetchVisualization(engine, id));\n  } catch (errorResponse) {\n    var _errorResponse$detail;\n\n    let error = errorResponse;\n\n    if ((errorResponse === null || errorResponse === void 0 ? void 0 : (_errorResponse$detail = errorResponse.details) === null || _errorResponse$detail === void 0 ? void 0 : _errorResponse$detail.httpStatusCode) === 404) {\n      error = new VisualizationNotFoundError();\n    } else if (errorResponse !== null && errorResponse !== void 0 && errorResponse.message) {\n      error = errorResponse.message;\n    } else {\n      error = new GenericServerError();\n    }\n\n    dispatch(clearAll(error));\n    logError('tDoLoadVisualization', error);\n  }\n};\nexport const clearAll = (error = null) => (dispatch, getState) => {\n  if (error) {\n    dispatch(fromLoader.acSetLoadError(error));\n  } else {\n    dispatch(fromLoader.acClearLoadError());\n  }\n\n  dispatch(fromVisualization.acClear());\n  dispatch(fromCurrent.acClear());\n  const rootOrganisationUnits = sGetRootOrgUnits(getState());\n  const relativePeriod = sGetRelativePeriod(getState());\n  const digitGroupSeparator = sGetSettingsDigitGroupSeparator(getState());\n  dispatch(fromUi.acClear({\n    rootOrganisationUnits,\n    relativePeriod,\n    digitGroupSeparator\n  }));\n};\nexport const tDoRenameVisualization = ({\n  name,\n  description\n}) => (dispatch, getState) => {\n  const state = getState();\n  const visualization = sGetVisualization(state);\n  const current = sGetCurrent(state);\n  const updatedVisualization = { ...visualization\n  };\n  const updatedCurrent = { ...current\n  };\n\n  if (name) {\n    updatedVisualization.name = updatedCurrent.name = name;\n  }\n\n  if (description) {\n    updatedVisualization.description = updatedCurrent.description = description;\n  }\n\n  dispatch(fromVisualization.acSetVisualization(updatedVisualization)); // keep the same reference for current if there are no changes\n  // other than the name/description\n\n  if (visualization === current) {\n    dispatch(fromCurrent.acSetCurrent(updatedVisualization));\n  } else {\n    dispatch(fromCurrent.acSetCurrent(updatedCurrent));\n  }\n\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    variant: VARIANT_SUCCESS,\n    message: i18n.t('Rename successful'),\n    duration: 2000\n  }));\n};\nexport const tDoSaveVisualization = ({\n  name,\n  description\n}, copy) => async (dispatch, getState, engine) => {\n  const onSuccess = res => {\n    if (res.status === 'OK' && res.response.uid) {\n      if (copy) {\n        history.push({\n          pathname: `/${res.response.uid}`,\n          state: {\n            isSaving: true\n          }\n        }); // Save as\n      } else {\n        history.replace({\n          pathname: `/${res.response.uid}`,\n          state: {\n            isSaving: true\n          }\n        }); // Save\n      }\n    }\n  };\n\n  try {\n    dispatch(fromLoader.acSetPluginLoading(true));\n    const visualization = getVisualizationFromCurrent(sGetCurrent(getState())); // remove the id to trigger a POST request and save a new AO\n\n    if (copy) {\n      delete visualization.id;\n    }\n\n    visualization.name = // name provided in the Save dialog\n    name || // existing name when saving the same modified visualization\n    visualization.name || // new visualization with no name provided in Save dialog\n    i18n.t('Untitled {{visualizationType}} visualization, {{date}}', {\n      visualizationType: getDisplayNameByVisType(visualization.type),\n      date: new Date().toLocaleDateString(undefined, {\n        year: 'numeric',\n        month: 'short',\n        day: '2-digit'\n      })\n    });\n\n    if (description) {\n      visualization.description = description;\n    }\n\n    return onSuccess(await apiSaveVisualization(engine, visualization));\n  } catch (error) {\n    dispatch(fromLoader.acSetPluginLoading(false));\n    logError('tDoSaveVisualization', error); // TODO: Once the API returns custom error codes for validation errors, make sure they're relayed properly to be displayed to the user\n    // In the meantime we only display a generic error (doesn't give any constructive information but at least it doesn't fail silently any more)\n\n    dispatch(fromLoader.acSetLoadError(new GenericServerError()));\n  }\n};\nexport const tDoDeleteVisualization = () => (dispatch, getState) => {\n  const current = sGetCurrent(getState());\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    variant: VARIANT_SUCCESS,\n    message: i18n.t('\"{{deletedObject}}\" successfully deleted.', {\n      deletedObject: current.name\n    }),\n    duration: 2000\n  }));\n  history.push('/');\n};","import { getInstance } from 'd2';\nimport { onError } from './index.js';\nexport const NAMESPACE = 'analytics';\nexport const CURRENT_AO_KEY = 'currentAnalyticalObject';\nexport const hasNamespace = async d2 => await d2.currentUser.dataStore.has(NAMESPACE);\nexport const getNamespace = async (d2, hasNamespace) => hasNamespace ? await d2.currentUser.dataStore.get(NAMESPACE) : await d2.currentUser.dataStore.create(NAMESPACE);\nexport const apiSave = async (data, key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, await hasNamespace(d2)));\n    return ns.set(key, data);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiFetch = async (key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, await hasNamespace(d2)));\n    return ns.get(key);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiSaveAOInUserDataStore = (current, key = CURRENT_AO_KEY) => apiSave(current, key);\nexport const apiFetchAOFromUserDataStore = (key = CURRENT_AO_KEY) => apiFetch(key);","import { USER_ORG_UNIT, USER_ORG_UNIT_CHILDREN, USER_ORG_UNIT_GRANDCHILDREN } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\n\nconst getRelativePeriods = () => ({\n  TODAY: i18n.t('Today'),\n  YESTERDAY: i18n.t('Yesterday'),\n  LAST_3_DAYS: i18n.t('Last 3 days'),\n  LAST_7_DAYS: i18n.t('Last 7 days'),\n  LAST_14_DAYS: i18n.t('Last 14 days'),\n  THIS_WEEK: i18n.t('This week'),\n  LAST_WEEK: i18n.t('Last week'),\n  LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n  LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n  LAST_52_WEEKS: i18n.t('Last 52 weeks'),\n  WEEKS_THIS_YEAR: i18n.t('Weeks this year'),\n  THIS_MONTH: i18n.t('This month'),\n  LAST_MONTH: i18n.t('Last month'),\n  LAST_3_MONTHS: i18n.t('Last 3 months'),\n  LAST_6_MONTHS: i18n.t('Last 6 months'),\n  LAST_12_MONTHS: i18n.t('Last 12 months'),\n  MONTHS_THIS_YEAR: i18n.t('Months this year'),\n  THIS_BIMONTH: i18n.t('This bimonth'),\n  LAST_BIMONTH: i18n.t('Last bimonth'),\n  LAST_6_BIMONTHS: i18n.t('Last 6 bimonths'),\n  BIMONTHS_THIS_YEAR: i18n.t('Bimonths this year'),\n  THIS_QUARTER: i18n.t('This quarter'),\n  LAST_QUARTER: i18n.t('Last quarter'),\n  LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n  QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n  THIS_SIX_MONTH: i18n.t('This six-month'),\n  LAST_SIX_MONTH: i18n.t('Last six-month'),\n  LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n  THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n  LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n  LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years'),\n  THIS_YEAR: i18n.t('This year'),\n  LAST_YEAR: i18n.t('Last year'),\n  LAST_5_YEARS: i18n.t('Last 5 years')\n});\n\nconst getOrganisationUnits = () => ({\n  [USER_ORG_UNIT]: i18n.t('User organisation unit'),\n  [USER_ORG_UNIT_CHILDREN]: i18n.t('User sub-units'),\n  [USER_ORG_UNIT_GRANDCHILDREN]: i18n.t('User sub-x2-units')\n});\n\nexport default function () {\n  return Object.entries({ ...getRelativePeriods(),\n    ...getOrganisationUnits()\n  }).reduce((obj, [key, value]) => ({ ...obj,\n    [key]: {\n      name: value\n    }\n  }), {});\n}","import { combineReducers } from 'redux';\nimport chart, * as fromChart from './chart.js';\nimport current, * as fromCurrent from './current.js';\nimport dimensions, * as fromDimensions from './dimensions.js';\nimport loader, * as fromLoader from './loader.js';\nimport metadata, * as fromMetadata from './metadata.js';\nimport recommendedIds, * as fromRecommendedIds from './recommendedIds.js';\nimport settings, * as fromSettings from './settings.js';\nimport snackbar, * as fromSnackbar from './snackbar.js';\nimport ui, * as fromUi from './ui.js';\nimport user, * as fromUser from './user.js';\nimport visualization, * as fromVisualization from './visualization.js'; // Reducers\n\nexport default combineReducers({\n  visualization,\n  current,\n  dimensions,\n  recommendedIds,\n  ui,\n  metadata,\n  settings,\n  user,\n  snackbar,\n  loader,\n  chart\n}); // Selectors\n\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommendedIds, fromUi, fromMetadata, fromSettings, fromUser, fromSnackbar, fromLoader, fromChart };\nexport const sGetSeriesSetupItems = state => fromUi.sGetAxisSetup(state).map(item => {\n  var _fromMetadata$sGetMet;\n\n  return {\n    dimensionItem: item.id,\n    axis: item.axis,\n    name: (_fromMetadata$sGetMet = fromMetadata.sGetMetadata(state)[item.id]) === null || _fromMetadata$sGetMet === void 0 ? void 0 : _fromMetadata$sGetMet.name\n  };\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst HideButton = ({\n  onClick,\n  ...props\n}) => /*#__PURE__*/React.createElement(Button, _extends({}, props, {\n  type: \"button\",\n  secondary: true,\n  onClick: onClick\n}), i18n.t('Hide'));\n\nHideButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default HideButton;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst UpdateButton = ({\n  onClick,\n  ...props\n}) => {\n  return /*#__PURE__*/React.createElement(Button, _extends({}, props, {\n    onClick: onClick,\n    type: \"button\",\n    primary: true\n  }), i18n.t('Update'));\n};\n\nUpdateButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default UpdateButton;","import { AXIS, DIMENSION_ID_PERIOD, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_SCATTER, getPredefinedDimensionProp, dimensionIsValid, layoutGetDimension, DIMENSION_PROP_NO_ITEMS, DIMENSION_ID_DATA } from '@dhis2/analytics';\nimport { NoSeriesError, NoCategoryError, NoPeriodError, NoDataError, NoSeriesOrCategoryError, NoPointsError, NoVerticalError, NoHorizontalError, DuplicateItemsError } from './error.js';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields.js';\nimport { ITEM_ATTRIBUTE_HORIZONTAL, ITEM_ATTRIBUTE_VERTICAL } from './ui.js'; // Layout validation helper functions\n\nconst isAxisValid = axis => AXIS.isValid(axis) && axis.some(axisItem => dimensionIsValid(axisItem, {\n  requireItems: !getPredefinedDimensionProp(axisItem.dimension, DIMENSION_PROP_NO_ITEMS)\n}));\n\nconst validateDimension = (dimension, error) => {\n  if (!(dimension && dimensionIsValid(dimension, {\n    requireItems: true\n  }))) {\n    throw error;\n  }\n};\n\nconst validateAxis = (axis, error) => {\n  if (!isAxisValid(axis)) {\n    throw error;\n  }\n}; // Layout validation\n\n\nconst validateDefaultLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError(layout.type));\n  validateAxis(layout.rows, new NoCategoryError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), // TODO: old validation rule, refactor\n  new NoPeriodError(layout.type));\n};\n\nconst validatePivotTableLayout = layout => {\n  if (!isAxisValid(layout.columns) && !isAxisValid(layout.rows)) {\n    throw new NoSeriesOrCategoryError(layout.type);\n  }\n\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateYearOverYearLayout = layout => {\n  if (!(Array.isArray(layout[BASE_FIELD_YEARLY_SERIES]) && typeof layout[BASE_FIELD_YEARLY_SERIES][0] === 'string')) {\n    throw new NoSeriesError(layout.type);\n  }\n\n  validateAxis(layout.rows, new NoCategoryError(layout.type));\n};\n\nconst validatePieLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateSingleValueLayout = layout => {\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_DATA), new NoDataError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateScatterLayout = layout => {\n  var _layout$ui$itemAttrib, _layout$ui$itemAttrib2;\n\n  const verticalItems = ((_layout$ui$itemAttrib = layout.ui.itemAttributes) === null || _layout$ui$itemAttrib === void 0 ? void 0 : _layout$ui$itemAttrib.filter(item => item.attribute === ITEM_ATTRIBUTE_VERTICAL)) || [];\n  const horizontalItems = ((_layout$ui$itemAttrib2 = layout.ui.itemAttributes) === null || _layout$ui$itemAttrib2 === void 0 ? void 0 : _layout$ui$itemAttrib2.filter(item => item.attribute === ITEM_ATTRIBUTE_HORIZONTAL)) || [];\n\n  if (!verticalItems.length) {\n    throw new NoVerticalError();\n  } else if (!horizontalItems.length) {\n    throw new NoHorizontalError();\n  } else if (verticalItems[0].id === horizontalItems[0].id) {\n    throw new DuplicateItemsError();\n  }\n\n  validateAxis(layout.rows, new NoPointsError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nexport const validateLayout = layout => {\n  switch (layout.type) {\n    case VIS_TYPE_PIE:\n      return validatePieLayout(layout);\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return validateYearOverYearLayout(layout);\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return validateSingleValueLayout(layout);\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return validatePivotTableLayout(layout);\n\n    case VIS_TYPE_SCATTER:\n      return validateScatterLayout(layout);\n\n    default:\n      return validateDefaultLayout(layout);\n  }\n};","import { connect } from 'react-redux';\nimport * as fromActions from '../../actions/index.js';\nimport { acSetLoadError, acClearLoadError, acSetPluginLoading } from '../../actions/loader.js';\nimport { CURRENT_AO_KEY } from '../../api/userDataStore.js';\nimport { GenericClientError } from '../../modules/error.js';\nimport history from '../../modules/history.js';\nimport { validateLayout } from '../../modules/layoutValidation.js';\nimport { sGetCurrent, sGetCurrentFromUi } from '../../reducers/current.js';\n\nconst UpdateVisualizationContainer = ({\n  renderComponent,\n  getCurrent,\n  getCurrentFromUi,\n  onUpdate,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart\n}) => {\n  // validate layout on update\n  // validation error message will be shown without loading the plugin first\n  const onClick = () => {\n    try {\n      validateLayout(getCurrentFromUi());\n      acClearLoadError();\n    } catch (error) {\n      acSetLoadError(error || new GenericClientError());\n    }\n\n    onLoadingStart();\n    onUpdate();\n    const urlContainsCurrentAOKey = history.location.pathname === '/' + CURRENT_AO_KEY;\n    const current = getCurrent();\n    const pathWithoutInterpretation = current && current.id ? `/${current.id}` : '/';\n\n    if (!urlContainsCurrentAOKey && history.location.pathname !== pathWithoutInterpretation) {\n      history.push(pathWithoutInterpretation);\n    }\n  };\n\n  return renderComponent(onClick);\n};\n\nconst mapDispatchToProps = {\n  getCurrent: () => (dispatch, getState) => sGetCurrent(getState()),\n  getCurrentFromUi: () => (dispatch, getState) => sGetCurrentFromUi(getState()),\n  onUpdate: fromActions.fromCurrent.tSetCurrentFromUi,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart: () => acSetPluginLoading(true)\n};\nexport default connect(null, mapDispatchToProps)(UpdateVisualizationContainer);","import { getAvailableAxes, getAxisNameByLayoutType, getLayoutTypeByVisType } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { SplitButton, FlyoutMenu, MenuItem, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acAddUiLayoutDimensions } from '../../../../actions/ui.js';\nimport { sGetUiActiveModalDialog, sGetUiType } from '../../../../reducers/ui.js';\nexport const AddToLayoutButton = ({\n  dialogId,\n  visType,\n  onAddDimension,\n  onClick,\n  dataTest\n}) => {\n  const availableAxes = getAvailableAxes(visType);\n  const AddToLayoutButton = availableAxes.length > 1 ? SplitButton : Button;\n\n  const clickHandler = axisId => {\n    onAddDimension({\n      [dialogId]: {\n        axisId\n      }\n    });\n    onClick();\n  };\n\n  const renderMenu = () => /*#__PURE__*/React.createElement(FlyoutMenu, {\n    maxWidth: \"380px\",\n    dataTest: `${dataTest}-flyout-menu`\n  }, getAvailableAxes(visType).slice(1).map(axis => /*#__PURE__*/React.createElement(MenuItem, {\n    key: axis,\n    dataTest: `${dataTest}-flyout-menu-option-${axis}`,\n    onClick: () => clickHandler(axis),\n    label: i18n.t(`Add to {{axisName}}`, {\n      axisName: getAxisNameByLayoutType(axis, getLayoutTypeByVisType(visType))\n    })\n  })));\n\n  return /*#__PURE__*/React.createElement(AddToLayoutButton, {\n    component: availableAxes.length > 1 ? renderMenu() : null,\n    onClick: () => clickHandler(availableAxes[0]),\n    primary: true,\n    dataTest: dataTest\n  }, i18n.t(`Add to {{axisName}}`, {\n    axisName: getAxisNameByLayoutType(availableAxes[0], getLayoutTypeByVisType(visType))\n  }));\n};\nAddToLayoutButton.propTypes = {\n  dialogId: PropTypes.string.isRequired,\n  visType: PropTypes.string.isRequired,\n  onAddDimension: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n  dataTest: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state),\n  dialogId: sGetUiActiveModalDialog(state)\n});\n\nexport default connect(mapStateToProps, {\n  onAddDimension: acAddUiLayoutDimensions\n})(AddToLayoutButton);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DataDimension, DynamicDimension, PeriodDimension, OrgUnitDimension, ouIdHelper, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, getAxisMaxNumberOfItems, getDisplayNameByVisType, filterOutPredefinedDimensions, apiFetchRecommendedIds, DAILY, WEEKLY, WEEKLYWED, WEEKLYTHU, WEEKLYSAT, WEEKLYSUN, BIWEEKLY, MONTHLY, BIMONTHLY, ALL_DYNAMIC_DIMENSION_ITEMS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Modal, ModalContent, ModalActions, ButtonStrip, ModalTitle, TabBar, Tab } from '@dhis2/ui';\nimport debounce from 'lodash-es/debounce';\nimport isEqual from 'lodash-es/isEqual';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { acAddMetadata } from '../../../actions/metadata.js';\nimport { acSetRecommendedIds } from '../../../actions/recommendedIds.js';\nimport { acSetUiActiveModalDialog, acSetUiItems, acAddParentGraphMap, acSetUiItemAttributes } from '../../../actions/ui.js';\nimport { removeLastPathSegment, getOuPath } from '../../../modules/orgUnit.js';\nimport { ITEM_ATTRIBUTE_HORIZONTAL, ITEM_ATTRIBUTE_VERTICAL } from '../../../modules/ui.js';\nimport { sGetDimensions } from '../../../reducers/dimensions.js';\nimport { sGetMetadata } from '../../../reducers/metadata.js';\nimport { sGetRootOrgUnits, sGetSettings, sGetSettingsDisplayNameProperty } from '../../../reducers/settings.js';\nimport { sGetUiItems, sGetUiItemsByDimension, sGetUiActiveModalDialog, sGetUiParentGraphMap, sGetUiType, sGetAxisIdByDimensionId, sGetDimensionIdsFromLayout, sGetUiItemsByAttribute } from '../../../reducers/ui.js';\nimport HideButton from '../../HideButton/HideButton.js';\nimport UpdateButton from '../../UpdateButton/UpdateButton.js';\nimport UpdateVisualizationContainer from '../../UpdateButton/UpdateVisualizationContainer.js';\nimport AddToLayoutButton from './AddToLayoutButton/AddToLayoutButton.js';\nimport styles from './styles/DialogManager.module.css';\n\nconst isScatterAttribute = dialogId => [ITEM_ATTRIBUTE_VERTICAL, ITEM_ATTRIBUTE_HORIZONTAL].includes(dialogId);\n\nconst getExcludedPeriodTypes = (settings = {}) => {\n  const types = [];\n\n  if (settings['keyHideDailyPeriods']) {\n    types.push(DAILY);\n  }\n\n  if (settings['keyHideWeeklyPeriods']) {\n    types.push(WEEKLY, WEEKLYWED, WEEKLYTHU, WEEKLYSAT, WEEKLYSUN);\n  }\n\n  if (settings['keyHideBiWeeklyPeriods']) {\n    types.push(BIWEEKLY);\n  }\n\n  if (settings['keyHideMonthlyPeriods']) {\n    types.push(MONTHLY);\n  }\n\n  if (settings['keyHideBiMonthlyPeriods']) {\n    types.push(BIMONTHLY);\n  }\n\n  return types;\n};\n\nexport class DialogManager extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      onMounted: false\n    });\n\n    _defineProperty(this, \"componentDidUpdate\", prevProps => {\n      const shouldFetchIds = !isEqual(prevProps.dxIds, this.props.dxIds) || !isEqual(prevProps.ouIds, this.props.ouIds);\n\n      if (shouldFetchIds) {\n        this.fetchRecommended();\n      }\n\n      if (this.props.dialogId === DIMENSION_ID_ORGUNIT && !this.state.ouMounted) {\n        this.setState({\n          ouMounted: true\n        });\n      }\n    });\n\n    _defineProperty(this, \"fetchRecommended\", debounce(async () => {\n      const ids = await apiFetchRecommendedIds(this.context.dataEngine, this.props.dxIds, this.props.ouIds);\n      this.props.setRecommendedIds(ids);\n    }, 1000));\n\n    _defineProperty(this, \"selectUiItems\", ({\n      dimensionId,\n      items,\n      itemAttribute\n    }) => {\n      if (itemAttribute) {\n        this.props.setUiItemAttributes({\n          dimensionId,\n          attribute: itemAttribute,\n          itemIds: items.map(item => item.id)\n        });\n      } else {\n        this.props.setUiItems({\n          dimensionId,\n          itemIds: items.map(item => item.id)\n        });\n      }\n\n      switch (dimensionId) {\n        case DIMENSION_ID_ORGUNIT:\n          {\n            const forMetadata = {};\n            const forParentGraphMap = {};\n            items.forEach(ou => {\n              const id = ouIdHelper.removePrefix(ou.id);\n              forMetadata[id] = {\n                id,\n                name: ou.name || ou.displayName,\n                displayName: ou.displayName\n              };\n\n              if (ou.path) {\n                const path = removeLastPathSegment(ou.path);\n                forParentGraphMap[ou.id] = path === `/${ou.id}` ? '' : path.replace(/^\\//, '');\n              }\n            });\n            this.props.addMetadata(forMetadata);\n            this.props.addParentGraphMap(forParentGraphMap);\n            break;\n          }\n\n        default:\n          {\n            this.props.addMetadata(items.reduce((obj, item) => {\n              obj[item.id] = {\n                id: item.id,\n                name: item.name || item.displayName,\n                displayName: item.displayName,\n                type: item.type\n              };\n              return obj;\n            }, {}));\n          }\n      }\n    });\n\n    _defineProperty(this, \"closeDialog\", () => this.props.changeDialog(null));\n\n    _defineProperty(this, \"getSelectedItems\", dialogId => {\n      const items = isScatterAttribute(dialogId) ? this.props.getItemsByAttribute(dialogId) : this.props.selectedItems[dialogId];\n      return (items || []).filter(id => this.props.metadata[id] || id === ALL_DYNAMIC_DIMENSION_ITEMS).map(id => {\n        var _this$props$metadata$, _this$props$metadata$2, _this$props$metadata$3;\n\n        return {\n          id,\n          name: (_this$props$metadata$ = this.props.metadata[id]) === null || _this$props$metadata$ === void 0 ? void 0 : _this$props$metadata$.name,\n          type: ((_this$props$metadata$2 = this.props.metadata[id]) === null || _this$props$metadata$2 === void 0 ? void 0 : _this$props$metadata$2.type) || ((_this$props$metadata$3 = this.props.metadata[id]) === null || _this$props$metadata$3 === void 0 ? void 0 : _this$props$metadata$3.dimensionItemType)\n        };\n      });\n    });\n\n    _defineProperty(this, \"getOrgUnitsFromIds\", (ids, metadata, parentGraphMap) => ids.filter(id => metadata[ouIdHelper.removePrefix(id)] !== undefined).map(id => {\n      const ouUid = ouIdHelper.removePrefix(id);\n      return {\n        id,\n        name: metadata[ouUid].displayName || metadata[ouUid].name,\n        path: getOuPath(ouUid, metadata, parentGraphMap)\n      };\n    }));\n\n    _defineProperty(this, \"renderPersistedContent\", dimensionProps => {\n      const {\n        ouIds,\n        metadata,\n        parentGraphMap,\n        dialogId\n      } = this.props;\n\n      if (this.state.ouMounted) {\n        const selected = this.getOrgUnitsFromIds(ouIds, metadata, parentGraphMap);\n        const display = DIMENSION_ID_ORGUNIT === dialogId ? 'block' : 'none';\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: DIMENSION_ID_ORGUNIT,\n          style: {\n            display\n          }\n        }, /*#__PURE__*/React.createElement(OrgUnitDimension, _extends({\n          selected: selected,\n          roots: this.props.rootOrgUnits.map(rootOrgUnit => rootOrgUnit.id)\n        }, dimensionProps)));\n      }\n\n      return null;\n    });\n\n    _defineProperty(this, \"renderDialogContent\", () => {\n      const {\n        displayNameProperty,\n        dialogId,\n        type\n      } = this.props;\n      const dimensionProps = {\n        onSelect: this.selectUiItems\n      };\n\n      const dynamicContent = () => {\n        const selectedItems = this.getSelectedItems(dialogId);\n        let infoBoxMessage;\n        const axisId = this.props.getAxisIdByDimensionId(dialogId);\n        const visType = type;\n        const numberOfItems = selectedItems.length;\n        const axisMaxNumberOfItems = getAxisMaxNumberOfItems(visType, axisId);\n        const hasMaxNumberOfItemsRule = !!axisMaxNumberOfItems;\n\n        if (hasMaxNumberOfItemsRule && numberOfItems > axisMaxNumberOfItems) {\n          infoBoxMessage = axisMaxNumberOfItems === 1 ? i18n.t(`'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.`, {\n            visualizationType: getDisplayNameByVisType(visType)\n          }) : i18n.t(`'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.`, {\n            visualiationType: getDisplayNameByVisType(visType),\n            maxNumber: axisMaxNumberOfItems\n          });\n          selectedItems.forEach((item, index) => {\n            item.isActive = index < axisMaxNumberOfItems;\n          });\n        } else if (isScatterAttribute(dialogId) && numberOfItems > 1) {\n          infoBoxMessage = i18n.t(`'Scatter' is intended to show a single data item per axis. Only the first item will be used and saved.`);\n          selectedItems.forEach((item, index) => {\n            item.isActive = index < 1;\n          });\n        }\n\n        let content = null;\n\n        if (dialogId === DIMENSION_ID_DATA || isScatterAttribute(dialogId)) {\n          const onSelect = isScatterAttribute(dialogId) ? defaultProps => this.selectUiItems({ ...defaultProps,\n            itemAttribute: dialogId\n          }) : dimensionProps.onSelect;\n          const dimensionSelector = /*#__PURE__*/React.createElement(DataDimension, {\n            displayNameProp: displayNameProperty,\n            selectedDimensions: selectedItems,\n            infoBoxMessage: infoBoxMessage,\n            onSelect: onSelect\n          });\n          const dataTabs = isScatterAttribute(dialogId) ? /*#__PURE__*/React.createElement(TabBar, {\n            dataTest: 'dialog-manager-modal-tabs',\n            className: styles.tabs\n          }, [{\n            key: ITEM_ATTRIBUTE_VERTICAL,\n            label: i18n.t('Vertical')\n          }, {\n            key: ITEM_ATTRIBUTE_HORIZONTAL,\n            label: i18n.t('Horizontal')\n          }].map(({\n            key,\n            label\n          }) => /*#__PURE__*/React.createElement(Tab, {\n            key: key,\n            onClick: () => this.props.changeDialog(key),\n            selected: key === dialogId\n          }, label))) : null;\n          content = dataTabs ? /*#__PURE__*/React.createElement(React.Fragment, null, dataTabs, dimensionSelector) : dimensionSelector;\n        } else if (dialogId === DIMENSION_ID_PERIOD) {\n          content = /*#__PURE__*/React.createElement(PeriodDimension, {\n            selectedPeriods: selectedItems,\n            onSelect: dimensionProps.onSelect,\n            excludedPeriodTypes: getExcludedPeriodTypes(this.props.settings) // TODO: infoBoxMessage should ideally be implemented for all dimensions\n\n          });\n        } else if (filterOutPredefinedDimensions(Object.keys(this.props.dimensions)).includes(dialogId)) {\n          content = /*#__PURE__*/React.createElement(DynamicDimension, {\n            selectedItems: selectedItems,\n            dimensionId: dialogId,\n            onSelect: dimensionProps.onSelect,\n            dimensionTitle: this.props.dimensions[dialogId].name,\n            displayNameProp: displayNameProperty // TODO: infoBoxMessage should ideally be implemented for all dimensions\n\n          });\n        }\n\n        return content;\n      };\n\n      return /*#__PURE__*/React.createElement(Fragment, null, this.renderPersistedContent(dimensionProps), dialogId && dynamicContent());\n    });\n\n    _defineProperty(this, \"getPrimaryOnClick\", handler => () => {\n      handler();\n      this.closeDialog();\n    });\n  }\n\n  render() {\n    const {\n      dialogId,\n      dimensions\n    } = this.props;\n    const dimension = isScatterAttribute(dialogId) ? dimensions[DIMENSION_ID_DATA] : dimensions[dialogId];\n    return /*#__PURE__*/React.createElement(Fragment, null, dimension && /*#__PURE__*/React.createElement(Modal, {\n      onClose: this.closeDialog,\n      dataTest: `dialog-manager-${dimension.id}`,\n      position: \"top\",\n      large: true\n    }, /*#__PURE__*/React.createElement(ModalTitle, {\n      dataTest: 'dialog-manager-modal-title'\n    }, dimension.name), /*#__PURE__*/React.createElement(ModalContent, {\n      dataTest: 'dialog-manager-modal-content'\n    }, this.renderDialogContent()), /*#__PURE__*/React.createElement(ModalActions, {\n      dataTest: 'dialog-manager-modal-actions'\n    }, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(HideButton, {\n      onClick: this.closeDialog,\n      dataTest: 'dialog-manager-modal-action-cancel'\n    }), /*#__PURE__*/React.createElement(UpdateVisualizationContainer, {\n      renderComponent: handler => this.props.dimensionIdsInLayout.includes(dialogId) || isScatterAttribute(dialogId) ? /*#__PURE__*/React.createElement(UpdateButton, {\n        onClick: this.getPrimaryOnClick(handler),\n        dataTest: 'dialog-manager-modal-action-confirm'\n      }) : /*#__PURE__*/React.createElement(AddToLayoutButton, {\n        onClick: this.getPrimaryOnClick(handler),\n        dataTest: 'dialog-manager-modal-action-confirm'\n      })\n    })))));\n  }\n\n}\nDialogManager.contextTypes = {\n  dataEngine: PropTypes.object\n};\nDialogManager.propTypes = {\n  changeDialog: PropTypes.func.isRequired,\n  dimensionIdsInLayout: PropTypes.array.isRequired,\n  ouIds: PropTypes.array.isRequired,\n  setRecommendedIds: PropTypes.func.isRequired,\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  dialogId: PropTypes.string,\n  dimensions: PropTypes.object,\n  displayNameProperty: PropTypes.string,\n  dxIds: PropTypes.array,\n  getAxisIdByDimensionId: PropTypes.func,\n  getItemsByAttribute: PropTypes.func,\n  metadata: PropTypes.object,\n  parentGraphMap: PropTypes.object,\n  rootOrgUnits: PropTypes.array,\n  selectedItems: PropTypes.object,\n  setUiItemAttributes: PropTypes.func,\n  setUiItems: PropTypes.func,\n  settings: PropTypes.object,\n  type: PropTypes.string\n};\nDialogManager.defaultProps = {\n  dialogId: null,\n  dxIds: [],\n  rootOrgUnits: []\n};\n\nconst mapStateToProps = state => ({\n  displayNameProperty: sGetSettingsDisplayNameProperty(state),\n  dialogId: sGetUiActiveModalDialog(state),\n  dimensions: sGetDimensions(state),\n  metadata: sGetMetadata(state),\n  parentGraphMap: sGetUiParentGraphMap(state),\n  dxIds: sGetUiItemsByDimension(state, DIMENSION_ID_DATA),\n  ouIds: sGetUiItemsByDimension(state, DIMENSION_ID_ORGUNIT),\n  rootOrgUnits: sGetRootOrgUnits(state),\n  selectedItems: sGetUiItems(state),\n  settings: sGetSettings(state),\n  type: sGetUiType(state),\n  getAxisIdByDimensionId: dimensionId => sGetAxisIdByDimensionId(state, dimensionId),\n  dimensionIdsInLayout: sGetDimensionIdsFromLayout(state),\n  getItemsByAttribute: attribute => sGetUiItemsByAttribute(state, attribute)\n});\n\nexport default connect(mapStateToProps, {\n  changeDialog: acSetUiActiveModalDialog,\n  setRecommendedIds: acSetRecommendedIds,\n  setUiItems: acSetUiItems,\n  addMetadata: acAddMetadata,\n  addParentGraphMap: acAddParentGraphMap,\n  setUiItemAttributes: acSetUiItemAttributes\n})(DialogManager);","import { SET_RECOMMENDED_IDS } from '../reducers/recommendedIds.js';\nexport const acSetRecommendedIds = value => ({\n  type: SET_RECOMMENDED_IDS,\n  value\n});","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DimensionItem } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Draggable } from 'react-beautiful-dnd';\nimport styles from './styles/DndDimensionItem.module.css';\nexport class DndDimensionItem extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"render\", () => {\n      const {\n        id,\n        index,\n        name,\n        isSelected,\n        isLocked,\n        isDeactivated,\n        isRecommended,\n        onClick,\n        onOptionsClick,\n        dataTest\n      } = this.props;\n      const itemCommonProps = {\n        id,\n        name,\n        isSelected,\n        isLocked,\n        isDeactivated,\n        isRecommended,\n        dataTest\n      };\n      return /*#__PURE__*/React.createElement(Draggable, {\n        draggableId: id,\n        index: index,\n        isDragDisabled: isSelected || isDeactivated || isLocked\n      }, (provided, snapshot) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DimensionItem, _extends({\n        innerRef: provided.innerRef\n      }, provided.draggableProps, provided.dragHandleProps, {\n        className: snapshot.isDragging ? styles.dragging : styles.notDragging,\n        onClick: onClick,\n        onOptionsClick: onOptionsClick\n      }, itemCommonProps)), snapshot.isDragging && /*#__PURE__*/React.createElement(DimensionItem, _extends({\n        className: styles.dimensionItemClone\n      }, itemCommonProps))));\n    });\n  }\n\n}\nDndDimensionItem.propTypes = {\n  dataTest: PropTypes.string,\n  id: PropTypes.string,\n  index: PropTypes.number,\n  isDeactivated: PropTypes.bool,\n  isLocked: PropTypes.bool,\n  isRecommended: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  onOptionsClick: PropTypes.func\n};\nexport default DndDimensionItem;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getDisallowedDimensions, getAllLockedDimensionIds, getFixedDimensions, getDynamicDimensions, getPredefinedDimensions } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { SOURCE_DIMENSIONS } from '../../modules/layout.js';\nimport * as fromReducers from '../../reducers/index.js';\nimport DndDimensionItem from './DndDimensionItem.js';\nimport styles from './styles/DndDimensionList.module.css';\nexport class DndDimensionList extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"dndIndex\", 0);\n\n    _defineProperty(this, \"nameContainsFilterText\", dimension => dimension.name.toLowerCase().includes(this.props.filterText.toLowerCase()));\n\n    _defineProperty(this, \"isSelected\", id => this.props.selectedIds.includes(id));\n\n    _defineProperty(this, \"isDisabledDimension\", id => this.props.disallowedDimensions.includes(id));\n\n    _defineProperty(this, \"isLockedDimension\", id => this.props.lockedDimensions.includes(id));\n\n    _defineProperty(this, \"isRecommendedDimension\", id => this.props.recommendedIds.includes(id));\n\n    _defineProperty(this, \"renderItem\", ({\n      id,\n      name\n    }) => {\n      const itemProps = {\n        id,\n        name,\n        index: this.dndIndex++,\n        isSelected: this.isSelected(id),\n        isLocked: this.isLockedDimension(id),\n        isDeactivated: this.isDisabledDimension(id),\n        isRecommended: this.isRecommendedDimension(id),\n        onClick: this.props.onDimensionClick,\n        onOptionsClick: this.props.onDimensionOptionsClick,\n        dataTest: `${this.props.dataTest}-dimension-item`\n      };\n      return /*#__PURE__*/React.createElement(DndDimensionItem, _extends({\n        key: `${SOURCE_DIMENSIONS}-${id}`\n      }, itemProps));\n    });\n\n    _defineProperty(this, \"getDimensionItemsByFilter\", filter => this.props.dimensions.filter(filter).filter(this.nameContainsFilterText).map(this.renderItem));\n  }\n\n  render() {\n    this.dndIndex = 0;\n    const fixedDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getFixedDimensions()).some(fixedDim => fixedDim.id === dimension.id));\n    const dynamicDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getDynamicDimensions()).some(dynDim => dynDim.id === dimension.id));\n    const nonPredefinedDimensions = this.getDimensionItemsByFilter(dimension => !Object.values(getPredefinedDimensions()).some(predefDim => predefDim.id === dimension.id));\n    return /*#__PURE__*/React.createElement(Droppable, {\n      droppableId: SOURCE_DIMENSIONS,\n      isDropDisabled: true\n    }, provided => /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: styles.container,\n      ref: provided.innerRef\n    }, provided.droppableProps, {\n      \"data-test\": this.props.dataTest\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.wrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.section\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.header\n    }, i18n.t('Main dimensions')), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.list,\n      \"data-test\": `${this.props.dataTest}-fixed-dimensions`\n    }, fixedDimensions)), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.section\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.header\n    }, i18n.t('Other dimensions')), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.list,\n      \"data-test\": `${this.props.dataTest}-dynamic-dimensions`\n    }, dynamicDimensions)), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.section\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: styles.header\n    }, i18n.t('Your dimensions')), /*#__PURE__*/React.createElement(\"ul\", {\n      className: styles.list,\n      \"data-test\": `${this.props.dataTest}-non-predefined-dimensions`\n    }, nonPredefinedDimensions))), provided.placeholder));\n  }\n\n}\nDndDimensionList.propTypes = {\n  dataTest: PropTypes.string,\n  dimensions: PropTypes.array,\n  disallowedDimensions: PropTypes.array,\n  filterText: PropTypes.string,\n  lockedDimensions: PropTypes.array,\n  recommendedIds: PropTypes.array,\n  selectedIds: PropTypes.array,\n  onDimensionClick: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nconst getDisallowedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getDisallowedDimensions(type));\nconst getisLockedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getAllLockedDimensionIds(type));\n\nconst mapStateToProps = state => ({\n  dimensions: Object.values(fromReducers.fromDimensions.sGetDimensions(state)),\n  selectedIds: fromReducers.fromUi.sGetDimensionIdsFromLayout(state),\n  recommendedIds: fromReducers.fromRecommendedIds.sGetRecommendedIds(state),\n  disallowedDimensions: getDisallowedDimensionsMemo(state),\n  lockedDimensions: getisLockedDimensionsMemo(state)\n});\n\nexport default connect(mapStateToProps)(DndDimensionList);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { DimensionFilter } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport DndDimensionList from './DndDimensionList.js';\nimport styles from './styles/DndDimensionsPanel.module.css';\nexport class DndDimensionsPanel extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      filterText: ''\n    });\n\n    _defineProperty(this, \"onClearFilter\", () => {\n      this.setState({\n        filterText: ''\n      });\n    });\n\n    _defineProperty(this, \"onFilterTextChange\", filterText => {\n      this.setState({\n        filterText\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.container,\n      \"data-test\": \"dimensions-panel\"\n    }, /*#__PURE__*/React.createElement(DimensionFilter, {\n      placeholder: i18n.t('Filter dimensions'),\n      text: this.state.filterText,\n      onChange: this.onFilterTextChange,\n      onClear: this.onClearFilter,\n      disableUnderline: true,\n      type: \"search\",\n      dataTest: \"dimensions-panel-filter\"\n    }), /*#__PURE__*/React.createElement(DndDimensionList, {\n      filterText: this.state.filterText,\n      onDimensionOptionsClick: this.props.onDimensionOptionsClick,\n      onDimensionClick: this.props.onDimensionClick,\n      dataTest: \"dimensions-panel-list\"\n    }));\n  }\n\n}\nDndDimensionsPanel.propTypes = {\n  onDimensionClick: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nexport default DndDimensionsPanel;","import { colors } from '@dhis2/ui';\nexport const styles = {\n  divContainer: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: colors.grey050\n  }\n};","import { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES, DIMENSION_ID_DATA, VIS_TYPE_SCATTER } from '@dhis2/analytics';\nimport { Layer, Popper } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui.js';\nimport { ITEM_ATTRIBUTE_VERTICAL } from '../../modules/ui.js';\nimport * as fromReducers from '../../reducers/index.js';\nimport DialogManager from './Dialogs/DialogManager.js';\nimport DndDimensionsPanel from './DndDimensionsPanel.js';\nimport { styles } from './styles/DimensionsPanel.style.js';\nexport const Dimensions = ({\n  assignedCategoriesItemHandler,\n  axisItemHandler,\n  getCurrentAxisId,\n  itemsByDimension,\n  layoutHasAssignedCategories,\n  removeItemHandler,\n  ui,\n  onDimensionClick\n}) => {\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n  const [dimensionId, setDimensionId] = useState(null);\n  const [ref, setRef] = useState();\n\n  const toggleMenu = () => {\n    if (menuIsOpen) {\n      setDimensionId(null);\n      setRef(null);\n    }\n\n    setMenuIsOpen(!menuIsOpen);\n  };\n\n  const openOptionsMenuForDimension = (event, id, ref) => {\n    event.stopPropagation();\n    setRef(ref.current);\n    setDimensionId(id);\n    toggleMenu();\n  };\n\n  const openDimensionModal = id => onDimensionClick(ui.type === VIS_TYPE_SCATTER && id === DIMENSION_ID_DATA ? ITEM_ATTRIBUTE_VERTICAL : id);\n\n  const getNumberOfDimensionItems = () => (itemsByDimension[dimensionId] || []).length;\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.divContainer\n  }, /*#__PURE__*/React.createElement(DndDimensionsPanel, {\n    onDimensionClick: openDimensionModal,\n    onDimensionOptionsClick: openOptionsMenuForDimension\n  }), menuIsOpen && dimensionId && ref && /*#__PURE__*/React.createElement(Layer, {\n    onClick: toggleMenu\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: ref,\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/React.createElement(DimensionMenu, {\n    dimensionId: dimensionId,\n    currentAxisId: getCurrentAxisId(dimensionId),\n    visType: ui.type,\n    numberOfDimensionItems: getNumberOfDimensionItems(),\n    isAssignedCategoriesInLayout: layoutHasAssignedCategories,\n    assignedCategoriesItemHandler: destination => assignedCategoriesItemHandler(layoutHasAssignedCategories, destination),\n    axisItemHandler: axisItemHandler,\n    removeItemHandler: removeItemHandler,\n    onClose: toggleMenu,\n    dataTest: 'dimensions-panel-dimension-menu'\n  }))), /*#__PURE__*/React.createElement(DialogManager, null));\n};\nDimensions.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  getCurrentAxisId: PropTypes.func,\n  itemsByDimension: PropTypes.object,\n  layoutHasAssignedCategories: PropTypes.bool,\n  removeItemHandler: PropTypes.func,\n  ui: PropTypes.object,\n  onDimensionClick: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  ui: fromReducers.fromUi.sGetUi(state),\n  dimensions: fromReducers.fromDimensions.sGetDimensions(state),\n  layout: fromReducers.fromUi.sGetUiLayout(state),\n  itemsByDimension: fromReducers.fromUi.sGetUiItems(state),\n  layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state),\n  getCurrentAxisId: dimensionId => fromReducers.fromUi.sGetAxisIdByDimensionId(state, dimensionId)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  axisItemHandler: ({\n    dimensionId,\n    axisId,\n    numberOfDimensionItems,\n    requireItems,\n    isDimensionInLayout\n  }) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n\n    if (numberOfDimensionItems === 0 && requireItems && !isDimensionInLayout) {\n      dispatch(acSetUiActiveModalDialog(dimensionId));\n    }\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  },\n  onDimensionClick: id => dispatch(acSetUiActiveModalDialog(id))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dimensions);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { canDimensionBeAddedToAxis, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { acAddUiLayoutDimensions, acSetUiActiveModalDialog, acSetUiLayout } from '../actions/ui.js';\nimport { SOURCE_DIMENSIONS } from '../modules/layout.js';\nimport { sGetUiLayout, sGetUiItems, sGetUiType } from '../reducers/ui.js';\n\nclass DndContext extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"rearrangeLayoutDimensions\", ({\n      sourceAxisId,\n      sourceIndex,\n      destinationAxisId,\n      destinationIndex\n    }) => {\n      const layout = this.props.layout;\n      const sourceList = Array.from(layout[sourceAxisId]);\n      const [moved] = sourceList.splice(sourceIndex, 1);\n\n      if (sourceAxisId === destinationAxisId) {\n        sourceList.splice(destinationIndex, 0, moved);\n        this.props.onReorderDimensions({ ...layout,\n          [sourceAxisId]: sourceList\n        });\n      } else {\n        if (canDimensionBeAddedToAxis(this.props.type, layout[destinationAxisId], destinationAxisId)) {\n          this.props.onAddDimensions({\n            [moved]: {\n              axisId: destinationAxisId,\n              index: destinationIndex\n            }\n          });\n        }\n      }\n    });\n\n    _defineProperty(this, \"addDimensionToLayout\", ({\n      axisId,\n      index,\n      dimensionId\n    }) => {\n      const {\n        layout,\n        type\n      } = this.props;\n\n      if (!canDimensionBeAddedToAxis(type, layout[axisId], axisId)) {\n        return;\n      }\n\n      this.props.onAddDimensions({\n        [dimensionId]: {\n          axisId,\n          index\n        }\n      });\n      const items = this.props.itemsByDimension[dimensionId];\n      const hasNoItems = Boolean(!items || !items.length);\n\n      if (hasNoItems && !getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n        this.props.onDropWithoutItems(dimensionId);\n      }\n    });\n\n    _defineProperty(this, \"onDragEnd\", result => {\n      const {\n        source,\n        destination,\n        draggableId\n      } = result;\n\n      if (!destination) {\n        return;\n      }\n\n      if (source.droppableId === SOURCE_DIMENSIONS) {\n        this.addDimensionToLayout({\n          axisId: destination.droppableId,\n          index: destination.index,\n          dimensionId: draggableId\n        });\n      } else {\n        this.rearrangeLayoutDimensions({\n          sourceAxisId: source.droppableId,\n          sourceIndex: source.index,\n          destinationAxisId: destination.droppableId,\n          destinationIndex: destination.index\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd\n    }, this.props.children);\n  }\n\n}\n\nDndContext.propTypes = {\n  children: PropTypes.node,\n  itemsByDimension: PropTypes.object,\n  layout: PropTypes.object,\n  type: PropTypes.string,\n  onAddDimensions: PropTypes.func,\n  onDropWithoutItems: PropTypes.func,\n  onReorderDimensions: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  layout: sGetUiLayout(state),\n  type: sGetUiType(state),\n  itemsByDimension: sGetUiItems(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddDimensions: map => dispatch(acAddUiLayoutDimensions(map)),\n  onDropWithoutItems: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId)),\n  onReorderDimensions: layout => dispatch(acSetUiLayout(layout))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DndContext);","export default {\n  wrapper: {\n    position: 'relative',\n    width: '380px'\n  },\n  container: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport InterpretationsComponent from '@dhis2/d2-ui-interpretations';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiInterpretation, acClearUiInterpretation } from '../../actions/ui.js';\nimport history from '../../modules/history.js';\nimport { sGetUiInterpretation } from '../../reducers/ui.js';\nimport styles from './styles/Interpretations.style.js';\nexport class UnconnectedInterpretations extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onInterpretationChange\", interpretation => {\n      if (interpretation) {\n        const interpretationUrl = `/${this.props.id}/interpretation/${interpretation.id}`; // this covers the case when the URL contains already an interpretation id,\n        // the Interpretations component loads it and fires this callback passing the interpretation\n        // object, the URL is not changing in this case.\n        // the other scenario is when the URL changes because of a click inside the Interpretations component\n\n        if (history.location.pathname !== interpretationUrl) {\n          history.push(interpretationUrl);\n          this.props.acSetUiInterpretation({\n            id: interpretation.id,\n            created: interpretation.created\n          });\n        }\n      } else {\n        history.push(`/${this.props.id}`);\n      }\n    });\n  }\n\n  render() {\n    const {\n      type,\n      id,\n      interpretationId\n    } = this.props;\n    return id ? /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.wrapper\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.container\n    }, /*#__PURE__*/React.createElement(InterpretationsComponent, {\n      d2: this.context.d2,\n      type: type,\n      id: id,\n      currentInterpretationId: interpretationId,\n      onCurrentInterpretationChange: this.onInterpretationChange\n    }))) : null;\n  }\n\n}\nUnconnectedInterpretations.defaultProps = {\n  type: 'chart'\n};\nUnconnectedInterpretations.propTypes = {\n  acSetUiInterpretation: PropTypes.func,\n  id: PropTypes.string,\n  interpretationId: PropTypes.string,\n  type: PropTypes.string\n};\nUnconnectedInterpretations.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  interpretationId: sGetUiInterpretation(state).id || null\n});\n\nexport const Interpretations = connect(mapStateToProps, {\n  acSetUiInterpretation,\n  acClearUiInterpretation\n})(UnconnectedInterpretations);","import React from 'react';\n\nconst DynamicDimensionIcon = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Exp\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Artboard\",\n    transform: \"translate(-80.000000, -9.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"icon_dimension_new\",\n    transform: \"translate(80.000000, 9.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"frame\",\n    x: \"0\",\n    y: \"0\",\n    width: \"16\",\n    height: \"16\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"module\",\n    transform: \"translate(4.000000, 4.000000)\",\n    stroke: \"#000000\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,2.72795833 L0.322,1.48195833\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,2.72795833 L6.678,1.48195833\",\n    id: \"Shape\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.5,6.78125 L3.5,2.72795833\",\n    id: \"Shape\"\n  }))))));\n};\n\nexport default DynamicDimensionIcon;","const DATA_TYPE_TEXT = 'text';\nexport const setDataTransfer = (e, source) => {\n  e.dataTransfer.setData(DATA_TYPE_TEXT, JSON.stringify({\n    dimensionId: e.target.dataset.dimensionid,\n    source\n  }));\n};\nexport const decodeDataTransfer = e => JSON.parse(e.dataTransfer.getData(DATA_TYPE_TEXT));","import { colors, theme } from '@dhis2/ui'; // Layout\n\nexport const LAYOUT_HEIGHT = '78px'; // Axis\n\nexport const AXIS_PADDING = '4px 4px 2px 6px';\nexport const AXIS_LABEL_PADDING = '2px 0px 0px 4px';\nexport const AXIS_BORDER_COLOR = colors.grey300;\nexport const AXIS_BORDER_STYLE = 'solid';\nexport const AXIS_BORDER_WIDTH = '0px 0px 1px 1px';\nexport const AXIS_BACKGROUND_COLOR = colors.white; // Chip\n\nexport const CHIP_COLOR = colors.grey900;\nexport const CHIP_FONT_WEIGHT = 400;\nexport const CHIP_FONT_SIZE = '14px';\nexport const CHIP_BACKGROUND_COLOR = theme.secondary200;\nexport const CHIP_HEIGHT = '14px';\nexport const CHIP_MARGIN = '4px';\nexport const CHIP_PADDING = '1px 2px 1px 6px';\nexport const CHIP_BORDER_RADIUS = '2px';","import { colors } from '@dhis2/ui';\nimport * as layoutStyle from './style.js';\nconst baseChip = {\n  padding: layoutStyle.CHIP_PADDING,\n  fontSize: layoutStyle.CHIP_FONT_SIZE,\n  fontWeight: layoutStyle.CHIP_FONT_WEIGHT,\n  color: layoutStyle.CHIP_COLOR,\n  cursor: 'pointer',\n  minHeight: 24,\n  userSelect: 'none'\n};\nexport const styles = {\n  chipWrapper: {\n    display: 'flex',\n    margin: layoutStyle.CHIP_MARGIN,\n    backgroundColor: layoutStyle.CHIP_BACKGROUND_COLOR,\n    borderRadius: layoutStyle.CHIP_BORDER_RADIUS,\n    alignItems: 'center',\n    maxWidth: '400px'\n  },\n  chip: { ...baseChip,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  chipEmpty: {\n    backgroundColor: colors.grey300\n  },\n  fixedDimensionIcon: {\n    paddingRight: '6px'\n  },\n  leftIconWrapper: {\n    paddingRight: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  rightIconWrapper: {\n    paddingLeft: '6px',\n    marginTop: '2px'\n  },\n  label: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  }\n};\nstyles.chipLeft = { ...baseChip,\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'flex',\n  borderTopRightRadius: '0px',\n  borderBottomRightRadius: '0px',\n  alignItems: 'center'\n};\nstyles.chipRight = { ...baseChip,\n  paddingLeft: '0px',\n  borderTopLeftRadius: '0px',\n  borderBottomLeftRadius: '0px'\n};","import { colors } from '@dhis2/ui';\nexport const styles = {\n  tooltip: {\n    fontFamily: 'roboto',\n    padding: '7px 9px',\n    color: colors.white,\n    fontSize: '12px',\n    backgroundColor: colors.grey900,\n    boxShadow: 'none',\n    borderRadius: '3px',\n    position: 'relative',\n    top: '5px',\n    maxWidth: '300px'\n  },\n  list: {\n    listStyleType: 'none',\n    margin: '0px',\n    marginBottom: '-3px',\n    padding: '0px'\n  },\n  item: {\n    marginBottom: '3px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  iconWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '5px'\n  },\n  label: {\n    whiteSpace: 'normal',\n    marginLeft: '6px'\n  }\n};","import { ALL_DYNAMIC_DIMENSION_ITEMS, ouIdHelper } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { IconWarningFilled16, IconLock16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { sGetMetadata } from '../../reducers/metadata.js';\nimport { styles } from './styles/Tooltip.style.js';\nconst labels = {\n  noneSelected: () => i18n.t('None selected'),\n  onlyOneInUse: name => i18n.t(\"Only '{{- name}}' in use\", {\n    name\n  }),\n  onlyLimitedNumberInUse: number => i18n.t(\"Only '{{number}}' in use\", {\n    number\n  }),\n  allItems: () => i18n.t('All items are selected')\n};\nexport const TooltipContent = ({\n  dimensionId,\n  itemIds,\n  metadata,\n  displayLimitedAmount,\n  lockedLabel\n}) => {\n  const hasAllItemsSelected = itemIds.includes(ALL_DYNAMIC_DIMENSION_ITEMS);\n\n  const getWarningLabel = () => {\n    const warningLabel = itemIds.length === 1 ? labels.onlyOneInUse(metadata[itemIds[0]] ? metadata[itemIds[0]].name : itemIds[0]) : labels.onlyLimitedNumberInUse(itemIds.length);\n    return displayLimitedAmount ? warningLabel : null;\n  };\n\n  const getNameList = (idList, label, metadata) => idList.reduce((levelString, levelId, index) => `${levelString}${index > 0 ? `, ` : ``}${metadata[levelId] ? metadata[levelId].name : levelId}`, `${label}: `);\n\n  const getItemDisplayNames = () => {\n    const levelIds = [];\n    const groupIds = [];\n    const itemDisplayNames = [];\n\n    if (!displayLimitedAmount && !hasAllItemsSelected) {\n      itemIds.forEach(id => {\n        if (ouIdHelper.hasLevelPrefix(id)) {\n          levelIds.push(ouIdHelper.removePrefix(id));\n        } else if (ouIdHelper.hasGroupPrefix(id)) {\n          groupIds.push(ouIdHelper.removePrefix(id));\n        } else {\n          itemDisplayNames.push(metadata[id] ? metadata[id].name : id);\n        }\n      });\n      levelIds.length && itemDisplayNames.push(getNameList(levelIds, i18n.t('Levels'), metadata));\n      groupIds.length && itemDisplayNames.push(getNameList(groupIds, i18n.t('Groups'), metadata));\n    }\n\n    return itemDisplayNames;\n  };\n\n  const renderWarningLabel = warningLabel => /*#__PURE__*/React.createElement(\"li\", {\n    style: styles.item\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.iconWrapper\n  }, /*#__PURE__*/React.createElement(IconWarningFilled16, null), /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.label\n  }, warningLabel)));\n\n  const renderItems = itemDisplayNames => {\n    const renderLimit = 5;\n    const itemsToRender = itemDisplayNames.slice(0, renderLimit).map(name => /*#__PURE__*/React.createElement(\"li\", {\n      key: `${dimensionId}-${name}`,\n      style: styles.item\n    }, name));\n\n    if (itemDisplayNames.length > renderLimit) {\n      itemsToRender.push( /*#__PURE__*/React.createElement(\"li\", {\n        key: `${dimensionId}-render-limit`,\n        style: styles.item\n      }, itemDisplayNames.length - renderLimit === 1 ? i18n.t('And 1 other...') : i18n.t('And {{numberOfItems}} others...', {\n        numberOfItems: itemDisplayNames.length - renderLimit\n      })));\n    }\n\n    return itemsToRender;\n  };\n\n  const renderLockedLabel = () => /*#__PURE__*/React.createElement(\"li\", {\n    style: styles.item\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.iconWrapper\n  }, /*#__PURE__*/React.createElement(IconLock16, null), /*#__PURE__*/React.createElement(\"span\", {\n    style: styles.label\n  }, lockedLabel)));\n\n  const renderNoItemsLabel = () => /*#__PURE__*/React.createElement(\"li\", {\n    key: `${dimensionId}-${labels.noneSelected()}`,\n    style: styles.item\n  }, labels.noneSelected());\n\n  const renderAllItemsLabel = () => /*#__PURE__*/React.createElement(\"li\", {\n    key: `${dimensionId}-${labels.allItems()}`,\n    style: styles.item\n  }, labels.allItems());\n\n  const itemDisplayNames = getItemDisplayNames();\n  const warningLabel = getWarningLabel();\n  const hasNoItemsLabel = !itemDisplayNames.length && !warningLabel && !hasAllItemsSelected;\n  return /*#__PURE__*/React.createElement(\"ul\", {\n    style: styles.list\n  }, warningLabel && renderWarningLabel(warningLabel), lockedLabel && renderLockedLabel(), hasAllItemsSelected && renderAllItemsLabel(), itemDisplayNames && renderItems(itemDisplayNames), hasNoItemsLabel && renderNoItemsLabel());\n};\nTooltipContent.propTypes = {\n  dimensionId: PropTypes.string.isRequired,\n  metadata: PropTypes.object.isRequired,\n  displayLimitedAmount: PropTypes.bool,\n  itemIds: PropTypes.array,\n  lockedLabel: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  metadata: sGetMetadata(state)\n});\n\nexport default connect(mapStateToProps)(TooltipContent);","// TODO: Refactor chip to contain less logic\nimport { getPredefinedDimensionProp, getAxisMaxNumberOfItems, hasAxisTooManyItems, getDisplayNameByVisType, getAxisNameByLayoutType, getLayoutTypeByVisType, DIMENSION_ID_ASSIGNED_CATEGORIES, DIMENSION_PROP_NO_ITEMS, VIS_TYPE_SCATTER, DIMENSION_ID_DATA, ALL_DYNAMIC_DIMENSION_ITEMS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Tooltip, IconLock16, IconWarningFilled16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport DynamicDimensionIcon from '../../assets/DynamicDimensionIcon.js';\nimport { setDataTransfer } from '../../modules/dnd.js';\nimport { sGetDimensions } from '../../reducers/dimensions.js';\nimport { sGetMetadata } from '../../reducers/metadata.js';\nimport { sGetUiType } from '../../reducers/ui.js';\nimport { styles } from './styles/Chip.style.js';\nimport TooltipContent from './TooltipContent.js';\n\nconst Chip = ({\n  type,\n  dimensionId,\n  dimensionName,\n  axisId,\n  items,\n  onClick,\n  isLocked,\n  axisName,\n  metadata,\n  contextMenu\n}) => {\n  const id = Math.random().toString(36);\n  const dataTest = `layout-chip-${dimensionId}`;\n  const LockIconWrapper = /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.rightIconWrapper,\n    \"data-test\": `${dataTest}-lock-icon`\n  }, /*#__PURE__*/React.createElement(IconLock16, null));\n  const WarningIconWrapper = /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.rightIconWrapper,\n    \"data-test\": `${dataTest}-warning-icon`\n  }, /*#__PURE__*/React.createElement(IconWarningFilled16, null));\n  const isSplitAxis = type === VIS_TYPE_SCATTER && dimensionId === DIMENSION_ID_DATA;\n\n  const getMaxNumberOfItems = () => getAxisMaxNumberOfItems(type, axisId);\n\n  const handleClick = () => {\n    if (!getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n      onClick();\n    }\n  };\n\n  const getDragStartHandler = () => event => {\n    setDataTransfer(event, axisId);\n  };\n\n  const getWrapperStyles = () => ({ ...styles.chipWrapper,\n    ...(!getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS) && !items.length ? styles.chipEmpty : {})\n  });\n\n  const renderChipLabelSuffix = () => {\n    const numberOfItems = items.length;\n    let itemsLabel;\n\n    if (items.includes(ALL_DYNAMIC_DIMENSION_ITEMS)) {\n      itemsLabel = i18n.t('All');\n    } else if (!!getMaxNumberOfItems() && numberOfItems > getMaxNumberOfItems()) {\n      itemsLabel = i18n.t(`{{total}} of {{axisMaxNumberOfItems}} selected`, {\n        total: numberOfItems,\n        axisMaxNumberOfItems: getMaxNumberOfItems()\n      });\n    } else {\n      if (isSplitAxis) {\n        var _metadata$items$;\n\n        itemsLabel = i18n.t(((_metadata$items$ = metadata[items[0]]) === null || _metadata$items$ === void 0 ? void 0 : _metadata$items$.name) || '');\n      } else {\n        itemsLabel = i18n.t('{{total}} selected', {\n          total: numberOfItems\n        });\n      }\n    }\n\n    return items.length > 0 ? `: ${itemsLabel}` : '';\n  };\n\n  const renderChipIcon = () => {\n    const Icon = getPredefinedDimensionProp(dimensionId, 'icon');\n    return Icon ? /*#__PURE__*/React.createElement(Icon, {\n      style: styles.fixedDimensionIcon\n    }) : /*#__PURE__*/React.createElement(DynamicDimensionIcon, {\n      style: styles.dynamicDimensionIcon\n    });\n  };\n\n  const renderTooltipContent = () => {\n    const activeItemIds = getMaxNumberOfItems() ? items.slice(0, getMaxNumberOfItems()) : items;\n    const lockedLabel = isLocked ? i18n.t(`{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}`, {\n      dimensionName: dimensionName,\n      axisName: axisName || getAxisNameByLayoutType(axisId, getLayoutTypeByVisType(type)),\n      visTypeName: getDisplayNameByVisType(type)\n    }) : null;\n    return /*#__PURE__*/React.createElement(TooltipContent, {\n      dimensionId: dimensionId,\n      itemIds: activeItemIds,\n      lockedLabel: lockedLabel,\n      displayLimitedAmount: items.length > activeItemIds.length\n    });\n  };\n\n  const renderChipContent = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.leftIconWrapper\n  }, renderChipIcon()), /*#__PURE__*/React.createElement(\"span\", {\n    style: !isSplitAxis ? styles.label : {}\n  }, dimensionName), /*#__PURE__*/React.createElement(\"span\", {\n    style: isSplitAxis ? styles.label : {}\n  }, renderChipLabelSuffix()), hasAxisTooManyItems(type, axisId, items.length) && WarningIconWrapper, isLocked && LockIconWrapper);\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: getWrapperStyles(),\n    \"data-dimensionid\": dimensionId,\n    draggable: !isLocked,\n    onDragStart: getDragStartHandler()\n  }, dimensionId !== DIMENSION_ID_ASSIGNED_CATEGORIES ? /*#__PURE__*/React.createElement(Tooltip, {\n    content: renderTooltipContent(),\n    placement: \"bottom\"\n  }, ({\n    ref,\n    onMouseOver,\n    onMouseOut\n  }) => /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest,\n    id: id,\n    style: styles.chipLeft,\n    onClick: handleClick,\n    ref: ref,\n    onMouseOver: onMouseOver,\n    onMouseOut: onMouseOut\n  }, renderChipContent())) : /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: styles.chipLeft,\n    \"data-test\": dataTest,\n    onClick: handleClick\n  }, renderChipContent()), contextMenu && /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.chipRight\n  }, \" \", contextMenu));\n};\n\nChip.propTypes = {\n  axisId: PropTypes.string.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  dimensionName: PropTypes.string.isRequired,\n  isLocked: PropTypes.bool.isRequired,\n  metadata: PropTypes.object.isRequired,\n  type: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  axisName: PropTypes.string,\n  contextMenu: PropTypes.object,\n  items: PropTypes.array\n};\nChip.defaultProps = {\n  items: []\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  dimensionName: (sGetDimensions(state)[ownProps.dimensionId] || {}).name,\n  type: sGetUiType(state),\n  metadata: sGetMetadata(state)\n});\n\nexport default connect(mapStateToProps)(Chip);","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/IconButton.module.css';\n\nconst IconButton = ({\n  children,\n  dataTest,\n  disabled,\n  name,\n  onBlur,\n  onClick,\n  onFocus,\n  ariaOwns,\n  ariaHaspopup\n}) => /*#__PURE__*/React.createElement(\"button\", {\n  className: styles.iconButton,\n  \"data-test\": dataTest,\n  disabled: disabled,\n  name: name,\n  onBlur: onBlur,\n  onClick: onClick,\n  onFocus: onFocus,\n  \"aria-owns\": ariaOwns,\n  \"aria-haspopup\": ariaHaspopup\n}, children);\n\nIconButton.propTypes = {\n  ariaHaspopup: PropTypes.bool,\n  ariaOwns: PropTypes.string,\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default IconButton;","import { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport { Layer, Popper, IconMore16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui.js';\nimport * as fromReducers from '../../reducers/index.js';\nimport IconButton from '../IconButton/IconButton.js';\n\nconst ChipMenu = ({\n  assignedCategoriesItemHandler,\n  axisItemHandler,\n  currentAxisId,\n  dimensionId,\n  id,\n  layoutHasAssignedCategories,\n  numberOfDimensionItems,\n  removeItemHandler,\n  visType\n}) => {\n  const buttonRef = useRef();\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n\n  const toggleMenu = () => setMenuIsOpen(!menuIsOpen);\n\n  const getMenuId = () => `menu-for-${id}`;\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: buttonRef\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    ariaOwns: menuIsOpen ? getMenuId() : null,\n    ariaHaspopup: true,\n    onClick: toggleMenu,\n    dataTest: `layout-chip-menu-button-${dimensionId}`\n  }, /*#__PURE__*/React.createElement(IconMore16, null))), menuIsOpen && /*#__PURE__*/React.createElement(Layer, {\n    onClick: toggleMenu\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: buttonRef,\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/React.createElement(DimensionMenu, {\n    dimensionId: dimensionId,\n    currentAxisId: currentAxisId,\n    visType: visType,\n    numberOfDimensionItems: numberOfDimensionItems,\n    isAssignedCategoriesInLayout: layoutHasAssignedCategories,\n    assignedCategoriesItemHandler: destination => assignedCategoriesItemHandler(layoutHasAssignedCategories, destination),\n    axisItemHandler: axisItemHandler,\n    removeItemHandler: removeItemHandler,\n    onClose: toggleMenu,\n    dataTest: 'layout-chip-menu-dimension-menu'\n  }))));\n};\n\nChipMenu.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  currentAxisId: PropTypes.string,\n  dimensionId: PropTypes.string,\n  id: PropTypes.string,\n  layoutHasAssignedCategories: PropTypes.bool,\n  numberOfDimensionItems: PropTypes.number,\n  removeItemHandler: PropTypes.func,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => {\n  return {\n    layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  axisItemHandler: ({\n    dimensionId,\n    axisId\n  }) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChipMenu);","import { colors } from '@dhis2/ui';\nimport * as layoutStyle from '../../styles/style.js';\nexport default {\n  axisContainer: {\n    display: 'flex',\n    backgroundColor: layoutStyle.AXIS_BACKGROUND_COLOR,\n    borderColor: layoutStyle.AXIS_BORDER_COLOR,\n    borderStyle: layoutStyle.AXIS_BORDER_STYLE,\n    borderWidth: layoutStyle.AXIS_BORDER_WIDTH,\n    padding: layoutStyle.AXIS_PADDING\n  },\n  axisContainerLeft: {\n    borderLeftWidth: 0\n  },\n  label: {\n    minWidth: 55,\n    maxWidth: 55,\n    padding: '2px 0px 0px 0px',\n    fontSize: 11,\n    color: colors.grey700,\n    userSelect: 'none',\n    letterSpacing: '0.2px'\n  }\n}; // TODO: Refactor this file and all other affected files (DefaultLayout + everything in ../../styles/) to css modules","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { getAxisNameByLayoutType, getLayoutTypeByVisType, isDimensionLocked } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { connect } from 'react-redux';\nimport { acSetUiActiveModalDialog } from '../../../actions/ui.js';\nimport { sGetUiItemsByDimension, sGetUiLayout, sGetUiType } from '../../../reducers/ui.js';\nimport Chip from '../Chip.js';\nimport ChipMenu from '../ChipMenu.js';\nimport stylesModule from './styles/DefaultAxis.module.css';\nimport styles from './styles/DefaultAxis.style.js';\n\nclass Axis extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onDragOver\", e => {\n      e.preventDefault();\n    });\n  }\n\n  render() {\n    const {\n      axisId,\n      axis,\n      style,\n      type,\n      getOpenHandler,\n      getItemsByDimension\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: axisId,\n      \"data-test\": `${axisId}-axis`,\n      style: { ...styles.axisContainer,\n        ...style\n      },\n      onDragOver: this.onDragOver\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.label\n    }, this.props.label || getAxisNameByLayoutType(axisId, getLayoutTypeByVisType(type))), /*#__PURE__*/React.createElement(Droppable, {\n      droppableId: axisId,\n      direction: \"horizontal\"\n    }, provided => /*#__PURE__*/React.createElement(\"div\", _extends({\n      className: stylesModule.content,\n      ref: provided.innerRef\n    }, provided.droppableProps), axis.map((dimensionId, index) => {\n      const key = `${axisId}-${dimensionId}`;\n      const isLocked = isDimensionLocked(type, dimensionId);\n      const items = getItemsByDimension(dimensionId);\n      return /*#__PURE__*/React.createElement(Draggable, {\n        key: key,\n        draggableId: key,\n        index: index,\n        isDragDisabled: isLocked\n      }, provided => /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: provided.innerRef\n      }, provided.draggableProps, provided.dragHandleProps), /*#__PURE__*/React.createElement(Chip, {\n        onClick: getOpenHandler(dimensionId),\n        axisId: axisId,\n        dimensionId: dimensionId,\n        isLocked: isLocked,\n        items: items,\n        contextMenu: !isLocked ? /*#__PURE__*/React.createElement(ChipMenu, {\n          dimensionId: dimensionId,\n          currentAxisId: axisId,\n          visType: type,\n          numberOfDimensionItems: items.length\n        }) : null\n      })));\n    }), provided.placeholder)));\n  }\n\n}\n\nAxis.propTypes = {\n  axis: PropTypes.array,\n  axisId: PropTypes.string,\n  classes: PropTypes.object,\n  getItemsByDimension: PropTypes.func,\n  getMoveHandler: PropTypes.func,\n  getOpenHandler: PropTypes.func,\n  getRemoveHandler: PropTypes.func,\n  label: PropTypes.string,\n  layout: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  type: sGetUiType(state),\n  layout: sGetUiLayout(state),\n  getItemsByDimension: dimensionId => sGetUiItemsByDimension(state, dimensionId) || []\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dimensionId => () => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => ({ ...stateProps,\n  ...dispatchProps,\n  ...ownProps,\n  axis: stateProps.layout[ownProps.axisId]\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(Axis);","import { LAYOUT_HEIGHT } from '../../styles/style.js'; // Axis\n\nexport const FILTER_AXIS_WIDTH = '50%';\nexport const DIMENSION_AXIS_CONTENT_HEIGHT = '36px'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  ct: {\n    display: 'flex',\n    minHeight: LAYOUT_HEIGHT\n  },\n  axisGroup: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  },\n  columns: {\n    flexBasis: '50%'\n  },\n  rows: {\n    flexBasis: '50%'\n  },\n  filters: {\n    flexBasis: '100%'\n  }\n};","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport React from 'react';\nimport DefaultAxis from './DefaultAxis.js';\nimport defaultAxisStyles from './styles/DefaultAxis.style.js';\nimport styles from './styles/DefaultLayout.style.js';\n\nconst Layout = () => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"layout-ct\",\n  style: styles.ct\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-1\",\n  style: { ...styles.axisGroup,\n    ...styles.axisGroupLeft\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_COLUMNS,\n  style: { ...styles.columns,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n}), /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_ROWS,\n  style: { ...styles.rows,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-2\",\n  style: { ...styles.axisGroup,\n    ...styles.axisGroupRight\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_FILTERS,\n  style: styles.filters\n})));\n\nLayout.displayName = 'Layout';\nexport default Layout;","// Axis\nexport const FILTER_AXIS_WIDTH = '70%'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import { AXIS_ID_COLUMNS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport React from 'react';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis.js';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style.js';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style.js';\nimport pieLayoutStyles from './styles/PieLayout.style.js';\n\nconst Layout = () => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"layout-ct\",\n  style: defaultLayoutStyles.ct\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-1\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...pieLayoutStyles.axisGroupLeft\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_COLUMNS,\n  style: { ...defaultLayoutStyles.filters,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-2\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...pieLayoutStyles.axisGroupRight\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_FILTERS,\n  style: defaultLayoutStyles.filters\n})));\n\nexport default Layout;","// Axis\nexport const FILTER_AXIS_WIDTH = '50%'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport React from 'react';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis.js';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style.js';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style.js';\nimport pivotTableLayoutStyles from './styles/PivotTableLayout.style.js';\n\nconst Layout = () => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"layout-ct\",\n  style: defaultLayoutStyles.ct\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-1\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupLeft\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_COLUMNS,\n  style: { ...defaultLayoutStyles.columns,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n}), /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_ROWS,\n  style: { ...defaultLayoutStyles.rows,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-2\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupRight\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_FILTERS,\n  style: defaultLayoutStyles.filters\n})));\n\nLayout.displayName = 'Layout';\nexport default Layout;","import React from 'react';\n\nconst HorizontalIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"12\",\n  viewBox: \"0 0 12 12\",\n  width: \"12\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m0 0h1v12h-1z\",\n  fill: \"#d5dde5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m0 11h12v1h-12z\",\n  fill: \"#404b5a\"\n})));\n\nexport default HorizontalIcon;","import React from 'react';\n\nconst VerticalIcon = () => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"12\",\n  viewBox: \"0 0 12 12\",\n  width: \"12\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m0 11h12v1h-12z\",\n  fill: \"#d5dde5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m0 0h1v12h-1z\",\n  fill: \"#404b5a\"\n})));\n\nexport default VerticalIcon;","import { colors } from '@dhis2/ui';\nimport * as layoutStyle from '../../styles/style.js';\nexport default {\n  axisContainer: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    backgroundColor: layoutStyle.AXIS_BACKGROUND_COLOR,\n    borderColor: layoutStyle.AXIS_BORDER_COLOR,\n    borderStyle: layoutStyle.AXIS_BORDER_STYLE,\n    borderWidth: layoutStyle.AXIS_BORDER_WIDTH,\n    padding: layoutStyle.AXIS_PADDING\n  },\n  axisContainerLeft: {\n    borderLeftWidth: 0\n  },\n  label: {\n    minWidth: 55,\n    maxWidth: 55,\n    padding: '2px 0px 0px 0px',\n    fontSize: 11,\n    color: colors.grey700,\n    userSelect: 'none',\n    letterSpacing: '0.2px',\n    display: 'flex',\n    flexDirection: 'column'\n  }\n}; // TODO: Refactor this file and all other affected files (DefaultLayout + everything in ../../styles/) to css modules","import { AXIS_ID_COLUMNS, DIMENSION_ID_DATA } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Popper, Layer, FlyoutMenu, Tooltip, MenuItem, MenuDivider, IconMore16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiActiveModalDialog, acSetUiItemAttributes, acRemoveUiItemAttributes } from '../../../actions/ui.js';\nimport HorizontalIcon from '../../../assets/HorizontalIcon.js';\nimport VerticalIcon from '../../../assets/VerticalIcon.js';\nimport { ITEM_ATTRIBUTE_HORIZONTAL, ITEM_ATTRIBUTE_VERTICAL } from '../../../modules/ui.js';\nimport { sGetUiLayout, sGetUiItemsByAttribute } from '../../../reducers/ui.js';\nimport IconButton from '../../IconButton/IconButton.js';\nimport Chip from '../Chip.js';\nimport styles from './styles/ScatterAxis.style.js';\n\nconst Axis = ({\n  label,\n  style,\n  getOpenHandler,\n  items,\n  itemAttribute,\n  getItemsByAttribute,\n  setItemAttributes,\n  removeItemAttributes\n}) => {\n  const buttonRef = useRef();\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n\n  const toggleMenu = () => setDialogIsOpen(!dialogIsOpen);\n\n  const destination = itemAttribute === ITEM_ATTRIBUTE_VERTICAL ? ITEM_ATTRIBUTE_HORIZONTAL : ITEM_ATTRIBUTE_VERTICAL;\n\n  const onSwap = () => {\n    toggleMenu();\n    const verticalItems = getItemsByAttribute(ITEM_ATTRIBUTE_VERTICAL);\n    const horizontalItems = getItemsByAttribute(ITEM_ATTRIBUTE_HORIZONTAL);\n    removeItemAttributes(DIMENSION_ID_DATA, verticalItems, ITEM_ATTRIBUTE_VERTICAL);\n    removeItemAttributes(DIMENSION_ID_DATA, horizontalItems, ITEM_ATTRIBUTE_HORIZONTAL);\n    setItemAttributes(DIMENSION_ID_DATA, horizontalItems, ITEM_ATTRIBUTE_VERTICAL);\n    setItemAttributes(DIMENSION_ID_DATA, verticalItems, ITEM_ATTRIBUTE_HORIZONTAL);\n  };\n\n  const renderChipMenu = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    ref: buttonRef\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    ariaOwns: dialogIsOpen ? `menu-for-${itemAttribute}` : null,\n    ariaHaspopup: true,\n    onClick: toggleMenu,\n    dataTest: `layout-chip-menu-button-${itemAttribute}`\n  }, /*#__PURE__*/React.createElement(IconMore16, null))), dialogIsOpen && /*#__PURE__*/React.createElement(Layer, {\n    onClick: toggleMenu\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: buttonRef,\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, {\n    dense: true,\n    dataTest: 'layout-chip-menu-dimension-menu'\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    key: `assigned-categories-item-${DIMENSION_ID_DATA}`,\n    content: i18n.t('Not available for Scatter'),\n    \"aria-label\": \"disabled\"\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    disabled: true,\n    dense: true,\n    label: i18n.t('Add Assigned Categories'),\n    dataTest: `layout-chip-menu-dimension-menu-item-co-menu`\n  })), /*#__PURE__*/React.createElement(MenuDivider, {\n    dense: true,\n    key: 'assigned-categories-divider'\n  }), /*#__PURE__*/React.createElement(MenuItem, {\n    key: `${itemAttribute}-to-${destination}`,\n    onClick: onSwap,\n    label: i18n.t(`Swap with {{axisName}} axis`, {\n      axisName: destination === ITEM_ATTRIBUTE_VERTICAL ? i18n.t('vertical') : i18n.t('horizontal')\n    }),\n    dataTest: `layout-chip-menu-dimension-menu-item-action-${itemAttribute}-to-${destination}`\n  })))));\n\n  const renderIcon = () => itemAttribute === ITEM_ATTRIBUTE_VERTICAL ? /*#__PURE__*/React.createElement(VerticalIcon, null) : /*#__PURE__*/React.createElement(HorizontalIcon, null);\n\n  console.log('ScatterBrain');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: label,\n    \"data-test\": `${label}-axis`,\n    style: { ...styles.axisContainer,\n      ...style\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.label\n  }, label, renderIcon()), /*#__PURE__*/React.createElement(Chip, {\n    axisId: AXIS_ID_COLUMNS,\n    axisName: label,\n    onClick: getOpenHandler(itemAttribute),\n    dimensionId: DIMENSION_ID_DATA,\n    items: items,\n    isLocked: true,\n    contextMenu: renderChipMenu()\n  }));\n};\n\nAxis.propTypes = {\n  getItemsByAttribute: PropTypes.func,\n  getOpenHandler: PropTypes.func,\n  itemAttribute: PropTypes.string,\n  items: PropTypes.array,\n  label: PropTypes.string,\n  removeItemAttributes: PropTypes.func,\n  setItemAttributes: PropTypes.func,\n  style: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  layout: sGetUiLayout(state),\n  getItemsByAttribute: attribute => sGetUiItemsByAttribute(state, attribute)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dialogId => () => dispatch(acSetUiActiveModalDialog(dialogId)),\n  setItemAttributes: (dimensionId, itemIds, attribute) => dispatch(acSetUiItemAttributes({\n    dimensionId,\n    itemIds,\n    attribute\n  })),\n  removeItemAttributes: (dimensionId, itemIdsToRemove, attribute) => dispatch(acRemoveUiItemAttributes({\n    dimensionId,\n    itemIdsToRemove,\n    attribute\n  }))\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => ({ ...stateProps,\n  ...dispatchProps,\n  ...ownProps\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(Axis);","// Axis\nexport const FILTER_AXIS_WIDTH = '70%'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import { AXIS_ID_FILTERS, AXIS_ID_ROWS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { ITEM_ATTRIBUTE_HORIZONTAL, ITEM_ATTRIBUTE_VERTICAL } from '../../../modules/ui.js';\nimport { sGetUiItemsByAttribute } from '../../../reducers/ui.js';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis.js';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style.js';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style.js';\nimport ScatterAxis from './ScatterAxis.js';\nimport scatterLayoutStyles from './styles/ScatterLayout.style.js';\n\nconst Layout = ({\n  getItemsByAttribute\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"layout-ct\",\n  style: defaultLayoutStyles.ct\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-1\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...scatterLayoutStyles.axisGroupLeft\n  }\n}, /*#__PURE__*/React.createElement(ScatterAxis, {\n  style: { ...defaultLayoutStyles.filters,\n    ...defaultAxisStyles.axisContainerLeft\n  },\n  itemAttribute: ITEM_ATTRIBUTE_VERTICAL,\n  items: getItemsByAttribute(ITEM_ATTRIBUTE_VERTICAL),\n  label: i18n.t('Vertical')\n}), /*#__PURE__*/React.createElement(ScatterAxis, {\n  style: defaultLayoutStyles.filters,\n  itemAttribute: ITEM_ATTRIBUTE_HORIZONTAL,\n  items: getItemsByAttribute(ITEM_ATTRIBUTE_HORIZONTAL),\n  label: i18n.t('Horizontal')\n})), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-2\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...scatterLayoutStyles.axisGroupRight\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_ROWS,\n  style: { ...defaultLayoutStyles.filters\n  }\n}), /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_FILTERS,\n  style: defaultLayoutStyles.filters\n})));\n\nLayout.propTypes = {\n  getItemsByAttribute: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  getItemsByAttribute: attribute => sGetUiItemsByAttribute(state, attribute)\n});\n\nexport default connect(mapStateToProps)(Layout);","import i18n from '@dhis2/d2-i18n'; // Fixed years generator\n\nconst getFixedYears = len => {\n  let year = new Date().getFullYear();\n  return new Array(len).fill(null).map(() => {\n    const yearString = String(year--);\n    return {\n      id: yearString,\n      getName: () => yearString\n    };\n  });\n}; // Options for the year on year series dropdown\n\n\nexport const seriesOptions = [{\n  id: 'THIS_YEAR',\n  getName: () => i18n.t('This year')\n}, {\n  id: 'LAST_YEAR',\n  getName: () => i18n.t('Last year')\n}, {\n  id: 'LAST_5_YEARS',\n  getName: () => i18n.t('Last 5 years')\n}, ...getFixedYears(10)]; // Options for the year on year category dropdown\n\nexport const categoryOptions = [{\n  id: 'LAST_3_DAYS',\n  getName: () => i18n.t('Last 3 days')\n}, {\n  id: 'LAST_7_DAYS',\n  getName: () => i18n.t('Last 7 days')\n}, {\n  id: 'LAST_14_DAYS',\n  getName: () => i18n.t('Last 14 days')\n}, {\n  id: 'LAST_4_WEEKS',\n  getName: () => i18n.t('Last 4 weeks')\n}, {\n  id: 'LAST_12_WEEKS',\n  getName: () => i18n.t('Last 12 weeks')\n}, {\n  id: 'LAST_52_WEEKS',\n  getName: () => i18n.t('Last 52 weeks')\n}, {\n  id: 'WEEKS_THIS_YEAR',\n  getName: () => i18n.t('Weeks per year')\n}, {\n  id: 'LAST_3_MONTHS',\n  getName: () => i18n.t('Last 3 months')\n}, {\n  id: 'LAST_6_MONTHS',\n  getName: () => i18n.t('Last 6 months')\n}, {\n  id: 'LAST_12_MONTHS',\n  getName: () => i18n.t('Last 12 months')\n}, {\n  id: 'MONTHS_THIS_YEAR',\n  getName: () => i18n.t('Months per year')\n}, {\n  id: 'LAST_6_BIMONTHS',\n  getName: () => i18n.t('Last 6 bimonths')\n}, {\n  id: 'BIMONTHS_THIS_YEAR',\n  getName: () => i18n.t('Bimonths per year')\n}, {\n  id: 'LAST_4_QUARTERS',\n  getName: () => i18n.t('Last 4 quarters')\n}, {\n  id: 'QUARTERS_THIS_YEAR',\n  getName: () => i18n.t('Quarters per year')\n}, {\n  id: 'LAST_2_SIXMONTHS',\n  getName: () => i18n.t('Last 2 six-months')\n}];","import { FILTER_AXIS_WIDTH } from '../../DefaultLayout/styles/DefaultLayout.style.js'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","export default {\n  content: {\n    flex: '1 1 0%'\n  }\n};","import { getAxisNameByLayoutType, LAYOUT_TYPE_YEAR_OVER_YEAR } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui.js';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style.js';\nimport YearOverYearAxisStyles from './styles/YearOverYearAxis.style.js';\n\nconst YearOverYearAxis = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: props.axisId,\n  \"data-test\": `${props.axisId}-axis`,\n  style: { ...defaultAxisStyles.axisContainer,\n    ...props.style\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"label\",\n  style: defaultAxisStyles.label\n}, getAxisNameByLayoutType(props.axisId, LAYOUT_TYPE_YEAR_OVER_YEAR)), /*#__PURE__*/React.createElement(\"div\", {\n  className: \"content\",\n  style: { ...defaultAxisStyles.content,\n    ...YearOverYearAxisStyles.content\n  }\n}, props.children));\n\nYearOverYearAxis.propTypes = {\n  axisId: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nexport default connect(mapStateToProps)(YearOverYearAxis);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { MultiSelect, MultiSelectOption, SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SinglePeriodSelector = ({\n  options,\n  selected,\n  onChange,\n  dataTest\n}) => /*#__PURE__*/React.createElement(SingleSelect, {\n  onChange: onChange,\n  selected: selected,\n  placeholder: i18n.t('Select a period'),\n  dense: true,\n  dataTest: dataTest\n}, options.map(option => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: option.id,\n  value: option.id,\n  label: option.getName(),\n  dataTest: `${dataTest}-option-${option.id}`\n})));\n\nSinglePeriodSelector.propTypes = {\n  dataTest: PropTypes.string,\n  options: PropTypes.array,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst MultiPeriodSelector = ({\n  options,\n  selected,\n  onChange,\n  dataTest\n}) => /*#__PURE__*/React.createElement(MultiSelect, {\n  onChange: onChange,\n  selected: selected,\n  placeholder: i18n.t('Select years'),\n  dense: true,\n  dataTest: dataTest\n}, options.map(option => /*#__PURE__*/React.createElement(MultiSelectOption, {\n  key: option.id,\n  value: option.id,\n  label: option.getName(),\n  dataTest: `${dataTest}-option-${option.id}`\n})));\n\nMultiPeriodSelector.propTypes = {\n  dataTest: PropTypes.string,\n  options: PropTypes.array,\n  selected: PropTypes.array,\n  onChange: PropTypes.func\n};\n\nconst YearOverYearSelect = ({\n  multiple,\n  value,\n  ...props\n}) => multiple === 'true' ? /*#__PURE__*/React.createElement(MultiPeriodSelector, _extends({\n  selected: value\n}, props)) : /*#__PURE__*/React.createElement(SinglePeriodSelector, _extends({\n  selected: value\n}, props));\n\nYearOverYearSelect.propTypes = {\n  dataTest: PropTypes.string,\n  multiple: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onChange: PropTypes.func\n};\nexport default YearOverYearSelect;","import { AXIS_ID_FILTERS, AXIS_ID_COLUMNS, AXIS_ID_ROWS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiYearOverYearSeries, acSetUiYearOverYearCategory } from '../../../actions/ui.js';\nimport { seriesOptions, categoryOptions } from '../../../modules/yearOverYear.js';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui.js';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis.js';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style.js';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style.js';\nimport YearOverYearLayoutStyles from './styles/YearOverYearLayout.style.js';\nimport YearOverYearAxis from './YearOverYearAxis.js';\nimport YearOverYearSelect from './YearOverYearSelect.js';\n\nconst Layout = props => /*#__PURE__*/React.createElement(\"div\", {\n  id: \"layout-ct\",\n  style: defaultLayoutStyles.ct\n}, /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-1\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupLeft\n  }\n}, /*#__PURE__*/React.createElement(YearOverYearAxis, {\n  axisId: AXIS_ID_COLUMNS,\n  style: { ...defaultLayoutStyles.columns,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n}, /*#__PURE__*/React.createElement(YearOverYearSelect, {\n  multiple: \"true\",\n  value: props.yearOverYearSeries,\n  onChange: props.onSeriesChange,\n  options: seriesOptions,\n  dataTest: `yoy-layout-${AXIS_ID_COLUMNS}-select`\n})), /*#__PURE__*/React.createElement(YearOverYearAxis, {\n  axisId: AXIS_ID_ROWS,\n  style: { ...defaultLayoutStyles.rows,\n    ...defaultAxisStyles.axisContainerLeft\n  }\n}, /*#__PURE__*/React.createElement(YearOverYearSelect, {\n  value: props.yearOverYearCategory[0],\n  onChange: props.onCategoryChange,\n  options: categoryOptions,\n  dataTest: `yoy-layout-${AXIS_ID_ROWS}-select`\n}))), /*#__PURE__*/React.createElement(\"div\", {\n  id: \"axis-group-2\",\n  style: { ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupRight\n  }\n}, /*#__PURE__*/React.createElement(DefaultAxis, {\n  axisId: AXIS_ID_FILTERS,\n  style: defaultLayoutStyles.filters\n})));\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  yearOverYearCategory: PropTypes.array,\n  yearOverYearSeries: PropTypes.array,\n  onCategoryChange: PropTypes.func,\n  onSeriesChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSeriesChange: ({\n    selected\n  }) => {\n    dispatch(acSetUiYearOverYearSeries(selected));\n  },\n  onCategoryChange: ({\n    selected\n  }) => {\n    dispatch(acSetUiYearOverYearCategory(selected));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","import { LAYOUT_TYPE_DEFAULT, LAYOUT_TYPE_PIE, LAYOUT_TYPE_YEAR_OVER_YEAR, LAYOUT_TYPE_PIVOT_TABLE, getLayoutTypeByVisType, LAYOUT_TYPE_SCATTER } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { sGetUiType } from '../../reducers/ui.js';\nimport DefaultLayout from './DefaultLayout/DefaultLayout.js';\nimport PieLayout from './PieLayout/PieLayout.js';\nimport PivotTableLayout from './PivotTableLayout/PivotTableLayout.js';\nimport ScatterLayout from './ScatterLayout/ScatterLayout.js';\nimport YearOverYearLayout from './YearOverYearLayout/YearOverYearLayout.js';\nconst componentMap = {\n  [LAYOUT_TYPE_DEFAULT]: DefaultLayout,\n  [LAYOUT_TYPE_PIE]: PieLayout,\n  [LAYOUT_TYPE_YEAR_OVER_YEAR]: YearOverYearLayout,\n  [LAYOUT_TYPE_PIVOT_TABLE]: PivotTableLayout,\n  [LAYOUT_TYPE_SCATTER]: ScatterLayout\n};\n\nconst Layout = ({\n  visType\n}) => {\n  const layoutType = getLayoutTypeByVisType(visType);\n  const LayoutComponent = componentMap[layoutType];\n  return /*#__PURE__*/React.createElement(LayoutComponent, {\n    visType: visType\n  });\n};\n\nLayout.propTypes = {\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps, null)(Layout);","import { Analytics } from '@dhis2/analytics';\nimport { getInstance } from 'd2';\nexport const apiDownloadImage = async ({\n  baseUrl,\n  type,\n  formData\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `${baseUrl}/api/svg.${type}`;\n  return api.fetch(url, {\n    method: 'POST',\n    body: formData,\n    headers: new Headers(api.defaultHeaders)\n  }).then(res => res.blob());\n};\n\nconst addCommonParameters = (req, visualization, options) => {\n  req = req.withSkipRounding(visualization.skipRounding).withAggregationType(visualization.aggregationType).withMeasureCriteria(visualization.measureCriteria).withParameters({\n    completedOnly: visualization.completedOnly\n  }); //        .withUserOrgUnit(?) TODO\n\n  if (visualization.displayProperty) {\n    req = req.withDisplayProperty(visualization.displayProperty);\n  }\n\n  if (visualization.approvalLevel) {\n    req = req.withApprovalLevel(visualization.approvalLevel);\n  }\n\n  if (options.relativePeriodDate) {\n    req = req.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  return req;\n};\n\nexport const apiDownloadTable = ({\n  dataEngine,\n  baseUrl,\n  visualization,\n  format,\n  options,\n  rows,\n  columns\n}) => {\n  const analyticsEngine = Analytics.getAnalytics(dataEngine);\n  let req = new analyticsEngine.request().fromVisualization(visualization).withFormat(format).withTableLayout().withRows(rows.join(';')).withColumns(columns.join(';'));\n  req = addCommonParameters(req, visualization, options);\n\n  if (visualization.hideEmptyColumns) {\n    req = req.withHideEmptyColumns();\n  }\n\n  if (visualization.hideEmptyRows) {\n    req = req.withHideEmptyRows();\n  }\n\n  if (visualization.showHierarchy) {\n    req = req.withShowHierarchy();\n  }\n\n  const url = new URL(`${baseUrl}/api/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};\nexport const apiDownloadData = ({\n  baseUrl,\n  dataEngine,\n  visualization,\n  format,\n  options,\n  idScheme,\n  path\n}) => {\n  const analyticsEngine = Analytics.getAnalytics(dataEngine);\n  let req = new analyticsEngine.request().fromVisualization(visualization, path === 'dataValueSet').withFormat(format).withShowHierarchy(visualization.showHierarchy).withHierarchyMeta(visualization.showHierarchy).withIncludeMetadataDetails(true).withIncludeNumDen(); //.withApprovalLevel(visualization.?) TODO\n\n  req = addCommonParameters(req, visualization, options);\n\n  if (path) {\n    req = req.withPath(path);\n  }\n\n  if (idScheme) {\n    req = req.withOutputIdScheme(idScheme);\n  }\n\n  const url = new URL(`${baseUrl}/api/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/MenuButton.module.css';\n\nconst MenuButton = ({\n  children,\n  dataTest,\n  disabled,\n  name,\n  onBlur,\n  onClick,\n  onFocus\n}) => /*#__PURE__*/React.createElement(\"button\", {\n  className: styles.menuButton,\n  \"data-test\": dataTest,\n  disabled: disabled,\n  name: name,\n  onBlur: onBlur,\n  onClick: onClick,\n  onFocus: onFocus\n}, children);\n\nMenuButton.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default MenuButton;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { useConfig, useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { FlyoutMenu, Layer, MenuSectionHeader, MenuItem, Popper, IconImage24, IconFileDocument24, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { apiDownloadImage, apiDownloadData, apiDownloadTable } from '../../api/analytics.js';\nimport { sGetChart } from '../../reducers/chart.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { sGetUiType, sGetUiLayout, sGetUiInterpretation } from '../../reducers/ui.js';\nimport MenuButton from '../MenuButton/MenuButton.js';\n\nconst DenseMenuItem = ({\n  Icon,\n  children,\n  ...rest\n}) => /*#__PURE__*/React.createElement(MenuItem, _extends({\n  dense: true,\n  icon: Icon && /*#__PURE__*/React.createElement(Icon, {\n    color: colors.grey600\n  })\n}, rest), children);\n\nDenseMenuItem.propTypes = {\n  Icon: PropTypes.elementType,\n  children: PropTypes.array\n};\n\nconst UnconnectedDownloadMenu = ({\n  current,\n  rows,\n  columns,\n  chart,\n  relativePeriodDate,\n  visType\n}) => {\n  const dataEngine = useDataEngine();\n  const {\n    baseUrl\n  } = useConfig();\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\n\n  const onKeyDown = e => {\n    if ((e === null || e === void 0 ? void 0 : e.keyCode) === 27) {\n      setMenuIsOpen(false);\n    }\n  };\n\n  const toggleMenu = () => setMenuIsOpen(!menuIsOpen);\n\n  const downloadImage = format => async () => {\n    const formData = new URLSearchParams();\n    formData.append('filename', current.name);\n\n    if (chart) {\n      formData.append('svg', chart);\n    }\n\n    const blob = await apiDownloadImage({\n      baseUrl,\n      type: format,\n      formData\n    });\n    const url = URL.createObjectURL(blob);\n    toggleMenu();\n    window.open(url, '_blank');\n  };\n\n  const downloadData = (format, idScheme, path) => async () => {\n    const url = await apiDownloadData({\n      baseUrl,\n      dataEngine,\n      visualization: current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      idScheme,\n      path\n    });\n    toggleMenu();\n    window.open(url, format.match(/(xls|csv)/) ? '_top' : '_blank');\n  };\n\n  const downloadTable = format => async () => {\n    const url = await apiDownloadTable({\n      baseUrl,\n      dataEngine,\n      visualization: current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      rows,\n      columns\n    });\n    toggleMenu();\n    window.open(url, format === 'html' ? '_blank' : '_top');\n  };\n  /* eslint-disable react/jsx-key */\n\n\n  const graphicsMenuSection = () => React.Children.toArray([/*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Graphics')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    Icon: IconImage24,\n    label: i18n.t('Image (.png)'),\n    onClick: downloadImage('png')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    Icon: IconFileDocument24,\n    label: i18n.t('PDF (.pdf)'),\n    onClick: downloadImage('pdf')\n  })]);\n\n  const tableMenuSection = () => React.Children.toArray([/*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Table layout')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Excel (.xls)'),\n    onClick: downloadTable('xls')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('CSV (.csv)'),\n    onClick: downloadTable('csv')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('HTML (.html)'),\n    onClick: downloadTable('html')\n  })]);\n\n  const plainDataSourceSubLevel = format => React.Children.toArray([/*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Metadata ID scheme')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('ID'),\n    onClick: downloadData(format, 'UID')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Code'),\n    onClick: downloadData(format, 'CODE')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Name'),\n    onClick: downloadData(format, 'NAME')\n  })]);\n  /* eslint-enable react/jsx-key */\n\n\n  const buttonRef = /*#__PURE__*/createRef();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    onKeyDown: onKeyDown\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: buttonRef\n  }, /*#__PURE__*/React.createElement(MenuButton, {\n    onClick: toggleMenu,\n    disabled: !current\n  }, i18n.t('Download'))), menuIsOpen && /*#__PURE__*/React.createElement(Layer, {\n    onClick: toggleMenu\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: buttonRef,\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, null, visType === VIS_TYPE_PIVOT_TABLE ? tableMenuSection() : graphicsMenuSection(), /*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Plain data source')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('JSON')\n  }, plainDataSourceSubLevel('json')), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('XML')\n  }, plainDataSourceSubLevel('xml')), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Excel')\n  }, plainDataSourceSubLevel('xls')), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('CSV')\n  }, plainDataSourceSubLevel('csv')), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Advanced')\n  }, /*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Data value set')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('JSON'),\n    onClick: downloadData('json', null, 'dataValueSet')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('XML'),\n    onClick: downloadData('xml', null, 'dataValueSet')\n  }), /*#__PURE__*/React.createElement(MenuSectionHeader, {\n    label: i18n.t('Other formats')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('JRXML'),\n    onClick: downloadData('jrxml')\n  }), /*#__PURE__*/React.createElement(DenseMenuItem, {\n    label: i18n.t('Raw data SQL'),\n    onClick: downloadData('sql', null, 'debug/sql')\n  }))))));\n};\n\nconst relativePeriodDateSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created || undefined);\nUnconnectedDownloadMenu.propTypes = {\n  chart: PropTypes.string,\n  columns: PropTypes.array,\n  current: PropTypes.object,\n  relativePeriodDate: PropTypes.string,\n  rows: PropTypes.array,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  current: sGetCurrent(state),\n  relativePeriodDate: relativePeriodDateSelector(state),\n  rows: sGetUiLayout(state).rows,\n  columns: sGetUiLayout(state).columns,\n  chart: sGetChart(state),\n  visType: sGetUiType(state)\n});\n\nexport const DownloadMenu = connect(mapStateToProps)(UnconnectedDownloadMenu);","import i18n from '@dhis2/d2-i18n';\nimport { IconChevronRight24, IconChevronLeft24 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acToggleUiRightSidebarOpen } from '../../actions/ui.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { sGetUiRightSidebarOpen } from '../../reducers/ui.js';\nimport MenuButton from '../MenuButton/MenuButton.js';\nimport styles from './styles/InterpretationsButton.module.css';\nexport const UnconnectedInterpretationsButton = props => /*#__PURE__*/React.createElement(MenuButton, {\n  disabled: !props.id,\n  onClick: props.onClick\n}, props.rightSidebarOpen ? /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.iconWrapper\n}, /*#__PURE__*/React.createElement(IconChevronRight24, null)) : /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.iconWrapper\n}, /*#__PURE__*/React.createElement(IconChevronLeft24, null)), i18n.t('Interpretations'));\nUnconnectedInterpretationsButton.propTypes = {\n  id: PropTypes.string,\n  rightSidebarOpen: PropTypes.bool,\n  onClick: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: () => dispatch(acToggleUiRightSidebarOpen())\n});\n\nexport const InterpretationsButton = connect(mapStateToProps, mapDispatchToProps)(UnconnectedInterpretationsButton);","import { Checkbox, SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const UnconnectedSelectBaseOption = ({\n  option,\n  label,\n  helpText,\n  toggleable,\n  value,\n  onChange,\n  disabled,\n  dataTest\n}) => {\n  var _option$items$find;\n\n  const defaultValue = option.defaultValue;\n  const [checked, setChecked] = useState(value !== defaultValue);\n  const selected = (_option$items$find = option.items.find(item => item.value === value)) === null || _option$items$find === void 0 ? void 0 : _option$items$find.value;\n\n  const onToggle = checked => {\n    setChecked(checked);\n    onChange(checked ? option.items[0].value : defaultValue);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, toggleable ? /*#__PURE__*/React.createElement(Checkbox, {\n    checked: checked,\n    label: label,\n    name: `${option.name}-toggle`,\n    onChange: ({\n      checked\n    }) => onToggle(checked),\n    dense: true,\n    disabled: disabled,\n    dataTest: `${dataTest}-checkbox`\n  }) : null, (!toggleable || checked) && !disabled ? /*#__PURE__*/React.createElement(\"div\", {\n    className: toggleable ? tabSectionOptionToggleable.className : ''\n  }, /*#__PURE__*/React.createElement(SingleSelectField, {\n    name: `${option.name}-select`,\n    label: toggleable ? '' : label,\n    onChange: ({\n      selected\n    }) => onChange(selected),\n    selected: selected,\n    helpText: helpText,\n    inputWidth: \"280px\",\n    dense: true,\n    dataTest: `${dataTest}-select`\n  }, option.items.map(({\n    value,\n    label\n  }) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: value,\n    value: value,\n    label: label,\n    dataTest: `${dataTest}-option`\n  })))) : null);\n};\nUnconnectedSelectBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  label: PropTypes.string,\n  toggleable: PropTypes.bool\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport const SelectBaseOption = connect(mapStateToProps, mapDispatchToProps)(UnconnectedSelectBaseOption);","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst AggregationType = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Aggregation type'),\n  helpText: i18n.t('Overrides aggregation type for all data values.'),\n  option: {\n    name: 'aggregationType',\n    items: [{\n      value: 'DEFAULT',\n      label: i18n.t('By data element')\n    }, {\n      value: 'COUNT',\n      label: i18n.t('Count')\n    }, {\n      value: 'AVERAGE',\n      label: i18n.t('Average')\n    }, {\n      value: 'AVERAGE_SUM_ORG_UNIT',\n      label: i18n.t('Average (sum in org unit hierarchy)')\n    }, {\n      value: 'SUM',\n      label: i18n.t('Sum')\n    }, {\n      value: 'LAST',\n      label: i18n.t('Last value')\n    }, {\n      value: 'LAST_AVERAGE_ORG_UNIT',\n      label: i18n.t('Last value (average in org unit hierarchy)')\n    }, {\n      value: 'MIN',\n      label: i18n.t('Min')\n    }, {\n      value: 'MAX',\n      label: i18n.t('Max')\n    }, {\n      value: 'STDDEV',\n      label: i18n.t('Standard deviation')\n    }, {\n      value: 'VARIANCE',\n      label: i18n.t('Variance')\n    }]\n  }\n});\n\nexport default AggregationType;","import { CheckboxField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle.js';\nexport const UnconnectedCheckboxBaseOption = ({\n  option,\n  helpText,\n  label,\n  value,\n  onChange,\n  inverted,\n  fontStyleKey,\n  dataTest\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(CheckboxField, {\n  checked: inverted ? !value : value,\n  helpText: helpText,\n  label: label,\n  name: option.name,\n  onChange: ({\n    checked\n  }) => onChange(inverted ? !checked : checked),\n  dense: true,\n  dataTest: dataTest\n}), (!inverted && value || inverted && !value) && fontStyleKey ? /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOptionToggleable.className\n}, /*#__PURE__*/React.createElement(TextStyle, {\n  fontStyleKey: fontStyleKey,\n  dataTest: `${dataTest}-text-style`\n})) : null);\nUnconnectedCheckboxBaseOption.propTypes = {\n  dataTest: PropTypes.string,\n  fontStyleKey: PropTypes.string,\n  helpText: PropTypes.string,\n  inverted: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  value: PropTypes.bool,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOption(state, ownProps.option) || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOption({\n    optionId: ownProps.option.id || ownProps.option.name,\n    axisId: ownProps.option.axisId,\n    value\n  }))\n});\n\nexport const CheckboxBaseOption = connect(mapStateToProps, mapDispatchToProps)(UnconnectedCheckboxBaseOption);","import i18n from '@dhis2/d2-i18n';\nimport { Label } from '@dhis2/ui';\nimport React from 'react';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst CompletedOnly = () => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Label, null, i18n.t('Event data')), /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Only include completed events'),\n  option: {\n    name: 'completedOnly'\n  }\n}));\n\nexport default CompletedOnly;","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content\n}) => ({\n  key: 'data-advanced',\n  label: i18n.t('Advanced'),\n  content\n}));","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport AggregationType from '../../../components/VisualizationOptions/Options/AggregationType.js';\nimport CompletedOnly from '../../../components/VisualizationOptions/Options/CompletedOnly.js';\nimport getAdvancedTemplate from './templates/advanced.js';\nexport default (() => ({ ...getAdvancedTemplate({\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(AggregationType, null), /*#__PURE__*/React.createElement(CompletedOnly, null)])\n  })\n}));","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst NoSpaceBetweenColumns = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('No space between bars/columns'),\n  option: {\n    name: 'noSpaceBetweenColumns'\n  }\n});\n\nexport default NoSpaceBetweenColumns;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ShowData = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Value labels'),\n  option: {\n    name: 'showData'\n  }\n});\n\nexport default ShowData;","import { FONT_STYLE_LEGEND } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { OPTION_SHOW_SERIES_KEY } from '../../../modules/options.js';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ShowSeriesKey = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Show series key'),\n  option: {\n    id: OPTION_SHOW_SERIES_KEY\n  },\n  inverted: true,\n  fontStyleKey: FONT_STYLE_LEGEND,\n  dataTest: 'option-series-key'\n});\n\nexport default ShowSeriesKey;","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content\n}) => ({\n  key: 'style-chart-style',\n  label: i18n.t('Chart style'),\n  content\n}));","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport NoSpaceBetweenColumns from '../../../components/VisualizationOptions/Options/NoSpaceBetweenColumns.js';\nimport ShowData from '../../../components/VisualizationOptions/Options/ShowData.js';\nimport ShowSeriesKey from '../../../components/VisualizationOptions/Options/ShowSeriesKey.js';\nimport getChartStyleTemplate from './templates/chartStyle.js';\nconst defaultContent = [/*#__PURE__*/React.createElement(ShowData, null), /*#__PURE__*/React.createElement(ShowSeriesKey, null)];\nconst columnContent = [/*#__PURE__*/React.createElement(ShowData, null), /*#__PURE__*/React.createElement(NoSpaceBetweenColumns, null), /*#__PURE__*/React.createElement(ShowSeriesKey, null)\n/* TODO new option <BackgroundLines /> */\n];\nexport default (isColumnBased => ({ ...getChartStyleTemplate({\n    content: React.Children.toArray([isColumnBased ? columnContent : defaultContent])\n  })\n}));","import { colorSets, COLOR_SET_DEFAULT, COLOR_SET_BASIC, COLOR_SET_EXTENDED, COLOR_SET_BRIGHT, COLOR_SET_DARK, COLOR_SET_GRAY, COLOR_SET_COLOR_BLIND, COLOR_SET_PATTERNS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Field, Radio } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nexport const COLOR_SET_OPTION_NAME = 'colorSet';\n\nconst ColorSet = ({\n  value,\n  onChange,\n  disabled\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Field, {\n  name: \"colorSet-selector\",\n  dense: true\n}, [[{\n  id: COLOR_SET_DEFAULT,\n  label: i18n.t('Default')\n}, {\n  id: COLOR_SET_BASIC,\n  label: i18n.t('Basic')\n}, {\n  id: COLOR_SET_EXTENDED,\n  label: i18n.t('Extended')\n}, {\n  id: COLOR_SET_BRIGHT,\n  label: i18n.t('Bright')\n}, {\n  id: COLOR_SET_DARK,\n  label: i18n.t('Dark')\n}, {\n  id: COLOR_SET_GRAY,\n  label: i18n.t('Gray')\n}, {\n  id: COLOR_SET_COLOR_BLIND,\n  label: i18n.t('Color blind')\n}, {\n  id: COLOR_SET_PATTERNS,\n  label: i18n.t('Patterns')\n}].map(({\n  id,\n  label\n}) => /*#__PURE__*/React.createElement(\"span\", {\n  key: id\n}, /*#__PURE__*/React.createElement(Radio, {\n  label: /*#__PURE__*/React.createElement(React.Fragment, null, label, /*#__PURE__*/React.createElement(ColorSetPreview, {\n    colorSet: colorSets[id],\n    disabled: disabled\n  })),\n  value: id,\n  dense: true,\n  onChange: ({\n    value\n  }) => onChange(value),\n  checked: value === id,\n  disabled: disabled\n})))]));\n\nColorSet.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\n\nconst ColorSetPreview = ({\n  colorSet,\n  disabled\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    display: 'flex',\n    marginLeft: 4,\n    opacity: disabled ? 0.3 : 1\n  }\n}, (colorSet === null || colorSet === void 0 ? void 0 : colorSet.patterns) && colorSet.patterns.map((pattern, index) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 14,\n  height: 14,\n  key: `pattern-${index}`\n}, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"pattern\", {\n  id: `bg${index}`,\n  patternUnits: \"userSpaceOnUse\",\n  width: pattern.width,\n  height: pattern.height\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: pattern.path,\n  stroke: pattern.color,\n  strokeWidth: 2,\n  fill: \"none\"\n}))), /*#__PURE__*/React.createElement(\"rect\", {\n  height: \"14\",\n  width: \"14\",\n  fill: `url(#bg${index})`\n}))), (colorSet === null || colorSet === void 0 ? void 0 : colorSet.colors) && colorSet.colors.map(color => /*#__PURE__*/React.createElement(\"div\", {\n  key: color,\n  style: {\n    backgroundColor: color,\n    width: 14,\n    height: 14\n  }\n})));\n\nColorSetPreview.propTypes = {\n  colorSet: PropTypes.object.isRequired,\n  disabled: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state)[COLOR_SET_OPTION_NAME]\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: colorSet => dispatch(acSetUiOptions({\n    [COLOR_SET_OPTION_NAME]: colorSet\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ColorSet);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport ColorSet from '../../../components/VisualizationOptions/Options/ColorSet.js';\nexport default (hasDisabledSections => ({\n  key: 'style-color-set',\n  label: i18n.t('Color set'),\n  helpText: hasDisabledSections ? i18n.t('Color sets are not supported yet when using multiple axes') : null,\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(ColorSet, {\n    disabled: hasDisabledSections\n  })])\n}));","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst CumulativeValues = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Cumulative values'),\n  option: {\n    name: 'cumulativeValues'\n  }\n});\n\nexport default CumulativeValues;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { options } from '../../../modules/options.js';\nimport { SelectBaseOption } from './SelectBaseOption.js';\nconst optionName = 'hideEmptyRowItems';\nconst defaultValue = options[optionName].defaultValue;\n\nconst HideEmptyRowItems = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Hide empty categories'),\n  toggleable: true,\n  option: {\n    name: optionName,\n    defaultValue: defaultValue,\n    items: [{\n      value: 'BEFORE_FIRST',\n      label: i18n.t('Before first')\n    }, {\n      value: 'AFTER_LAST',\n      label: i18n.t('After last')\n    }, {\n      value: 'BEFORE_FIRST_AFTER_LAST',\n      label: i18n.t('Before first and after last')\n    }, {\n      value: 'ALL',\n      label: i18n.t('All')\n    }]\n  }\n});\n\nexport default HideEmptyRowItems;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst PercentStackedValues = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Stacked values add up to 100%'),\n  option: {\n    name: 'percentStackedValues'\n  }\n});\n\nexport default PercentStackedValues;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst SkipRounding = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Skip rounding'),\n  option: {\n    name: 'skipRounding'\n  }\n});\n\nexport default SkipRounding;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { options } from '../../../modules/options.js';\nimport { SelectBaseOption } from './SelectBaseOption.js';\nconst optionName = 'sortOrder';\nconst defaultValue = options[optionName].defaultValue;\n\nconst SortOrder = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Custom sort order'),\n  toggleable: true,\n  option: {\n    name: optionName,\n    defaultValue: defaultValue,\n    items: [{\n      value: '-1',\n      label: i18n.t('Low to high')\n    }, {\n      value: '1',\n      label: i18n.t('High to low')\n    }]\n  }\n});\n\nexport default SortOrder;","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content\n}) => ({\n  key: 'data-display',\n  label: i18n.t('Display'),\n  content\n}));","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport CumulativeValues from '../../../components/VisualizationOptions/Options/CumulativeValues.js';\nimport HideEmptyRowItems from '../../../components/VisualizationOptions/Options/HideEmptyRowItems.js';\nimport PercentStackedValues from '../../../components/VisualizationOptions/Options/PercentStackedValues.js';\nimport SkipRounding from '../../../components/VisualizationOptions/Options/SkipRounding.js';\nimport SortOrder from '../../../components/VisualizationOptions/Options/SortOrder.js';\nimport getDisplayTemplate from './templates/display.js';\nconst defaultContent = [/*#__PURE__*/React.createElement(CumulativeValues, null), /*#__PURE__*/React.createElement(HideEmptyRowItems, null), /*#__PURE__*/React.createElement(SortOrder, null), /*#__PURE__*/React.createElement(SkipRounding, null)];\nconst stackedContent = [/*#__PURE__*/React.createElement(PercentStackedValues, null), ...defaultContent];\nexport default (isStacked => ({ ...getDisplayTemplate({\n    content: React.Children.toArray(isStacked ? stackedContent : defaultContent)\n  })\n}));","import { FONT_STYLE_AXIS_LABELS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle.js';\n\nconst AxisLabels = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Label, null, i18n.t('Labels')), /*#__PURE__*/React.createElement(TextStyle, {\n  fontStyleKey: FONT_STYLE_AXIS_LABELS,\n  disabled: disabled,\n  axisId: axisId,\n  dataTest: `option-axis-label-${axisId}-text-style`\n}));\n\nAxisLabels.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisLabels;","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content,\n  helpText,\n  axisId\n}) => ({\n  key: axisId ? `axes-horizontal-axis-${axisId}` : 'axes-horizontal-axis',\n  label: axisId ? i18n.t('Horizontal (x) axis {{axisId}}', {\n    axisId: Number(axisId.slice(-1)) + 1\n  }) : i18n.t('Horizontal (x) axis'),\n  content,\n  helpText\n}));","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content,\n  helpText,\n  axisId\n}) => ({\n  key: axisId ? `axes-vertical-axis-${axisId}` : 'axes-vertical-axis',\n  label: axisId ? i18n.t('Vertical (y) axis {{axisId}}', {\n    axisId: Number(axisId.slice(-1)) + 1\n  }) : i18n.t('Vertical (y) axis'),\n  content,\n  helpText\n}));","/* eslint-disable react/jsx-key */\nimport { FONT_STYLE_HORIZONTAL_AXIS_TITLE, FONT_STYLE_VERTICAL_AXIS_TITLE } from '@dhis2/analytics';\nimport React from 'react';\nimport AxisLabels from '../../../components/VisualizationOptions/Options/AxisLabels.js';\nimport AxisTitle from '../../../components/VisualizationOptions/Options/AxisTitle.js';\nimport getHorizontalAxisTemplate from './templates/horizontalAxis.js';\nimport getVerticalAxisTemplate from './templates/verticalAxis.js';\nexport default (({\n  axisId,\n  isVertical\n}) => {\n  const template = isVertical ? getVerticalAxisTemplate : getHorizontalAxisTemplate;\n  const fontStyleKey = isVertical ? FONT_STYLE_VERTICAL_AXIS_TITLE : FONT_STYLE_HORIZONTAL_AXIS_TITLE;\n  return { ...template({\n      content: React.Children.toArray([/*#__PURE__*/React.createElement(AxisTitle, {\n        axisId: axisId,\n        fontStyleKey: fontStyleKey\n      }), /*#__PURE__*/React.createElement(AxisLabels, {\n        axisId: axisId\n      })])\n    })\n  };\n});","import { IconInfo16 } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { tabSectionOption, tabSectionOptionText, tabSectionOptionIcon } from './styles/VisualizationOptions.style.js';\nexport const InfoText = ({\n  text\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(\"p\", {\n  className: tabSectionOptionText.className\n}, /*#__PURE__*/React.createElement(\"span\", {\n  className: tabSectionOptionIcon.className\n}, /*#__PURE__*/React.createElement(IconInfo16, null)), text));\nInfoText.propTypes = {\n  text: PropTypes.string\n};","import { Checkbox, Box, Input, InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle.js';\nexport const UnconnectedTextBaseOption = ({\n  type,\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  onToggle,\n  fontStyleKey,\n  toggleable,\n  checked,\n  inline,\n  disabled,\n  dataTest,\n  isVertical\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: inline ? '' : tabSectionOption.className\n}, toggleable ? /*#__PURE__*/React.createElement(Checkbox, {\n  checked: checked,\n  label: label,\n  name: `${option.name}-toggle`,\n  onChange: ({\n    checked\n  }) => onToggle(checked),\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-checkbox`\n}) : null, !toggleable || checked ? /*#__PURE__*/React.createElement(\"div\", {\n  className: toggleable ? tabSectionOptionToggleable.className : ''\n}, inline ? /*#__PURE__*/React.createElement(Box, {\n  width: width\n}, /*#__PURE__*/React.createElement(Input, {\n  type: type,\n  onChange: ({\n    value\n  }) => onChange(value),\n  name: option.name,\n  value: value.toString(),\n  placeholder: placeholder,\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-input`\n})) : /*#__PURE__*/React.createElement(InputField, {\n  type: type,\n  label: toggleable ? '' : label,\n  onChange: ({\n    value\n  }) => onChange(value),\n  name: option.name,\n  value: value,\n  helpText: disabled ? '' : helpText,\n  placeholder: placeholder,\n  inputWidth: width,\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-input`\n}), fontStyleKey ? /*#__PURE__*/React.createElement(TextStyle, {\n  fontStyleKey: fontStyleKey,\n  disabled: disabled,\n  dataTest: `${dataTest}-text-style`,\n  axisId: option.axisId,\n  isVertical: isVertical\n}) : null) : null);\nUnconnectedTextBaseOption.defaultProps = {\n  option: {}\n};\nUnconnectedTextBaseOption.propTypes = {\n  checked: PropTypes.bool,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  fontStyleKey: PropTypes.string,\n  helpText: PropTypes.string,\n  inline: PropTypes.bool,\n  isVertical: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  toggleable: PropTypes.bool,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.string,\n  onChange: PropTypes.func,\n  onToggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOption(state, ownProps.option) || '',\n  checked: sGetUiOption(state, {\n    id: ownProps.option.enabledId,\n    axisId: ownProps.option.axisId\n  }) || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOption({\n    optionId: ownProps.option.id || ownProps.option.name,\n    axisId: ownProps.option.axisId,\n    value\n  })),\n  onToggle: checked => dispatch(acSetUiOption({\n    optionId: ownProps.option.enabledId,\n    axisId: ownProps.option.axisId,\n    value: checked\n  }))\n});\n\nexport const TextBaseOption = connect(mapStateToProps, mapDispatchToProps)(UnconnectedTextBaseOption);","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TextBaseOption } from './TextBaseOption.js';\n\nconst RegressionLineTitle = ({\n  dataTest,\n  axisId,\n  fontStyleKey,\n  id,\n  isVertical\n}) => /*#__PURE__*/React.createElement(TextBaseOption, {\n  type: \"text\",\n  width: \"280px\",\n  label: i18n.t('Title'),\n  placeholder: i18n.t('Add a title'),\n  option: {\n    id,\n    axisId\n  },\n  inline: true,\n  fontStyleKey: fontStyleKey,\n  dataTest: dataTest,\n  isVertical: isVertical\n});\n\nRegressionLineTitle.propTypes = {\n  axisId: PropTypes.string,\n  dataTest: PropTypes.string,\n  fontStyleKey: PropTypes.string,\n  id: PropTypes.string,\n  isVertical: PropTypes.bool\n};\nexport default RegressionLineTitle;","import { Box, Input, InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\n\nconst NumberBaseType = ({\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  inline,\n  disabled,\n  dataTest\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: inline ? '' : tabSectionOption.className\n}, /*#__PURE__*/React.createElement(\"div\", null, inline ? /*#__PURE__*/React.createElement(Box, {\n  width: width\n}, /*#__PURE__*/React.createElement(Input, {\n  type: \"number\",\n  onChange: ({\n    value\n  }) => onChange(value),\n  name: option.name,\n  value: (value === null || value === void 0 ? void 0 : value.toString()) || '',\n  placeholder: placeholder,\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-input`\n})) : /*#__PURE__*/React.createElement(InputField, {\n  type: \"number\",\n  label: label,\n  onChange: ({\n    value\n  }) => onChange(value),\n  name: option.name,\n  value: value,\n  helpText: disabled ? '' : helpText,\n  placeholder: placeholder,\n  inputWidth: width,\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-input`\n})));\n\nNumberBaseType.propTypes = {\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  inline: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  value: PropTypes.number,\n  width: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOption(state, ownProps.option),\n  checked: sGetUiOption(state, ownProps.option) !== undefined\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOption({\n    optionId: ownProps.option.id || ownProps.option.name,\n    axisId: ownProps.option.axisId,\n    value: value !== '' ? Number(value) : value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NumberBaseType);","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport NumberBaseType from './NumberBaseType.js';\n\nconst RegressionLineValue = ({\n  dataTest,\n  axisId,\n  id\n}) => /*#__PURE__*/React.createElement(NumberBaseType, {\n  width: \"96px\",\n  label: i18n.t('Value'),\n  placeholder: i18n.t('Number'),\n  option: {\n    id,\n    axisId\n  },\n  inline: true,\n  dataTest: dataTest\n});\n\nRegressionLineValue.propTypes = {\n  axisId: PropTypes.string,\n  dataTest: PropTypes.string,\n  id: PropTypes.string\n};\nexport default RegressionLineValue;","import i18n from '@dhis2/d2-i18n';\nimport { Checkbox, Label } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nimport RegressionLineTitle from './RegressionLineTitle.js';\nimport RegressionLineValue from './RegressionLineValue.js';\nexport const RegressionLine = ({\n  checked,\n  onToggle,\n  disabled,\n  label,\n  dataTest,\n  fontStyleKey,\n  valueId,\n  titleId,\n  axisId,\n  isVertical\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Checkbox, {\n  checked: checked,\n  label: label,\n  name: \"regressionLine-toggle\",\n  onChange: ({\n    checked\n  }) => onToggle(checked),\n  dense: true,\n  disabled: disabled,\n  dataTest: `${dataTest}-checkbox`\n}), checked && !disabled ? /*#__PURE__*/React.createElement(\"div\", {\n  className: `${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`\n}, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Label, null, i18n.t('Value')), /*#__PURE__*/React.createElement(RegressionLineValue, {\n  dataTest: `${dataTest}-value`,\n  axisId: axisId,\n  id: valueId\n})), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Label, null, i18n.t('Title')), /*#__PURE__*/React.createElement(RegressionLineTitle, {\n  dataTest: `${dataTest}-label`,\n  axisId: axisId,\n  fontStyleKey: fontStyleKey,\n  id: titleId,\n  isVertical: isVertical\n}))) : null);\nRegressionLine.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onToggle: PropTypes.func.isRequired,\n  axisId: PropTypes.string,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  fontStyleKey: PropTypes.string,\n  isVertical: PropTypes.bool,\n  label: PropTypes.string,\n  titleId: PropTypes.string,\n  valueId: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  checked: sGetUiOption(state, {\n    id: ownProps.enabledId,\n    axisId: ownProps.axisId\n  }) || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onToggle: checked => dispatch(acSetUiOption({\n    optionId: ownProps.enabledId,\n    axisId: ownProps.axisId,\n    value: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RegressionLine);","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_BASE_LINE_ENABLED, OPTION_BASE_LINE_TITLE, OPTION_BASE_LINE_TITLE_FONT_STYLE, OPTION_BASE_LINE_VALUE } from '../../../modules/options.js';\nimport RegressionLine from './RegressionLine.js';\nexport const BaseLine = ({\n  disabled,\n  axisId,\n  isVertical\n}) => /*#__PURE__*/React.createElement(RegressionLine, {\n  disabled: disabled,\n  label: i18n.t('Base line'),\n  dataTest: \"option-base-line\",\n  fontStyleKey: OPTION_BASE_LINE_TITLE_FONT_STYLE,\n  titleId: OPTION_BASE_LINE_TITLE,\n  valueId: OPTION_BASE_LINE_VALUE,\n  enabledId: OPTION_BASE_LINE_ENABLED,\n  axisId: axisId,\n  isVertical: isVertical\n});\nBaseLine.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool,\n  isVertical: PropTypes.bool\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { options } from '../../../modules/options.js';\nimport { SelectBaseOption } from './SelectBaseOption.js';\nconst optionName = 'regressionType';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RegressionType = ({\n  disabled\n}) => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  toggleable: true,\n  label: i18n.t('Trend line'),\n  disabled: disabled,\n  option: {\n    name: optionName,\n    defaultValue: defaultValue,\n    items: [{\n      value: 'LINEAR',\n      label: i18n.t('Linear')\n    }, {\n      value: 'POLYNOMIAL',\n      label: i18n.t('Polynomial')\n    }, {\n      value: 'LOESS',\n      label: i18n.t('Loess')\n    }]\n  },\n  dataTest: 'option-trend-line'\n});\n\nRegressionType.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RegressionType;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_TARGET_LINE_ENABLED, OPTION_TARGET_LINE_TITLE, OPTION_TARGET_LINE_TITLE_FONT_STYLE, OPTION_TARGET_LINE_VALUE } from '../../../modules/options.js';\nimport RegressionLine from './RegressionLine.js';\nexport const TargetLine = ({\n  disabled,\n  axisId,\n  isVertical\n}) => /*#__PURE__*/React.createElement(RegressionLine, {\n  disabled: disabled,\n  label: i18n.t('Target line'),\n  dataTest: \"option-target-line\",\n  fontStyleKey: OPTION_TARGET_LINE_TITLE_FONT_STYLE,\n  titleId: OPTION_TARGET_LINE_TITLE,\n  valueId: OPTION_TARGET_LINE_VALUE,\n  enabledId: OPTION_TARGET_LINE_ENABLED,\n  axisId: axisId,\n  isVertical: isVertical\n});\nTargetLine.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool,\n  isVertical: PropTypes.bool\n};","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content,\n  helpText\n}) => ({\n  key: 'data-lines',\n  label: i18n.t('Lines'),\n  content,\n  helpText\n}));","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { InfoText } from '../../../components/VisualizationOptions/InfoText.js';\nimport { BaseLine } from '../../../components/VisualizationOptions/Options/BaseLine.js';\nimport RegressionType from '../../../components/VisualizationOptions/Options/RegressionType.js';\nimport { TargetLine } from '../../../components/VisualizationOptions/Options/TargetLine.js';\nimport getLinesTemplate from './templates/lines.js';\nexport default ((hasDisabledSections, axisId) => ({ ...getLinesTemplate({\n    content: React.Children.toArray([[/*#__PURE__*/React.createElement(RegressionType, null)], ...(!hasDisabledSections ? [/*#__PURE__*/React.createElement(TargetLine, {\n      axisId: axisId\n    }), /*#__PURE__*/React.createElement(BaseLine, {\n      axisId: axisId\n    })] : [/*#__PURE__*/React.createElement(InfoText, {\n      text: i18n.t('Base and target lines are available on the Axes tab for multi-axis charts')\n    })])])\n  })\n}));","import { InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\n\nconst UnconnectedPositiveNumberBaseType = ({\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  disabled,\n  dataTest\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(InputField, {\n  type: \"number\",\n  label: label,\n  onChange: ({\n    value\n  }) => {\n    const parsedValue = parseInt(value, 10);\n    parsedValue >= 0 ? onChange(Math.round(value)) : onChange(parsedValue ? 0 : null);\n  },\n  name: option.name,\n  value: value || value === 0 ? value.toString() : '',\n  helpText: helpText,\n  placeholder: placeholder,\n  inputWidth: width,\n  dense: true,\n  disabled: disabled,\n  dataTest: dataTest\n})));\n\nUnconnectedPositiveNumberBaseType.propTypes = {\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOption(state, ownProps.option)\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOption({\n    optionId: ownProps.option.id || ownProps.option.name,\n    axisId: ownProps.option.axisId,\n    value\n  }))\n});\n\nexport const PositiveNumberBaseType = connect(mapStateToProps, mapDispatchToProps)(UnconnectedPositiveNumberBaseType);","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_AXIS_DECIMALS } from '../../../modules/options.js';\nimport { PositiveNumberBaseType } from './PositiveNumberBaseType.js';\n\nconst AxisDecimals = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(PositiveNumberBaseType, {\n  width: \"96px\",\n  label: i18n.t('Decimals'),\n  disabled: disabled,\n  placeholder: i18n.t('Auto'),\n  option: {\n    id: OPTION_AXIS_DECIMALS,\n    axisId\n  },\n  dataTest: `${axisId}-axis-decimals`\n});\n\nAxisDecimals.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisDecimals;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_AXIS_MAX_VALUE } from '../../../modules/options.js';\nimport NumberBaseType from './NumberBaseType.js';\n\nconst AxisMaxValue = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(NumberBaseType, {\n  width: \"100px\",\n  placeholder: i18n.t('Max'),\n  disabled: disabled,\n  option: {\n    id: OPTION_AXIS_MAX_VALUE,\n    axisId\n  },\n  inline: true,\n  dataTest: `${axisId}-axis-range-max`\n});\n\nAxisMaxValue.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisMaxValue;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_AXIS_MIN_VALUE } from '../../../modules/options.js';\nimport NumberBaseType from './NumberBaseType.js';\n\nconst AxisMinValue = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(NumberBaseType, {\n  width: \"100px\",\n  placeholder: i18n.t('Min'),\n  disabled: disabled,\n  option: {\n    id: OPTION_AXIS_MIN_VALUE,\n    axisId\n  },\n  inline: true,\n  dataTest: `${axisId}-axis-range-min`\n});\n\nAxisMinValue.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisMinValue;","import i18n from '@dhis2/d2-i18n';\nimport { Label, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from '../styles/AxisRange.module.css';\nimport { tabSectionOption, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nimport AxisMaxValue from './AxisMaxValue.js';\nimport AxisMinValue from './AxisMinValue.js';\n\nconst AxisRange = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Label, {\n  className: styles.label\n}, i18n.t('Axis range')), /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOptionComplexInline.className\n}, /*#__PURE__*/React.createElement(AxisMinValue, {\n  disabled: disabled,\n  axisId: axisId\n}), /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n}, '\\u00A0\\u2013\\u00A0'), /*#__PURE__*/React.createElement(AxisMaxValue, {\n  disabled: disabled,\n  axisId: axisId\n})), !disabled ? /*#__PURE__*/React.createElement(Help, null, i18n.t('Values outside of the range will not be displayed')) : null);\n\nAxisRange.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisRange;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { OPTION_AXIS_STEPS } from '../../../modules/options.js';\nimport { PositiveNumberBaseType } from './PositiveNumberBaseType.js';\nexport const AxisSteps = ({\n  disabled,\n  axisId\n}) => /*#__PURE__*/React.createElement(PositiveNumberBaseType, {\n  width: \"96px\",\n  helpText: i18n.t('Number of axis tick steps, including the min and max. A value of 2 or lower will be ignored.'),\n  label: i18n.t('Steps'),\n  disabled: disabled,\n  placeholder: i18n.t('Auto'),\n  option: {\n    id: OPTION_AXIS_STEPS,\n    axisId\n  },\n  dataTest: `${axisId}-axis-steps`\n});\nAxisSteps.propTypes = {\n  axisId: PropTypes.string,\n  disabled: PropTypes.bool\n};\nexport default AxisSteps;","/* eslint-disable react/jsx-key */\nimport { FONT_STYLE_HORIZONTAL_AXIS_TITLE, FONT_STYLE_VERTICAL_AXIS_TITLE } from '@dhis2/analytics';\nimport React from 'react';\nimport AxisDecimals from '../../../components/VisualizationOptions/Options/AxisDecimals.js';\nimport AxisLabels from '../../../components/VisualizationOptions/Options/AxisLabels.js';\nimport AxisRange from '../../../components/VisualizationOptions/Options/AxisRange.js';\nimport AxisSteps from '../../../components/VisualizationOptions/Options/AxisSteps.js';\nimport AxisTitle from '../../../components/VisualizationOptions/Options/AxisTitle.js';\nimport { BaseLine } from '../../../components/VisualizationOptions/Options/BaseLine.js';\nimport { TargetLine } from '../../../components/VisualizationOptions/Options/TargetLine.js';\nimport getHorizontalAxisTemplate from './templates/horizontalAxis.js';\nimport getVerticalAxisTemplate from './templates/verticalAxis.js';\nexport default (({\n  axisId,\n  isVertical,\n  showLines,\n  hasCustomAxes\n}) => {\n  const template = isVertical ? getHorizontalAxisTemplate : getVerticalAxisTemplate;\n  const fontStyleKey = isVertical ? FONT_STYLE_HORIZONTAL_AXIS_TITLE : FONT_STYLE_VERTICAL_AXIS_TITLE;\n  return { ...template({\n      content: React.Children.toArray([/*#__PURE__*/React.createElement(AxisTitle, {\n        axisId: axisId,\n        fontStyleKey: fontStyleKey,\n        hasCustomAxes: hasCustomAxes,\n        showAutoOption: true\n      }), /*#__PURE__*/React.createElement(AxisRange, {\n        axisId: axisId\n      }), /*#__PURE__*/React.createElement(AxisSteps, {\n        axisId: axisId\n      }), /*#__PURE__*/React.createElement(AxisDecimals, {\n        axisId: axisId\n      }), /*#__PURE__*/React.createElement(AxisLabels, {\n        axisId: axisId\n      }), ...(showLines ? [/*#__PURE__*/React.createElement(TargetLine, {\n        axisId: axisId,\n        isVertical: isVertical\n      }), /*#__PURE__*/React.createElement(BaseLine, {\n        axisId: axisId,\n        isVertical: isVertical\n      })] : [])]),\n      ...(hasCustomAxes ? {\n        axisId\n      } : null)\n    })\n  };\n});","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TextBaseOption } from './TextBaseOption.js';\n\nconst Subtitle = ({\n  dataTest\n}) => /*#__PURE__*/React.createElement(TextBaseOption, {\n  type: \"text\",\n  width: \"280px\",\n  placeholder: i18n.t('Add a subtitle'),\n  option: {\n    name: 'subtitle'\n  },\n  dataTest: dataTest\n});\n\nSubtitle.propTypes = {\n  dataTest: PropTypes.string\n};\nexport default Subtitle;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { VIS_TYPE_PIVOT_TABLE, FONT_STYLE_VISUALIZATION_SUBTITLE } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, Field } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport Subtitle from './Subtitle.js';\nimport TextStyle from './TextStyle.js';\nconst HIDE_SUBTITLE_AUTO = 'AUTO';\nconst HIDE_SUBTITLE_NONE = 'NONE';\nconst HIDE_SUBTITLE_CUSTOM = 'CUSTOM';\n\nclass HideSubtitle extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onGroupChange\", ({\n      value\n    }) => {\n      this.setState({\n        value\n      });\n      this.props.onChange(value === HIDE_SUBTITLE_NONE, value === HIDE_SUBTITLE_AUTO ? undefined : this.props.subtitle || undefined);\n    });\n\n    this.defaultState = {\n      value: HIDE_SUBTITLE_AUTO\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOption.className\n    }, /*#__PURE__*/React.createElement(Label, null, visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table subtitle') : i18n.t('Chart subtitle')), /*#__PURE__*/React.createElement(Field, {\n      name: \"hideSubtitle-selector\",\n      dense: true,\n      dataTest: 'option-chart-subtitle-type-radios'\n    }, [{\n      id: HIDE_SUBTITLE_AUTO,\n      label: i18n.t('Auto generated')\n    }, {\n      id: HIDE_SUBTITLE_NONE,\n      label: i18n.t('None')\n    }, {\n      id: HIDE_SUBTITLE_CUSTOM,\n      label: i18n.t('Custom')\n    }].map(({\n      id,\n      label\n    }) => /*#__PURE__*/React.createElement(Radio, {\n      key: id,\n      label: label,\n      value: id,\n      dense: true,\n      onChange: this.onGroupChange,\n      checked: value === id\n    }))), value === HIDE_SUBTITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionToggleable.className\n    }, /*#__PURE__*/React.createElement(Subtitle, {\n      inline: true,\n      dataTest: 'option-chart-subtitle-text'\n    })) : null, value === HIDE_SUBTITLE_AUTO || value === HIDE_SUBTITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionToggleable.className\n    }, /*#__PURE__*/React.createElement(TextStyle, {\n      fontStyleKey: FONT_STYLE_VISUALIZATION_SUBTITLE,\n      dataTest: 'option-chart-subtitle-text-style'\n    })) : null);\n  }\n\n}\n\nHideSubtitle.propTypes = {\n  subtitle: PropTypes.string,\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideSubtitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideSubtitle ? HIDE_SUBTITLE_NONE : uiOptions.subtitle === undefined ? HIDE_SUBTITLE_AUTO : HIDE_SUBTITLE_CUSTOM);\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: hideSubtitleSelector(state),\n  subtitle: sGetUiOptions(state).subtitle\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (hideSubtitle, subtitle) => dispatch(acSetUiOptions({\n    hideSubtitle,\n    subtitle\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideSubtitle);","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TextBaseOption } from './TextBaseOption.js';\n\nconst Title = ({\n  label,\n  inline\n}) => /*#__PURE__*/React.createElement(TextBaseOption, {\n  type: \"text\",\n  width: \"280px\",\n  label: label,\n  placeholder: i18n.t('Add a title'),\n  option: {\n    name: 'title'\n  },\n  inline: inline\n});\n\nTitle.defaultProps = {\n  inline: false\n};\nTitle.propTypes = {\n  inline: PropTypes.bool,\n  label: PropTypes.string\n};\nexport default Title;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { FONT_STYLE_VISUALIZATION_TITLE } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Field, Radio } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle.js';\nimport Title from './Title.js';\nconst HIDE_TITLE_AUTO = 'AUTO';\nconst HIDE_TITLE_NONE = 'NONE';\nconst HIDE_TITLE_CUSTOM = 'CUSTOM';\n\nclass HideTitle extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onGroupChange\", ({\n      value\n    }) => {\n      this.setState({\n        value\n      });\n      this.props.onChange(value === HIDE_TITLE_NONE, value === HIDE_TITLE_AUTO ? undefined : this.props.title || undefined);\n    });\n\n    this.defaultState = {\n      value: HIDE_TITLE_AUTO\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  render() {\n    const {\n      value\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOption.className,\n      \"data-test\": 'option-chart-title'\n    }, /*#__PURE__*/React.createElement(Label, null, i18n.t('Chart title')), /*#__PURE__*/React.createElement(Field, {\n      name: \"hideTitle-selector\",\n      dense: true\n    }, [{\n      id: HIDE_TITLE_AUTO,\n      label: i18n.t('Auto generated')\n    }, {\n      id: HIDE_TITLE_NONE,\n      label: i18n.t('None')\n    }, {\n      id: HIDE_TITLE_CUSTOM,\n      label: i18n.t('Custom')\n    }].map(({\n      id,\n      label\n    }) => /*#__PURE__*/React.createElement(Radio, {\n      key: id,\n      label: label,\n      value: id,\n      dense: true,\n      onChange: this.onGroupChange,\n      checked: value === id\n    }))), value === HIDE_TITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionToggleable.className\n    }, /*#__PURE__*/React.createElement(Title, {\n      inline: true\n    })) : null, value === HIDE_TITLE_AUTO || value === HIDE_TITLE_CUSTOM ? /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionToggleable.className\n    }, /*#__PURE__*/React.createElement(TextStyle, {\n      fontStyleKey: FONT_STYLE_VISUALIZATION_TITLE,\n      dataTest: 'option-chart-title-text-style'\n    })) : null);\n  }\n\n}\n\nHideTitle.propTypes = {\n  title: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideTitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideTitle ? HIDE_TITLE_NONE : uiOptions.title === undefined ? HIDE_TITLE_AUTO : HIDE_TITLE_CUSTOM);\n\nconst mapStateToProps = state => ({\n  value: hideTitleSelector(state),\n  title: sGetUiOptions(state).title\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (hideTitle, title) => dispatch(acSetUiOptions({\n    hideTitle,\n    title\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideTitle);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport HideSubtitle from '../../../components/VisualizationOptions/Options/HideSubtitle.js';\nimport HideTitle from '../../../components/VisualizationOptions/Options/HideTitle.js';\nexport default (() => ({\n  key: 'style-titles',\n  label: i18n.t('Titles'),\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(HideTitle, null), /*#__PURE__*/React.createElement(HideSubtitle, null)])\n}));","import { Label } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/VerticalTab.module.css';\n\nconst VerticalTab = ({\n  selected,\n  onClick,\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  onClick: onClick,\n  className: cx(styles.tab, {\n    [styles.selected]: selected\n  })\n}, /*#__PURE__*/React.createElement(Label, null, children));\n\nVerticalTab.propTypes = {\n  children: PropTypes.node,\n  selected: PropTypes.bool,\n  onClick: PropTypes.func\n};\nexport default VerticalTab;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './styles/VerticalTabBar.module.css';\n\nconst VerticalTabBar = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, children);\n\nVerticalTabBar.propTypes = {\n  children: PropTypes.node\n};\nexport default VerticalTabBar;","import PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport VerticalTab from '../VerticalTabBar/VerticalTab.js';\nimport VerticalTabBar from '../VerticalTabBar/VerticalTabBar.js';\nimport { tabSectionTitle } from '../VisualizationOptions/styles/VisualizationOptions.style.js';\nimport styles from './styles/AxesTabs.module.css';\n\nconst AxesTabs = ({\n  items,\n  dataTest\n}) => {\n  const [selectedTabIndex, setSelectedTabIndex] = useState(0);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tabs,\n    \"data-test\": dataTest\n  }, /*#__PURE__*/React.createElement(VerticalTabBar, null, items.map(({\n    label\n  }, index) => /*#__PURE__*/React.createElement(VerticalTab, {\n    key: index,\n    onClick: () => setSelectedTabIndex(index),\n    selected: index === selectedTabIndex\n  }, label)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.content\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: tabSectionTitle.className\n  }, items[selectedTabIndex].label), items[selectedTabIndex].content), tabSectionTitle.styles);\n};\n\nAxesTabs.propTypes = {\n  dataTest: PropTypes.string,\n  items: PropTypes.array\n};\nexport default AxesTabs;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport AxesTabs from '../../../components/AxesTabs/AxesTabs.js';\nexport default (content => ({\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axis-tabs',\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(AxesTabs, {\n      items: content,\n      key: \"tabs\",\n      dataTest: 'axes-tabs'\n    })])\n  }]\n}));","import i18n from '@dhis2/d2-i18n';\nexport default (content => ({\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content\n}));","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { OPTION_LEGEND_SET } from '../../../modules/options.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nconst query = {\n  legendSets: {\n    resource: 'legendSets',\n    params: {\n      fields: ['id', 'displayName~rename(name)', 'legends[id,displayName~rename(name),startValue,endValue,color]'],\n      paging: 'false'\n    }\n  }\n};\n\nconst LegendSetSelect = ({\n  value,\n  loading,\n  options,\n  onFocus,\n  onChange,\n  dataTest\n}) => /*#__PURE__*/React.createElement(SingleSelectField, {\n  name: \"legendSetSelect\",\n  label: i18n.t('Legend'),\n  selected: value === null || value === void 0 ? void 0 : value.id,\n  inputWidth: \"280px\",\n  placeholder: i18n.t('Select from legends'),\n  loadingText: i18n.t('Loading legends'),\n  loading: loading,\n  dense: true,\n  onFocus: onFocus,\n  onChange: ({\n    selected\n  }) => onChange({\n    id: selected,\n    displayName: options.find(option => option.value === selected).label\n  }),\n  dataTest: `${dataTest}-select`\n}, options.map(({\n  value,\n  label\n}) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: value,\n  value: value,\n  label: label,\n  dataTest: `${dataTest}-option`\n})));\n\nLegendSetSelect.propTypes = {\n  dataTest: PropTypes.string,\n  loading: PropTypes.bool,\n  options: PropTypes.array,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\n\nconst LegendSet = ({\n  value,\n  onChange,\n  dataTest\n}) => {\n  const engine = useDataEngine();\n  const [options, setOptions] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  if (value && value.id) {\n    if (!options.find(option => option.value === value.id)) {\n      setOptions([...options, {\n        value: value.id,\n        label: value.displayName\n      }]);\n    }\n  }\n\n  const onSelectFocus = async () => {\n    if (!isLoaded) {\n      const {\n        legendSets\n      } = await engine.query(query);\n\n      if (legendSets) {\n        const options = legendSets.legendSets.map(legendSet => ({\n          value: legendSet.id,\n          label: legendSet.name\n        }));\n        setOptions(options);\n      }\n\n      setIsLoaded(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(LegendSetSelect, {\n    loading: !isLoaded,\n    value: value,\n    options: options,\n    onChange: onChange,\n    onFocus: onSelectFocus,\n    dataTest: dataTest\n  });\n};\n\nLegendSet.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  value: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOption(state, {\n    id: OPTION_LEGEND_SET\n  })\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    id,\n    displayName\n  }) => dispatch(acSetUiOption({\n    value: {\n      id,\n      displayName\n    },\n    optionId: OPTION_LEGEND_SET\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LegendSet);","import { LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM, LEGEND_DISPLAY_STRATEGY_FIXED } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Radio, Field } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { OPTION_LEGEND_DISPLAY_STRATEGY } from '../../../modules/options.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport LegendSet from './LegendSet.js';\n\nconst LegendDisplayStrategy = ({\n  value,\n  onChange\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Field, {\n  name: OPTION_LEGEND_DISPLAY_STRATEGY,\n  dense: true\n}, /*#__PURE__*/React.createElement(Radio, {\n  key: LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM,\n  label: i18n.t('Use pre-defined legend per data item'),\n  value: LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM,\n  checked: value === LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM,\n  onChange: onChange,\n  dense: true,\n  dataTest: `legend-display-strategy-${LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM}`\n}), /*#__PURE__*/React.createElement(Radio, {\n  key: LEGEND_DISPLAY_STRATEGY_FIXED,\n  label: i18n.t('Select a single legend for the entire visualization'),\n  value: LEGEND_DISPLAY_STRATEGY_FIXED,\n  checked: value === LEGEND_DISPLAY_STRATEGY_FIXED,\n  onChange: onChange,\n  dense: true,\n  dataTest: `legend-display-strategy-${LEGEND_DISPLAY_STRATEGY_FIXED}`\n})), value === LEGEND_DISPLAY_STRATEGY_FIXED ? /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOptionToggleable.className\n}, /*#__PURE__*/React.createElement(LegendSet, {\n  dataTest: \"fixed-legend-set\"\n})) : null);\n\nLegendDisplayStrategy.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOption(state, {\n    id: OPTION_LEGEND_DISPLAY_STRATEGY\n  })\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    value\n  }) => dispatch(acSetUiOption({\n    optionId: OPTION_LEGEND_DISPLAY_STRATEGY,\n    value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LegendDisplayStrategy);","import { Field, Radio } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption, acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOption, sGetUiOptions } from '../../../reducers/ui.js';\nexport const RadioBaseOption = ({\n  option,\n  label,\n  value,\n  onChange,\n  disabled,\n  dataTest\n}) => /*#__PURE__*/React.createElement(Field, {\n  name: option.name,\n  label: label,\n  dense: true\n}, option.items.map(({\n  id,\n  label\n}) => /*#__PURE__*/React.createElement(Radio, {\n  key: id,\n  label: label,\n  value: id,\n  checked: value === id,\n  onChange: ({\n    value\n  }) => onChange(value),\n  disabled: disabled,\n  dense: true,\n  dataTest: `${dataTest}-option-${id}`\n})));\nRadioBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  label: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: ownProps.option.id ? sGetUiOption(state, {\n    id: ownProps.option.id\n  }) : sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => ownProps.option.id ? dispatch(acSetUiOption({\n    optionId: ownProps.option.id,\n    value\n  })) : dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RadioBaseOption);","import { LEGEND_DISPLAY_STYLE_FILL, LEGEND_DISPLAY_STYLE_TEXT } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { OPTION_LEGEND_DISPLAY_STYLE } from '../../../modules/options.js';\nimport RadioBaseOption from './RadioBaseOption.js';\n\nconst LegendDisplayStyle = () => /*#__PURE__*/React.createElement(RadioBaseOption, {\n  option: {\n    id: OPTION_LEGEND_DISPLAY_STYLE,\n    items: [{\n      id: LEGEND_DISPLAY_STYLE_FILL,\n      label: i18n.t('Legend changes background color')\n    }, {\n      id: LEGEND_DISPLAY_STYLE_TEXT,\n      label: i18n.t('Legend changes text color')\n    }]\n  },\n  dataTest: 'legend-display-style'\n});\n\nexport default LegendDisplayStyle;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { OPTION_SHOW_LEGEND_KEY } from '../../../modules/options.js';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ShowLegendKey = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Show legend key'),\n  option: {\n    id: OPTION_SHOW_LEGEND_KEY\n  },\n  dataTest: 'option-legend-key'\n});\n\nexport default ShowLegendKey;","import { LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM, LEGEND_DISPLAY_STRATEGY_FIXED, LEGEND_DISPLAY_STYLE_FILL } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, FieldSet, Legend as UiCoreLegend } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOption } from '../../../actions/ui.js';\nimport { OPTION_LEGEND_DISPLAY_STRATEGY, OPTION_LEGEND_DISPLAY_STYLE, OPTION_LEGEND_SET } from '../../../modules/options.js';\nimport { sGetUiOption } from '../../../reducers/ui.js';\nimport { tabSectionOptionToggleable, tabSectionOption, tabSectionTitle, tabSectionTitleMargin } from '../styles/VisualizationOptions.style.js';\nimport LegendDisplayStrategy from './LegendDisplayStrategy.js';\nimport LegendDisplayStyle from './LegendDisplayStyle.js';\nimport ShowLegendKey from './ShowLegendKey.js';\n\nconst Legend = ({\n  legendSet,\n  legendDisplayStrategy,\n  onChange,\n  hideStyleOptions\n}) => {\n  const [legendEnabled, setLegendEnabled] = useState(!((!legendDisplayStrategy || legendDisplayStrategy === LEGEND_DISPLAY_STRATEGY_FIXED) && !legendSet));\n\n  const onCheckboxChange = ({\n    checked\n  }) => {\n    setLegendEnabled(checked);\n\n    if (checked) {\n      onChange({\n        optionId: OPTION_LEGEND_DISPLAY_STRATEGY,\n        value: LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM\n      });\n      onChange({\n        optionId: OPTION_LEGEND_DISPLAY_STYLE,\n        value: LEGEND_DISPLAY_STYLE_FILL\n      });\n    } else {\n      onChange({\n        optionId: OPTION_LEGEND_DISPLAY_STRATEGY,\n        value: LEGEND_DISPLAY_STRATEGY_FIXED\n      });\n      onChange({\n        optionId: OPTION_LEGEND_SET,\n        value: undefined\n      });\n      onChange({\n        optionId: OPTION_LEGEND_DISPLAY_STYLE,\n        value: undefined\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: legendEnabled,\n    label: i18n.t('Use legend for chart colors'),\n    onChange: onCheckboxChange,\n    dense: true\n  }), legendEnabled ? /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOptionToggleable.className\n  }, !hideStyleOptions ? /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(FieldSet, null, /*#__PURE__*/React.createElement(UiCoreLegend, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(tabSectionTitle.className, tabSectionTitleMargin.className)\n  }, i18n.t('Legend style'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(LegendDisplayStyle, null)))) : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(FieldSet, null, /*#__PURE__*/React.createElement(UiCoreLegend, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: cx(tabSectionTitle.className, {\n      [tabSectionTitleMargin.className]: hideStyleOptions\n    })\n  }, i18n.t('Legend type'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(LegendDisplayStrategy, null)))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ShowLegendKey, null))) : null);\n};\n\nLegend.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  hideStyleOptions: PropTypes.bool,\n  legendDisplayStrategy: PropTypes.string,\n  legendSet: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  legendSet: sGetUiOption(state, {\n    id: OPTION_LEGEND_SET\n  }),\n  legendDisplayStrategy: sGetUiOption(state, {\n    id: OPTION_LEGEND_DISPLAY_STRATEGY\n  })\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: params => dispatch(acSetUiOption(params))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Legend);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport Legend from '../../../components/VisualizationOptions/Options/Legend.js';\nexport default (({\n  hideStyleOptions\n} = {}) => ({\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-section-1',\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(Legend, {\n      hideStyleOptions: hideStyleOptions\n    })])\n  }]\n}));","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Input, Label, SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport { tabSectionOption, tabSectionOptionText, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst OperatorSelect = ({\n  name,\n  value,\n  onChange\n}) => {\n  const options = [{\n    id: 'EQ',\n    label: '='\n  }, {\n    id: 'GT',\n    label: '>'\n  }, {\n    id: 'GE',\n    label: '>='\n  }, {\n    id: 'LT',\n    label: '<'\n  }, {\n    id: 'LE',\n    label: '<='\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '112px'\n    }\n  }, /*#__PURE__*/React.createElement(SingleSelect, {\n    name: name,\n    onChange: ({\n      selected\n    }) => {\n      onChange(selected);\n    },\n    selected: value,\n    tabIndex: \"0\",\n    inputMaxWidth: \"106px\",\n    dense: true\n  }, options.map(({\n    id,\n    label\n  }) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: id,\n    value: id,\n    label: label\n  }))));\n};\n\nOperatorSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst ValueInput = ({\n  name,\n  value,\n  onChange\n}) => /*#__PURE__*/React.createElement(Input, {\n  name: name,\n  value: value,\n  type: \"number\",\n  onChange: ({\n    value\n  }) => onChange(value),\n  width: \"72px\",\n  dense: true\n});\n\nValueInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nclass MeasureCriteria extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onClear\", () => this.setState(this.defaultState, this.props.onChange('')));\n\n    _defineProperty(this, \"onChange\", name => value => {\n      this.setState({\n        [name]: value\n      }, () => {\n        const {\n          op1,\n          v1,\n          op2,\n          v2\n        } = this.state;\n        const value = [];\n\n        if (op1 && v1) {\n          value.push(`${op1}:${v1}`);\n        }\n\n        if (op2 && v2) {\n          value.push(`${op2}:${v2}`);\n        }\n\n        this.props.onChange(value.length > 0 ? value.join(';') : '');\n      });\n    });\n\n    this.defaultState = {\n      op1: '',\n      v1: '',\n      op2: '',\n      v2: ''\n    };\n    const [_op = '', _v = '', _op2 = '', _v2 = ''] = props.value.split(/[;:]/);\n    this.state = {\n      op1: _op,\n      v1: _v,\n      op2: _op2,\n      v2: _v2\n    };\n  }\n\n  render() {\n    const {\n      op1,\n      v1,\n      op2,\n      v2\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOption.className\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: tabSectionOptionText.className\n    }, i18n.t('You can set a minimum or maximum value. This will apply to the entire visualization, all values outside of the minimum/maximum range will not be displayed')), /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionComplexInline.className\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '250px'\n      }\n    }, /*#__PURE__*/React.createElement(Label, null, i18n.t('Minimum data value')), /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionComplexInline.className\n    }, /*#__PURE__*/React.createElement(OperatorSelect, {\n      name: \"op1\",\n      value: op1,\n      onChange: this.onChange('op1')\n    }), /*#__PURE__*/React.createElement(ValueInput, {\n      name: \"v1\",\n      value: v1,\n      onChange: this.onChange('v1')\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '250px'\n      }\n    }, /*#__PURE__*/React.createElement(Label, null, i18n.t('Maximum data value')), /*#__PURE__*/React.createElement(\"div\", {\n      className: tabSectionOptionComplexInline.className\n    }, /*#__PURE__*/React.createElement(OperatorSelect, {\n      name: \"op2\",\n      value: op2,\n      onChange: this.onChange('op2')\n    }), /*#__PURE__*/React.createElement(ValueInput, {\n      name: \"v2\",\n      value: v2,\n      onChange: this.onChange('v2')\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingTop: '16px'\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      small: true,\n      onClick: this.onClear\n    }, i18n.t('Clear min/max limits'))));\n  }\n\n}\n\nMeasureCriteria.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state).measureCriteria || ''\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions({\n    measureCriteria: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasureCriteria);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport MeasureCriteria from '../../../components/VisualizationOptions/Options/MeasureCriteria.js';\nexport default (() => ({\n  key: 'limitValues-tab',\n  label: i18n.t('Limit values'),\n  content: [\n  /*\n  {\n      key: 'limitValues-limit-numbers',\n      label: i18n.t('Limit number of values'),\n      content: [<TopLimit />],\n  },*/\n  {\n    key: 'limitValues-limit-min-max',\n    label: i18n.t('Limit minimum/maximum values'),\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(MeasureCriteria, null)])\n  }]\n}));","import React from 'react';\nexport const AxisOne = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"18\",\n  height: \"1\",\n  y: \"15\",\n  fill: \"#7B8998\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"2\",\n  height: \"16\",\n  x: \"4\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"13\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"17\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n})));\nexport const AxisTwo = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"18\",\n  height: \"1\",\n  y: \"15\",\n  fill: \"#7B8998\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"2\",\n  height: \"16\",\n  x: \"12\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"4\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"17\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n})));\nexport const AxisThree = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"18\",\n  height: \"1\",\n  y: \"15\",\n  fill: \"#7B8998\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"2\",\n  height: \"16\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"13\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"17\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"4\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n})));\nexport const AxisFour = () => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: \"18\",\n  height: \"16\",\n  viewBox: \"0 0 18 16\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"18\",\n  height: \"1\",\n  y: \"15\",\n  fill: \"#7B8998\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"2\",\n  height: \"16\",\n  x: \"16\",\n  fill: \"#404B5A\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"13\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  x: \"4\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"1\",\n  height: \"16\",\n  fill: \"#7B8998\",\n  opacity: \".50\"\n})));","/*eslint no-unused-vars: [\"error\", { \"ignoreRestSiblings\": true }]*/\nimport { VIS_TYPE_COLUMN, VIS_TYPE_LINE, visTypeIcons, hasRelativeItems, ALL_DYNAMIC_DIMENSION_ITEMS } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Table, TableHead, TableRow, TableCell, TableBody, Radio, colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOptions, acUpdateUiSeriesItem } from '../../../actions/ui.js';\nimport { AxisOne, AxisTwo, AxisThree, AxisFour } from '../../../assets/AxisIcons.js';\nimport { EmptySeries, EmptyBox, GenericError } from '../../../assets/ErrorIcons.js';\nimport { SERIES_ITEM_TYPE_PROP, SERIES_ITEM_AXIS_PROP } from '../../../modules/ui.js';\nimport { sGetSeriesSetupItems } from '../../../reducers/index.js';\nimport { sGetUiLayout, sGetUiOptions, sGetUiType } from '../../../reducers/ui.js';\nimport styles from '../styles/SeriesTable.module.css';\nconst availableAxes = [0, 1, 2, 3];\nconst allTypes = [VIS_TYPE_COLUMN, VIS_TYPE_LINE];\n\nconst SeriesTable = ({\n  columns,\n  layoutItems,\n  optionItems,\n  onChange,\n  onItemChange,\n  visType,\n  showAxisOptions,\n  showTypeOptions\n}) => {\n  const availableTypes = [visType, ...allTypes.filter(type => type !== visType)];\n  useEffect(() => {\n    if (!optionItems.length) {\n      onChange(layoutItems);\n    } else {\n      const matchedItems = layoutItems.map(item => {\n        const matchedItem = optionItems.find(option => option.dimensionItem === item.dimensionItem);\n\n        if (matchedItem) {\n          matchedItem.name = item.name;\n        }\n\n        return matchedItem || item;\n      });\n      onChange(matchedItems);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n\n  const renderTable = () => /*#__PURE__*/React.createElement(Table, {\n    suppressZebraStriping: true,\n    className: styles.table\n  }, /*#__PURE__*/React.createElement(\"colgroup\", null, /*#__PURE__*/React.createElement(\"col\", {\n    className: styles.nameColumn\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    className: styles.typeColumn\n  }), /*#__PURE__*/React.createElement(\"col\", {\n    className: styles.axisColumn\n  })), /*#__PURE__*/React.createElement(TableHead, {\n    className: styles.tableHead\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    className: styles.tableRow\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.tableCell\n  }, i18n.t('Data item')), /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.tableCell\n  }, showTypeOptions && i18n.t('Visualization type')), showAxisOptions && availableAxes.map((axis, index) => /*#__PURE__*/React.createElement(TableCell, {\n    key: index,\n    className: styles.tableCell\n  }, i18n.t('Axis {{axisId}}', {\n    axisId: index + 1\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.axisIcon\n  }, renderAxisIcon(index + 1)))))), /*#__PURE__*/React.createElement(TableBody, {\n    className: styles.tableBody\n  }, optionItems.map(item => /*#__PURE__*/React.createElement(TableRow, {\n    key: `multiaxis-table-row-${item.dimensionItem}`,\n    dataTest: 'series-table-item'\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.itemName\n  }, item.name), /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.itemType\n  }, showTypeOptions && availableTypes.map(type => {\n    const VisualizationTypeIcon = visTypeIcons[type];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.typeContainer,\n      key: type\n    }, /*#__PURE__*/React.createElement(Radio, {\n      className: styles.radioInput,\n      key: type,\n      onChange: () => onItemChange({\n        changedItem: item,\n        value: type,\n        prop: SERIES_ITEM_TYPE_PROP\n      }),\n      checked: item.type ? item.type === type : visType === type,\n      label: /*#__PURE__*/React.createElement(\"span\", {\n        className: styles.visIcon\n      }, /*#__PURE__*/React.createElement(VisualizationTypeIcon, {\n        color: colors.grey600\n      })),\n      dense: true,\n      dataTest: `item-type-${type}`\n    }));\n  })), showAxisOptions && availableAxes.map(axis => /*#__PURE__*/React.createElement(TableCell, {\n    key: axis,\n    className: styles.itemAxis\n  }, /*#__PURE__*/React.createElement(Radio, {\n    onChange: () => onItemChange({\n      changedItem: item,\n      value: axis,\n      prop: SERIES_ITEM_AXIS_PROP\n    }),\n    checked: item.axis === axis,\n    dense: true,\n    dataTest: `item-axis-${axis + 1}`\n  })))))));\n\n  const renderAxisIcon = axis => {\n    switch (axis) {\n      case 1:\n        return /*#__PURE__*/React.createElement(AxisOne, null);\n\n      case 2:\n        return /*#__PURE__*/React.createElement(AxisTwo, null);\n\n      case 3:\n        return /*#__PURE__*/React.createElement(AxisThree, null);\n\n      case 4:\n        return /*#__PURE__*/React.createElement(AxisFour, null);\n    }\n  };\n\n  const renderError = (title, description, icon) => /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorIcon\n  }, icon), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorTitle\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorDescription\n  }, description));\n\n  const renderEmptySeriesError = () => renderError(i18n.t('Series is empty'), i18n.t('Options for selected items will be available here'), EmptySeries());\n\n  const renderNoSeriesOptionsError = () => renderError(i18n.t('No Series options'), i18n.t(\"There aren't any Series options for this visualization type\"), EmptyBox());\n\n  const renderRelativeItemsError = () => renderError(i18n.t('Series options unavailable'), i18n.t('Series options are not available when using relative selections for periods, org units or categories'), GenericError());\n\n  const renderAllItemsError = () => renderError(i18n.t('Series options unavailable'), i18n.t('Series options are not available when a series item has an \"All items\" selection'), GenericError());\n\n  if (!showAxisOptions && !showTypeOptions) {\n    return renderNoSeriesOptionsError();\n  } else if (hasRelativeItems(columns[0], layoutItems.map(item => item.dimensionItem))) {\n    return renderRelativeItemsError();\n  } else if (layoutItems.some(item => item.dimensionItem === ALL_DYNAMIC_DIMENSION_ITEMS)) {\n    return renderAllItemsError();\n  } else {\n    return Object.keys(layoutItems).length && optionItems.length ? renderTable() : renderEmptySeriesError();\n  }\n};\n\nSeriesTable.propTypes = {\n  columns: PropTypes.array.isRequired,\n  visType: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onItemChange: PropTypes.func.isRequired,\n  layoutItems: PropTypes.array,\n  optionItems: PropTypes.array,\n  showAxisOptions: PropTypes.bool,\n  showTypeOptions: PropTypes.bool\n};\nSeriesTable.defaultProps = {\n  layoutItems: [],\n  optionItems: [],\n  showAxisOptions: false,\n  showTypeOptions: false\n};\n\nconst mapStateToProps = state => ({\n  layoutItems: sGetSeriesSetupItems(state),\n  columns: sGetUiLayout(state).columns,\n  optionItems: sGetUiOptions(state).series,\n  visType: sGetUiType(state)\n});\n\nconst mapDispatchToProps = {\n  onChange: series => dispatch => {\n    dispatch(acSetUiOptions({\n      series\n    }));\n  },\n  onItemChange: ({\n    changedItem,\n    value,\n    prop\n  }) => dispatch => {\n    dispatch(acUpdateUiSeriesItem({\n      changedItem,\n      value,\n      prop\n    }));\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SeriesTable);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport SeriesTable from '../../../components/VisualizationOptions/Options/SeriesTable.js';\nexport default (({\n  showAxisOptions,\n  showTypeOptions\n} = {}) => ({\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(SeriesTable, {\n      showAxisOptions: showAxisOptions,\n      showTypeOptions: showTypeOptions\n    })])\n  }]\n}));","import i18n from '@dhis2/d2-i18n';\nexport default (content => ({\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content\n}));","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport AxisLabels from '../../components/VisualizationOptions/Options/AxisLabels.js';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange.js';\nimport { BaseLine } from '../../components/VisualizationOptions/Options/BaseLine.js';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding.js';\nimport { TargetLine } from '../../components/VisualizationOptions/Options/TargetLine.js';\nimport getAdvancedSection from './sections/advanced.js';\nimport getDisplayTemplate from './sections/templates/display.js';\nimport getLinesTemplate from './sections/templates/lines.js';\nimport getVerticalAxisTemplate from './sections/templates/verticalAxis.js';\nimport getTitlesSection from './sections/titles.js';\nimport getAxesTab from './tabs/axes.js';\nimport getDataTab from './tabs/data.js';\nimport getLegendTab from './tabs/legend.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nconst axisId = 'RANGE_0';\nexport default (() => [getDataTab([getDisplayTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(SkipRounding, null)])\n}), getLinesTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(TargetLine, {\n    axisId: axisId\n  }), /*#__PURE__*/React.createElement(BaseLine, {\n    axisId: axisId\n  })])\n}), getAdvancedSection()]), getLegendTab(), getAxesTab([getVerticalAxisTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(AxisRange, {\n    axisId: axisId\n  }), /*#__PURE__*/React.createElement(AxisLabels, {\n    axisId: axisId\n  })])\n})]), getSeriesTab(), getStyleTab([getTitlesSection()])]);","import { NoticeBox as UiNoticeBox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { tabSectionOption } from './styles/VisualizationOptions.style.js';\n\nconst NoticeBox = ({\n  title,\n  text,\n  warning = false,\n  error = false\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(UiNoticeBox, {\n  title: title,\n  warning: warning,\n  error: error\n}, text));\n\nNoticeBox.propTypes = {\n  error: PropTypes.bool,\n  text: PropTypes.string,\n  title: PropTypes.string,\n  warning: PropTypes.bool\n};\nexport default NoticeBox;","import { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetSettings } from '../../../reducers/settings.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport { sGetUserAuthorities } from '../../../reducers/user.js';\nexport const APPROVAL_LEVEL_OPTION_AUTH = 'F_VIEW_UNAPPROVED_DATA';\nconst optionName = 'approvalLevel';\nconst query = {\n  dataApprovalLevels: {\n    resource: 'dataApprovalLevels.json',\n    params: {\n      order: 'level:asc',\n      fields: 'id,displayName~rename(name),level',\n      paging: 'false'\n    }\n  }\n};\n\nconst ApprovalLevelSelect = ({\n  value,\n  loading,\n  options,\n  onFocus,\n  onChange\n}) => /*#__PURE__*/React.createElement(SingleSelectField, {\n  name: \"approvalLevelSelect\",\n  label: i18n.t('Data approved at level'),\n  selected: value === null || value === void 0 ? void 0 : value.id,\n  inputWidth: \"280px\",\n  placeholder: i18n.t('Select from predefined levels'),\n  loadingText: i18n.t('Loading data approval levels'),\n  loading: loading,\n  dense: true,\n  onFocus: onFocus,\n  onChange: ({\n    selected\n  }) => onChange({\n    id: selected,\n    displayName: options.find(option => option.value === selected).label\n  })\n}, options.map(({\n  value,\n  label\n}) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: value,\n  value: value,\n  label: label\n})));\n\nApprovalLevelSelect.propTypes = {\n  loading: PropTypes.bool,\n  options: PropTypes.array,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\n\nconst ApprovalLevel = ({\n  value,\n  onChange,\n  enabled\n}) => {\n  const engine = useDataEngine();\n  const [options, setOptions] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  if (!enabled) {\n    return null;\n  }\n\n  if (value && value.id) {\n    if (!options.find(option => option.value === value.id)) {\n      setOptions([...options, {\n        value: value.id,\n        label: value.displayName\n      }]);\n    }\n  }\n\n  const onSelectFocus = async () => {\n    if (!isLoaded) {\n      const {\n        dataApprovalLevels\n      } = await engine.query(query);\n\n      if (dataApprovalLevels) {\n        const options = dataApprovalLevels.dataApprovalLevels.map(level => ({\n          value: level.id,\n          label: level.name\n        }));\n        setOptions(options);\n      }\n\n      setIsLoaded(true);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ApprovalLevelSelect, {\n    loading: !isLoaded,\n    value: value,\n    options: options,\n    onChange: onChange,\n    onFocus: onSelectFocus\n  });\n};\n\nApprovalLevel.propTypes = {\n  enabled: PropTypes.bool,\n  value: PropTypes.object,\n  onChange: PropTypes.func\n};\nconst approvalLevelEnabledSelector = createSelector([sGetSettings, sGetUserAuthorities], (settings, authorities) => settings.keyIgnoreAnalyticsApprovalYearThreshold !== -1 && authorities[APPROVAL_LEVEL_OPTION_AUTH]);\n\nconst mapStateToProps = state => ({\n  enabled: approvalLevelEnabledSelector(state),\n  value: sGetUiOptions(state)[optionName] || {}\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    id,\n    displayName\n  }) => dispatch(acSetUiOptions({\n    [optionName]: {\n      id,\n      displayName\n    }\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ApprovalLevel);","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ColSubTotals = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Column sub-totals'),\n  option: {\n    name: 'colSubTotals'\n  }\n});\n\nexport default ColSubTotals;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ColTotals = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Columns totals'),\n  option: {\n    name: 'colTotals'\n  }\n});\n\nexport default ColTotals;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst Cumulative = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Include cumulative'),\n  option: {\n    name: 'cumulative'\n  }\n});\n\nexport default Cumulative;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst DigitGroupSeparator = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Digit group separator'),\n  option: {\n    name: 'digitGroupSeparator',\n    items: [{\n      value: 'NONE',\n      label: i18n.t('None')\n    }, {\n      value: 'SPACE',\n      label: i18n.t('Space')\n    }, {\n      value: 'COMMA',\n      label: i18n.t('Comma')\n    }]\n  }\n});\n\nexport default DigitGroupSeparator;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst DisplayDensity = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Display density'),\n  option: {\n    name: 'displayDensity',\n    items: [{\n      value: 'COMFORTABLE',\n      label: i18n.t('Comfortable')\n    }, {\n      value: 'NORMAL',\n      label: i18n.t('Normal')\n    }, {\n      value: 'COMPACT',\n      label: i18n.t('Compact')\n    }]\n  }\n});\n\nexport default DisplayDensity;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst FixColumnHeaders = ({\n  columnsHasItems\n}) => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Fix column headers to top of table'),\n  helpText: !columnsHasItems ? i18n.t('There aren’t any column headers because Columns is empty.') : null,\n  option: {\n    name: 'fixColumnHeaders'\n  }\n});\n\nFixColumnHeaders.propTypes = {\n  columnsHasItems: PropTypes.bool\n};\nexport default FixColumnHeaders;","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst FixRowHeaders = ({\n  rowsHasItems\n}) => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Fix row headers to left of table'),\n  helpText: !rowsHasItems ? i18n.t('There aren’t any row headers because Rows is empty.') : null,\n  option: {\n    name: 'fixRowHeaders'\n  }\n});\n\nFixRowHeaders.propTypes = {\n  rowsHasItems: PropTypes.bool\n};\nexport default FixRowHeaders;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst FontSize = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Font size'),\n  option: {\n    name: 'fontSize',\n    items: [{\n      value: 'LARGE',\n      label: i18n.t('Large')\n    }, {\n      value: 'NORMAL',\n      label: i18n.t('Normal')\n    }, {\n      value: 'SMALL',\n      label: i18n.t('Small')\n    }]\n  }\n});\n\nexport default FontSize;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst HideEmptyColumns = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Hide empty columns'),\n  option: {\n    name: 'hideEmptyColumns'\n  }\n});\n\nexport default HideEmptyColumns;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst HideEmptyRows = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Hide empty rows'),\n  option: {\n    name: 'hideEmptyRows'\n  }\n});\n\nexport default HideEmptyRows;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst NumberType = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Number type'),\n  helpText: i18n.t('Display the value of percentages of the total'),\n  option: {\n    name: 'numberType',\n    items: [{\n      value: 'VALUE',\n      label: i18n.t('Value')\n    }, {\n      value: 'ROW_PERCENTAGE',\n      label: i18n.t('Percentage of row')\n    }, {\n      value: 'COLUMN_PERCENTAGE',\n      label: i18n.t('Percentage of column')\n    }]\n  }\n});\n\nexport default NumberType;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ParamOrganisationUnit = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Organisation unit'),\n  option: {\n    name: 'organisationUnit'\n  }\n});\n\nexport default ParamOrganisationUnit;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ParamParentOrganisationUnit = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Parent organisation unit'),\n  option: {\n    name: 'parentOrganisationUnit'\n  }\n});\n\nexport default ParamParentOrganisationUnit;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ParamReportingPeriod = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Reporting period'),\n  option: {\n    name: 'reportingPeriod'\n  }\n});\n\nexport default ParamReportingPeriod;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst Regression = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Include regression'),\n  option: {\n    name: 'regression'\n  }\n});\n\nexport default Regression;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst RowSubTotals = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Row sub-totals'),\n  option: {\n    name: 'rowSubTotals'\n  }\n});\n\nexport default RowSubTotals;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst RowTotals = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Row totals'),\n  option: {\n    name: 'rowTotals'\n  }\n});\n\nexport default RowTotals;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ShowDimensionLabels = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Dimension labels'),\n  option: {\n    name: 'showDimensionLabels'\n  }\n});\n\nexport default ShowDimensionLabels;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { CheckboxBaseOption } from './CheckboxBaseOption.js';\n\nconst ShowHierarchy = () => /*#__PURE__*/React.createElement(CheckboxBaseOption, {\n  label: i18n.t('Display organisation unit hierarchy'),\n  option: {\n    name: 'showHierarchy'\n  }\n});\n\nexport default ShowHierarchy;","import i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { SelectBaseOption } from './SelectBaseOption.js';\n\nconst TopLimit = () => /*#__PURE__*/React.createElement(SelectBaseOption, {\n  label: i18n.t('Top limit'),\n  option: {\n    name: 'topLimit',\n    items: [{\n      value: '0',\n      label: i18n.t('None')\n    }, {\n      value: '5',\n      label: '5'\n    }, {\n      value: '10',\n      label: '10'\n    }, {\n      value: '20',\n      label: '20'\n    }, {\n      value: '50',\n      label: '50'\n    }, {\n      value: '100',\n      label: '100'\n    }]\n  }\n});\n\nexport default TopLimit;","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content\n}) => ({\n  key: 'data-empty-data',\n  label: i18n.t('Empty data'),\n  content\n}));","import i18n from '@dhis2/d2-i18n';\nexport default (({\n  content\n}) => ({\n  key: 'data-totals',\n  label: i18n.t('Totals'),\n  content\n}));","import i18n from '@dhis2/d2-i18n';\nimport { Checkbox, Help, InputField } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { tabSectionOption, tabSectionToggleableSubsection } from '../styles/VisualizationOptions.style.js';\n\nconst ExtremeLines = ({\n  isEnabled,\n  onEnabledChange,\n  currentValue,\n  onValueChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Checkbox, {\n  checked: isEnabled,\n  label: i18n.t('Extreme lines'),\n  onChange: ({\n    checked\n  }) => onEnabledChange(checked),\n  dense: true\n}), /*#__PURE__*/React.createElement(Help, null, i18n.t('Calculated as a percent, usually 1%, of the total values along an axis'))), isEnabled && /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionToggleableSubsection.className\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(InputField, {\n  type: \"number\",\n  label: i18n.t('Extreme line % detection'),\n  min: \"0.1\",\n  step: \"0.1\",\n  onChange: input => onValueChange(Number(input.value)),\n  value: (currentValue === null || currentValue === void 0 ? void 0 : currentValue.toString()) || '',\n  placeholder: i18n.t('Number'),\n  inputWidth: \"96px\",\n  dense: true\n})))));\n\nExtremeLines.propTypes = {\n  isEnabled: PropTypes.bool.isRequired,\n  onEnabledChange: PropTypes.func.isRequired,\n  onValueChange: PropTypes.func.isRequired,\n  currentValue: PropTypes.number\n};\nexport default ExtremeLines;","import i18n from '@dhis2/d2-i18n';\nimport { Field, Radio, InputField, Help } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\n\nconst OutlierDetectionMethod = ({\n  methods,\n  currentMethodId,\n  onMethodChange,\n  currentThreshold,\n  onThresholdChange\n}) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n  className: tabSectionOption.className\n}, /*#__PURE__*/React.createElement(Field, {\n  dense: true\n}, methods.map(({\n  id,\n  label\n}) => /*#__PURE__*/React.createElement(Radio, {\n  key: id,\n  label: label,\n  value: id,\n  checked: currentMethodId === id,\n  onChange: ({\n    value\n  }) => {\n    onMethodChange(value);\n  },\n  dense: true\n}))), /*#__PURE__*/React.createElement(Help, null, i18n.t('Each detection method identifies outliers in different ways and suits different data. Check the documentation for help to choose the right outlier detection method'))), /*#__PURE__*/React.createElement(InputField, {\n  type: \"number\",\n  label: i18n.t('Threshold factor'),\n  min: \"0\",\n  step: \"0.5\",\n  onChange: ({\n    value\n  }) => onThresholdChange(Number(value)),\n  value: (currentThreshold === null || currentThreshold === void 0 ? void 0 : currentThreshold.toString()) || '',\n  helpText: i18n.t('A high value is more sensitive so fewer data items will be identified as outliers'),\n  placeholder: i18n.t('Number'),\n  inputWidth: \"96px\",\n  dense: true\n}));\n\nOutlierDetectionMethod.propTypes = {\n  methods: PropTypes.array.isRequired,\n  onMethodChange: PropTypes.func.isRequired,\n  onThresholdChange: PropTypes.func.isRequired,\n  currentMethodId: PropTypes.string,\n  currentThreshold: PropTypes.number\n};\nexport default OutlierDetectionMethod;","import i18n from '@dhis2/d2-i18n';\nimport { Checkbox, FieldSet, Help, Legend } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUiOptions } from '../../../actions/ui.js';\nimport { sGetUiOptions } from '../../../reducers/ui.js';\nimport styles from '../styles/Outliers.module.css';\nimport { tabSectionToggleableSubsection, tabSectionOption, tabSectionTitle } from '../styles/VisualizationOptions.style.js';\nimport ExtremeLines from './ExtremeLines.js';\nimport OutlierDetectionMethod from './OutlierDetectionMethod.js';\nconst ENABLED_PROP = 'enabled';\nconst METHOD_PROP = 'outlierMethod';\nconst THRESHOLD_PROP = 'thresholdFactor';\nconst EL_ENABLED_PROP = 'enabled';\nconst EL_VALUE_PROP = 'value';\nconst OUTLIER_ANALYSIS_OPTION_NAME = 'outlierAnalysis';\nconst METHOD_IQR = 'IQR';\nconst METHOD_STANDARD_Z_SCORE = 'STANDARD_Z_SCORE';\nconst METHOD_MODIFIED_Z_SCORE = 'MODIFIED_Z_SCORE';\nconst methods = [{\n  id: METHOD_IQR,\n  label: i18n.t('Interquartile Range (IQR)'),\n  defaultThreshold: 1.5\n}, {\n  id: METHOD_STANDARD_Z_SCORE,\n  label: i18n.t('Z-score / Standard score'),\n  defaultThreshold: 3\n}, {\n  id: METHOD_MODIFIED_Z_SCORE,\n  label: i18n.t('Modified Z-score'),\n  defaultThreshold: 3\n}];\nconst DEFAULT_STATE = {\n  [ENABLED_PROP]: false,\n  [METHOD_PROP]: METHOD_IQR,\n  [THRESHOLD_PROP]: 1.5,\n  extremeLines: {\n    [EL_ENABLED_PROP]: false,\n    [EL_VALUE_PROP]: 1\n  }\n};\nconst dataTest = 'option-outliers';\n\nconst Outliers = ({\n  outlierAnalysis,\n  onChange\n}) => {\n  const storeProp = (prop, value) => onChange({ ...outlierAnalysis,\n    [prop]: value\n  });\n\n  const storeExtremeLinesProp = (prop, value) => onChange({ ...outlierAnalysis,\n    extremeLines: { ...outlierAnalysis.extremeLines,\n      [prop]: value\n    }\n  });\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: outlierAnalysis[ENABLED_PROP],\n    label: i18n.t('Outlier analysis'),\n    onChange: ({\n      checked\n    }) => storeProp(ENABLED_PROP, checked),\n    dense: true,\n    dataTest: `${dataTest}-enabled-checkbox`\n  }), /*#__PURE__*/React.createElement(Help, null, i18n.t('Outlier analysis detects and highlights data items that are markedly different from the rest of the data'))), outlierAnalysis[ENABLED_PROP] && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionToggleableSubsection.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(FieldSet, null, /*#__PURE__*/React.createElement(Legend, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: tabSectionTitle.className\n  }, i18n.t('Outlier detection method'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(OutlierDetectionMethod, {\n    methods: methods,\n    onMethodChange: value => onChange({ ...outlierAnalysis,\n      [METHOD_PROP]: value,\n      [THRESHOLD_PROP]: methods.find(item => item.id === value).defaultThreshold\n    }),\n    onThresholdChange: value => storeProp(THRESHOLD_PROP, value),\n    currentMethodId: outlierAnalysis[METHOD_PROP],\n    currentThreshold: outlierAnalysis[THRESHOLD_PROP]\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.divider\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionToggleableSubsection.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(FieldSet, null, /*#__PURE__*/React.createElement(Legend, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: tabSectionTitle.className\n  }, i18n.t('Extreme lines'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: tabSectionOption.className\n  }, /*#__PURE__*/React.createElement(ExtremeLines, {\n    isEnabled: outlierAnalysis.extremeLines[EL_ENABLED_PROP],\n    onEnabledChange: value => storeExtremeLinesProp(EL_ENABLED_PROP, value),\n    currentValue: outlierAnalysis.extremeLines[EL_VALUE_PROP],\n    onValueChange: value => storeExtremeLinesProp(EL_VALUE_PROP, value)\n  })))))));\n};\n\nOutliers.propTypes = {\n  outlierAnalysis: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  outlierAnalysis: sGetUiOptions(state)[OUTLIER_ANALYSIS_OPTION_NAME] || DEFAULT_STATE\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [OUTLIER_ANALYSIS_OPTION_NAME]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Outliers);","import { VIS_TYPE_PIVOT_TABLE, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_SCATTER, isStacked as isStackedType, isLegendSetType, isMultiType, isDualAxisType, isColumnBasedType, isVerticalType } from '@dhis2/analytics';\nimport defaultConfig from './defaultConfig.js';\nimport gaugeConfig from './gaugeConfig.js';\nimport pieConfig from './pieConfig.js';\nimport pivotTableConfig from './pivotTableConfig.js';\nimport scatterConfig from './scatterConfig.js';\nimport singleValueConfig from './singleValueConfig.js';\nexport const getOptionsByType = ({\n  type,\n  hasDimensionItemsInColumns,\n  hasDimensionItemsInRows,\n  hasDisabledSections,\n  rangeAxisIds\n}) => {\n  const isStacked = isStackedType(type);\n  const isColumnBased = isColumnBasedType(type);\n  const supportsLegends = isLegendSetType(type);\n  const supportsMultiAxes = isDualAxisType(type);\n  const supportsMultiType = isMultiType(type);\n  const isVertical = isVerticalType(type);\n  const defaultProps = {\n    hasDisabledSections,\n    isStacked,\n    isColumnBased,\n    supportsLegends,\n    supportsMultiAxes,\n    supportsMultiType,\n    rangeAxisIds,\n    isVertical\n  };\n\n  switch (type) {\n    case VIS_TYPE_GAUGE:\n      return gaugeConfig();\n\n    case VIS_TYPE_PIE:\n      return pieConfig();\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return singleValueConfig();\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return pivotTableConfig({\n        hasDimensionItemsInColumns,\n        hasDimensionItemsInRows\n      });\n\n    case VIS_TYPE_SCATTER:\n      return scatterConfig();\n\n    default:\n      return defaultConfig(defaultProps);\n  }\n};","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding.js';\nimport getAdvancedSection from './sections/advanced.js';\nimport getColorSetSection from './sections/colorSet.js';\nimport getDisplayTemplate from './sections/templates/display.js';\nimport getTitlesSection from './sections/titles.js';\nimport getDataTab from './tabs/data.js';\nimport getLimitValuesTab from './tabs/limitValues.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nexport default (() => [getDataTab([getDisplayTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(SkipRounding, null)])\n}), getAdvancedSection()]), getSeriesTab(), getStyleTab([getTitlesSection(), getColorSetSection()]), getLimitValuesTab()]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport DigitGroupSeparator from '../../components/VisualizationOptions/Options/DigitGroupSeparator.js';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding.js';\nimport getAdvancedSection from './sections/advanced.js';\nimport getDisplayTemplate from './sections/templates/display.js';\nimport getTitlesSection from './sections/titles.js';\nimport getDataTab from './tabs/data.js';\nimport getLegendTab from './tabs/legend.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nexport default (() => [getDataTab([getDisplayTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(SkipRounding, null)])\n}), getAdvancedSection()]), getLegendTab({\n  hideStyleOptions: true\n}), getSeriesTab(), getStyleTab([getTitlesSection(), {\n  key: 'style-section-2',\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(DigitGroupSeparator, null)])\n}])]);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport NoticeBox from '../../components/VisualizationOptions/NoticeBox.js';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType.js';\nimport ApprovalLevel from '../../components/VisualizationOptions/Options/ApprovalLevel.js';\nimport ColSubTotals from '../../components/VisualizationOptions/Options/ColSubTotals.js';\nimport ColTotals from '../../components/VisualizationOptions/Options/ColTotals.js';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly.js';\nimport Cumulative from '../../components/VisualizationOptions/Options/Cumulative.js';\nimport DigitGroupSeparator from '../../components/VisualizationOptions/Options/DigitGroupSeparator.js';\nimport DisplayDensity from '../../components/VisualizationOptions/Options/DisplayDensity.js';\nimport FixColumnHeaders from '../../components/VisualizationOptions/Options/FixColumnHeaders.js';\nimport FixRowHeaders from '../../components/VisualizationOptions/Options/FixRowHeaders.js';\nimport FontSize from '../../components/VisualizationOptions/Options/FontSize.js';\nimport HideEmptyColumns from '../../components/VisualizationOptions/Options/HideEmptyColumns.js';\nimport HideEmptyRows from '../../components/VisualizationOptions/Options/HideEmptyRows.js';\nimport NumberType from '../../components/VisualizationOptions/Options/NumberType.js';\nimport ParamOrganisationUnit from '../../components/VisualizationOptions/Options/ParamOrganisationUnit.js';\nimport ParamParentOrganisationUnit from '../../components/VisualizationOptions/Options/ParamParentOrganisationUnit.js';\nimport ParamReportingPeriod from '../../components/VisualizationOptions/Options/ParamReportingPeriod.js';\nimport Regression from '../../components/VisualizationOptions/Options/Regression.js';\nimport RowSubTotals from '../../components/VisualizationOptions/Options/RowSubTotals.js';\nimport RowTotals from '../../components/VisualizationOptions/Options/RowTotals.js';\nimport ShowDimensionLabels from '../../components/VisualizationOptions/Options/ShowDimensionLabels.js';\nimport ShowHierarchy from '../../components/VisualizationOptions/Options/ShowHierarchy.js';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding.js';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder.js';\nimport Title from '../../components/VisualizationOptions/Options/Title.js';\nimport TopLimit from '../../components/VisualizationOptions/Options/TopLimit.js';\nimport getAdvancedTemplate from './sections/templates/advanced.js';\nimport getDisplayTemplate from './sections/templates/display.js';\nimport getEmptyDataTemplate from './sections/templates/emptyData.js';\nimport getTotalsTemplate from './sections/templates/totals.js';\nimport getDataTab from './tabs/data.js';\nimport getLegendTab from './tabs/legend.js';\nimport getLimitValuesTab from './tabs/limitValues.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nexport default (({\n  hasDimensionItemsInColumns,\n  hasDimensionItemsInRows\n}) => [getDataTab([getDisplayTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(ShowDimensionLabels, null), /*#__PURE__*/React.createElement(SkipRounding, null)])\n}), getTotalsTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(ColTotals, null), /*#__PURE__*/React.createElement(ColSubTotals, null), /*#__PURE__*/React.createElement(RowTotals, null), /*#__PURE__*/React.createElement(RowSubTotals, null)])\n}), getEmptyDataTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(HideEmptyColumns, null), /*#__PURE__*/React.createElement(HideEmptyRows, null)])\n}), getAdvancedTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(AggregationType, null), /*#__PURE__*/React.createElement(NumberType, null), /*#__PURE__*/React.createElement(CompletedOnly, null), /*#__PURE__*/React.createElement(ApprovalLevel, null)])\n})]), getLegendTab(), getSeriesTab(), getStyleTab([{\n  key: 'style-section-1',\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(Title, {\n    label: i18n.t('Table title')\n  }), /*#__PURE__*/React.createElement(DisplayDensity, null), /*#__PURE__*/React.createElement(FontSize, null), /*#__PURE__*/React.createElement(DigitGroupSeparator, null), /*#__PURE__*/React.createElement(FixColumnHeaders, {\n    columnsHasItems: hasDimensionItemsInColumns\n  }), /*#__PURE__*/React.createElement(FixRowHeaders, {\n    rowsHasItems: hasDimensionItemsInRows\n  })])\n}, {\n  key: 'style-section-2',\n  label: i18n.t('Labels'),\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(ShowHierarchy, null)])\n}]), getLimitValuesTab(), {\n  key: 'parameters-tab',\n  label: i18n.t('Parameters'),\n  content: [{\n    key: 'parameters-section-1',\n    content: React.Children.toArray([/*#__PURE__*/React.createElement(NoticeBox, {\n      text: i18n.t('These options only apply to legacy tables like standard reports. Options set here will have no effect on tables made in Data Visualizer.'),\n      title: i18n.t('Applies to standard reports only'),\n      warning: true\n    }), /*#__PURE__*/React.createElement(ParamReportingPeriod, null), /*#__PURE__*/React.createElement(ParamOrganisationUnit, null), /*#__PURE__*/React.createElement(ParamParentOrganisationUnit, null), /*#__PURE__*/React.createElement(Regression, null), /*#__PURE__*/React.createElement(Cumulative, null), /*#__PURE__*/React.createElement(SortOrder, null), /*#__PURE__*/React.createElement(TopLimit, null)])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport i18n from '@dhis2/d2-i18n';\nimport React from 'react';\nimport { InfoText } from '../../components/VisualizationOptions/InfoText.js';\nimport Outliers from '../../components/VisualizationOptions/Options/Outliers.js';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding.js';\nimport getAdvancedSection from './sections/advanced.js';\nimport getRangeAxisSection from './sections/rangeAxis.js';\nimport getDisplayTemplate from './sections/templates/display.js';\nimport getLinesTemplate from './sections/templates/lines.js';\nimport getTitlesSection from './sections/titles.js';\nimport getAxesTab from './tabs/axes.js';\nimport getDataTab from './tabs/data.js';\nimport getOutliersTab from './tabs/outliers.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nconst verticalAxisId = 'RANGE_0';\nconst horisontalAxisId = 'RANGE_1';\nexport default (() => [getDataTab([getDisplayTemplate({\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(SkipRounding, null)])\n}), getLinesTemplate({\n  // TODO: Add trend line?\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(InfoText, {\n    text: i18n.t('Base and target lines are available on the Axes tab for scatter charts')\n  })])\n}), getAdvancedSection()]), getAxesTab([getRangeAxisSection({\n  axisId: verticalAxisId,\n  showLines: true\n}), getRangeAxisSection({\n  axisId: horisontalAxisId,\n  showLines: true,\n  isVertical: true\n})]), getSeriesTab(), getStyleTab([getTitlesSection()]), getOutliersTab([{\n  key: 'outlier-analysis',\n  content: React.Children.toArray([/*#__PURE__*/React.createElement(Outliers, null)])\n}])]);","import i18n from '@dhis2/d2-i18n';\nexport default (content => ({\n  key: 'outliers-tab',\n  label: i18n.t('Outliers'),\n  content\n}));","import getAdvancedSection from './sections/advanced.js';\nimport getChartStyleSection from './sections/chartStyle.js';\nimport getColorSetSection from './sections/colorSet.js';\nimport getDisplaySection from './sections/display.js';\nimport getDomainAxisSection from './sections/domainAxis.js';\nimport getLinesSection from './sections/lines.js';\nimport getRangeAxisSection from './sections/rangeAxis.js';\nimport getTitlesSection from './sections/titles.js';\nimport getAxesTab from './tabs/axes.js';\nimport getDataTab from './tabs/data.js';\nimport getLegendTab from './tabs/legend.js';\nimport getLimitValuesTab from './tabs/limitValues.js';\nimport getSeriesTab from './tabs/series.js';\nimport getStyleTab from './tabs/style.js';\nexport default (({\n  hasDisabledSections,\n  supportsMultiAxes,\n  supportsMultiType,\n  isColumnBased,\n  isStacked,\n  supportsLegends,\n  rangeAxisIds = [],\n  isVertical\n} = {}) => [getDataTab([getDisplaySection(isStacked), getLinesSection(hasDisabledSections, 'RANGE_0'), getAdvancedSection()]), ...(supportsLegends ? [getLegendTab({\n  hideStyleOptions: true\n})] : []), getAxesTab([...rangeAxisIds.map(id => getRangeAxisSection({\n  axisId: `RANGE_${id}`,\n  isVertical,\n  showLines: hasDisabledSections,\n  hasCustomAxes: rangeAxisIds.length > 1 || rangeAxisIds.some(id => id > 0)\n})), getDomainAxisSection({\n  axisId: 'DOMAIN_0',\n  isVertical\n})]), getSeriesTab({\n  showAxisOptions: supportsMultiAxes,\n  showTypeOptions: supportsMultiType\n}), getStyleTab([getChartStyleSection(isColumnBased), getTitlesSection(), getColorSetSection(hasDisabledSections)]), getLimitValuesTab()]);","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, hasCustomAxes, hasRelativeItems, isDualAxisType, VisualizationOptions } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { getOptionsByType } from '../../modules/options/config.js';\nimport { sGetUiType, sGetUiOptions, sGetDimensionItemsByAxis, sGetUiLayout } from '../../reducers/ui.js';\nimport MenuButton from '../MenuButton/MenuButton.js';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer.js';\n\nconst VisualizationOptionsManager = ({\n  visualizationType,\n  columnDimensionItems,\n  rowDimensionItems,\n  columns,\n  series\n}) => {\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n\n  const onClick = handler => () => {\n    handler();\n    onClose();\n  };\n\n  const onClose = () => {\n    toggleVisualizationOptionsDialog();\n  };\n\n  const toggleVisualizationOptionsDialog = () => {\n    setDialogIsOpen(!dialogIsOpen);\n  };\n\n  const filteredSeries = series.filter(seriesItem => columnDimensionItems.some(layoutItem => layoutItem === seriesItem.dimensionItem));\n  const optionsConfig = getOptionsByType({\n    type: visualizationType,\n    hasDisabledSections: isDualAxisType(visualizationType) && hasCustomAxes(filteredSeries) && !hasRelativeItems(columns[0], columnDimensionItems),\n    rangeAxisIds: series !== null && series !== void 0 && series.length && isDualAxisType(visualizationType) ? [...new Set(series.map(serie => serie.axis))].sort((a, b) => a - b) : [0],\n    hasDimensionItemsInColumns: Boolean(columnDimensionItems.length),\n    hasDimensionItemsInRows: Boolean(rowDimensionItems.length)\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuButton, {\n    dataTest: 'app-menubar-options-button',\n    onClick: toggleVisualizationOptionsDialog\n  }, i18n.t('Options')), dialogIsOpen && /*#__PURE__*/React.createElement(UpdateVisualizationContainer, {\n    renderComponent: handler => /*#__PURE__*/React.createElement(VisualizationOptions, {\n      optionsConfig: optionsConfig,\n      onUpdate: onClick(handler),\n      onClose: onClose\n    })\n  }));\n};\n\nVisualizationOptionsManager.propTypes = {\n  visualizationType: PropTypes.string.isRequired,\n  columnDimensionItems: PropTypes.array,\n  columns: PropTypes.array,\n  rowDimensionItems: PropTypes.array,\n  series: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  columnDimensionItems: sGetDimensionItemsByAxis(state, AXIS_ID_COLUMNS),\n  rowDimensionItems: sGetDimensionItemsByAxis(state, AXIS_ID_ROWS),\n  series: sGetUiOptions(state).series,\n  columns: sGetUiLayout(state).columns\n});\n\nexport default connect(mapStateToProps)(VisualizationOptionsManager);","import { FileMenu } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport * as fromActions from '../../actions/index.js';\nimport { getErrorVariantByStatusCode } from '../../modules/error.js';\nimport history from '../../modules/history.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { DownloadMenu } from '../DownloadMenu/DownloadMenu.js';\nimport { InterpretationsButton } from '../Interpretations/InterpretationsButton.js';\nimport UpdateButton from '../UpdateButton/UpdateButton.js';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer.js';\nimport VisualizationOptionsManager from '../VisualizationOptions/VisualizationOptionsManager.js';\nimport styles from './styles/MenuBar.module.css';\n\nconst onOpen = id => {\n  const path = `/${id}`;\n\n  if (history.location.pathname === path) {\n    history.replace({\n      pathname: path,\n      state: {\n        isOpening: true\n      }\n    });\n  } else {\n    history.push(path);\n  }\n};\n\nconst onNew = () => {\n  if (history.location.pathname === '/') {\n    history.replace({\n      pathname: '/',\n      state: {\n        isResetting: true\n      }\n    });\n  } else {\n    history.push('/');\n  }\n};\n\nconst getOnRename = props => details => props.onRenameVisualization(details);\n\nconst getOnSave = props => details => props.onSaveVisualization(details, false);\n\nconst getOnSaveAs = props => details => props.onSaveVisualization(details, true);\n\nconst getOnDelete = props => () => props.onDeleteVisualization();\n\nconst getOnError = props => error => props.onError(error);\n\nconst UnconnectedMenuBar = ({\n  dataTest,\n  ...props\n}, context) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.menuBar,\n  \"data-test\": dataTest\n}, /*#__PURE__*/React.createElement(UpdateVisualizationContainer, {\n  renderComponent: handler => /*#__PURE__*/React.createElement(UpdateButton, {\n    className: styles.updateButton,\n    small: true,\n    onClick: handler,\n    dataTest: `${dataTest}-update-button`\n  })\n}), /*#__PURE__*/React.createElement(FileMenu, {\n  d2: context.d2,\n  fileType: props.apiObjectName,\n  fileObject: props.current,\n  onOpen: onOpen,\n  onNew: onNew,\n  onRename: getOnRename(props),\n  onSave: getOnSave(props),\n  onSaveAs: getOnSaveAs(props),\n  onDelete: getOnDelete(props),\n  onError: getOnError(props)\n}), /*#__PURE__*/React.createElement(VisualizationOptionsManager, null), /*#__PURE__*/React.createElement(DownloadMenu, null), /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.grow\n}), /*#__PURE__*/React.createElement(InterpretationsButton, null));\n\nUnconnectedMenuBar.propTypes = {\n  apiObjectName: PropTypes.string,\n  current: PropTypes.object,\n  dataTest: PropTypes.string\n};\nUnconnectedMenuBar.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  current: sGetCurrent(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onRenameVisualization: details => dispatch(fromActions.tDoRenameVisualization(details)),\n  onSaveVisualization: (details = {}, copy) => dispatch(fromActions.tDoSaveVisualization(details, copy)),\n  onDeleteVisualization: () => dispatch(fromActions.tDoDeleteVisualization()),\n  onError: error => {\n    const message = error.errorCode === 'E4030' ? i18n.t(\"This visualization can't be deleted because it is used on one or more dashboards\") : error.message;\n    const variant = getErrorVariantByStatusCode(error.httpStatusCode);\n    dispatch(fromActions.fromSnackbar.acReceivedSnackbarMessage({\n      variant,\n      message\n    }));\n  }\n});\n\nexport const MenuBar = connect(mapStateToProps, mapDispatchToProps)(UnconnectedMenuBar);","import React from 'react';\n\nconst InterpretationIcon = () => {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16px\",\n    height: \"16px\",\n    viewBox: \"0 0 16 16\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Exp\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"2---Home-+-Selected-Intp.\",\n    transform: \"translate(-522.000000, -169.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#F4F6F8\",\n    x: \"0\",\n    y: \"0\",\n    width: \"1280\",\n    height: \"850\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"title-area\",\n    transform: \"translate(298.000000, 165.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"name-badge\",\n    transform: \"translate(220.000000, 0.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"Rectangle-4\",\n    fill: \"#FFFFFF\",\n    opacity: \"0.700613839\",\n    x: \"0\",\n    y: \"0\",\n    width: \"260\",\n    height: \"24\",\n    rx: \"4\"\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"undo\",\n    transform: \"translate(4.000000, 4.000000)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"frame\",\n    x: \"0\",\n    y: \"0\",\n    width: \"16\",\n    height: \"16\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    id: \"Path\",\n    stroke: \"#494949\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    points: \"2.375 2.374 2.375 6.124 6.125 6.124\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124\",\n    id: \"Path\",\n    stroke: \"#494949\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z\",\n    id: \"Combined-Shape\",\n    fill: \"#494949\"\n  })))))));\n};\n\nexport default InterpretationIcon;","import { colors } from '@dhis2/ui';\nexport default {\n  titleBar: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  cell: {\n    display: 'flex',\n    alignItems: 'center',\n    background: colors.white,\n    padding: '6px',\n    borderRadius: '5px',\n    margin: '4px'\n  },\n  title: {\n    fontSize: '14px'\n  },\n  suffix: {\n    paddingLeft: '4px'\n  },\n  interpretation: {\n    fontSize: '12px',\n    color: colors.grey700\n  },\n  interpretationIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '14px',\n    width: '14px',\n    marginRight: '3px'\n  },\n  titleUnsaved: {\n    color: colors.grey500,\n    fontStyle: 'italic'\n  },\n  titleDirty: {\n    color: colors.grey700\n  }\n};","import i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport InterpretationIcon from '../../assets/InterpretationIcon.js';\nimport formatDate from '../../modules/formatDate.js';\nimport { STATE_UNSAVED, STATE_SAVED, STATE_DIRTY, getVisualizationState } from '../../modules/visualization.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { sGetUiLocale } from '../../reducers/settings.js';\nimport { sGetUiInterpretation } from '../../reducers/ui.js';\nimport { sGetVisualization } from '../../reducers/visualization.js';\nimport styles from './styles/TitleBar.style.js';\nexport const getTitleUnsaved = () => i18n.t('Unsaved visualization');\nexport const getTitleDirty = () => i18n.t('Edited');\nconst defaultTitleStyle = { ...styles.cell,\n  ...styles.title\n};\nconst defaultInterpretationStyle = { ...styles.cell,\n  ...styles.interpretation\n};\n\nconst getTitleText = (titleState, visualization) => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return getTitleUnsaved();\n\n    case STATE_SAVED:\n    case STATE_DIRTY:\n      return visualization.displayName || visualization.name;\n\n    default:\n      return '';\n  }\n};\n\nconst getCustomTitleStyle = titleState => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return styles.titleUnsaved;\n\n    default:\n      return null;\n  }\n};\n\nconst getSuffix = titleState => {\n  switch (titleState) {\n    case STATE_DIRTY:\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: { ...styles.suffix,\n          ...styles.titleDirty\n        },\n        \"data-test\": \"AO-title-dirty\"\n      }, `- ${getTitleDirty()}`);\n\n    default:\n      return '';\n  }\n};\n\nexport const UnconnectedTitleBar = ({\n  titleState,\n  titleText,\n  interpretationDate\n}) => {\n  const titleStyle = { ...defaultTitleStyle,\n    ...getCustomTitleStyle(titleState)\n  };\n  return titleText ? /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"AO-title\",\n    style: styles.titleBar\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: titleStyle\n  }, titleText, getSuffix(titleState)), interpretationDate && /*#__PURE__*/React.createElement(\"div\", {\n    style: defaultInterpretationStyle\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.interpretationIcon\n  }, /*#__PURE__*/React.createElement(InterpretationIcon, null)), /*#__PURE__*/React.createElement(\"div\", null, i18n.t('Viewing interpretation from {{interpretationDate}}', {\n    interpretationDate\n  })))) : null;\n};\nUnconnectedTitleBar.propTypes = {\n  interpretationDate: PropTypes.string,\n  titleState: PropTypes.string,\n  titleText: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualization: sGetVisualization(state),\n  current: sGetCurrent(state),\n  interpretation: sGetUiInterpretation(state),\n  uiLocale: sGetUiLocale(state)\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  const {\n    visualization,\n    current,\n    interpretation,\n    uiLocale\n  } = stateProps;\n  const titleState = getVisualizationState(visualization, current);\n  return { ...dispatchProps,\n    ...ownProps,\n    titleState: titleState,\n    titleText: getTitleText(titleState, visualization),\n    interpretationDate: interpretation && interpretation.created ? formatDate(interpretation.created, uiLocale) : null\n  };\n};\n\nexport const TitleBar = connect(mapStateToProps, null, mergeProps)(UnconnectedTitleBar);","const legendSetsQuery = {\n  resource: 'legendSets',\n  params: ({\n    ids\n  }) => ({\n    fields: 'id,displayName~rename(name),legends[id,displayName~rename(name),startValue,endValue,color]',\n    filter: `id:in:[${ids.join(',')}]`\n  })\n};\nexport const apiFetchLegendSets = async (dataEngine, ids) => {\n  const legendSetsData = await dataEngine.query({\n    legendSets: legendSetsQuery\n  }, {\n    variables: {\n      ids\n    }\n  });\n  return legendSetsData.legendSets.legendSets;\n};","import { isSingleValue, createVisualization } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React, { useRef, useCallback, useEffect } from 'react';\n\nconst ChartPlugin = ({\n  visualization,\n  responses,\n  extraOptions,\n  legendSets,\n  id: renderCounter,\n  style,\n  onChartGenerated,\n  animation: defaultAnimation,\n  onToggleContextualMenu\n}) => {\n  const canvasRef = useRef(undefined);\n  const prevStyle = useRef(style);\n  const prevRenderCounter = useRef(renderCounter);\n  const renderVisualization = useCallback(animation => {\n    const visualizationConfig = createVisualization(responses, visualization, canvasRef.current, { ...extraOptions,\n      animation,\n      legendSets,\n      onToggleContextualMenu\n    }, undefined, undefined, isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n    );\n\n    if (isSingleValue(visualization.type)) {\n      onChartGenerated(visualizationConfig.visualization);\n    } else {\n      onChartGenerated(visualizationConfig.visualization.getSVGForExport({\n        sourceHeight: 768,\n        sourceWidth: 1024\n      }));\n    }\n  }, [canvasRef, visualization, onChartGenerated, responses, extraOptions, legendSets]);\n  useEffect(() => {\n    renderVisualization(defaultAnimation);\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [visualization, responses, extraOptions]);\n  useEffect(() => {\n    if (renderCounter !== prevRenderCounter.current) {\n      renderVisualization(0);\n      prevRenderCounter.current = renderCounter;\n    }\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n\n  }, [renderCounter]);\n  useEffect(() => {\n    if (style.width !== prevStyle.current.width || style.height !== prevStyle.current.height) {\n      renderVisualization(0);\n      prevStyle.current = style;\n    }\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n\n  }, [style]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: canvasRef,\n    style: style\n  });\n};\n\nChartPlugin.defaultProps = {\n  visualization: {},\n  filters: {},\n  style: {},\n  animation: 200,\n  id: null,\n  onChartGenerated: Function.prototype\n};\nChartPlugin.propTypes = {\n  extraOptions: PropTypes.object.isRequired,\n  legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n  responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n  visualization: PropTypes.object.isRequired,\n  animation: PropTypes.number,\n  id: PropTypes.number,\n  style: PropTypes.object,\n  onChartGenerated: PropTypes.func,\n  onToggleContextualMenu: PropTypes.func\n};\nexport default ChartPlugin;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ArrowDownwardIcon = ({\n  style = {\n    width: 18,\n    height: 18\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\",\n  fill: \"black\"\n}));\n\nArrowDownwardIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ArrowDownwardIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ArrowUpwardIcon = ({\n  style = {\n    width: 18,\n    height: 18\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h24v24H0V0z\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\",\n  fill: \"black\"\n}));\n\nArrowUpwardIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ArrowUpwardIcon;","import { apiFetchOrganisationUnit } from '@dhis2/analytics';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { Divider, FlyoutMenu, MenuItem, Popper } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport ArrowDownwardIcon from './assets/ArrowDownwardIcon.js';\nimport ArrowUpwardIcon from './assets/ArrowUpwardIcon.js';\n\nconst ContextualMenu = ({\n  config,\n  ouLevels,\n  onClick,\n  reference,\n  dataTest\n}) => {\n  const engine = useDataEngine();\n  const [ouData, setOuData] = useState(undefined);\n  const [subLevelData, setSubLevelData] = useState(undefined);\n\n  const lookupLevel = levelId => ouLevels.find(item => item.level === levelId);\n\n  const doFetchOuData = useCallback(async ouId => {\n    const orgUnit = await apiFetchOrganisationUnit(engine, ouId);\n    return orgUnit;\n  }, [engine]);\n  useEffect(() => {\n    setOuData(null);\n\n    const doFetch = async () => {\n      const orgUnit = await doFetchOuData(config.ouId);\n      setOuData(orgUnit);\n    };\n\n    if (config.ouId) {\n      doFetch();\n    }\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n\n  }, [config]);\n  useEffect(() => {\n    setSubLevelData(null);\n\n    if (ouData !== null && ouData !== void 0 && ouData.children.length) {\n      const levelData = lookupLevel(ouData.children[0].level);\n\n      if (levelData) {\n        setSubLevelData(levelData);\n      }\n    }\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n\n  }, [ouData]);\n  const menuItemStyle = {\n    display: 'inline-block',\n    minWidth: 200\n  };\n  return ouData ? /*#__PURE__*/React.createElement(Popper, {\n    reference: reference,\n    placement: \"right-start\",\n    dataTest: dataTest\n  }, /*#__PURE__*/React.createElement(FlyoutMenu, null, /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    label: i18n.t('Change org unit'),\n    dataTest: `${dataTest}-org-unit`\n  }, (ouData === null || ouData === void 0 ? void 0 : ouData.parent) && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    icon: /*#__PURE__*/React.createElement(ArrowUpwardIcon, null),\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      style: menuItemStyle\n    }, ouData.parent.name),\n    onClick: () => onClick({\n      ou: {\n        id: ouData.parent.id\n      }\n    }),\n    dataTest: `${dataTest}-org-unit-drill-up`\n  }), subLevelData && /*#__PURE__*/React.createElement(Divider, null)), subLevelData && /*#__PURE__*/React.createElement(MenuItem, {\n    dense: true,\n    icon: /*#__PURE__*/React.createElement(ArrowDownwardIcon, null),\n    label: /*#__PURE__*/React.createElement(\"span\", {\n      style: menuItemStyle\n    }, i18n.t('{{level}} level in {{orgunit}}', {\n      level: subLevelData.name,\n      orgunit: ouData.name\n    })),\n    onClick: () => onClick({\n      ou: {\n        id: ouData.id,\n        path: ouData.path,\n        level: subLevelData.id\n      }\n    }),\n    dataTest: `${dataTest}-org-unit-drill-down`\n  })))) : null;\n};\n\nContextualMenu.propTypes = {\n  config: PropTypes.object,\n  dataTest: PropTypes.string,\n  ouLevels: PropTypes.array,\n  reference: PropTypes.object,\n  onClick: PropTypes.func\n};\nexport default ContextualMenu;","import { getRelativePeriodsOptionsById, WEEKLY, DAILY } from '@dhis2/analytics';\nexport const computeYoYMatrix = (responses, relativePeriodTypeUsed) => {\n  const periodGroups = responses.reduce((list, res) => {\n    list.push(res.metaData.dimensions.pe);\n    return list;\n  }, []);\n\n  if (relativePeriodTypeUsed === DAILY) {\n    periodGroups.sort((a, b) => a[0].substr(-2) - b[0].substr(-2));\n    const periodKeyAxisIndexMatrix = periodGroups.shift().map(periodId => [periodId]);\n    periodGroups.forEach(periodGroup => {\n      periodGroup.forEach(periodId => {\n        const matchGroups = periodId.match(/(\\d{4})(\\d{2})(\\d{2})/);\n        const month = matchGroups[2];\n        const day = matchGroups[3]; // find same month/day in 1st \"serie\"\n\n        const xAxisIndexForPeriod = periodKeyAxisIndexMatrix.findIndex(periodKeys => periodKeys[0].substr(4) === `${month}${day}`);\n\n        if (xAxisIndexForPeriod !== -1) {\n          periodKeyAxisIndexMatrix[xAxisIndexForPeriod].push(periodId);\n        } else if (month === '02' && day === '29') {\n          // February 29 special case\n          // find index for february 28\n          const indexForFeb28 = periodKeyAxisIndexMatrix.findIndex(periodKeys => periodKeys.findIndex(periodKey => /0228$/.test(periodKey)) !== -1);\n\n          if (indexForFeb28 !== -1) {\n            periodKeyAxisIndexMatrix.splice(indexForFeb28 + 1, 0, [periodId]);\n          } else {\n            periodKeyAxisIndexMatrix.push([periodId]);\n          }\n        } else {\n          periodKeyAxisIndexMatrix.push([periodId]);\n        }\n      });\n    });\n    return periodKeyAxisIndexMatrix;\n  } else if (relativePeriodTypeUsed === WEEKLY) {\n    periodGroups.sort((a, b) => b[0].split('W')[1] - a[0].split('W')[1]);\n    const periodKeyAxisIndexMatrix = periodGroups.shift().map(periodId => [periodId]);\n    periodGroups.forEach(periodGroup => {\n      periodGroup.forEach(periodId => {\n        const [year, week] = periodId.split('W'); // find week number in 1st \"serie\"\n\n        const xAxisIndexForPeriod = periodKeyAxisIndexMatrix.findIndex(periodKeys => periodKeys[0].split('W')[1] === week);\n\n        if (xAxisIndexForPeriod !== -1) {\n          periodKeyAxisIndexMatrix[xAxisIndexForPeriod].push(periodId);\n        } else if (week === '1') {\n          const indexForW2 = periodKeyAxisIndexMatrix.findIndex(periodKeys => periodKeys.findIndex(periodKey => /W2$/.test(periodKey)) !== -1);\n\n          if (indexForW2 !== -1) {\n            periodKeyAxisIndexMatrix[indexForW2].push(periodId);\n          } else {\n            periodKeyAxisIndexMatrix.push([periodId]);\n          }\n        } else {\n          // find the right spot considering also the year\n          const indexForPrevWeekInYear = periodKeyAxisIndexMatrix.findIndex(periodKeys => periodKeys.findIndex(periodKey => periodKey === `${year}W${week - 1}`) !== -1);\n          periodKeyAxisIndexMatrix.splice(indexForPrevWeekInYear + 1, 0, [periodId]);\n        }\n      });\n    });\n    return periodKeyAxisIndexMatrix;\n  } else {\n    const periodKeyAxisIndexMatrix = periodGroups.reduce((list, periodGroup) => {\n      periodGroup.forEach((periodId, index) => {\n        list[index].push(periodId);\n      });\n      return list;\n    }, Array.from({\n      length: periodGroups[0].length\n    }, () => []));\n    return periodKeyAxisIndexMatrix;\n  }\n};\nexport const computeGenericPeriodNamesFromMatrix = (periodKeyAxisIndexMatrix, relativePeriodTypeUsed) => {\n  switch (relativePeriodTypeUsed) {\n    case WEEKLY:\n      return periodKeyAxisIndexMatrix // remove year, return \"Wnn\"\n      .map(periodKeys => periodKeys[0].substr(4)).flat();\n\n    case DAILY:\n      return periodKeyAxisIndexMatrix.map(periodKeys => // remove year, return \"dd-mm\"\n      periodKeys[0].substr(4).replace(/(\\d{2})(\\d{2})/, '$2-$1')).flat();\n  }\n};\nexport const computeGenericPeriodNames = responses => {\n  const xAxisRes = responses.reduce((out, res) => {\n    if (out.metaData) {\n      if (res.metaData.dimensions.pe.length > out.metaData.dimensions.pe.length) {\n        out = res;\n      }\n    } else {\n      out = res;\n    }\n\n    return out;\n  }, {});\n  const metadata = xAxisRes.metaData;\n  return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n    const name = metadata.items[periodId].name; // until the day the backend will support this in the API:\n    // trim off the trailing year in the period name\n    // english names should all have the year at the end of the string\n\n    genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''));\n    return genericPeriodNames;\n  }, []);\n};\nexport const getRelativePeriodTypeUsed = periodItems => {\n  if (getRelativePeriodsOptionsById(WEEKLY).getPeriods().find(period => period.id === periodItems[0].id)) {\n    return WEEKLY;\n  } else if (getRelativePeriodsOptionsById(DAILY).getPeriods().find(period => period.id === periodItems[0].id)) {\n    return DAILY;\n  }\n};","import { Analytics, VIS_TYPE_PIVOT_TABLE, layoutGetDimensionItems, DIMENSION_ID_PERIOD, DAILY, WEEKLY, WEEKS_THIS_YEAR } from '@dhis2/analytics';\nimport { getRelativePeriodTypeUsed } from '../modules/analytics.js';\nconst periodId = DIMENSION_ID_PERIOD;\nexport const apiFetchAnalytics = async (dataEngine, visualization, options) => {\n  const analyticsEngine = Analytics.getAnalytics(dataEngine);\n  const req = new analyticsEngine.request().fromVisualization(visualization).withParameters(options).withIncludeNumDen(visualization.type === VIS_TYPE_PIVOT_TABLE);\n  const rawResponse = await analyticsEngine.aggregate.get(req);\n  return [new analyticsEngine.response(rawResponse)];\n};\nexport const apiFetchAnalyticsForYearOverYear = async (dataEngine, visualization, options) => {\n  const analyticsEngine = Analytics.getAnalytics(dataEngine);\n  let yearlySeriesReq = new analyticsEngine.request().addPeriodDimension(visualization.yearlySeries).withSkipData(true).withSkipMeta(false).withIncludeMetadataDetails(true);\n\n  if (options.relativePeriodDate) {\n    yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  const yearlySeriesRes = await analyticsEngine.aggregate.fetch(yearlySeriesReq);\n  const periodDates = [];\n  const yearlySeriesLabels = [];\n  const now = new Date();\n  const currentDay = ('' + now.getDate()).padStart(2, 0);\n  const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0);\n  const periodItems = layoutGetDimensionItems(visualization, periodId); // relative week period in use\n\n  if (getRelativePeriodTypeUsed(periodItems) === WEEKLY && !periodItems[0].id === WEEKS_THIS_YEAR) {\n    const relativeWeeksData = await prepareRequestsForRelativeWeeks({\n      analyticsEngine,\n      visualization,\n      options,\n      yearlySeriesRes,\n      currentMonth,\n      currentDay\n    });\n    periodDates.push(...relativeWeeksData.periodDates);\n    yearlySeriesLabels.push(...relativeWeeksData.yearlySeriesLabels);\n  } else if (getRelativePeriodTypeUsed(periodItems) === DAILY) {\n    const relativeDaysData = prepareRequestsForRelativeDays({\n      yearlySeriesRes,\n      currentMonth,\n      currentDay\n    });\n    periodDates.push(...relativeDaysData.periodDates);\n    yearlySeriesLabels.push(...relativeDaysData.yearlySeriesLabels);\n  } else {\n    yearlySeriesRes.metaData.dimensions[periodId].sort().reverse().forEach(year => {\n      yearlySeriesLabels.push(yearlySeriesRes.metaData.items[year].name);\n      periodDates.push(`${year}-${currentMonth}-${currentDay}`);\n    });\n  } // request analytics data/metaData for each year in the serie with its own specific relativePeriodDate\n\n\n  const requests = periodDates.reduce((list, periodDate) => {\n    const req = new analyticsEngine.request().fromVisualization(visualization).withParameters(options).withRelativePeriodDate(periodDate);\n    list.push(analyticsEngine.aggregate.get(req));\n    return list;\n  }, []);\n  return Promise.all(requests).then(responses => ({\n    responses: responses.map(res => new analyticsEngine.response(res)),\n    yearlySeriesLabels\n  }));\n};\n\nconst prepareRequestsForRelativeDays = ({\n  yearlySeriesRes,\n  currentMonth,\n  currentDay\n}) => {\n  const yearlySeriesLabels = [];\n  const periodDates = [];\n  const yearlySeriesIds = yearlySeriesRes.metaData.dimensions[periodId].slice().sort().reverse();\n  const isFeb29 = currentMonth === '02' && currentDay === '29';\n  yearlySeriesIds.forEach(year => {\n    yearlySeriesLabels.push(yearlySeriesRes.metaData.items[year].name);\n    const isLeapYear = new Date(year, 1, 29).getDate() === 29; // 1. check if current date is feb 29\n    // 2. check if current year is NOT a leap year\n\n    if (isFeb29 && !isLeapYear) {\n      // 3. use feb 28 for that year as relativePeriodDate\n      periodDates.push(`${year}-02-28`);\n    } else {\n      periodDates.push(`${year}-${currentMonth}-${currentDay}`);\n    }\n  });\n  return {\n    yearlySeriesLabels,\n    periodDates\n  };\n}; // special handling for when a relative weeks period is selected as category\n// this takes care of data alignment issues between different years when one of the years have 53 weeks\n// and more in general when the returned weeks for different years are not exactly the same range\n// and data points must be \"shifted\" in the right position\n// See https://jira.dhis2.org/browse/DHIS2-9729\n\n\nconst prepareRequestsForRelativeWeeks = async ({\n  analyticsEngine,\n  visualization,\n  options,\n  yearlySeriesRes,\n  currentMonth,\n  currentDay\n}) => {\n  const yearlySeriesLabels = [];\n  const periodDates = [];\n  const yearlySeriesIds = yearlySeriesRes.metaData.dimensions[periodId].slice().sort().reverse(); // 1. request metadata of last year of the serie (with relativePeriodDate === today)\n  // 2. extract the last week number of the LAST_x_WEEKS period\n  // 3. request metadata for the same week number for each one of the other years of the serie\n  // 3. compute relativePeriodDate for each other year of the serie:\n  //    this is done by adding 1 day to the endDate of the week period obtained above\n  // 4. request analytics data/metaData for each year in the serie with its own specific relativePeriodDate\n\n  const referencePeriodYear = yearlySeriesIds.shift();\n  yearlySeriesLabels.push(yearlySeriesRes.metaData.items[referencePeriodYear].name);\n  periodDates.push(`${referencePeriodYear}-${currentMonth}-${currentDay}`); // 1. request metadata of last year of the serie (with relativePeriodDate === today)\n\n  const referencePeriodReq = new analyticsEngine.request().fromVisualization(visualization).withParameters(options).withRelativePeriodDate(`${referencePeriodYear}-${currentMonth}-${currentDay}`).withSkipData(true).withSkipMeta(false);\n  const referencePeriodRes = await analyticsEngine.aggregate.fetch(referencePeriodReq); // 2. extract the last week number of the LAST_x_WEEKS period\n  //    special handling for the week 53 case as not all years have 53 weeks\n\n  const referenceWeekPeriod = referencePeriodRes.metaData.dimensions[periodId].pop();\n  const [referenceWeekYear, referenceWeekNumber] = referenceWeekPeriod.split('W');\n  const referenceWeekYearDelta = referencePeriodYear - referenceWeekYear;\n  const weekPeriods = yearlySeriesIds.reduce((periods, year) => {\n    yearlySeriesLabels.push(yearlySeriesRes.metaData.items[year].name);\n    periods.push(`${year - referenceWeekYearDelta}W${referenceWeekNumber}`); // edge case for week 53, not all years have it, so request also week 52\n\n    if (referenceWeekNumber === '53') {\n      periods.push(`${year - referenceWeekYearDelta}W52`);\n    }\n\n    return periods;\n  }, []);\n\n  if (weekPeriods.length) {\n    // 3. request metadata for the same week number for each one of the other years of the serie\n    const weekPeriodsReq = new analyticsEngine.request().addPeriodDimension(weekPeriods).withSkipData(true).withSkipMeta(false).withIncludeMetadataDetails(true);\n    const weekPeriodsRes = await analyticsEngine.aggregate.fetch(weekPeriodsReq); // 3. compute relativePeriodDate for each other year of the serie:\n    //    this is done by adding 1 day to the endDate of the week period obtained above\n\n    const seenYears = [];\n    weekPeriodsRes.metaData.dimensions[periodId].sort().reverse().forEach(period => {\n      const year = period.substr(0, 4); // make sure we only take W53 or W52 whichever is available\n\n      if (!seenYears.includes(year)) {\n        const periodDate = new Date(weekPeriodsRes.metaData.items[period].endDate);\n        periodDate.setDate(periodDate.getDate() + 1);\n        periodDates.push(`${periodDate.getFullYear()}-${('' + (periodDate.getMonth() + 1)).padStart(2, 0)}-${('' + periodDate.getDate()).padStart(2, 0)}`);\n        seenYears.unshift(year);\n      }\n    });\n  }\n\n  return {\n    yearlySeriesLabels,\n    periodDates\n  };\n};","import { COLOR_SET_DEFAULT } from '@dhis2/analytics';\nimport pick from 'lodash-es/pick';\nexport const options = {\n  axes: {\n    requestable: false,\n    savable: true,\n    defaultValue: []\n  },\n  colorSet: {\n    defaultValue: COLOR_SET_DEFAULT,\n    requestable: false,\n    savable: true\n  },\n  cumulativeValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRowItems: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  seriesKey: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  legend: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  noSpaceBetweenColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  percentStackedValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  regressionType: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  showData: {\n    defaultValue: true,\n    requestable: false,\n    savable: true\n  },\n  aggregationType: {\n    defaultValue: 'DEFAULT',\n    requestable: true,\n    savable: true\n  },\n  completedOnly: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  hideSubtitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideTitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  sortOrder: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  },\n  subtitle: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  title: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  series: {\n    defaultValue: [],\n    requestable: false,\n    savable: true\n  },\n  fontStyle: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  // only for PT\n  colTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  colSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  showDimensionLabels: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRows: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  skipRounding: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  numberType: {\n    defaultValue: 'VALUE',\n    requestable: false,\n    savable: true\n  },\n  showHierarchy: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  displayDensity: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  fontSize: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  digitGroupSeparator: {\n    defaultValue: 'SPACE',\n    requestable: false,\n    savable: true\n  },\n  approvalLevel: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: false\n  },\n  fixColumnHeaders: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  fixRowHeaders: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  // these are stored in the AO under reportingParams\n  reportingPeriod: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  organisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  parentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  // not exposed in UI\n  grandParentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  regression: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  cumulative: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  measureCriteria: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: true\n  },\n  topLimit: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  }\n};\nexport default options;\nexport const getOptionsForUi = () => {\n  return Object.entries({ ...options\n  }).reduce((map, [option, props]) => {\n    map[option] = props.defaultValue;\n    return map;\n  }, {});\n};\nexport const getOptionsForRequest = () => {\n  return Object.entries(options).filter(entry => entry[1].requestable // entry = [option, props]\n  );\n};\nexport const getOptionsFromVisualization = visualization => {\n  const optionsFromVisualization = { ...getOptionsForUi(),\n    ...pick(visualization, Object.keys(options))\n  }; // nested options under reportingParams\n\n  if (visualization.reportingParams) {\n    optionsFromVisualization.organisationUnit = visualization.reportingParams.organisationUnit;\n    optionsFromVisualization.reportingPeriod = visualization.reportingParams.reportingPeriod;\n    optionsFromVisualization.parentOrganisationUnit = visualization.reportingParams.parentOrganisationUnit;\n    optionsFromVisualization.grandParentOrganisationUnit = visualization.reportingParams.grandParentOrganisationUnit;\n  } // cast option values from Number for some options\n\n\n  ;\n  ['sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n      optionsFromVisualization[option] = String(visualization[option]);\n    }\n  });\n  return optionsFromVisualization;\n};","import { getOptionsForRequest } from './options.js';\nexport const getRequestOptions = (visualization, filters, userSettings) => {\n  const options = getOptionsForRequest().reduce((map, [option, props]) => {\n    // only add parameter if value !== default\n    if (visualization[option] !== undefined && visualization[option] !== props.defaultValue) {\n      map[option] = visualization[option];\n    }\n\n    return map;\n  }, {}); // interpretation filter\n\n  if (filters.relativePeriodDate) {\n    options.relativePeriodDate = filters.relativePeriodDate;\n  }\n\n  if (userSettings !== null && userSettings !== void 0 && userSettings.displayProperty) {\n    switch (userSettings.displayProperty) {\n      case 'displayShortName':\n        options.displayProperty = 'SHORTNAME';\n        break;\n\n      case 'displayName':\n        options.displayProperty = 'NAME';\n        break;\n    }\n  } // global filters\n  // userOrgUnit\n\n\n  if (filters.userOrgUnit && filters.userOrgUnit.length) {\n    const ouIds = filters.userOrgUnit.map(ouPath => ouPath.split('/').slice(-1)[0]);\n    options.userOrgUnit = ouIds.join(';');\n  }\n\n  return options;\n};","import { isYearOverYear, DIMENSION_ID_PERIOD, layoutGetDimensionItems, ALL_DYNAMIC_DIMENSION_ITEMS } from '@dhis2/analytics';\nimport { apiFetchAnalyticsForYearOverYear, apiFetchAnalytics } from '../api/analytics.js';\nimport { computeGenericPeriodNames, computeYoYMatrix, computeGenericPeriodNamesFromMatrix, getRelativePeriodTypeUsed } from './analytics.js';\nimport { getRequestOptions } from './getRequestOptions.js';\n\nconst removeItemAllFromAxisItems = axis => (axis || []).map(ai => {\n  var _ai$items;\n\n  return { ...ai,\n    items: ai === null || ai === void 0 ? void 0 : (_ai$items = ai.items) === null || _ai$items === void 0 ? void 0 : _ai$items.filter(item => item.id !== ALL_DYNAMIC_DIMENSION_ITEMS)\n  };\n});\n\nexport const fetchData = async ({\n  dataEngine,\n  visualization,\n  filters,\n  forDashboard,\n  userSettings\n}) => {\n  const adaptedVisualization = { ...visualization,\n    columns: removeItemAllFromAxisItems(visualization.columns),\n    rows: removeItemAllFromAxisItems(visualization.rows),\n    filters: removeItemAllFromAxisItems(visualization.filters)\n  };\n  const options = getRequestOptions(adaptedVisualization, filters, userSettings);\n  const extraOptions = {\n    dashboard: forDashboard\n  };\n\n  if (isYearOverYear(adaptedVisualization.type)) {\n    const {\n      responses,\n      yearlySeriesLabels\n    } = await apiFetchAnalyticsForYearOverYear(dataEngine, adaptedVisualization, options);\n    const peItems = layoutGetDimensionItems(adaptedVisualization, DIMENSION_ID_PERIOD);\n    const relativePeriodTypeUsed = getRelativePeriodTypeUsed(peItems);\n    const periodKeyAxisIndexMatrix = computeYoYMatrix(responses, relativePeriodTypeUsed);\n    const periodKeyAxisIndexMap = periodKeyAxisIndexMatrix.reduce((map, periodKeys, index) => {\n      periodKeys.forEach(periodKey => map[periodKey] = index);\n      return map;\n    }, {});\n    const xAxisLabels = relativePeriodTypeUsed ? computeGenericPeriodNamesFromMatrix(periodKeyAxisIndexMatrix, relativePeriodTypeUsed) : computeGenericPeriodNames(responses);\n    return {\n      responses,\n      extraOptions: { ...extraOptions,\n        yearlySeries: yearlySeriesLabels,\n        xAxisLabels,\n        periodKeyAxisIndexMap\n      }\n    };\n  }\n\n  return {\n    responses: await apiFetchAnalytics(dataEngine, adaptedVisualization, options),\n    extraOptions\n  };\n};","import { PivotTable } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PivotPlugin = ({\n  responses,\n  legendSets,\n  visualization,\n  style,\n  id: renderCounter,\n  onToggleContextualMenu\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: style\n  }, /*#__PURE__*/React.createElement(PivotTable, {\n    visualization: visualization,\n    data: responses[0].response,\n    legendSets: legendSets,\n    renderCounter: renderCounter,\n    onToggleContextualMenu: onToggleContextualMenu\n  }));\n};\n\nPivotPlugin.defaultProps = {\n  style: {}\n};\nPivotPlugin.propTypes = {\n  legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n  responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n  visualization: PropTypes.object.isRequired,\n  id: PropTypes.number,\n  style: PropTypes.object,\n  onToggleContextualMenu: PropTypes.func\n};\nexport default PivotPlugin;","import { VIS_TYPE_PIVOT_TABLE, apiFetchOrganisationUnitLevels, convertOuLevelsToUids, DIMENSION_ID_ORGUNIT, LegendKey, LEGEND_DISPLAY_STRATEGY_FIXED, LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM, isLegendSetType, VIS_TYPE_LINE } from '@dhis2/analytics';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { Button, IconLegend24, Layer } from '@dhis2/ui';\nimport cx from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { apiFetchLegendSets } from './api/legendSets.js';\nimport ChartPlugin from './ChartPlugin.js';\nimport ContextualMenu from './ContextualMenu.js';\nimport { fetchData } from './modules/fetchData.js';\nimport PivotPlugin from './PivotPlugin.js';\nimport styles from './styles/VisualizationPlugin.module.css';\nexport const VisualizationPlugin = ({\n  visualization,\n  filters,\n  forDashboard,\n  id,\n  style,\n  userSettings,\n  onChartGenerated,\n  onError,\n  onLoadingComplete,\n  onResponsesReceived,\n  onDrill\n}) => {\n  var _visualization$legend5, _legendSets;\n\n  const engine = useDataEngine();\n  const [ouLevels, setOuLevels] = useState(undefined);\n  const [fetchResult, setFetchResult] = useState(null);\n  const [contextualMenuRef, setContextualMenuRef] = useState(undefined);\n  const [contextualMenuConfig, setContextualMenuConfig] = useState({});\n  const [showLegendKey, setShowLegendKey] = useState(false);\n  const [renderId, setRenderId] = useState(0);\n\n  const incremementRenderId = () => setRenderId(renderId + 1);\n\n  const onToggleContextualMenu = (ref, data) => {\n    if (data.ouId) {\n      setContextualMenuConfig(data);\n      setContextualMenuRef(ref);\n    } else if (data.category && (visualization.rows.length === 1 && visualization.rows[0].dimension === DIMENSION_ID_ORGUNIT || visualization.rows.length === 2 && visualization.rows[1].dimension === DIMENSION_ID_ORGUNIT)) {\n      var _Object$values$find;\n\n      const ouId = (_Object$values$find = Object.values(fetchResult.responses[0].metaData.items).find(item => item.name === data.category && fetchResult.responses[0].metaData.dimensions[DIMENSION_ID_ORGUNIT].includes(item.uid))) === null || _Object$values$find === void 0 ? void 0 : _Object$values$find.uid;\n      setContextualMenuConfig({\n        ouId\n      });\n      setContextualMenuRef(ref);\n    } else if (data.category && visualization.columns.some(column => column.dimension === DIMENSION_ID_ORGUNIT)) {\n      var _Object$values$find2;\n\n      const ouId = (_Object$values$find2 = Object.values(fetchResult.responses[0].metaData.items).find(item => item.name === data.series && fetchResult.responses[0].metaData.dimensions[DIMENSION_ID_ORGUNIT].includes(item.uid))) === null || _Object$values$find2 === void 0 ? void 0 : _Object$values$find2.uid;\n      setContextualMenuConfig({\n        ouId\n      });\n      setContextualMenuRef(ref);\n    }\n  };\n\n  const closeContextualMenu = () => setContextualMenuRef(undefined);\n\n  const onContextualMenuItemClick = args => {\n    closeContextualMenu();\n    onDrill(args);\n  };\n\n  const doFetchData = useCallback(async () => {\n    const result = await fetchData({\n      dataEngine: engine,\n      visualization,\n      filters,\n      forDashboard,\n      userSettings\n    });\n\n    if (result.responses.length) {\n      onResponsesReceived(result.responses);\n    }\n\n    return result;\n  }, [engine, filters, forDashboard, userSettings, onResponsesReceived, visualization]);\n  const doFetchLegendSets = useCallback(async legendSetIds => {\n    if (!legendSetIds.length) {\n      return [];\n    }\n\n    const legendSets = await apiFetchLegendSets(engine, legendSetIds);\n    return legendSets;\n  }, [engine]);\n  useEffect(() => {\n    const doFetchOuLevels = async () => {\n      const ouLevels = await apiFetchOrganisationUnitLevels(engine);\n      setOuLevels(ouLevels);\n    };\n\n    doFetchOuLevels();\n  }, [engine]);\n  useEffect(() => {\n    setFetchResult(null);\n\n    const doFetchAll = async () => {\n      var _visualization$legend, _visualization$legend2, _visualization$legend3, _visualization$legend4;\n\n      const {\n        responses,\n        extraOptions\n      } = await doFetchData(visualization, filters, forDashboard);\n      const legendSetIds = [];\n\n      switch ((_visualization$legend = visualization.legend) === null || _visualization$legend === void 0 ? void 0 : _visualization$legend.strategy) {\n        case LEGEND_DISPLAY_STRATEGY_FIXED:\n          if ((_visualization$legend2 = visualization.legend) !== null && _visualization$legend2 !== void 0 && (_visualization$legend3 = _visualization$legend2.set) !== null && _visualization$legend3 !== void 0 && _visualization$legend3.id) {\n            legendSetIds.push(visualization.legend.set.id);\n          }\n\n          break;\n\n        case LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM:\n          {\n            // parse responses to extract legendSet ids from metaData\n            // multiple responses are only for YOY which does not support legends\n            // safe to use only the 1st\n            // dx dimensions might not be present, the empty array covers that case\n            const dxIds = responses[0].metaData.dimensions.dx || [];\n            dxIds.forEach(dxId => {\n              const legendSetId = responses[0].metaData.items[dxId].legendSet;\n\n              if (legendSetId) {\n                legendSetIds.push(legendSetId);\n              }\n            });\n            break;\n          }\n      }\n\n      const legendSets = await doFetchLegendSets(legendSetIds);\n      setFetchResult({\n        visualization,\n        legendSets,\n        responses,\n        extraOptions\n      });\n      setShowLegendKey((_visualization$legend4 = visualization.legend) === null || _visualization$legend4 === void 0 ? void 0 : _visualization$legend4.showKey);\n      onLoadingComplete();\n    };\n\n    doFetchAll().catch(error => {\n      onError(error);\n    });\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [visualization, filters, forDashboard]);\n\n  if (!fetchResult || !ouLevels) {\n    return null;\n  }\n\n  const contextualMenuRect = contextualMenuRef === null || contextualMenuRef === void 0 ? void 0 : contextualMenuRef.getBoundingClientRect();\n  const virtualContextualMenuElement = contextualMenuRect ? {\n    getBoundingClientRect: () => contextualMenuRect\n  } : null;\n  let legendSets = [];\n\n  switch ((_visualization$legend5 = visualization.legend) === null || _visualization$legend5 === void 0 ? void 0 : _visualization$legend5.strategy) {\n    case LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM:\n      {\n        if (!fetchResult.visualization.columns.some(item => item.dimension === 'dx')) {\n          break;\n        }\n\n        const legendSetItemMap = Object.values(fetchResult.responses[0].metaData.items).filter(item => fetchResult.legendSets.map(legendSet => legendSet.id).includes(item.legendSet)).map(item => ({\n          itemId: item.uid,\n          legendSet: item.legendSet\n        }));\n        const unsupportedDimensions = (visualization.series || []).filter(serie => serie.type === VIS_TYPE_LINE).map(item => item.dimensionItem);\n        legendSets = fetchResult.legendSets.filter(legendSet => legendSetItemMap.filter(item => !unsupportedDimensions.includes(item.itemId)).map(supportedLegendSet => supportedLegendSet.legendSet).includes(legendSet.id));\n      }\n      break;\n\n    case LEGEND_DISPLAY_STRATEGY_FIXED:\n      legendSets = fetchResult.legendSets;\n      break;\n  }\n\n  const hasLegendSet = ((_legendSets = legendSets) === null || _legendSets === void 0 ? void 0 : _legendSets.length) > 0 && isLegendSetType(fetchResult.visualization.type);\n  const transformedStyle = forDashboard && hasLegendSet ? { ...style,\n    width: style.width - (showLegendKey ? 200 : 36) // 200: width of legend key component with margin and scrollbar\n    // 36: width of the toggle button with margin\n\n  } : style;\n\n  const getLegendKey = () => {\n    var _fetchResult$visualiz;\n\n    if (hasLegendSet && forDashboard) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, showLegendKey && /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.legendKey,\n        \"data-test\": \"visualization-legend-key\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: cx(styles.wrapper, styles.buttonMargin)\n      }, /*#__PURE__*/React.createElement(LegendKey, {\n        legendSets: legendSets\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.legendKeyToggle\n      }, /*#__PURE__*/React.createElement(Button, {\n        small: true,\n        secondary: true,\n        onClick: () => {\n          setShowLegendKey(!showLegendKey);\n          incremementRenderId();\n        },\n        icon: /*#__PURE__*/React.createElement(IconLegend24, null),\n        toggled: showLegendKey\n      })));\n    } else if (hasLegendSet && (_fetchResult$visualiz = fetchResult.visualization.legend) !== null && _fetchResult$visualiz !== void 0 && _fetchResult$visualiz.showKey) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.legendKey,\n        \"data-test\": \"visualization-legend-key\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: styles.wrapper\n      }, /*#__PURE__*/React.createElement(LegendKey, {\n        legendSets: legendSets\n      })));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, !fetchResult.visualization.type || fetchResult.visualization.type === VIS_TYPE_PIVOT_TABLE ? /*#__PURE__*/React.createElement(PivotPlugin, {\n    visualization: convertOuLevelsToUids(ouLevels, fetchResult.visualization),\n    responses: fetchResult.responses,\n    legendSets: legendSets,\n    onToggleContextualMenu: onDrill ? onToggleContextualMenu : undefined,\n    id: id,\n    style: transformedStyle\n  }) : /*#__PURE__*/React.createElement(ChartPlugin, {\n    visualization: convertOuLevelsToUids(ouLevels, fetchResult.visualization),\n    responses: fetchResult.responses,\n    extraOptions: fetchResult.extraOptions,\n    legendSets: legendSets,\n    onToggleContextualMenu: onDrill ? onToggleContextualMenu : undefined,\n    id: forDashboard ? renderId : id,\n    onChartGenerated: onChartGenerated,\n    style: transformedStyle\n  })), getLegendKey(), contextualMenuRect && /*#__PURE__*/React.createElement(Layer, {\n    onClick: closeContextualMenu,\n    dataTest: 'visualization-drill-down-backdrop'\n  }, /*#__PURE__*/React.createElement(ContextualMenu, {\n    reference: virtualContextualMenuElement,\n    config: contextualMenuConfig,\n    ouLevels: ouLevels,\n    onClick: onContextualMenuItemClick,\n    dataTest: 'visualization-drill-down-menu'\n  })));\n};\nVisualizationPlugin.defaultProps = {\n  filters: {},\n  forDashboard: false,\n  onChartGenerated: Function.prototype,\n  onError: Function.prototype,\n  onLoadingComplete: Function.prototype,\n  onResponsesReceived: Function.prototype,\n  style: {},\n  visualization: {},\n  userSettings: {}\n};\nVisualizationPlugin.propTypes = {\n  visualization: PropTypes.object.isRequired,\n  filters: PropTypes.object,\n  forDashboard: PropTypes.bool,\n  id: PropTypes.number,\n  style: PropTypes.object,\n  userSettings: PropTypes.object,\n  onChartGenerated: PropTypes.func,\n  onDrill: PropTypes.func,\n  onError: PropTypes.func,\n  onLoadingComplete: PropTypes.func,\n  onResponsesReceived: PropTypes.func\n};","import { CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport styles from './styles/LoadingMask.module.css';\n\nfunction LoadingMask() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.outer\n  }, /*#__PURE__*/React.createElement(CircularLoader, {\n    className: styles.progress\n  }));\n}\n\nexport default LoadingMask;","import { visTypeIcons } from '@dhis2/analytics';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport i18n from '@dhis2/d2-i18n';\nimport { colors } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { apiFetchMostViewedVisualizations } from '../../api/mostViewedVisualizations.js';\nimport { apiFetchVisualizations } from '../../api/visualization.js';\nimport { GenericError } from '../../assets/ErrorIcons.js';\nimport { VisualizationError, genericErrorTitle } from '../../modules/error.js';\nimport history from '../../modules/history.js';\nimport { sGetLoadError } from '../../reducers/loader.js';\nimport { sGetUsername } from '../../reducers/user.js';\nimport styles from './styles/StartScreen.module.css';\nimport { matchVisualizationWithType } from './utils.js';\n\nconst StartScreen = ({\n  error,\n  username\n}) => {\n  const [mostViewedVisualizations, setMostViewedVisualizations] = useState([]);\n  const engine = useDataEngine();\n  useEffect(() => {\n    async function populateMostViewedVisualizations(engine) {\n      const mostViewedVisualizationsResult = await apiFetchMostViewedVisualizations(engine, 6, username);\n      const visualizations = mostViewedVisualizationsResult.visualization; // {position: int, views: int, id: string, created: string}\n\n      if (visualizations && visualizations.length) {\n        const visualizationsResult = await apiFetchVisualizations(engine, visualizations.map(visualization => visualization.id));\n        const visualizationsWithType = visualizationsResult.visualization.visualizations; // {id: string, type: string}\n\n        const result = matchVisualizationWithType(visualizations, visualizationsWithType);\n        setMostViewedVisualizations(result);\n      }\n    }\n\n    populateMostViewedVisualizations(engine);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getContent = () => error ? getErrorContent() : /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"start-screen\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.title,\n    \"data-test\": \"start-screen-primary-section-title\"\n  }, i18n.t('Getting started')), /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.guide\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.guideItem\n  }, i18n.t('All dimensions that you can use to build visualizations are shown in the left sidebar')), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.guideItem\n  }, i18n.t('Add dimensions to the layout above')), /*#__PURE__*/React.createElement(\"li\", {\n    className: styles.guideItem\n  }, i18n.t('Click a dimension to add or remove items')))), mostViewedVisualizations.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.section\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: styles.title,\n    \"data-test\": \"start-screen-secondary-section-title\"\n  }, i18n.t('Your most viewed charts and tables')), mostViewedVisualizations.map((visualization, index) => {\n    const VisualizationIcon = visTypeIcons[visualization.type];\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: index,\n      className: styles.visualization,\n      onClick: () => history.push(`/${visualization.id}`),\n      \"data-test\": \"start-screen-most-viewed-list-item\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.visIcon\n    }, /*#__PURE__*/React.createElement(VisualizationIcon, {\n      color: colors.grey600\n    })), /*#__PURE__*/React.createElement(\"span\", null, visualization.name));\n  })));\n\n  const getErrorContent = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorContainer,\n    \"data-test\": \"start-screen-error-container\"\n  }, error instanceof VisualizationError ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorIcon\n  }, error.icon()), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorTitle\n  }, error.title), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorDescription\n  }, error.description)) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.errorIcon\n  }, GenericError()), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorTitle\n  }, genericErrorTitle), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.errorDescription\n  }, error.message || error)));\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.outer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.inner\n  }, getContent()));\n};\n\nStartScreen.propTypes = {\n  error: PropTypes.object,\n  username: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  error: sGetLoadError(state),\n  username: sGetUsername(state)\n});\n\nexport default connect(mapStateToProps)(StartScreen);","// TODO move into component StartScreen?\nimport { EVENT_TYPE } from './dataStatistics.js'; // most likely is not needed anywhere else\n\nexport const apiFetchMostViewedVisualizations = (dataEngine, pageSize, username) => {\n  const visualizationQuery = {\n    resource: 'dataStatistics/favorites',\n    params: {\n      eventType: EVENT_TYPE,\n      pageSize: pageSize || 10,\n      ...(username ? {\n        username\n      } : {})\n    }\n  };\n  return dataEngine.query({\n    visualization: visualizationQuery\n  });\n};","export const matchVisualizationWithType = (visualizations, visualizationsWithType) => {\n  const result = [];\n  visualizations.forEach(visualization => {\n    var _visualizationsWithTy;\n\n    const type = (_visualizationsWithTy = visualizationsWithType.find(visWithType => visWithType.id === visualization.id)) === null || _visualizationsWithTy === void 0 ? void 0 : _visualizationsWithTy.type;\n\n    if (type) {\n      result.push({ ...visualization,\n        type\n      });\n    }\n  });\n  return result;\n};","export default {\n  chartCanvas: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    height: '100%'\n  },\n  loadingCover: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    left: 0,\n    top: 0,\n    zIndex: 100,\n    background: '#ffffffab'\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport VisualizationPlugin from '@dhis2/data-visualizer-plugin';\nimport debounce from 'lodash-es/debounce';\nimport PropTypes from 'prop-types';\nimport React, { Component, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { acSetChart } from '../../actions/chart.js';\nimport { tSetCurrentFromUi } from '../../actions/current.js';\nimport { acSetLoadError, acSetPluginLoading } from '../../actions/loader.js';\nimport { acAddMetadata } from '../../actions/metadata.js';\nimport { acSetUiItems, acAddParentGraphMap } from '../../actions/ui.js';\nimport { AssignedCategoriesDataElementsError, GenericServerError, EmptyResponseError, AssignedCategoriesAsFilterError, MultipleIndicatorAsFilterError, NoDataOrDataElementGroupSetError, CombinationDEGSRRError, NoOrgUnitResponseError, NoDataError } from '../../modules/error.js';\nimport { removeLastPathSegment } from '../../modules/orgUnit.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { sGetLoadError, sGetIsPluginLoading } from '../../reducers/loader.js';\nimport { sGetSettingsDisplayNameProperty } from '../../reducers/settings.js';\nimport { sGetUiRightSidebarOpen, sGetUiInterpretation } from '../../reducers/ui.js';\nimport { sGetVisualization } from '../../reducers/visualization.js';\nimport LoadingMask from '../../widgets/LoadingMask.js';\nimport StartScreen from './StartScreen.js';\nimport styles from './styles/Visualization.style.js';\nexport class UnconnectedVisualization extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onError\", response => {\n      var _response$details;\n\n      let error;\n\n      if (response) {\n        switch ((_response$details = response.details) === null || _response$details === void 0 ? void 0 : _response$details.errorCode) {\n          case 'E7114':\n            error = new AssignedCategoriesDataElementsError();\n            break;\n\n          case 'E7110':\n            error = new AssignedCategoriesAsFilterError();\n            break;\n\n          case 'E7108':\n            error = new MultipleIndicatorAsFilterError();\n            break;\n\n          case 'E7102':\n            error = new NoDataOrDataElementGroupSetError(this.props.visualization.type);\n            break;\n\n          case 'E7112':\n            error = new CombinationDEGSRRError();\n            break;\n\n          case 'E7124':\n            {\n              var _response$message, _response$message2;\n\n              if (response !== null && response !== void 0 && (_response$message = response.message) !== null && _response$message !== void 0 && _response$message.includes('`dx`')) {\n                error = new NoDataError(this.props.visualization.type);\n              } else if (response !== null && response !== void 0 && (_response$message2 = response.message) !== null && _response$message2 !== void 0 && _response$message2.includes('`ou`')) {\n                error = new NoOrgUnitResponseError();\n              } else {\n                error = new GenericServerError();\n              }\n            }\n            break;\n\n          default:\n            error = response;\n        }\n      } else {\n        error = new GenericServerError();\n      }\n\n      this.props.setLoadError(error);\n    });\n\n    _defineProperty(this, \"onChartGenerated\", svg => this.props.setChart(svg));\n\n    _defineProperty(this, \"onResponsesReceived\", responses => {\n      const forMetadata = {};\n      responses.forEach(response => {\n        Object.entries(response.metaData.items).forEach(([id, item]) => {\n          forMetadata[id] = {\n            id,\n            name: item.name || item.displayName,\n            displayName: item.displayName,\n            dimensionItemType: item.dimensionItemType\n          };\n        });\n      });\n      this.props.addMetadata(forMetadata);\n\n      if (!responses.some(response => response.rows && response.rows.length)) {\n        throw new EmptyResponseError();\n      }\n    });\n\n    _defineProperty(this, \"onDrill\", drillData => {\n      if (drillData !== null && drillData !== void 0 && drillData.ou) {\n        const ou = drillData.ou;\n        const itemIds = [ou.id];\n\n        if (ou.level) {\n          itemIds.push(`LEVEL-${ou.level}`);\n        }\n\n        if (ou.path) {\n          const path = removeLastPathSegment(ou.path);\n          this.props.addParentGraphMap({\n            [ou.id]: path === `/{${ou.id}` ? '' : path.replace(/^\\//, '')\n          });\n        }\n\n        this.props.setUiItems({\n          dimensionId: 'ou',\n          itemIds\n        });\n      } // TODO drillData?.pe\n      // simulate an update for refreshing the visualization\n\n\n      this.props.setCurrent();\n    });\n\n    _defineProperty(this, \"getNewRenderId\", () => this.setState({\n      renderId: typeof this.state.renderId === 'number' ? this.state.renderId + 1 : 1\n    }));\n\n    _defineProperty(this, \"addResizeHandler\", () => {\n      window.addEventListener('resize', debounce(() => {\n        this.getNewRenderId();\n      }, 300));\n    });\n\n    this.state = {\n      renderId: null\n    };\n  }\n\n  componentDidMount() {\n    this.addResizeHandler();\n  }\n\n  componentDidUpdate(prevProps) {\n    // open sidebar\n    if (this.props.rightSidebarOpen !== prevProps.rightSidebarOpen) {\n      this.getNewRenderId();\n    }\n  }\n\n  render() {\n    const {\n      visualization,\n      visFilters,\n      userSettings,\n      error,\n      isLoading,\n      onLoadingComplete\n    } = this.props;\n    const {\n      renderId\n    } = this.state;\n    return !visualization || error ? /*#__PURE__*/React.createElement(StartScreen, null) : /*#__PURE__*/React.createElement(Fragment, null, isLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.loadingCover\n    }, /*#__PURE__*/React.createElement(LoadingMask, null)) : null, /*#__PURE__*/React.createElement(VisualizationPlugin, {\n      id: renderId,\n      visualization: visualization,\n      filters: visFilters,\n      onChartGenerated: this.onChartGenerated,\n      onLoadingComplete: onLoadingComplete,\n      onResponsesReceived: this.onResponsesReceived,\n      onError: this.onError,\n      onDrill: this.onDrill,\n      style: styles.chartCanvas,\n      userSettings: userSettings\n    }));\n  }\n\n}\nUnconnectedVisualization.propTypes = {\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  error: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rightSidebarOpen: PropTypes.bool,\n  setChart: PropTypes.func,\n  setCurrent: PropTypes.func,\n  setLoadError: PropTypes.func,\n  setUiItems: PropTypes.func,\n  userSettings: PropTypes.object,\n  visFilters: PropTypes.object,\n  visualization: PropTypes.object,\n  onLoadingComplete: PropTypes.func\n};\nexport const visualizationSelector = createSelector([sGetCurrent, sGetVisualization, sGetUiInterpretation], (current, visualization, interpretation) => interpretation.id ? visualization : current);\nexport const visFiltersSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created ? {\n  relativePeriodDate: interpretation.created\n} : {});\nexport const userSettingsSelector = createSelector([sGetSettingsDisplayNameProperty], displayProperty => ({\n  displayProperty\n}));\n\nconst mapStateToProps = state => ({\n  visualization: visualizationSelector(state),\n  visFilters: visFiltersSelector(state),\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  error: sGetLoadError(state),\n  isLoading: sGetIsPluginLoading(state),\n  userSettings: userSettingsSelector(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoadingComplete: () => dispatch(acSetPluginLoading(false)),\n  addMetadata: metadata => dispatch(acAddMetadata(metadata)),\n  addParentGraphMap: parentGraphMap => dispatch(acAddParentGraphMap(parentGraphMap)),\n  setChart: chart => dispatch(acSetChart(chart)),\n  setLoadError: error => dispatch(acSetLoadError(error)),\n  setUiItems: data => dispatch(acSetUiItems(data)),\n  setCurrent: () => dispatch(tSetCurrentFromUi())\n});\n\nexport const Visualization = connect(mapStateToProps, mapDispatchToProps)(UnconnectedVisualization);","import { SET_CHART } from '../reducers/chart.js';\nexport const acSetChart = value => ({\n  type: SET_CHART,\n  value\n});","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ArrowDown = ({\n  style = {\n    width: 16,\n    height: 16\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 16 16\",\n  version: \"1.1\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"none\",\n  strokeWidth: \"1\",\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.29289,11.7071 C7.68342,12.0976 8.31658,12.0976 8.70711,11.7071 L13.7071,6.70711 C14.0976,6.31658 14.0976,5.68342 13.7071,5.29289 C13.3166,4.90237 12.6834,4.90237 12.2929,5.29289 L8,9.58579 L3.70711,5.29289 C3.31658,4.90237 2.68342,4.90237 2.29289,5.29289 C1.90237,5.68342 1.90237,6.31658 2.29289,6.70711 L7.29289,11.7071 Z\",\n  fill: \"#4A5768\"\n})));\n\nArrowDown.propTypes = {\n  style: PropTypes.object\n};\nexport default ArrowDown;","import { DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout.js';\nexport const getPathForOrgUnit = (orgUnit, parentGraphMap) => {\n  if (parentGraphMap[orgUnit.id] === undefined) {\n    return undefined;\n  } // if this is root org unit then in parentGraphMap object\n  // it has empty string as value and id as key\n\n\n  if (parentGraphMap[orgUnit.id] === '') {\n    return '/' + orgUnit.id;\n  }\n\n  return '/' + parentGraphMap[orgUnit.id] + '/' + orgUnit.id;\n};\nexport const appendPathsToOrgUnits = (current, ui) => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(current);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n  const {\n    parentGraphMap\n  } = ui;\n\n  if (!ouAxis) {\n    return current;\n  }\n\n  return { ...current,\n    [ouAxis]: current[ouAxis].map(dimension => ({ ...dimension,\n      items: dimension.items.map(item => ({ ...item,\n        path: getPathForOrgUnit(item, parentGraphMap)\n      }))\n    }))\n  };\n};\nexport const removeUnnecessaryAttributesFromAnalyticalObject = current => ({ ...current,\n  id: undefined,\n  name: undefined,\n  displayName: undefined\n});\nexport const appendDimensionItemNamesToAnalyticalObject = (current, metadata) => {\n  const appendNames = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      name: metadata[item.id] ? metadata[item.id].name : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendNames),\n    filters: current.filters.map(appendNames),\n    rows: current.rows.map(appendNames)\n  };\n};\nexport const appendDimensionItemTypeToAnalyticalObject = (current, metadata) => {\n  const appendDimensionType = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      dimensionItemType: metadata[item.id] ? metadata[item.id].dimensionItemType : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendDimensionType),\n    filters: current.filters.map(appendDimensionType),\n    rows: current.rows.map(appendDimensionType)\n  };\n};\nexport const appendCompleteParentGraphMap = (current, {\n  parentGraphMap\n}) => ({ ...current,\n  parentGraphMap: { ...current.parentGraphMap,\n    ...parentGraphMap\n  }\n});\nexport const prepareCurrentAnalyticalObject = (current, metadata, ui) => {\n  let result;\n  result = removeUnnecessaryAttributesFromAnalyticalObject(current);\n  result = appendDimensionItemNamesToAnalyticalObject(result, metadata);\n  result = appendDimensionItemTypeToAnalyticalObject(result, metadata);\n  result = appendPathsToOrgUnits(result, ui);\n  result = appendCompleteParentGraphMap(result, ui);\n  return result;\n};","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst AreaIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 48 48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#90CAF9\",\n  points: \"28 36 34 29 27 24 31 17 20 10 12 10 12 36\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"2\",\n  points: \"28 36 34 29 27 24 31 17 20 10\"\n})));\n\nAreaIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default AreaIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst BarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"12 22 18 22 18 36 12 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"22 9 28 9 28 36 22 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"32 19 38 19 38 36 32 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n})));\n\nBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default BarIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 48 48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"12 12 18 12 18 36 12 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"22 22 28 22 28 36 22 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"32 7 38 7 38 36 32 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n})));\n\nColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ColumnIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst GaugeIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"rotate(90 24 24)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\",\n  d: \"M32,8 C23.163444,8 16,15.163444 16,24 C16,32.836556 23.163444,40 32,40 L32,40\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"6\",\n  d: \"M24.1695806,17.7796867 C22.8114502,19.4870869 22,21.6487813 22,24 C22,29.5228475 26.4771525,34 32,34\"\n})));\n\nGaugeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GaugeIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst GlobeIcon = ({\n  style = {\n    width: 24,\n    height: 24,\n    paddingRight: '8px'\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 48 48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"rotate(90 24 24)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#4A5768\",\n  fillRule: \"nonzero\",\n  d: \"M24,7 C14.6111593,7 7,14.6111593 7,24 C7,33.3888407 14.6111593,41 24,41 C33.3888407,41 41,33.3888407 41,24 C41,14.6111593 33.3888407,7 24,7 Z M24,9 C32.2842712,9 39,15.7157288 39,24 C39,32.2842712 32.2842712,39 24,39 C15.7157288,39 9,32.2842712 9,24 C9,15.7157288 15.7157288,9 24,9 Z\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  fillRule: \"nonzero\",\n  transform: \"translate(7 7)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"9.676 2.441 11.574 1.809 12.437 4.398 11.273 6.142 14.347 8.448 8.244 13.679 5.837 14.16 7.515 16.956 6.114 19.758 2.241 17.822 .001 15.582 1.415 14.168 3.426 16.178 5.219 17.075 5.235 17.043 2.662 12.756 7.338 11.82 11.153 8.551 8.56 6.607 10.229 4.102\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"23.454 13.474 22.387 16.141 23.874 18.125 26.929 18.125 27.917 21.088 27.916 26.856 28.263 29.626 26.279 29.874 25.924 27.041 25.917 26.917 25.916 21.413 25.487 20.125 22.875 20.125 20.113 16.442 21.879 12.026 24.007 10.962 26.371 11.75 28.496 11.75 30.999 12.584 32.697 14.283 34.186 17.261 32.397 18.156 31.053 15.468 29.918 14.332 28.173 13.75 26.046 13.75 24.16 13.121\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"21.252 5.667 23.813 3.106 25.938 3.814 26.21 3.543 27.624 4.957 26.478 6.102 24.353 5.394 24.08 5.666 25.3 6.886 24.374 8.737 24.374 9.344 26.325 8.857 27.519 9.454 29.858 7.7 31.058 9.3 27.731 11.796 26.091 10.976 22.375 11.906 22.375 8.264 22.866 7.28\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"6.951 19.192 9.73 17.339 13.261 18.222 14.706 19.667 16.832 20.376 18.708 22.252 18.708 25.736 17.228 28.697 15.837 33.566 13.913 33.017 15.33 28.059 15.397 27.886 16.708 25.262 16.708 23.08 15.75 22.123 13.626 21.416 12.238 20.028 10.103 19.493 8.632 20.475 8.227 21.688 11.546 25.007 12.295 28.755 13.678 32.212 11.822 32.955 10.405 29.413 10.353 29.238 9.703 25.993 5.939 22.228\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#4A5768\",\n  d: \"M17,0 C26.3888407,0 34,7.61115925 34,17 C34,26.3888407 26.3888407,34 17,34 C7.61115925,34 0,26.3888407 0,17 C0,7.61115925 7.61115925,0 17,0 Z M17,2 C8.71572875,2 2,8.71572875 2,17 C2,25.2842712 8.71572875,32 17,32 C25.2842712,32 32,25.2842712 32,17 C32,8.71572875 25.2842712,2 17,2 Z\"\n}))));\n\nGlobeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GlobeIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst LineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"2\",\n  points: \"30 36 23 30 29 24 17 18 28 10\"\n})));\n\nLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default LineIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PieIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"rotate(90 24 24)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"24\",\n  cy: \"24\",\n  r: \"16\",\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#FFC324\",\n  d: \"M11,24 C11,31.1797017 16.8202983,37 24,37 C31.1797017,37 37,31.1797017 37,24 C37,16.8202983 31.1797017,11 24,11 L24,24 L11,24 Z\",\n  transform: \"rotate(165 24 24)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#147CD7\",\n  d: \"M11,24 C11,31.1797017 16.8202983,37 24,37 C31.1797017,37 37,31.1797017 37,24 C37,16.8202983 31.1797017,11 24,11 L24,24 L11,24 Z\",\n  transform: \"rotate(-15 24 24)\"\n})));\n\nPieIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PieIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst PivotTableIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"34\",\n  height: \"26\",\n  x: \"7\",\n  y: \"11\",\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"32\",\n  height: \"2\",\n  x: \"8\",\n  y: \"18\",\n  fill: \"#4A5768\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"2\",\n  height: \"26\",\n  x: \"19\",\n  y: \"11\",\n  fill: \"#4A5768\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"32\",\n  height: \"2\",\n  x: \"8\",\n  y: \"24\",\n  fill: \"#4A5768\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"32\",\n  height: \"2\",\n  x: \"8\",\n  y: \"30\",\n  fill: \"#4A5768\"\n})));\n\nPivotTableIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PivotTableIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst RadarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"rotate(90 24 24)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"24\",\n  cy: \"24\",\n  r: \"16\",\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"24\",\n  cy: \"24\",\n  r: \"9\",\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"24\",\n  cy: \"33\",\n  r: \"3\",\n  fill: \"#147CD7\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"10\",\n  cy: \"16\",\n  r: \"3\",\n  fill: \"#147CD7\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: \"37\",\n  cy: \"15\",\n  r: \"3\",\n  fill: \"#147CD7\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"2\",\n  points: \"24 33 10 16 37 15\"\n})));\n\nRadarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default RadarIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ScatterIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  height: \"48\",\n  viewBox: \"0 0 48 48\",\n  width: \"48\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m0 0h48v48h-48z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m6 42v-36h2v34h34v2z\",\n  fill: \"#4a5768\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m14 27c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm7-2c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm7-7c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm8 0c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm0-10c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2z\",\n  fill: \"#147cd7\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m20 31c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm10-4c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm-9-8c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm11-6c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2z\",\n  fill: \"#ffc324\"\n})));\n\nScatterIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ScatterIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SingleValueIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: \"34\",\n  height: \"20\",\n  x: \"7\",\n  y: \"14\",\n  stroke: \"#4A5768\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"text\", {\n  fill: \"#147CD7\",\n  fontFamily: \"iAWriterDuoS-Bold, iA Writer Duo S\",\n  fontSize: \"15\",\n  fontWeight: \"bold\",\n  letterSpacing: \".6\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: \"10\",\n  y: \"29\"\n}, \"123\"))));\n\nSingleValueIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default SingleValueIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst StackedAreaIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFE7A7\",\n  points: \"33 36 27 28 30 23 25 17 27 10 17 10 21 17 18 23 22 28 17 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#90CAF9\",\n  points: \"16 36 22 28 18 23 21 17 17 10 12 10 12 36\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#FFC324\",\n  strokeWidth: \"2\",\n  points: \"33 36 27 28 30 23 25 17 27 10\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"2\",\n  points: \"16 36 22 28 18 23 21 17 16.5 10\"\n})));\n\nStackedAreaIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedAreaIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst StackedBarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"12 19 18 19 18 36 12 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"12 10 18 10 18 19 12 19\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"22 25 28 25 28 36 22 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"22 15 28 15 28 25 22 25\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"32 21 38 21 38 36 32 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"32 12 38 12 38 21 32 21\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n})));\n\nStackedBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedBarIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst StackedColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"12 25 18 25 18 36 12 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"12 15 18 15 18 25 12 25\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"22 29 28 29 28 36 22 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"22 17 28 17 28 29 22 29\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"32 27 38 27 38 36 32 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"32 9 38 9 38 27 32 27\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n})));\n\nStackedColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedColumnIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst YearOverYearColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"15 20 18 20 18 36 15 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"12 14 15 14 15 36 12 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"22 22 25 22 25 36 22 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"25 12 28 12 28 36 25 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#147CD7\",\n  points: \"32 14 35 14 35 36 32 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#FFC324\",\n  points: \"35 27 38 27 38 36 35 36\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n})));\n\nYearOverYearColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearColumnIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst YearOverYearLineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => /*#__PURE__*/React.createElement(\"svg\", {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0,0,48,48\",\n  style: style\n}, /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  transform: \"matrix(0 -1 -1 0 48 48)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"0 0 48 0 48 48 0 48\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 6 8 6 8 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  fill: \"#4A5768\",\n  points: \"6 40 42 40 42 42 6 42\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#FFC324\",\n  strokeWidth: \"2\",\n  points: \"24 36 29 30 19 24 28 16 23 10\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  stroke: \"#147CD7\",\n  strokeWidth: \"2\",\n  points: \"30 36 23 30 29 24 17 18 28 10\"\n})));\n\nYearOverYearLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearLineIcon;","import { VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_STACKED_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_SCATTER } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport AreaIcon from '../../assets/AreaIcon.js';\nimport BarIcon from '../../assets/BarIcon.js';\nimport ColumnIcon from '../../assets/ColumnIcon.js';\nimport GaugeIcon from '../../assets/GaugeIcon.js';\nimport GlobeIcon from '../../assets/GlobeIcon.js';\nimport LineIcon from '../../assets/LineIcon.js';\nimport PieIcon from '../../assets/PieIcon.js';\nimport PivotTableIcon from '../../assets/PivotTableIcon.js';\nimport RadarIcon from '../../assets/RadarIcon.js';\nimport ScatterIcon from '../../assets/ScatterIcon.js';\nimport SingleValueIcon from '../../assets/SingleValueIcon.js';\nimport StackedAreaIcon from '../../assets/StackedAreaIcon.js';\nimport StackedBarIcon from '../../assets/StackedBarIcon.js';\nimport StackedColumnIcon from '../../assets/StackedColumnIcon.js';\nimport YearOverYearColumnIcon from '../../assets/YearOverYearColumnIcon.js';\nimport YearOverYearLineIcon from '../../assets/YearOverYearLineIcon.js';\n\nconst ListItemIcon = ({\n  iconType,\n  style\n}) => {\n  switch (iconType) {\n    case VIS_TYPE_STACKED_COLUMN:\n      return /*#__PURE__*/React.createElement(StackedColumnIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_BAR:\n      return /*#__PURE__*/React.createElement(BarIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_STACKED_BAR:\n      return /*#__PURE__*/React.createElement(StackedBarIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_PIE:\n      return /*#__PURE__*/React.createElement(PieIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_GAUGE:\n      return /*#__PURE__*/React.createElement(GaugeIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_LINE:\n      return /*#__PURE__*/React.createElement(LineIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_AREA:\n      return /*#__PURE__*/React.createElement(AreaIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_STACKED_AREA:\n      return /*#__PURE__*/React.createElement(StackedAreaIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_RADAR:\n      return /*#__PURE__*/React.createElement(RadarIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return /*#__PURE__*/React.createElement(YearOverYearLineIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return /*#__PURE__*/React.createElement(YearOverYearColumnIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return /*#__PURE__*/React.createElement(SingleValueIcon, {\n        style: style\n      });\n\n    case 'MAP':\n      return /*#__PURE__*/React.createElement(GlobeIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return /*#__PURE__*/React.createElement(PivotTableIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_SCATTER:\n      return /*#__PURE__*/React.createElement(ScatterIcon, {\n        style: style\n      });\n\n    case VIS_TYPE_COLUMN:\n    default:\n      return /*#__PURE__*/React.createElement(ColumnIcon, {\n        style: style\n      });\n  }\n};\n\nListItemIcon.propTypes = {\n  iconType: PropTypes.string,\n  style: PropTypes.object\n};\nexport default ListItemIcon;","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ListItemIcon from './ListItemIcon.js';\nimport styles from './styles/VisualizationTypeSelector.module.css';\n\nconst VisualizationTypeListItem = ({\n  iconType,\n  label,\n  description,\n  disabled,\n  isSelected,\n  onClick\n}) => {\n  const classNames = [styles.listItem];\n\n  if (isSelected) {\n    classNames.push(styles.listItemActive);\n  }\n\n  if (disabled) {\n    classNames.push(styles.listItemDisabled);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames.join(' '),\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listItemIcon\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    iconType: iconType,\n    style: {\n      width: 48,\n      height: 48\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listItemText\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.listItemName\n  }, label), /*#__PURE__*/React.createElement(\"p\", {\n    className: styles.listItemDescription\n  }, description)));\n};\n\nVisualizationTypeListItem.propTypes = {\n  description: PropTypes.string,\n  disabled: PropTypes.bool,\n  iconType: PropTypes.string,\n  isSelected: PropTypes.bool,\n  label: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport default VisualizationTypeListItem;","import { visTypeDisplayNames, visTypeDescriptions } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Divider, Popper, Layer } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { useState, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { acSetUi, acClearSeriesType } from '../../actions/ui.js';\nimport { apiSaveAOInUserDataStore, CURRENT_AO_KEY } from '../../api/userDataStore.js';\nimport ArrowDown from '../../assets/ArrowDown.js';\nimport { prepareCurrentAnalyticalObject } from '../../modules/currentAnalyticalObject.js';\nimport { getAdaptedUiByType } from '../../modules/ui.js';\nimport { sGetCurrent } from '../../reducers/current.js';\nimport { sGetMetadata } from '../../reducers/metadata.js';\nimport { sGetUi, sGetUiType } from '../../reducers/ui.js';\nimport ListItemIcon from './ListItemIcon.js';\nimport styles from './styles/VisualizationTypeSelector.module.css';\nimport VisualizationTypeListItem from './VisualizationTypeListItem.js';\nexport const MAPS_APP_URL = 'dhis-web-maps';\n\nconst UnconnectedVisualizationTypeSelector = ({\n  visualizationType,\n  ui,\n  setUi,\n  onItemClick,\n  current,\n  metadata\n}, context) => {\n  const baseUrl = context.baseUrl;\n  const [listIsOpen, setListIsOpen] = useState(false);\n\n  const toggleList = () => setListIsOpen(!listIsOpen);\n\n  const handleListItemClick = type => () => {\n    setUi(getAdaptedUiByType({ ...ui,\n      type\n    }));\n    onItemClick();\n    toggleList();\n  };\n\n  const handleOpenAsMapClick = async event => {\n    if (!current) {\n      event.stopPropagation();\n      return;\n    }\n\n    const currentAnalyticalObject = prepareCurrentAnalyticalObject(current, metadata, ui);\n    await apiSaveAOInUserDataStore(currentAnalyticalObject);\n    window.location.href = `${baseUrl}/${MAPS_APP_URL}?${CURRENT_AO_KEY}=true`;\n  };\n\n  const getVisTypes = () => Object.keys(visTypeDisplayNames);\n\n  const VisTypesList = /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"visualization-type-selector-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listContainer\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listSection\n  }, getVisTypes().map(type => /*#__PURE__*/React.createElement(VisualizationTypeListItem, {\n    key: type,\n    iconType: type,\n    label: visTypeDisplayNames[type],\n    description: visTypeDescriptions[type],\n    isSelected: type === visualizationType,\n    onClick: handleListItemClick(type)\n  }))), /*#__PURE__*/React.createElement(Divider, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.listSection\n  }, /*#__PURE__*/React.createElement(VisualizationTypeListItem, {\n    key: 'MAP',\n    iconType: 'MAP',\n    label: i18n.t('Open as Map') // TODO: Open as: Map when i18next nsSeparator fixed\n    ,\n    description: i18n.t('Visually plot data on a world map. Data elements use separate map layers.'),\n    onClick: handleOpenAsMapClick,\n    disabled: !current\n  }))));\n  const buttonRef = /*#__PURE__*/createRef();\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: toggleList,\n    ref: buttonRef,\n    className: styles.button,\n    \"data-test\": 'visualization-type-selector-button'\n  }, /*#__PURE__*/React.createElement(ListItemIcon, {\n    iconType: visualizationType\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    \"data-test\": \"visualization-type-selector-currently-selected-text\"\n  }, visTypeDisplayNames[visualizationType]), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.arrowIcon\n  }, /*#__PURE__*/React.createElement(ArrowDown, null))), listIsOpen && /*#__PURE__*/React.createElement(Layer, {\n    onClick: toggleList\n  }, /*#__PURE__*/React.createElement(Popper, {\n    reference: buttonRef,\n    placement: \"bottom-start\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cardContainer\n  }, VisTypesList))));\n};\n\nUnconnectedVisualizationTypeSelector.propTypes = {\n  current: PropTypes.object,\n  metadata: PropTypes.object,\n  setUi: PropTypes.func,\n  ui: PropTypes.object,\n  visualizationType: PropTypes.oneOf(Object.keys(visTypeDisplayNames)),\n  onItemClick: PropTypes.func\n};\nUnconnectedVisualizationTypeSelector.contextTypes = {\n  baseUrl: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  current: sGetCurrent(state),\n  metadata: sGetMetadata(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setUi: ui => dispatch(acSetUi(ui)),\n  onItemClick: () => dispatch(acClearSeriesType())\n});\n\nexport const VisualizationTypeSelector = connect(mapStateToProps, mapDispatchToProps)(UnconnectedVisualizationTypeSelector);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport i18n from '@dhis2/d2-i18n';\nimport { CssVariables, Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip, Button } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as fromActions from '../actions/index.js';\nimport { apiFetchAOFromUserDataStore, CURRENT_AO_KEY } from '../api/userDataStore.js';\nimport { Snackbar } from '../components/Snackbar/Snackbar.js';\nimport history from '../modules/history.js';\nimport defaultMetadata from '../modules/metadata.js';\nimport { getParentGraphMapFromVisualization } from '../modules/ui.js';\nimport { STATE_DIRTY, getVisualizationState } from '../modules/visualization.js';\nimport * as fromReducers from '../reducers/index.js';\nimport { sGetVisualization } from '../reducers/visualization.js';\nimport DimensionsPanel from './DimensionsPanel/DimensionsPanel.js';\nimport DndContext from './DndContext.js';\nimport { Interpretations } from './Interpretations/Interpretations.js';\nimport Layout from './Layout/Layout.js';\nimport { MenuBar } from './MenuBar/MenuBar.js';\nimport { TitleBar } from './TitleBar/TitleBar.js';\nimport { Visualization } from './Visualization/Visualization.js';\nimport { APPROVAL_LEVEL_OPTION_AUTH } from './VisualizationOptions/Options/ApprovalLevel.js';\nimport { VisualizationTypeSelector } from './VisualizationTypeSelector/VisualizationTypeSelector.js';\nimport './App.css';\nimport './scrollbar.css';\nexport class UnconnectedApp extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"unlisten\", null);\n\n    _defineProperty(this, \"apiObjectName\", 'visualization');\n\n    _defineProperty(this, \"state\", {\n      previousLocation: null,\n      initialLoadIsComplete: false,\n      locationToConfirm: false\n    });\n\n    _defineProperty(this, \"refetch\", location => {\n      if (!this.state.previousLocation) {\n        return true;\n      }\n\n      const id = location.pathname.slice(1).split('/')[0];\n      const prevId = this.state.previousLocation.slice(1).split('/')[0];\n\n      if (id !== prevId || this.state.previousLocation === location.pathname) {\n        return true;\n      }\n\n      return false;\n    });\n\n    _defineProperty(this, \"parseLocation\", location => {\n      const pathParts = location.pathname.slice(1).split('/');\n      const id = pathParts[0];\n      const interpretationId = pathParts[2];\n      return {\n        id,\n        interpretationId\n      };\n    });\n\n    _defineProperty(this, \"loadVisualization\", async location => {\n      if (location.pathname.length > 1) {\n        // /currentAnalyticalObject\n        // /${id}/\n        // /${id}/interpretation/${interpretationId}\n        const {\n          id,\n          interpretationId\n        } = this.parseLocation(location);\n        const urlContainsCurrentAOKey = id === CURRENT_AO_KEY;\n\n        if (urlContainsCurrentAOKey) {\n          const AO = await apiFetchAOFromUserDataStore();\n          this.props.addParentGraphMap(getParentGraphMapFromVisualization(AO)); // clear visualization and current\n          // to avoid leave them \"dirty\" when navigating to\n          // /currentAnalyticalObject from a previously saved AO\n\n          this.props.clearVisualization();\n          this.props.clearCurrent();\n          this.props.setUiFromVisualization(AO);\n          this.props.setCurrentFromUi(this.props.ui);\n        }\n\n        if (!urlContainsCurrentAOKey && this.refetch(location)) {\n          await this.props.setVisualization({\n            id,\n            interpretationId,\n            ouLevels: this.props.ouLevels\n          });\n        }\n\n        if (!interpretationId) {\n          this.props.clearInterpretation();\n        }\n      } else {\n        this.props.clearAll();\n        this.props.clearInterpretation();\n      }\n\n      this.setState({\n        initialLoadIsComplete: true\n      });\n      this.setState({\n        previousLocation: location.pathname\n      });\n    });\n\n    _defineProperty(this, \"componentDidMount\", async () => {\n      const {\n        d2,\n        userSettings\n      } = this.props;\n      await this.props.addSettings(userSettings);\n      this.props.setUser(d2.currentUser);\n      this.props.loadUserAuthority(APPROVAL_LEVEL_OPTION_AUTH);\n      this.props.setDimensions();\n      const rootOrgUnits = this.props.settings.rootOrganisationUnits;\n      const metaData = { ...defaultMetadata()\n      };\n      rootOrgUnits.forEach(rootOrgUnit => {\n        if (rootOrgUnit.id) {\n          metaData[rootOrgUnit.id] = { ...rootOrgUnit,\n            path: `/${rootOrgUnit.id}`\n          };\n        }\n      });\n      this.props.addMetadata(metaData);\n      this.loadVisualization(this.props.location);\n      this.unlisten = history.listen(location => {\n        var _location$state, _location$state2, _location$state3;\n\n        const isSaving = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.isSaving;\n        const isOpening = (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.isOpening;\n        const isResetting = (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.isResetting;\n        const {\n          interpretationId\n        } = this.parseLocation(location);\n\n        if ( // currently editing\n        getVisualizationState(this.props.visualization, this.props.current) === STATE_DIRTY && // wanting to navigate elsewhere\n        this.state.previousLocation !== location.pathname && // currently *not* viewing an interpretation\n        !(this.props.interpretation.id || interpretationId) && // not saving\n        !isSaving) {\n          this.setState({\n            locationToConfirm: location\n          });\n        } else {\n          if (isSaving || isOpening || isResetting || this.state.previousLocation !== location.pathname) {\n            this.loadVisualization(location);\n          }\n\n          this.setState({\n            locationToConfirm: null\n          });\n        }\n      });\n      document.body.addEventListener('keyup', e => e.key === 'Enter' && e.ctrlKey === true && this.props.setCurrentFromUi(this.props.ui));\n      window.addEventListener('beforeunload', event => {\n        if (getVisualizationState(this.props.visualization, this.props.current) === STATE_DIRTY) {\n          event.preventDefault();\n          event.returnValue = i18n.t('You have unsaved changes.');\n        }\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n\n  getChildContext() {\n    return {\n      baseUrl: this.props.baseUrl,\n      i18n,\n      d2: this.props.d2,\n      dataEngine: this.props.dataEngine\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"data-visualizer-app flex-ct flex-dir-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-toolbar flex-ct\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toolbar-type\"\n    }, /*#__PURE__*/React.createElement(VisualizationTypeSelector, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toolbar-menubar flex-grow-1\"\n    }, /*#__PURE__*/React.createElement(MenuBar, {\n      apiObjectName: this.apiObjectName,\n      dataTest: 'app-menubar'\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"section-main flex-grow-1 flex-ct\"\n    }, /*#__PURE__*/React.createElement(DndContext, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-left\"\n    }, /*#__PURE__*/React.createElement(DimensionsPanel, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-center-layout\"\n    }, /*#__PURE__*/React.createElement(Layout, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-center-titlebar\"\n    }, /*#__PURE__*/React.createElement(TitleBar, null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-center-canvas flex-grow-1\"\n    }, this.state.initialLoadIsComplete && /*#__PURE__*/React.createElement(Visualization, null)))), this.props.ui.rightSidebarOpen && this.props.current && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"main-right\"\n    }, /*#__PURE__*/React.createElement(Interpretations, {\n      type: this.apiObjectName,\n      id: this.props.current.id\n    })))), this.state.locationToConfirm && /*#__PURE__*/React.createElement(Modal, {\n      small: true,\n      dataTest: 'confirm-leave-modal'\n    }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Discard unsaved changes?')), /*#__PURE__*/React.createElement(ModalContent, null, i18n.t('Are you sure you want to leave this visualization? Any unsaved changes will be lost.')), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, {\n      end: true\n    }, /*#__PURE__*/React.createElement(Button, {\n      secondary: true,\n      onClick: () => {\n        this.setState({\n          locationToConfirm: null\n        });\n        history.goBack();\n      },\n      dataTest: 'confirm-leave-modal-option-cancel'\n    }, i18n.t('No, cancel')), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        this.loadVisualization(this.state.locationToConfirm);\n        this.setState({\n          locationToConfirm: null\n        });\n      },\n      primary: true,\n      dataTest: 'confirm-leave-modal-option-confirm'\n    }, i18n.t('Yes, leave'))))), /*#__PURE__*/React.createElement(Snackbar, null), /*#__PURE__*/React.createElement(CssVariables, {\n      colors: true,\n      spacers: true,\n      elevations: true\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  settings: fromReducers.fromSettings.sGetSettings(state),\n  current: fromReducers.fromCurrent.sGetCurrent(state),\n  interpretation: fromReducers.fromUi.sGetUiInterpretation(state),\n  ui: fromReducers.fromUi.sGetUi(state),\n  visualization: sGetVisualization(state),\n  snackbar: fromReducers.fromSnackbar.sGetSnackbar(state)\n});\n\nconst mapDispatchToProps = {\n  setCurrentFromUi: fromActions.fromCurrent.acSetCurrentFromUi,\n  clearVisualization: fromActions.fromVisualization.acClear,\n  clearCurrent: fromActions.fromCurrent.acClear,\n  setUiFromVisualization: fromActions.fromUi.acSetUiFromVisualization,\n  addParentGraphMap: fromActions.fromUi.acAddParentGraphMap,\n  clearSnackbar: fromActions.fromSnackbar.acClearSnackbar,\n  addSettings: fromActions.fromSettings.tAddSettings,\n  setUser: fromActions.fromUser.acReceivedUser,\n  loadUserAuthority: fromActions.fromUser.tLoadUserAuthority,\n  setDimensions: fromActions.fromDimensions.tSetDimensions,\n  addMetadata: fromActions.fromMetadata.acAddMetadata,\n  setVisualization: fromActions.tDoLoadVisualization,\n  clearInterpretation: fromActions.fromUi.acClearUiInterpretation,\n  clearAll: fromActions.clearAll\n};\nUnconnectedApp.contextTypes = {\n  store: PropTypes.object\n};\nUnconnectedApp.childContextTypes = {\n  d2: PropTypes.object,\n  dataEngine: PropTypes.object,\n  baseUrl: PropTypes.string,\n  i18n: PropTypes.object\n};\nUnconnectedApp.propTypes = {\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  addSettings: PropTypes.func,\n  baseUrl: PropTypes.string,\n  clearAll: PropTypes.func,\n  clearCurrent: PropTypes.func,\n  clearInterpretation: PropTypes.func,\n  clearVisualization: PropTypes.func,\n  current: PropTypes.object,\n  d2: PropTypes.object,\n  dataEngine: PropTypes.object,\n  interpretation: PropTypes.object,\n  loadUserAuthority: PropTypes.func,\n  location: PropTypes.object,\n  ouLevels: PropTypes.array,\n  setCurrentFromUi: PropTypes.func,\n  setDimensions: PropTypes.func,\n  setUiFromVisualization: PropTypes.func,\n  setUser: PropTypes.func,\n  setVisualization: PropTypes.func,\n  settings: PropTypes.object,\n  ui: PropTypes.object,\n  userSettings: PropTypes.object,\n  visualization: PropTypes.object\n};\nexport const App = connect(mapStateToProps, mapDispatchToProps)(UnconnectedApp);","import { useDataEngine } from '@dhis2/app-runtime';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useState, useEffect, createContext } from 'react';\nexport const userSettingsQuery = {\n  resource: 'userSettings',\n  params: {\n    key: ['keyUiLocale', 'keyAnalysisDisplayProperty']\n  }\n};\nexport const UserSettingsCtx = /*#__PURE__*/createContext({});\n\nconst UserSettingsProvider = ({\n  children\n}) => {\n  const [settings, setSettings] = useState([]);\n  const engine = useDataEngine();\n  useEffect(() => {\n    async function fetchData() {\n      const {\n        userSettings\n      } = await engine.query({\n        userSettings: userSettingsQuery\n      });\n      setSettings({ ...userSettings,\n        displayProperty: userSettings.keyAnalysisDisplayProperty,\n        displayNameProperty: userSettings.keyAnalysisDisplayProperty === 'name' ? 'displayName' : 'displayShortName',\n        uiLocale: userSettings.keyUiLocale\n      });\n    }\n\n    fetchData();\n  }, []);\n  return /*#__PURE__*/React.createElement(UserSettingsCtx.Provider, {\n    value: {\n      userSettings: settings\n    }\n  }, children);\n};\n\nUserSettingsProvider.propTypes = {\n  children: PropTypes.node\n};\nexport default UserSettingsProvider;\nexport const useUserSettings = () => useContext(UserSettingsCtx);","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport reducer from './reducers/index.js';\n\nconst configureStore = middleware => {\n  // Enable Redux devtools if extension is installed instead of redux-logger\n  // const composeEnhancers =\n  //     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: 'data-visualizer-app'\n  }) : compose;\n\n  if (!window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV !== 'production') {\n    middleware.push(createLogger());\n  }\n\n  return createStore(reducer, composeEnhancers(applyMiddleware(...middleware)));\n};\n\nexport default configureStore;","import { acAddMetadata } from '../actions/metadata.js';\nexport default (({\n  dispatch\n}) => next => action => {\n  typeof action.metadata === 'object' && !Array.isArray(action.metadata) && dispatch(acAddMetadata(action.metadata));\n  next(action);\n});","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uzTranslations from './uz/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz', namespace, uzTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { apiFetchOrganisationUnitLevels } from '@dhis2/analytics';\nimport { useConfig, useDataEngine } from '@dhis2/app-runtime';\nimport { D2Shim } from '@dhis2/app-runtime-adapter-d2';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { App } from './components/App.js';\nimport UserSettingsProvider, { UserSettingsCtx } from './components/UserSettingsProvider.js';\nimport configureStore from './configureStore.js';\nimport metadataMiddleware from './middleware/metadata.js';\nimport history from './modules/history.js';\nimport './locales/index.js';\n\nconst AppWrapper = () => {\n  const {\n    baseUrl\n  } = useConfig();\n  const engine = useDataEngine();\n  const store = configureStore([thunk.withExtraArgument(engine), metadataMiddleware]);\n\n  if (window.Cypress) {\n    window.store = store;\n  }\n\n  const [ouLevels, setOuLevels] = useState(null);\n  const doFetchOuLevelsData = useCallback(async () => {\n    const ouLevels = await apiFetchOrganisationUnitLevels(engine);\n    return ouLevels;\n  }, [engine]);\n  useEffect(() => {\n    const doFetch = async () => {\n      const ouLevelsData = await doFetchOuLevelsData();\n      setOuLevels(ouLevelsData);\n    };\n\n    doFetch();\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, []);\n  const schemas = ['visualization', 'organisationUnit', 'userGroup'];\n  const d2Config = {\n    schemas\n  };\n  return /*#__PURE__*/React.createElement(ReduxProvider, {\n    store: store\n  }, /*#__PURE__*/React.createElement(UserSettingsProvider, null, /*#__PURE__*/React.createElement(UserSettingsCtx.Consumer, null, ({\n    userSettings\n  }) => {\n    return userSettings !== null && userSettings !== void 0 && userSettings.keyUiLocale ? /*#__PURE__*/React.createElement(D2Shim, {\n      d2Config: d2Config,\n      i18nRoot: \"./i18n_old\",\n      locale: userSettings.keyUiLocale\n    }, ({\n      d2\n    }) => {\n      if (!d2) {\n        // TODO: Handle errors in d2 initialization\n        return null;\n      } else {\n        return /*#__PURE__*/React.createElement(App, {\n          d2: d2,\n          location: history.location,\n          baseUrl: baseUrl,\n          dataEngine: engine,\n          ouLevels: ouLevels,\n          userSettings: userSettings\n        });\n      }\n    }) : null;\n  })));\n};\n\nexport default AppWrapper;"],"sourceRoot":""}