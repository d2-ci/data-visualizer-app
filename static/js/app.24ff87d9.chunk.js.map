{"version":3,"sources":["D2App/components/Snackbar/styles/Snackbar.module.css","D2App/components/MenuButton/styles/MenuButton.module.css","D2App/components/DownloadMenu/styles/DownloadMenu.module.css","D2App/components/Interpretations/styles/InterpretationsButton.module.css","D2App/components/VisualizationOptions/styles/TextStyle.module.css","D2App/components/VisualizationOptions/styles/SeriesTable.module.css","D2App/components/MenuBar/styles/MenuBar.module.css","D2App/modules/formatDate.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/AddToLayoutButton.module.css","D2App/components/DimensionsPanel/styles/DndDimensionItem.module.css","D2App/components/DimensionsPanel/styles/DndDimensionList.module.css","D2App/components/DimensionsPanel/styles/DndDimensionsPanel.module.css","D2App/components/Visualization/styles/StartScreen.module.css","D2App/widgets/styles/LoadingMask.module.css","D2App/components/IconButton/styles/IconButton.module.css","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.module.css","D2App/modules/settings.js","D2App/api/index.js","D2App/modules/history.js","D2App/D2Shim.js","D2App/api/organisationUnits.js","D2App/reducers/visualization.js","D2App/modules/options.js","D2App/modules/layout.js","D2App/modules/fields/baseFields.js","D2App/modules/layoutAdapters.js","D2App/modules/current.js","D2App/reducers/current.js","D2App/reducers/dimensions.js","D2App/reducers/recommendedIds.js","D2App/modules/orgUnit.js","D2App/modules/ui.js","D2App/reducers/ui.js","D2App/reducers/metadata.js","D2App/reducers/settings.js","D2App/reducers/user.js","D2App/reducers/snackbar.js","D2App/reducers/loader.js","D2App/reducers/chart.js","D2App/reducers/index.js","D2App/configureStore.js","D2App/actions/metadata.js","D2App/middleware/metadata.js","D2App/actions/ui.js","D2App/components/DndContext.js","D2App/actions/snackbar.js","D2App/components/Snackbar/Snackbar.js","D2App/components/UpdateButton/UpdateButton.js","D2App/api/analytics.js","D2App/components/MenuButton/MenuButton.js","D2App/assets/MoreHorizontalIcon.js","D2App/components/DownloadMenu/DownloadMenu.js","D2App/components/Interpretations/InterpretationsButton.js","D2App/components/HideButton/HideButton.js","D2App/modules/fields/nestedFields.js","D2App/api/visualization.js","D2App/modules/fields/index.js","D2App/actions/visualization.js","D2App/actions/current.js","D2App/actions/dimensions.js","D2App/actions/settings.js","D2App/api/settings.js","D2App/actions/loader.js","D2App/assets/ErrorIcons.js","D2App/modules/error.js","D2App/api/user.js","D2App/actions/user.js","D2App/modules/visualization.js","D2App/actions/index.js","D2App/api/dataStatistics.js","D2App/modules/layoutValidation.js","D2App/api/userDataStore.js","D2App/components/UpdateButton/UpdateVisualizationContainer.js","D2App/components/VisualizationOptions/styles/VisualizationOptions.style.js","D2App/components/VisualizationOptions/Options/SelectBaseOption.js","D2App/components/VisualizationOptions/Options/AggregationType.js","D2App/assets/FontColorIcon.js","D2App/assets/BoldIcon.js","D2App/assets/ItalicIcon.js","D2App/components/VisualizationOptions/Options/TextStyle.js","D2App/components/VisualizationOptions/Options/CheckboxBaseOption.js","D2App/components/VisualizationOptions/Options/ShowDimensionLabels.js","D2App/components/VisualizationOptions/Options/SkipRounding.js","D2App/components/VisualizationOptions/Options/ColTotals.js","D2App/components/VisualizationOptions/Options/ColSubTotals.js","D2App/components/VisualizationOptions/Options/RowTotals.js","D2App/components/VisualizationOptions/Options/RowSubTotals.js","D2App/components/VisualizationOptions/Options/HideEmptyColumns.js","D2App/components/VisualizationOptions/Options/HideEmptyRows.js","D2App/components/VisualizationOptions/Options/NumberType.js","D2App/components/VisualizationOptions/Options/RadioBaseOption.js","D2App/components/VisualizationOptions/Options/LegendDisplayStyle.js","D2App/components/VisualizationOptions/Options/LegendSet.js","D2App/components/VisualizationOptions/Options/LegendDisplayStrategy.js","D2App/components/VisualizationOptions/Options/Legend.js","D2App/components/VisualizationOptions/Options/TextBaseOption.js","D2App/components/VisualizationOptions/Options/Title.js","D2App/components/VisualizationOptions/Options/DisplayDensity.js","D2App/components/VisualizationOptions/Options/FontSize.js","D2App/components/VisualizationOptions/Options/DigitGroupSeparator.js","D2App/components/VisualizationOptions/Options/MeasureCriteria.js","D2App/components/VisualizationOptions/Options/ParamReportingPeriod.js","D2App/components/VisualizationOptions/Options/ParamOrganisationUnit.js","D2App/components/VisualizationOptions/Options/ParamParentOrganisationUnit.js","D2App/components/VisualizationOptions/Options/Regression.js","D2App/components/VisualizationOptions/Options/Cumulative.js","D2App/components/VisualizationOptions/Options/SortOrder.js","D2App/components/VisualizationOptions/Options/TopLimit.js","D2App/components/VisualizationOptions/Options/ApprovalLevel.js","D2App/components/VisualizationOptions/Options/ShowHierarchy.js","D2App/components/VisualizationOptions/Options/CompletedOnly.js","D2App/assets/AxisIcons.js","D2App/components/VisualizationOptions/Options/SeriesTable.js","D2App/components/VisualizationOptions/Options/CumulativeValues.js","D2App/components/VisualizationOptions/Options/ShowData.js","D2App/components/VisualizationOptions/Options/HideEmptyRowItems.js","D2App/components/VisualizationOptions/Options/DomainAxisLabel.js","D2App/components/VisualizationOptions/Options/NoSpaceBetweenColumns.js","D2App/components/VisualizationOptions/Options/HideLegend.js","D2App/components/VisualizationOptions/Options/HideTitle.js","D2App/components/VisualizationOptions/Options/Subtitle.js","D2App/components/VisualizationOptions/Options/HideSubtitle.js","D2App/components/VisualizationOptions/Options/RegressionType.js","D2App/components/VisualizationOptions/Options/TargetLineValue.js","D2App/components/VisualizationOptions/Options/TargetLineLabel.js","D2App/components/VisualizationOptions/Options/TargetLine.js","D2App/components/VisualizationOptions/Options/BaseLineValue.js","D2App/components/VisualizationOptions/Options/BaseLineLabel.js","D2App/components/VisualizationOptions/Options/BaseLine.js","D2App/modules/options/sections/lines.js","D2App/components/VisualizationOptions/Options/RangeAxisLabel.js","D2App/components/VisualizationOptions/Options/RangeAxisMinValue.js","D2App/components/VisualizationOptions/Options/RangeAxisMaxValue.js","D2App/components/VisualizationOptions/Options/AxisRange.js","D2App/components/VisualizationOptions/Options/RangeAxisSteps.js","D2App/components/VisualizationOptions/Options/RangeAxisDecimals.js","D2App/components/VisualizationOptions/Options/SeriesAxisLabels.js","D2App/modules/options/sections/verticalAxis.js","D2App/components/VisualizationOptions/Options/CategoryAxisLabels.js","D2App/components/VisualizationOptions/Options/PercentStackedValues.js","D2App/modules/options/stackedColumnConfig.js","D2App/modules/options/config.js","D2App/modules/options/columnConfig.js","D2App/modules/options/barConfig.js","D2App/modules/options/yearOverYearConfig.js","D2App/modules/options/lineConfig.js","D2App/modules/options/areaConfig.js","D2App/modules/options/gaugeConfig.js","D2App/modules/options/pieConfig.js","D2App/modules/options/singleValueConfig.js","D2App/modules/options/pivotTableConfig.js","D2App/components/VisualizationOptions/VisualizationOptions.js","D2App/components/VisualizationOptions/VisualizationOptionsManager.js","D2App/components/MenuBar/MenuBar.js","D2App/assets/InterpretationIcon.js","D2App/components/TitleBar/styles/TitleBar.style.js","D2App/components/TitleBar/TitleBar.js","D2App/modules/currentAnalyticalObject.js","D2App/assets/ColumnIcon.js","D2App/assets/StackedColumnIcon.js","D2App/assets/BarIcon.js","D2App/assets/StackedBarIcon.js","D2App/assets/PieIcon.js","D2App/assets/GaugeIcon.js","D2App/assets/LineIcon.js","D2App/assets/AreaIcon.js","D2App/assets/RadarIcon.js","D2App/assets/YearOverYearLineIcon.js","D2App/assets/YearOverYearColumnIcon.js","D2App/assets/SingleValueIcon.js","D2App/assets/GlobeIcon.js","D2App/assets/PivotTableIcon.js","D2App/components/VisualizationTypeSelector/ListItemIcon.js","D2App/components/VisualizationTypeSelector/VisualizationTypeListItem.js","D2App/components/VisualizationTypeSelector/VisualizationTypeSelector.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/AddToLayoutButton.js","D2App/components/DimensionsPanel/Dialogs/DialogManager.js","D2App/actions/recommendedIds.js","D2App/components/DimensionsPanel/DndDimensionItem.js","D2App/components/DimensionsPanel/DndDimensionList.js","D2App/components/DimensionsPanel/DndDimensionsPanel.js","D2App/components/DimensionsPanel/styles/DimensionsPanel.style.js","D2App/components/DimensionsPanel/DimensionsPanel.js","D2App/components/Interpretations/styles/Interpretations.style.js","D2App/components/Interpretations/Interpretations.js","D2App/components/Visualization/styles/Visualization.style.js","../../../src/api/legendSets.js","../../../src/api/organisationUnits.js","../../../src/assets/ArrowUpwardIcon.js","../../../src/assets/ArrowDownwardIcon.js","../../../src/ContextualMenu.js","../../../src/ChartPlugin.js","../../../src/PivotPlugin.js","../../../src/api/analytics.js","../../../src/modules/analytics.js","../../../src/modules/options.js","../../../src/modules/getRequestOptions.js","../../../src/modules/fetchData.js","../../../src/styles/VisualizationPlugin.style.js","../../../src/VisualizationPlugin.js","D2App/components/Visualization/StartScreen.js","D2App/api/mostViewedVisualizations.js","D2App/widgets/LoadingMask.js","D2App/components/Visualization/Visualization.js","D2App/actions/chart.js","D2App/components/Layout/styles/Menu.style.js","D2App/components/IconButton/IconButton.js","D2App/components/Layout/ChipMenu.js","D2App/components/Layout/styles/Tooltip.style.js","D2App/components/Layout/TooltipContent.js","D2App/assets/DynamicDimensionIcon.js","D2App/components/Layout/styles/style.js","D2App/components/Layout/styles/Chip.style.js","D2App/components/Layout/Chip.js","D2App/modules/dnd.js","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.style.js","D2App/components/Layout/DefaultLayout/DefaultAxis.js","D2App/components/Layout/DefaultLayout/styles/DefaultLayout.style.js","D2App/components/Layout/DefaultLayout/DefaultLayout.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearAxis.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearAxis.js","D2App/components/Layout/YearOverYearLayout/YearOverYearSelect.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearLayout.style.js","D2App/modules/yearOverYear.js","D2App/components/Layout/YearOverYearLayout/YearOverYearLayout.js","D2App/components/Layout/PieLayout/PieLayout.js","D2App/components/Layout/PivotTableLayout/styles/PivotTableLayout.style.js","D2App/components/Layout/PivotTableLayout/PivotTableLayout.js","D2App/components/Layout/Layout.js","D2App/modules/metadata.js","D2App/components/App.js","D2App/locales/index.js","D2App/AppWrapper.js","D2App/components/VisualizationTypeSelector/styles/VisualizationTypeSelector.module.css"],"names":["module","exports","formatDate","value","uiLocale","global","Intl","DateTimeFormat","year","month","day","format","Date","substr","replace","SYSTEM_SETTINGS","onError","error","console","log","createHashHistory","initD2","async","baseUrl","apiVersion","initConfig","apiUrl","d2Config","userSettings","settings","displayNameProperty","keyAnalysisDisplayProperty","keyUiLocale","extractUserSettings","getUserSettings","i18n","sources","add","configI18n","d2","d2Init","ouLevels","url","join","getInstance","then","Api","getApi","get","organisationUnitLevels","catch","apiFetchOrganisationUnitLevels","location","history","D2Shim","children","appConfig","useConfig","params","setParams","useState","useEffect","translucent","SET_VISUALIZATION","CLEAR_VISUALIZATION","DEFAULT_VISUALIZATION","state","action","type","sGetVisualization","visualization","sGetInterpretations","interpretations","options","baseLineLabel","defaultValue","undefined","requestable","savable","baseLineValue","cumulativeValues","domainAxisLabel","hideEmptyRowItems","hideLegend","noSpaceBetweenColumns","percentStackedValues","rangeAxisDecimals","rangeAxisLabel","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","regressionType","showData","targetLineLabel","targetLineValue","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","title","series","fontStyle","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","legendSet","legendDisplayStrategy","legendDisplayStyle","displayDensity","fontSize","digitGroupSeparator","approvalLevel","reportingPeriod","organisationUnit","parentOrganisationUnit","grandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","computedOptions","baseLine","targetLine","axisRange","legend","getOptionsForUi","Object","entries","reduce","map","option","props","isNotDefault","optionsFromVisualization","prop","Boolean","getOptionsFromVisualization","pick","keys","reportingParams","forEach","prototype","hasOwnProperty","call","String","getFilteredLayout","layout","excludedIds","ids","Array","isArray","AXIS_ID_COLUMNS","filter","dim","includes","AXIS_ID_ROWS","AXIS_ID_FILTERS","getInverseLayout","axisId","dimensionIds","id","getFieldObject","name","fieldsByType","reportTable","chart","excluded","eventReport","reportTable_eventReport","chart_eventChart","eventReport_eventChart","reportTable_chart_eventReport","reportTable_eventReport_eventChart","reportTable_chart_eventReport_eventChart","extractName","propObj","markExcluded","fieldObj","moveExcludedToEnd","acc","current","curIndex","array","slice","charAt","push","shift","getAllFieldObjectsByType","fields","key","concat","defaultLayoutAdapter","columns","rows","length","pieLayoutAdapter","singleValueLayoutAdapter","DIMENSION_ID_DATA","getAxesFromUi","ui","dimensionId","hasItems","object","itemsByDimension","getPredefinedDimensionProp","DIMENSION_PROP_NO_ITEMS","dimensionCreate","getOptionsFromUi","optionsFromUi","Number","getSingleValueCurrentFromUi","axesFromUi","dxItems","layoutGetDimensionItems","singleValueAxesFromUi","layoutReplaceDimension","getPieCurrentFromUi","getYearOverYearCurrentFromUi","dxItem","DIMENSION_ID_PERIOD","yearOverYearCategory","filters","f","dimension","yearOverYearSeries","SET_CURRENT","SET_CURRENT_FROM_UI","CLEAR_CURRENT","DEFAULT_CURRENT","getDefaultFromUi","VIS_TYPE_PIE","VIS_TYPE_SINGLE_VALUE","VIS_TYPE_GAUGE","VIS_TYPE_YEAR_OVER_YEAR_LINE","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","sGetCurrent","sGetCurrentFromUi","SET_DIMENSIONS","SET_SELECTED_DIMENSION","DEFAULT_DIMENSIONS","getPredefinedDimensions","sGetDimensions","dimensions","SET_RECOMMENDED_IDS","DEFAULT_RECOMMENDED_IDS","sGetRecommendedIds","recommendedIds","isOuLevelIntId","ouIdHelper","hasLevelPrefix","isInteger","parseInt","removePrefix","convertOuLevelsToUids","ouDimension","layoutGetDimension","DIMENSION_ID_ORGUNIT","dimensionGetItems","some","item","replaceNumericOuLevel","ouIntId","ouUid","find","l","level","assign","addLevelPrefix","replaceNumericOuLevelWithUid","updatedOuItems","removeLastPathSegment","path","match","lastIndexOf","getOuPath","metadata","parentGraphMap","getAdaptedUiByType","items","yearOverYearUiAdapter","pieUiAdapter","singleValueUiAdapter","VIS_TYPE_PIVOT_TABLE","defaultUiAdapter","getParentGraphMapFromVisualization","vis","dimensionIdsByAxis","layoutGetAxisIdDimensionIdsObject","ouAxis","orgUnit","SET_UI","SET_UI_FROM_VISUALIZATION","SET_UI_TYPE","SET_UI_OPTIONS","SET_UI_FONT_STYLE","SET_UI_LAYOUT","ADD_UI_LAYOUT_DIMENSIONS","REMOVE_UI_LAYOUT_DIMENSIONS","SET_UI_ITEMS","ADD_UI_ITEMS","REMOVE_UI_ITEMS","SET_UI_PARENT_GRAPH_MAP","ADD_UI_PARENT_GRAPH_MAP","SET_UI_ACTIVE_MODAL_DIALOG","SET_UI_YEAR_ON_YEAR_SERIES","SET_UI_YEAR_ON_YEAR_CATEGORY","CLEAR_UI","TOGGLE_UI_RIGHT_SIDEBAR_OPEN","SET_UI_RIGHT_SIDEBAR_OPEN","SET_UI_INTERPRETATION","CLEAR_UI_INTERPRETATION","CLEAR_SERIES_TYPE","DEFAULT_UI","defaultVisType","activeModalDialog","rightSidebarOpen","interpretation","PRESELECTED_YEAR_OVER_YEAR_SERIES","PRESELECTED_YEAR_OVER_YEAR_CATEGORY","currentState","layoutGetDimensionIdItemIdsObject","isYearOverYear","getUiFromVisualization","fontStyleKey","defaultFontStyle","deleteFontStyleOption","transfers","transfer","visType","inverseLayout","retransfer","sourceAxis","destinationAxisId","dimensionsAtDestination","isAxisFull","transferableDimension","getTransferableDimension","getAvailableAxes","axis","getAxisMaxNumberOfDimensions","getRetransfer","newLayout","index","canDimensionBeAddedToAxis","splice","itemIds","currentItemIds","Set","itemIdsToRemove","castArray","rootOrganisationUnit","relativePeriod","rootOrganisationUnits","getPreselectedUi","sGetUi","sGetUiType","sGetUiOptions","sGetUiLayout","sGetUiItems","sGetUiYearOverYearSeries","sGetUiYearOverYearCategory","sGetUiParentGraphMap","sGetUiActiveModalDialog","sGetUiRightSidebarOpen","sGetUiInterpretation","sGetAxes","axes","sGetAxisIdByDimensionId","sGetUiItemsByDimension","sGetDimensionItemsByAxis","sGetDimensionIdsFromLayout","values","axisDimensionIds","sLayoutHasDimension","sLayoutHasAssignedCategories","DIMENSION_ID_ASSIGNED_CATEGORIES","sGetAxisSetup","sGetUiFontStyle","sGetConsolidatedUiFontStyle","DEFAULT_METADATA","sGetMetadata","SET_SETTINGS","ADD_SETTINGS","DEFAULT_SETTINGS","keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator","keyIgnoreAnalyticsApprovalYearThreshold","sGetSettings","sGetSettingsDisplayNameProperty","sGetRootOrgUnit","sGetRelativePeriod","sGetUiLocale","DEFAULT_USER","username","isSuperuser","authorities","sGetUser","user","RECEIVED_SNACKBAR_MESSAGE","CLEAR_SNACKBAR","DEFAULT_SNACKBAR","message","duration","sGetSnackbar","snackbar","DEFAULT_LOADING","isLoading","loadingError","isPluginLoading","sGetLoadError","loader","sGetIsPluginLoading","sGetChart","combineReducers","d2Object","has","sGetSeriesSetupItems","fromUi","dimensionItem","fromMetadata","configureStore","middleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","acAddMetadata","dispatch","next","acSetUi","acClear","acSetUiFromVisualization","acSetUiType","acSetUiOptions","acSetUiFontStyle","acSetUiLayout","acAddUiLayoutDimensions","acRemoveUiLayoutDimensions","acSetUiItems","acAddUiItems","acRemoveUiItems","acSetUiYearOverYearSeries","acSetUiYearOverYearCategory","acAddParentGraphMap","acSetParentGraphMap","acSetUiActiveModalDialog","acToggleUiRightSidebarOpen","acSetUiRightSidebarOpen","acSetUiInterpretation","acClearUiInterpretation","acClearSeriesType","DndContext","Component","rearrangeLayoutDimensions","sourceAxisId","sourceIndex","destinationIndex","this","sourceList","from","moved","onReorderDimensions","onAddDimensions","addDimensionToLayout","onDropWithoutItems","onDragEnd","result","source","destination","draggableId","droppableId","render","connect","acReceivedSnackbarMessage","acClearSnackbar","onClose","variant","className","styles","container","critical","success","warning","permanent","onHidden","UpdateButton","onClick","data-test","primary","t","addCommonParameters","req","withSkipRounding","withAggregationType","withMeasureCriteria","withParameters","displayProperty","withDisplayProperty","withApprovalLevel","relativePeriodDate","withRelativePeriodDate","MenuButton","dataTest","disabled","onBlur","onFocus","menuButton","MoreHorizontalIcon","style","xmlns","width","height","viewBox","d","fill","DenseMenuItem","Icon","rest","dense","icon","color","colors","grey600","relativePeriodDateSelector","createSelector","created","dialogIsOpen","setDialogIsOpen","toggleMenu","downloadImage","formData","URLSearchParams","append","blob","api","fetch","method","body","headers","Headers","defaultHeaders","res","apiDownloadImage","URL","createObjectURL","open","downloadData","idScheme","analytics","request","fromModel","withFormat","withShowHierarchy","withHierarchyMeta","withIncludeMetadataDetails","withIncludeNumDen","withPath","withOutputIdScheme","buildUrl","origin","pathname","buildQuery","searchParams","apiDownloadData","downloadTable","withTableLayout","withRows","withColumns","withHideEmptyColumns","withHideEmptyRows","apiDownloadTable","plainDataSourceSubLevel","menuSectionTitle","label","buttonRef","createRef","ref","createPortal","backdrop","reference","placement","ListAltIcon","ImageIcon","PictureAsPdfIcon","ListIcon","document","HideButton","secondary","NAME","DIMENSION_ITEM","LEGEND_SET","USER","ITEMS","AXIS","nestedFields","extendFields","field","visualizationQuery","resource","sort","visualizationsQuery","visualizationIds","acSetVisualization","acSetCurrent","acSetCurrentFromUi","tSetCurrentFromUi","getState","acSetDimensions","keyBy","sortBy","toLowerCase","tSetDimensions","displayNameProp","onSuccess","apiFetchDimensions","err","acSetSettings","acAddSettings","tAddSettings","extraSettings","systemSettings","s","apiFetchSystemSettings","organisationUnits","apiFetchOrganisationUnitRoot","fetchedSettings","acSetLoadError","acClearLoadError","acSetPluginLoading","EmptyBox","fillRule","PeriodError","DataError","EmptySeries","EmptyCategory","GenericError","transform","VisualizationError","constructor","description","EmptyResponseError","super","NoSeriesError","axisName","getAxisNameByLayoutType","getLayoutTypeByVisType","NoCategoryError","NoSeriesOrCategoryError","columnsAxisName","rowsAxisName","visualizationType","getDisplayNameByVisType","NoPeriodError","getAvailableAxesDescription","NoDataOrDataElementGroupSetError","lockedAxis","getAxisPerLockedDimension","NoDataError","MultipleIndicatorAsFilterError","CombinationDEGSRRError","genericErrorTitle","GenericClientError","GenericServerError","AssignedCategoriesDataElementsError","AssignedCategoriesAsFilterError","axesDescription","userAuthorityQuery","authority","authorityId","acReceivedUser","acSetUserAuthority","tLoadUserAuthority","authorityKey","engine","response","dataEngine","query","variables","getVisualizationState","STATE_EMPTY","STATE_UNSAVED","STATE_SAVED","STATE_DIRTY","logError","tDoLoadVisualization","interpretationId","fromLoader","i","post","apiPostDataStatistics","fromVisualization","fromCurrent","apiFetchVisualization","errorResponse","clearVisualization","tDoSaveVisualization","copy","getVisualizationFromCurrent","mutation","data","skipTranslations","skipSharing","mutate","apiSaveVisualization","status","uid","isSaving","isAxisValid","isValid","axisItem","dimensionIsValid","requireItems","validateDimension","validateAxis","validateLayout","validatePieLayout","validateYearOverYearLayout","validateSingleValueLayout","validatePivotTableLayout","validateDefaultLayout","CURRENT_AO_KEY","hasNamespace","currentUser","dataStore","getNamespace","create","apiSaveAOInUserDataStore","namespace","set","apiSave","apiFetchAOFromUserDataStore","apiFetch","mapDispatchToProps","getCurrent","getCurrentFromUi","onUpdate","fromActions","onLoadingStart","renderComponent","urlContainsCurrentAOKey","pathWithoutInterpretation","tabBar","tabSection","spacers","dp16","grey300","dp8","tabSectionTitle","dp12","grey900","tabSectionOption","tabSectionOptionItem","tabSectionOptionText","dp14","tabSectionOptionToggleable","dp4","tabSectionOptionComplexInline","ownProps","onChange","helpText","toggleable","checked","setChecked","selected","onToggle","inputWidth","AggregationType","FontColorIcon","cx","cy","r","defaultProps","BoldIcon","ItalicIcon","stringToBool","string","fontSizeOptions","getFontSizeOptions","textAlignOptions","getTextAlignOptions","setFontSize","FONT_STYLE_OPTION_FONT_SIZE","textAlign","setTextAlign","FONT_STYLE_OPTION_TEXT_ALIGN","textColor","setTextColor","FONT_STYLE_OPTION_TEXT_COLOR","bold","setBold","FONT_STYLE_OPTION_BOLD","italic","setItalic","FONT_STYLE_OPTION_ITALIC","toString","prefix","fontSizeSelect","textAlignSelect","textColorLabel","e","target","textColorInput","buttonActive","small","inverted","ShowDimensionLabels","SkipRounding","ColTotals","ColSubTotals","RowTotals","RowSubTotals","HideEmptyColumns","HideEmptyRows","NumberType","LegendDisplayStyle","legendSets","paging","LegendSetSelect","loading","placeholder","loadingText","displayName","useDataEngine","setOptions","isLoaded","setIsLoaded","hideStyleOptions","legendEnabled","setLegendEnabled","marginTop","inline","Title","DisplayDensity","FontSize","DigitGroupSeparator","OperatorSelect","tabIndex","inputMaxWidth","ValueInput","MeasureCriteria","onClear","setState","defaultState","op1","v1","op2","v2","split","paddingTop","ParamReportingPeriod","ParamOrganisationUnit","ParamParentOrganisationUnit","Regression","Cumulative","SortOrder","TopLimit","dataApprovalLevels","order","ApprovalLevelSelect","approvalLevelEnabledSelector","enabled","ShowHierarchy","CompletedOnly","AxisOne","y","x","opacity","AxisTwo","AxisThree","AxisFour","availableAxes","allTypes","VIS_TYPE_COLUMN","VIS_TYPE_LINE","SeriesTable","layoutItems","optionItems","showAxisOptions","showTypeOptions","availableTypes","matchedItems","matchedItem","onItemChange","changedItem","renderAxisIcon","renderError","errorContainer","errorIcon","errorTitle","errorDescription","suppressZebraStriping","table","nameColumn","typeColumn","axisColumn","tableHead","tableRow","tableCell","axisIcon","tableBody","itemName","itemType","typeContainer","radioInput","visIcon","visTypeIcons","itemAxis","CumulativeValues","ShowData","HideEmptyRowItems","DomainAxisLabel","FONT_STYLE_HORIZONTAL_AXIS_TITLE","NoSpaceBetweenColumns","HideLegend","FONT_STYLE_LEGEND","HIDE_TITLE_AUTO","HIDE_TITLE_NONE","HIDE_TITLE_CUSTOM","HideTitle","onGroupChange","FONT_STYLE_VISUALIZATION_TITLE","hideTitleSelector","uiOptions","Subtitle","HIDE_SUBTITLE_AUTO","HIDE_SUBTITLE_NONE","HIDE_SUBTITLE_CUSTOM","HideSubtitle","FONT_STYLE_VISUALIZATION_SUBTITLE","hideSubtitleSelector","RegressionType","TargetLineValue","TargetLineLabel","BaseLineValue","BaseLineLabel","hasCustomAxes","content","React","Children","toArray","RangeAxisLabel","FONT_STYLE_VERTICAL_AXIS_TITLE","RangeAxisMinValue","RangeAxisMaxValue","AxisRange","RangeAxisSteps","RangeAxisDecimals","SeriesAxisLabels","FONT_STYLE_SERIES_AXIS_LABELS","CategoryAxisLabels","FONT_STYLE_CATEGORY_AXIS_LABELS","PercentStackedValues","getLinesSection","getVerticalAxisSection","getOptionsByType","columnConfig","VIS_TYPE_BAR","barConfig","yearOverYearConfig","VIS_TYPE_STACKED_COLUMN","VIS_TYPE_STACKED_BAR","stackedColumnConfig","VIS_TYPE_RADAR","lineConfig","VIS_TYPE_AREA","areaConfig","VisualizationOptions","activeTabKey","selectTab","tabKey","generateTabContent","sections","generateTabs","tabs","columnDimensionItems","filteredSeries","seriesItem","layoutItem","optionsConfig","isDualAxisType","activeTabIndex","findIndex","tab","VisualizationOptionsManager","toggleVisualizationOptionsDialog","getPrimaryOnClick","handler","position","large","onOpen","onNew","getOnRename","details","onRenameVisualization","getOnSave","onSaveVisualization","getOnSaveAs","getOnDelete","onDeleteVisualization","getOnError","MenuBar","context","menuBar","updateButton","fileId","fileType","apiObjectName","onRename","onSave","onSaveAs","onDelete","grow","contextTypes","PropTypes","updatedVisualization","updatedCurrent","fromSnackbar","deletedObject","httpStatusCode","parseError","InterpretationIcon","version","stroke","strokeWidth","rx","strokeLinecap","strokeLinejoin","points","titleBar","display","justifyContent","cell","alignItems","background","white","padding","borderRadius","margin","suffix","paddingLeft","grey700","interpretationIcon","marginRight","titleUnsaved","grey500","titleDirty","defaultTitleStyle","defaultInterpretationStyle","getTitleText","titleState","getSuffix","stateProps","dispatchProps","titleText","interpretationDate","titleStyle","getCustomTitleStyle","getPathForOrgUnit","prepareCurrentAnalyticalObject","removeUnnecessaryAttributesFromAnalyticalObject","appendNames","appendDimensionItemNamesToAnalyticalObject","appendDimensionType","dimensionItemType","appendDimensionItemTypeToAnalyticalObject","appendPathsToOrgUnits","appendCompleteParentGraphMap","ColumnIcon","paddingRight","StackedColumnIcon","BarIcon","StackedBarIcon","PieIcon","strokeDasharray","mask","GaugeIcon","LineIcon","AreaIcon","RadarIcon","YearOverYearLineIcon","YearOverYearColumnIcon","SingleValueIcon","GlobeIcon","PivotTableIcon","ListItemIcon","iconType","VisualizationTypeListItem","isSelected","classNames","listItem","listItemActive","listItemDisabled","listItemIcon","listItemText","VisualizationTypeSelector","setUi","onItemClick","listIsOpen","setListIsOpen","toggleList","handleListItemClick","VisTypesList","listContainer","visTypeDisplayNames","event","stopPropagation","currentAnalyticalObject","href","button","marginLeft","cardContainer","dialogId","onAddDimension","AddToLayoutButton","SplitButton","Button","clickHandler","component","maxWidth","DialogManager","onMounted","componentDidUpdate","prevProps","isEqual","dxIds","ouIds","fetchRecommended","ouMounted","debounce","apiFetchRecommendedIds","setRecommendedIds","selectUiItems","setUiItems","forMetadata","forParentGraphMap","ou","addMetadata","addParentGraphMap","obj","closeDialog","getSelectedItems","selectedItems","getOrgUnitsFromIds","renderPersistedContent","dimensionProps","ouItems","renderDialogContent","removeUiItems","onSelect","onDeselect","onReorder","infoBoxMessage","getAxisIdByDimensionId","numberOfItems","axisMaxNumberOfItems","getAxisMaxNumberOfItems","visualiationType","maxNumber","isActive","selectedDimensions","selectedPeriods","filterOutPredefinedDimensions","dynamicContent","dimensionIdsInLayout","addUiItems","DndDimensionItem","isLocked","isDeactivated","isRecommended","onOptionsClick","itemCommonProps","isDragDisabled","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","dragging","notDragging","dimensionItemClone","DndDimensionList","dndIndex","nameContainsFilterText","filterText","selectedIds","isDisabledDimension","disallowedDimensions","isLockedDimension","lockedDimensions","isRecommendedDimension","renderItem","itemProps","onDimensionClick","onDimensionOptionsClick","getDimensionItemsByFilter","fixedDimensions","getFixedDimensions","fixedDim","dynamicDimensions","getDynamicDimensions","dynDim","nonPredefinedDimensions","predefDim","isDropDisabled","droppableProps","wrapper","section","header","list","getDisallowedDimensionsMemo","fromReducers","getDisallowedDimensions","getisLockedDimensionsMemo","getAllLockedDimensionIds","DndDimensionsPanel","onClearFilter","onFilterTextChange","text","disableUnderline","divContainer","flexDirection","backgroundColor","grey050","Dimensions","dimensionMenuAnchorEl","openOptionsMenuForDimension","currentTarget","closeOptionsMenuForDimension","getNumberOfDimensionItems","currentAxisId","getCurrentAxisId","numberOfDimensionItems","isAssignedCategoriesInLayout","layoutHasAssignedCategories","assignedCategoriesItemHandler","axisItemHandler","removeItemHandler","anchorEl","isDimensionInLayout","Interpretations","onInterpretationChange","interpretationUrl","currentInterpretationId","onCurrentInterpretationChange","chartCanvas","loadingCover","left","top","zIndex","legendSetsQuery","orgUnitLevelsQuery","orgUnitLevels","orgUnitsQuery","orgUnits","userDataViewFallback","ArrowUpwardIcon","ArrowDownwardIcon","ContextualMenu","ouData","setOuData","subLevelData","setSubLevelData","doFetchOuData","useCallback","config","doFetch","levelData","levelId","menuItemStyle","minWidth","orgunit","func","ChartPlugin","animation","defaultAnimation","canvasRef","useRef","renderVisualization","visualizationConfig","createVisualization","isSingleValue","onChartGenerated","sourceHeight","sourceWidth","responses","renderCounter","Function","extraOptions","PivotPlugin","onToggleContextualMenu","apiFetchAnalytics","rawResponse","computeGenericPeriodNames","out","genericPeriodNames","periodId","getRequestOptions","entry","ouPath","fetchData","forDashboard","dashboard","yearlySeriesLabels","yearlySeriesReq","yearlySeriesRes","requests","now","currentDay","currentMonth","period","startDate","Promise","apiFetchAnalyticsForYearOverYear","yearlySeries","xAxisLabels","VisualizationPlugin","onDrill","fetchResult","setFetchResult","contextualMenuRef","setContextualMenuRef","contextualMenuConfig","setContextualMenuConfig","closeContextualMenu","ouLevelsResponse","useDataQuery","doFetchData","onResponsesReceived","doFetchLegendSets","legendSetIds","dxId","legendSetId","onLoadingComplete","doFetchAll","contextualMenuRect","virtualContextualMenuElement","getBoundingClientRect","args","mostViewedVisualizations","setMostViewedVisualizations","visualizations","pageSize","eventType","apiFetchMostViewedVisualizations","visualizationsWithType","visWithType","populateMostViewedVisualizations","getErrorContent","outer","inner","guide","guideItem","LoadingMask","progress","Visualization","errorCode","setLoadError","svg","setChart","metaData","drillData","setCurrent","getNewRenderId","renderId","addResizeHandler","addEventListener","componentDidMount","visFilters","visualizationSelector","visFiltersSelector","black","IconButton","ariaOwns","ariaHaspopup","iconButton","aria-owns","aria-haspopup","ChipMenu","handleClick","handleClose","getMenuId","Fragment","tooltip","fontFamily","boxShadow","listStyleType","marginBottom","whiteSpace","overflow","textOverflow","iconWrapper","warningLabel","labels","noneSelected","onlyOneInUse","onlyLimitedNumberInUse","number","displayLimitedAmount","lockedLabel","getNameList","idList","levelString","itemDisplayNames","levelIds","groupIds","hasGroupPrefix","getItemDisplayNames","getWarningLabel","hasNoItemsLabel","renderWarningLabel","itemsToRender","renderItems","DynamicDimensionIcon","AXIS_BORDER_COLOR","AXIS_BACKGROUND_COLOR","baseChip","fontWeight","cursor","minHeight","userSelect","chipWrapper","theme","secondary200","chip","chipEmpty","fixedDimensionIcon","warningIcon","warningIconWrapper","lockIcon","lockIconWrapper","chipLeft","borderTopRightRadius","borderBottomRightRadius","chipRight","borderTopLeftRadius","borderBottomLeftRadius","LockIconWrapper","WarningIconWrapper","Chip","dimensionName","getOpenHandler","Math","random","isDimensionLocked","getMaxNumberOfItems","data-dimensionid","draggable","onDragStart","dataTransfer","setData","JSON","stringify","dataset","dimensionid","activeItemIds","visTypeName","renderTooltipContent","onMouseOver","onMouseOut","dynamicDimensionIcon","renderChipIcon","getItemsLabel","total","renderChipLabelSuffix","hasAxisTooManyItems","axisContainer","layoutStyle","borderColor","borderStyle","borderWidth","axisContainerLeft","borderLeftWidth","letterSpacing","Axis","onDragOver","preventDefault","direction","stylesModule","ct","axisGroup","axisGroupLeft","flexBasis","axisGroupRight","Layout","DefaultAxis","defaultAxisStyles","flex","LAYOUT_TYPE_YEAR_OVER_YEAR","YearOverYearAxisStyles","SinglePeriodSelector","getName","MultiPeriodSelector","YearOverYearSelect","multiple","seriesOptions","len","getFullYear","yearString","getFixedYears","categoryOptions","defaultLayoutStyles","YearOverYearLayoutStyles","onSeriesChange","onCategoryChange","pivotTableLayoutStyles","componentMap","LAYOUT_TYPE_DEFAULT","DefaultLayout","LAYOUT_TYPE_PIE","PieLayout","YearOverYearLayout","LAYOUT_TYPE_PIVOT_TABLE","PivotTableLayout","layoutType","LayoutComponent","TODAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BIMONTHS","BIMONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","USER_ORGUNIT","USER_ORGUNIT_CHILDREN","USER_ORGUNIT_GRANDCHILDREN","App","unlisten","previousLocation","initialLoadIsComplete","locationToConfirm","refetch","loadVisualization","store","pathParts","AO","clearCurrent","setUiFromVisualization","setCurrentFromUi","rootOrgUnit","defaultMetadata","listen","ctrlKey","returnValue","componentWillUnmount","getChildContext","DimensionsPanel","end","childContextTypes","clearSnackbar","addResources","arTranslations","ar_IQTranslations","daTranslations","enTranslations","esTranslations","frTranslations","idTranslations","loTranslations","myTranslations","nbTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","ruTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","viTranslations","zhTranslations","zh_CNTranslations","AppWrapper","thunk","withExtraArgument","metadataMiddleware","Cypress","schemas"],"mappings":"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","file":"static/js/app.24ff87d9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Snackbar_container__3g0Vn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuButton\":\"MenuButton_menuButton__1AF2U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"DownloadMenu_backdrop__3RHIU\",\"menuSectionTitle\":\"DownloadMenu_menuSectionTitle__3DttW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"InterpretationsButton_icon__o3tNb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TextStyle_container__3Vjzk\",\"fontSizeSelect\":\"TextStyle_fontSizeSelect__1coQa\",\"textAlignSelect\":\"TextStyle_textAlignSelect__1BWew\",\"textColorLabel\":\"TextStyle_textColorLabel__3_9vF\",\"textColorInput\":\"TextStyle_textColorInput__RRc04\",\"buttonActive\":\"TextStyle_buttonActive__1w1Vz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nameColumn\":\"SeriesTable_nameColumn__1lKoI\",\"typeColumn\":\"SeriesTable_typeColumn__3IJyD\",\"tableHead\":\"SeriesTable_tableHead__mKvSY\",\"tableCell\":\"SeriesTable_tableCell__19T31\",\"tableBody\":\"SeriesTable_tableBody__3ZBSF\",\"itemName\":\"SeriesTable_itemName__2IJxR\",\"typeContainer\":\"SeriesTable_typeContainer__362YU\",\"visIcon\":\"SeriesTable_visIcon__1knYT\",\"axisIcon\":\"SeriesTable_axisIcon__jMyg-\",\"errorContainer\":\"SeriesTable_errorContainer__3RrKX\",\"errorIcon\":\"SeriesTable_errorIcon__2iTpj\",\"errorTitle\":\"SeriesTable_errorTitle__3e3NZ\",\"errorDescription\":\"SeriesTable_errorDescription__2SfGB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuBar\":\"MenuBar_menuBar__3-AXT\",\"updateButton\":\"MenuBar_updateButton__1NS3q\",\"grow\":\"MenuBar_grow__1w_QG\"};","/**\n *\n * @param {Date} value Javascript date\n * @param {String} uiLocale\n * @returns {String}\n */\nconst formatDate = (value = '', uiLocale = 'en') => {\n  if (typeof global.Intl !== 'undefined' && Intl.DateTimeFormat) {\n    return new Intl.DateTimeFormat(uiLocale, {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(new Date(value));\n  }\n\n  return value.substr(0, 19).replace('T', ' ');\n};\n\nexport default formatDate;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AddToLayoutButton_button__8dlEv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notDragging\":\"DndDimensionItem_notDragging__3jgQJ\",\"dragging\":\"DndDimensionItem_dragging__1uXIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionList_container__DCFRx\",\"wrapper\":\"DndDimensionList_wrapper__1gYqU\",\"list\":\"DndDimensionList_list__1sErz\",\"header\":\"DndDimensionList_header__Ugsfp\",\"section\":\"DndDimensionList_section__1KL69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionsPanel_container__1gaeS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"StartScreen_outer__2nbkE\",\"inner\":\"StartScreen_inner__2exeL\",\"errorContainer\":\"StartScreen_errorContainer__u2dgL\",\"errorIcon\":\"StartScreen_errorIcon__1QTyz\",\"errorTitle\":\"StartScreen_errorTitle__2Ksw9\",\"errorDescription\":\"StartScreen_errorDescription__syq9m\",\"title\":\"StartScreen_title__2-0vP\",\"section\":\"StartScreen_section__3ITr1\",\"guide\":\"StartScreen_guide__d793i\",\"guideItem\":\"StartScreen_guideItem__13mvT\",\"visualization\":\"StartScreen_visualization__3FqSm\",\"visIcon\":\"StartScreen_visIcon__2SFAA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progress\":\"LoadingMask_progress__2bHzE\",\"outer\":\"LoadingMask_outer__d-GDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconButton\":\"IconButton_iconButton__2bUtk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"DefaultAxis_content__VAbLV\"};","export const SYSTEM_SETTINGS = ['keyDateFormat', 'keyAnalysisRelativePeriod', 'keyAnalysisDigitGroupSeparator', 'keyIgnoreAnalyticsApprovalYearThreshold'];\nexport const extractUserSettings = settings => {\n  const nameProp = settings.keyAnalysisDisplayProperty;\n  return {\n    displayNameProperty: nameProp === 'name' ? 'displayName' : 'displayShortName',\n    uiLocale: settings.keyUiLocale\n  };\n};","// Helper functions\nexport const onError = error => console.log('Error: ', error);","import { createHashHistory } from 'history';\nexport default createHashHistory();","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nimport { init as d2Init, config as d2Config, getUserSettings } from 'd2';\nimport { extractUserSettings } from './modules/settings';\nimport { apiFetchOrganisationUnitLevels } from './api/organisationUnits';\nimport history from './modules/history';\nimport { Layer, CenteredContent, CircularLoader } from '@dhis2/ui';\n\nconst configI18n = async userSettings => {\n  const uiLocale = userSettings.uiLocale; // TODO: Remove and port to modern i18n\n\n  if (uiLocale && uiLocale !== 'en') {\n    d2Config.i18n.sources.add(`./i18n_old/i18n_module_${uiLocale}.properties`);\n  }\n\n  d2Config.i18n.sources.add('./i18n_old/i18n_module_en.properties');\n};\n\nconst initD2 = async ({\n  baseUrl,\n  apiVersion\n}, initConfig) => {\n  const apiUrl = `${baseUrl}/api/${apiVersion}`;\n  d2Config.baseUrl = apiUrl;\n  const userSettings = extractUserSettings(await getUserSettings());\n  await configI18n(userSettings);\n  const d2 = await d2Init({ ...initConfig,\n    baseUrl: apiUrl\n  });\n  const ouLevels = await apiFetchOrganisationUnitLevels();\n  return {\n    location: history.location,\n    baseUrl,\n    d2,\n    userSettings,\n    ouLevels\n  };\n};\n\nexport const D2Shim = ({\n  children,\n  ...initConfig\n}) => {\n  const appConfig = useConfig();\n  const [params, setParams] = useState(null);\n  useEffect(() => {\n    initD2(appConfig, initConfig).then(setParams);\n  }, []);\n  /* eslint-disable-line react-hooks/exhaustive-deps */\n\n  if (!params) {\n    return <Layer translucent>\n                <CenteredContent>\n                    <CircularLoader />\n                </CenteredContent>\n            </Layer>;\n  }\n\n  return children(params);\n};\nD2Shim.propTypes = {\n  children: PropTypes.func\n};","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const apiFetchOrganisationUnitRoot = () => {\n  const endPoint = '/organisationUnits';\n  const fields = ['id', 'displayName', 'name'];\n  const url = `${endPoint}?paging=false&userDataViewFallback=true&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnits\n  }) => organisationUnits[0]).catch(onError);\n};\n/**\n * Fetch organisation unit levels\n * @returns {Promise}\n */\n\nexport const apiFetchOrganisationUnitLevels = () => {\n  const endPoint = '/organisationUnitLevels';\n  const fields = ['id', 'name', 'displayName', 'level'];\n  const url = `${endPoint}?paging=false&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnitLevels\n  }) => organisationUnitLevels).catch(onError);\n};","export const SET_VISUALIZATION = 'SET_VISUALIZATION';\nexport const CLEAR_VISUALIZATION = 'CLEAR_VISUALIZATION';\nexport const DEFAULT_VISUALIZATION = null;\nexport default ((state = DEFAULT_VISUALIZATION, action) => {\n  switch (action.type) {\n    case SET_VISUALIZATION:\n      {\n        return action.value;\n      }\n\n    case CLEAR_VISUALIZATION:\n      {\n        return DEFAULT_VISUALIZATION;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetVisualization = state => state.visualization;\nexport const sGetInterpretations = state => state.visualization ? state.visualization.interpretations : [];","import pick from 'lodash-es/pick';\nexport const options = {\n  baseLineLabel: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  baseLineValue: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  // colorSet:\n  cumulativeValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  domainAxisLabel: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRowItems: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  hideLegend: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  noSpaceBetweenColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  percentStackedValues: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rangeAxisDecimals: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  rangeAxisLabel: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  rangeAxisMaxValue: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  rangeAxisMinValue: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  rangeAxisSteps: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  regressionType: {\n    defaultValue: 'NONE',\n    requestable: false,\n    savable: true\n  },\n  showData: {\n    defaultValue: true,\n    requestable: false,\n    savable: true\n  },\n  targetLineLabel: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  targetLineValue: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  aggregationType: {\n    defaultValue: 'DEFAULT',\n    requestable: true,\n    savable: true\n  },\n  completedOnly: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  hideSubtitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideTitle: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  sortOrder: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  },\n  subtitle: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  title: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  series: {\n    defaultValue: [],\n    requestable: false,\n    savable: true\n  },\n  fontStyle: {\n    defaultValue: {},\n    requestable: false,\n    savable: true\n  },\n  // only for PT\n  colTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  colSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  rowSubTotals: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  showDimensionLabels: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyColumns: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  hideEmptyRows: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  skipRounding: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  numberType: {\n    defaultValue: 'VALUE',\n    requestable: false,\n    savable: true\n  },\n  showHierarchy: {\n    defaultValue: false,\n    requestable: true,\n    savable: true\n  },\n  legendSet: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: true\n  },\n  legendDisplayStrategy: {\n    defaultValue: 'FIXED',\n    requestable: false,\n    savable: true\n  },\n  legendDisplayStyle: {\n    defaultValue: 'FILL',\n    requestable: false,\n    savable: true\n  },\n  displayDensity: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  fontSize: {\n    defaultValue: 'NORMAL',\n    requestable: false,\n    savable: true\n  },\n  digitGroupSeparator: {\n    defaultValue: 'SPACE',\n    requestable: false,\n    savable: true\n  },\n  approvalLevel: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: false\n  },\n  // these are stored in the AO under reportingParams\n  reportingPeriod: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  organisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  parentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  // not exposed in UI\n  grandParentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  regression: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  cumulative: {\n    defaultValue: false,\n    requestable: false,\n    savable: true\n  },\n  measureCriteria: {\n    defaultValue: undefined,\n    requestable: true,\n    savable: true\n  },\n  topLimit: {\n    defaultValue: '0',\n    requestable: false,\n    savable: true\n  }\n};\nexport const computedOptions = {\n  baseLine: {\n    defaultValue: false,\n    requestable: false,\n    savable: false\n  },\n  targetLine: {\n    defaultValue: false,\n    requestable: false,\n    savable: false\n  },\n  axisRange: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: false\n  },\n  legend: {\n    defaultValue: undefined,\n    requestable: false,\n    savable: false\n  }\n};\nexport default options;\nexport const getOptionsForUi = () => {\n  return Object.entries({ ...options,\n    ...computedOptions\n  }).reduce((map, [option, props]) => {\n    map[option] = props.defaultValue;\n    return map;\n  }, {});\n};\nexport const getOptionsForRequest = () => {\n  return Object.entries(options).filter(entry => entry[1].requestable // entry = [option, props]\n  );\n};\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n  return Boolean(optionsFromVisualization[prop] && optionsFromVisualization[prop] !== options[prop].defaultValue);\n};\n\nexport const getOptionsFromVisualization = visualization => {\n  const optionsFromVisualization = { ...getOptionsForUi(),\n    ...pick(visualization, Object.keys(options))\n  };\n  optionsFromVisualization.baseLine = isNotDefault(optionsFromVisualization, 'baseLineLabel') || isNotDefault(optionsFromVisualization, 'baseLineValue');\n  optionsFromVisualization.targetLine = isNotDefault(optionsFromVisualization, 'targetLineLabel') || isNotDefault(optionsFromVisualization, 'targetLineValue'); // nested options under reportingParams\n\n  if (visualization.reportingParams) {\n    optionsFromVisualization.organisationUnit = visualization.reportingParams.organisationUnit;\n    optionsFromVisualization.reportingPeriod = visualization.reportingParams.reportingPeriod;\n    optionsFromVisualization.parentOrganisationUnit = visualization.reportingParams.parentOrganisationUnit;\n    optionsFromVisualization.grandParentOrganisationUnit = visualization.reportingParams.grandParentOrganisationUnit;\n  } // cast option values from Number for some options\n\n\n  ;\n  ['baseLineValue', 'targetLineValue', 'sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n      optionsFromVisualization[option] = String(visualization[option]);\n    }\n  });\n  return optionsFromVisualization;\n};","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, getAxisMaxNumberOfDimensions, getAvailableAxes, isAxisFull, getTransferableDimension } from '@dhis2/analytics'; // Names for dnd sources\n\nexport const SOURCE_DIMENSIONS = 'dimensions'; // Layout utility functions\n// Exclude one or many dimensions from layout\n\nexport const getFilteredLayout = (layout, excludedIds) => {\n  const ids = Array.isArray(excludedIds) ? excludedIds : [excludedIds];\n  return {\n    [AXIS_ID_COLUMNS]: layout[AXIS_ID_COLUMNS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_ROWS]: layout[AXIS_ID_ROWS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_FILTERS]: layout[AXIS_ID_FILTERS].filter(dim => !ids.includes(dim))\n  };\n}; // Accepts layout: { columns: ['dx'] }\n// Returns inverse layout: { dx: 'columns' }\n\nexport const getInverseLayout = layout => {\n  const entries = Object.entries(layout);\n  const map = {};\n  entries.forEach(([axisId, dimensionIds]) => {\n    dimensionIds.forEach(id => {\n      map[id] = axisId;\n    });\n  });\n  return map;\n}; // Accepts layout and transfer object\n// Returns transfer with possible retransfers\n\nexport const getRetransfer = (layout, transfer, visType) => {\n  const inverseLayout = getInverseLayout(layout);\n  const dimensionIds = Object.keys(transfer);\n  const retransfer = {};\n  dimensionIds.forEach(id => {\n    const sourceAxis = inverseLayout[id] || null;\n    const destinationAxisId = transfer[id].axisId;\n    const dimensionsAtDestination = layout[destinationAxisId] || [];\n\n    if (isAxisFull(visType, destinationAxisId, dimensionsAtDestination.length)) {\n      const transferableDimension = getTransferableDimension(visType, destinationAxisId, layout[destinationAxisId]);\n\n      if (transferableDimension) {\n        const axisId = sourceAxis ? sourceAxis : getAvailableAxes(visType).find(axis => !getAxisMaxNumberOfDimensions(visType, axis));\n        retransfer[transferableDimension] = {\n          axisId\n        };\n      }\n    }\n  });\n  return retransfer;\n};","export const BASE_FIELD_NAME = 'name';\nexport const BASE_FIELD_TYPE = 'type';\nexport const BASE_FIELD_YEARLY_SERIES = 'yearlySeries';\n\nconst getFieldObject = (name, props = {}) => ({\n  [BASE_FIELD_NAME]: name,\n  ...props\n}); // fields by type\n\n\nexport const fieldsByType = {\n  reportTable: [getFieldObject('cumulative', {\n    option: true\n  }), getFieldObject('hideEmptyColumns', {\n    option: true\n  }), getFieldObject('legendDisplayStyle', {\n    option: true\n  }), getFieldObject('measureCriteria', {\n    option: true\n  }), getFieldObject('numberType', {\n    option: true\n  }), getFieldObject('regression', {\n    option: true\n  }), getFieldObject('reportingParams', {\n    option: true\n  }), getFieldObject('skipRounding', {\n    option: true\n  })],\n  chart: [getFieldObject('category', {\n    excluded: true\n  }), getFieldObject(BASE_FIELD_YEARLY_SERIES)],\n  eventReport: [getFieldObject('dataType')],\n  reportTable_eventReport: [getFieldObject('colSubTotals', {\n    option: true\n  }), getFieldObject('colTotals', {\n    option: true\n  }), getFieldObject('displayDensity', {\n    option: true\n  }), getFieldObject('fontSize', {\n    option: true\n  }), getFieldObject('hideEmptyRows', {\n    option: true\n  }), getFieldObject('rowSubTotals', {\n    option: true\n  }), getFieldObject('rowTotals', {\n    option: true\n  }), getFieldObject('showDimensionLabels', {\n    option: true\n  }), getFieldObject('showHierarchy', {\n    option: true\n  })],\n  chart_eventChart: [getFieldObject('baseLineLabel', {\n    option: true\n  }), getFieldObject('baseLineValue', {\n    option: true\n  }), getFieldObject('colorSet', {\n    option: true\n  }), getFieldObject('cumulativeValues', {\n    option: true\n  }), getFieldObject('domainAxisLabel', {\n    option: true\n  }), getFieldObject('fontStyle', {\n    option: true\n  }), getFieldObject('hideEmptyRowItems', {\n    option: true\n  }), getFieldObject('hideLegend', {\n    option: true\n  }), getFieldObject('noSpaceBetweenColumns', {\n    option: true\n  }), getFieldObject('percentStackedValues', {\n    option: true\n  }), getFieldObject('rangeAxisDecimals', {\n    option: true\n  }), getFieldObject('rangeAxisLabel', {\n    option: true\n  }), getFieldObject('rangeAxisMaxValue', {\n    option: true\n  }), getFieldObject('rangeAxisMinValue', {\n    option: true\n  }), getFieldObject('rangeAxisSteps', {\n    option: true\n  }), getFieldObject('regressionType', {\n    option: true\n  }), getFieldObject('series', {\n    option: true\n  }), getFieldObject('showData', {\n    option: true\n  }), getFieldObject('targetLineLabel', {\n    option: true\n  }), getFieldObject('targetLineValue', {\n    option: true\n  }), getFieldObject(BASE_FIELD_TYPE, {\n    option: true\n  })],\n  eventReport_eventChart: [getFieldObject('attributeValueDimension'), getFieldObject('collapseDataDimensions'), getFieldObject('dataElementValueDimension'), getFieldObject('endDate'), getFieldObject('eventStatus', {\n    option: true\n  }), getFieldObject('hideNaData', {\n    option: true\n  }), getFieldObject('outputType', {\n    option: true\n  }), getFieldObject('program'), getFieldObject('programStage'), getFieldObject('programStatus', {\n    option: true\n  }), getFieldObject('startDate'), getFieldObject('value')],\n  reportTable_chart_eventReport: [getFieldObject('legendDisplayStrategy', {\n    option: true\n  }), getFieldObject('legendSet', {\n    option: true\n  })],\n  reportTable_eventReport_eventChart: [getFieldObject('columnDimensions', {\n    excluded: true\n  }), getFieldObject('rowDimensions', {\n    excluded: true\n  })],\n  reportTable_chart_eventReport_eventChart: [getFieldObject('access'), getFieldObject('aggregationType', {\n    option: true\n  }), getFieldObject('attributeDimensions', {\n    excluded: true\n  }), getFieldObject('attributeValues', {\n    excluded: true\n  }), getFieldObject('categoryDimensions', {\n    excluded: true\n  }), getFieldObject('categoryOptionGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('code', {\n    excluded: true\n  }), getFieldObject('columns'), getFieldObject('completedOnly', {\n    option: true\n  }), getFieldObject('created'), getFieldObject('dataDimensionItems', {\n    excluded: true\n  }), getFieldObject('dataElementDimensions', {\n    excluded: true\n  }), getFieldObject('dataElementGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('description'), getFieldObject('digitGroupSeparator'), getFieldObject('displayDescription'), getFieldObject('displayName'), getFieldObject('displayShortName'), getFieldObject('externalAccess', {\n    excluded: true\n  }), getFieldObject('favorite'), getFieldObject('favorites'), getFieldObject('filterDimensions', {\n    excluded: true\n  }), getFieldObject('filters'), getFieldObject('hideSubtitle', {\n    option: true\n  }), getFieldObject('hideTitle', {\n    option: true\n  }), getFieldObject('href', {\n    excluded: true\n  }), getFieldObject('id'), getFieldObject('interpretations'), getFieldObject('itemOrganisationUnitGroups', {\n    excluded: true\n  }), getFieldObject('lastUpdated'), getFieldObject('lastUpdatedBy'), getFieldObject('name'), getFieldObject('organisationUnitGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('organisationUnitLevels', {\n    excluded: true\n  }), getFieldObject('organisationUnits', {\n    excluded: true\n  }), getFieldObject('parentGraphMap'), getFieldObject('periods', {\n    excluded: true\n  }), getFieldObject('programIndicatorDimensions', {\n    excluded: true\n  }), getFieldObject('publicAccess'), getFieldObject('relativePeriods', {\n    excluded: true\n  }), getFieldObject('rows'), getFieldObject('shortName'), getFieldObject('sortOrder', {\n    option: true\n  }), getFieldObject('subscribed'), getFieldObject('subscribers'), getFieldObject('subtitle', {\n    option: true\n  }), getFieldObject('timeField'), getFieldObject('title', {\n    option: true\n  }), getFieldObject('topLimit', {\n    option: true\n  }), getFieldObject('translations'), getFieldObject('user'), getFieldObject('userAccesses'), getFieldObject('userGroupAccesses'), getFieldObject('userOrganisationUnit', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitChildren', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitGrandChildren', {\n    excluded: true\n  })]\n};\nfieldsByType.visualization = [...fieldsByType.reportTable, ...fieldsByType.chart, ...fieldsByType.reportTable_eventReport, ...fieldsByType.chart_eventChart, ...fieldsByType.reportTable_chart_eventReport, ...fieldsByType.reportTable_eventReport_eventChart, ...fieldsByType.reportTable_chart_eventReport_eventChart]; // actions\n\nexport const extractName = propObj => propObj[BASE_FIELD_NAME];\nexport const markExcluded = fieldObj => fieldObj.excluded === true ? { ...fieldObj,\n  [BASE_FIELD_NAME]: `!${fieldObj[BASE_FIELD_NAME]}`\n} : fieldObj;\n/* eslint-disable-next-line max-params */\n\nexport const moveExcludedToEnd = (acc, current, curIndex, array) => {\n  !acc && (acc = array.slice());\n  current.charAt(0) === '!' && acc.push(acc.shift());\n  return acc;\n}; // getters\n\nexport const getAllFieldObjectsByType = type => Object.entries(fieldsByType).reduce((fields, [key, value]) => key.includes(type) ? fields.concat(value) : fields, []);","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD } from '@dhis2/analytics'; // Transform from ui.layout to default layout format\n\nexport const defaultLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: columns.length ? [columns.shift()] : columns,\n    [AXIS_ID_ROWS]: rows.length ? [rows.shift()] : rows,\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows]\n  };\n}; // Transform from ui.layout to pie layout format\n\nexport const pieLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: columns.length ? [columns.shift()] : rows.length ? [rows.shift()] : [],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows]\n  };\n}; // Transform from ui.layout to year on year layout format\n\nexport const yearOverYearLayoutAdapter = layout => ({\n  [AXIS_ID_COLUMNS]: [],\n  [AXIS_ID_ROWS]: [],\n  [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...layout[AXIS_ID_COLUMNS], ...layout[AXIS_ID_ROWS]].filter(dim => dim !== DIMENSION_ID_PERIOD)\n}); // Transform from ui.layout to single value layout format\n\nexport const singleValueLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: [DIMENSION_ID_DATA],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows].filter(dim => dim !== DIMENSION_ID_DATA)\n  };\n};","import pick from 'lodash-es/pick';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, dimensionCreate, layoutGetDimensionItems, layoutReplaceDimension, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport options from './options';\nimport './layout';\nimport { BASE_FIELD_TYPE, BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { pieLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\n\nconst hasItems = (object, id) => Array.isArray(object[id]) && object[id].length;\n\nexport const getAxesFromUi = ui => Object.entries(ui.layout).reduce((layout, [axisId, dimensionIds]) => ({ ...layout,\n  [axisId]: dimensionIds.map(dimensionId => hasItems(ui.itemsByDimension, dimensionId) || getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS) ? dimensionCreate(dimensionId, ui.itemsByDimension[dimensionId]) : null).filter(dim => dim !== null)\n}), {});\nexport const getOptionsFromUi = ui => {\n  const optionsFromUi = pick(ui.options, Object.keys(options));\n\n  if (ui.options.targetLine === false) {\n    optionsFromUi.targetLineLabel = options.targetLineLabel.defaultValue;\n    optionsFromUi.targetLineValue = options.targetLineValue.defaultValue;\n  }\n\n  if (ui.options.baseLine === false) {\n    optionsFromUi.baseLineLabel = options.baseLineLabel.defaultValue;\n    optionsFromUi.baseLineValue = options.baseLineValue.defaultValue;\n  } // approvalLevel is stored as an object { id, level, displayName }\n  // only pass approvalLevel id\n\n\n  if (optionsFromUi.approvalLevel !== options.approvalLevel.defaultValue) {\n    optionsFromUi.approvalLevel = optionsFromUi.approvalLevel.id;\n  } // nested options under reportingParams\n\n\n  optionsFromUi.reportingParams = {};\n  ['organisationUnit', 'reportingPeriod', 'parentOrganisationUnit', 'grandParentOrganisationUnit'].forEach(option => {\n    optionsFromUi.reportingParams[option] = optionsFromUi[option];\n    delete optionsFromUi[option];\n  }) // cast option values to Number for some options\n  ;\n  ['baseLineValue', 'targetLineValue', 'sortOrder', 'topLimit', 'rangeAxisMinValue', 'rangeAxisMaxValue'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(optionsFromUi, option)) {\n      if (optionsFromUi[option] !== undefined) {\n        optionsFromUi[option] = Number(optionsFromUi[option]);\n      }\n    }\n  });\n  return optionsFromUi;\n};\nexport const getSeriesFromUi = ui => {\n  return ui.options.series ? [...ui.options.series] : [];\n};\nexport const getSingleValueCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...singleValueLayoutAdapter(action.value.layout)\n    }\n  };\n  const axesFromUi = getAxesFromUi(ui); // only save the first dx item\n\n  const dxItems = layoutGetDimensionItems(axesFromUi, DIMENSION_ID_DATA);\n  const singleValueAxesFromUi = layoutReplaceDimension(axesFromUi, DIMENSION_ID_DATA, [dxItems[0]]);\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...singleValueAxesFromUi,\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getPieCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...pieLayoutAdapter(action.value.layout)\n    }\n  };\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...getAxesFromUi(ui),\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getYearOverYearCurrentFromUi = (state, action) => {\n  const ui = action.value;\n  const dxItem = ui.itemsByDimension[DIMENSION_ID_DATA] ? [ui.itemsByDimension[DIMENSION_ID_DATA][0]] : [];\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    [AXIS_ID_COLUMNS]: [dimensionCreate(DIMENSION_ID_DATA, dxItem)],\n    [AXIS_ID_ROWS]: [dimensionCreate(DIMENSION_ID_PERIOD, ui.yearOverYearCategory)],\n    [AXIS_ID_FILTERS]: getAxesFromUi(ui).filters.filter(f => ![DIMENSION_ID_DATA, DIMENSION_ID_PERIOD].includes(f.dimension)),\n    [[BASE_FIELD_YEARLY_SERIES]]: ui.yearOverYearSeries,\n    ...getOptionsFromUi(ui)\n  };\n};","import { VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport { getAxesFromUi, getOptionsFromUi, getPieCurrentFromUi, getYearOverYearCurrentFromUi, getSingleValueCurrentFromUi, getSeriesFromUi } from '../modules/current';\nimport { BASE_FIELD_TYPE } from '../modules/fields/baseFields';\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const SET_CURRENT_FROM_UI = 'SET_CURRENT_FROM_UI';\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\nexport const DEFAULT_CURRENT = null;\n\nconst getDefaultFromUi = (state, action) => {\n  const axesFromUi = getAxesFromUi(action.value);\n  const optionsFromUi = getOptionsFromUi(action.value);\n  const series = getSeriesFromUi(action.value);\n  return { ...state,\n    [BASE_FIELD_TYPE]: action.value.type,\n    ...axesFromUi,\n    ...optionsFromUi,\n    series\n  };\n};\n\nexport default ((state = DEFAULT_CURRENT, action) => {\n  switch (action.type) {\n    case SET_CURRENT:\n      {\n        return action.value;\n      }\n\n    case SET_CURRENT_FROM_UI:\n      {\n        switch (action.value.type) {\n          case VIS_TYPE_PIE:\n            return getPieCurrentFromUi(state, action);\n\n          case VIS_TYPE_SINGLE_VALUE:\n          case VIS_TYPE_GAUGE:\n            return getSingleValueCurrentFromUi(state, action);\n\n          case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n          case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n            return getYearOverYearCurrentFromUi(state, action);\n\n          default:\n            {\n              return getDefaultFromUi(state, action);\n            }\n        }\n      }\n\n    case CLEAR_CURRENT:\n      return DEFAULT_CURRENT;\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetCurrent = state => state.current;\nexport const sGetCurrentFromUi = state => {\n  const ui = state.ui;\n\n  switch (ui.type) {\n    case VIS_TYPE_PIE:\n      return getPieCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return getSingleValueCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return getYearOverYearCurrentFromUi(state, {\n        value: ui\n      });\n\n    default:\n      {\n        return getDefaultFromUi(state, {\n          value: ui\n        });\n      }\n  }\n};","import { getPredefinedDimensions } from '@dhis2/analytics';\nexport const SET_DIMENSIONS = 'SET_DIMENSIONS';\nexport const SET_SELECTED_DIMENSION = 'SET_SELECTED_DIMENSION';\nexport const DEFAULT_DIMENSIONS = getPredefinedDimensions();\nexport default ((state = DEFAULT_DIMENSIONS, action) => {\n  switch (action.type) {\n    case SET_DIMENSIONS:\n      {\n        return { ...DEFAULT_DIMENSIONS,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\n/**\n * Selector which returns dimensions from the state object\n * If state.dimensions is null, then the dimensions api request\n * has not yet completed. If state.dimensions is an empty object\n * then the dimensions api request is complete, and there are no\n * dimensions\n *\n * @function\n * @param {Object} state The current state\n * @returns {Array}\n */\n\nexport const sGetDimensions = state => state.dimensions;","export const SET_RECOMMENDED_IDS = 'SET_RECOMMENDED_IDS';\nexport const DEFAULT_RECOMMENDED_IDS = [];\nexport default ((state = DEFAULT_RECOMMENDED_IDS, action) => {\n  switch (action.type) {\n    case SET_RECOMMENDED_IDS:\n      {\n        return action.value || DEFAULT_RECOMMENDED_IDS;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetRecommendedIds = state => state.recommendedIds;","import { ouIdHelper, DIMENSION_ID_ORGUNIT, dimensionGetItems, layoutReplaceDimension, layoutGetDimension } from '@dhis2/analytics';\n\nconst isOuLevelIntId = id => ouIdHelper.hasLevelPrefix(id) ? Number.isInteger(parseInt(ouIdHelper.removePrefix(id), 10)) : false;\n\nconst replaceNumericOuLevelWithUid = ouLevels => item => {\n  if (!isOuLevelIntId(item.id)) {\n    return item;\n  }\n\n  const ouIntId = parseInt(ouIdHelper.removePrefix(item.id), 10);\n  const ouUid = ouLevels.find(l => parseInt(l.level, 10) === ouIntId).id;\n  return Object.assign({}, item, {\n    id: ouIdHelper.addLevelPrefix(ouUid)\n  });\n};\n\nexport const convertOuLevelsToUids = (ouLevels, layout) => {\n  const ouDimension = layoutGetDimension(layout, DIMENSION_ID_ORGUNIT);\n  const hasNumericOuLevels = ouDimension && dimensionGetItems(ouDimension).some(item => isOuLevelIntId(item.id));\n\n  if (hasNumericOuLevels) {\n    const replaceNumericOuLevel = replaceNumericOuLevelWithUid(ouLevels);\n    const updatedOuItems = dimensionGetItems(ouDimension).map(replaceNumericOuLevel);\n    return layoutReplaceDimension(layout, DIMENSION_ID_ORGUNIT, updatedOuItems);\n  }\n\n  return layout;\n};\nexport const removeLastPathSegment = path => {\n  // if root path, then return unprocessed path\n  if (path.match(/\\//g).length === 1) {\n    return path;\n  }\n\n  return path.substr(0, path.lastIndexOf('/'));\n};\n/**\n * Get org unit path by ou id\n * @param id\n * @param metadata\n * @param parentGraphMap\n * @returns {*}\n */\n\nexport const getOuPath = (id, metadata, parentGraphMap) => {\n  if (metadata[id] && metadata[id].path) {\n    return metadata[id].path;\n  } // for root org units\n\n\n  if (parentGraphMap[id] === id || parentGraphMap[id] === '') {\n    return `/${id}`;\n  }\n\n  return parentGraphMap[id] ? `/${parentGraphMap[id]}/${id}` : undefined;\n};","import { DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject, layoutGetDimensionIdItemIdsObject, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, defaultVisType, isYearOverYear } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nimport { getOptionsFromVisualization } from './options';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { defaultLayoutAdapter, pieLayoutAdapter, yearOverYearLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\nimport { removeLastPathSegment } from './orgUnit'; // Transform from backend model to store.ui format\n\nexport const getUiFromVisualization = (vis, currentState = {}) => ({ ...currentState,\n  type: vis.type || defaultVisType,\n  options: getOptionsFromVisualization(vis),\n  layout: layoutGetAxisIdDimensionIdsObject(vis),\n  itemsByDimension: layoutGetDimensionIdItemIdsObject(vis),\n  parentGraphMap: vis.parentGraphMap || getParentGraphMapFromVisualization(vis) || currentState.parentGraphMap,\n  yearOverYearSeries: isYearOverYear(vis.type) && vis[BASE_FIELD_YEARLY_SERIES] ? vis[BASE_FIELD_YEARLY_SERIES] : currentState.yearOverYearSeries,\n  yearOverYearCategory: isYearOverYear(vis.type) ? vis.rows[0].items.map(item => item.id) : currentState.yearOverYearCategory\n}); // Transform from store.ui to default format\n\nexport const defaultUiAdapter = ui => ({ ...ui,\n  layout: defaultLayoutAdapter(ui.layout)\n}); // Transform from store.ui to pie format\n\nexport const pieUiAdapter = ui => ({ ...ui,\n  layout: pieLayoutAdapter(ui.layout)\n}); // Transform from store.ui to year on year format\n\nexport const yearOverYearUiAdapter = ui => {\n  const state = Object.assign({}, ui);\n  const items = Object.assign({}, state.itemsByDimension);\n  delete items[DIMENSION_ID_PERIOD];\n  return { ...state,\n    layout: yearOverYearLayoutAdapter(ui.layout),\n    itemsByDimension: items\n  };\n};\nexport const singleValueUiAdapter = ui => ({ ...ui,\n  layout: singleValueLayoutAdapter(ui.layout)\n});\nexport const getAdaptedUiByType = ui => {\n  switch (ui.type) {\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        return yearOverYearUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIE:\n      {\n        return pieUiAdapter(ui);\n      }\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      {\n        return singleValueUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return ui;\n\n    default:\n      return defaultUiAdapter(ui);\n  }\n};\nexport const getParentGraphMapFromVisualization = vis => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(vis);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n\n  if (!ouAxis) {\n    return {};\n  }\n\n  const parentGraphMap = {};\n  const ouDimension = vis[ouAxis].find(dimension => dimension.dimension === DIMENSION_ID_ORGUNIT);\n  ouDimension.items.filter(orgUnit => orgUnit.path).forEach(orgUnit => {\n    if ('/' + orgUnit.id === orgUnit.path) {\n      // root org unit case\n      parentGraphMap[orgUnit.id] = '';\n    } else {\n      const path = removeLastPathSegment(orgUnit.path);\n      parentGraphMap[orgUnit.id] = path[0] === '/' ? path.substr(1) : path;\n    }\n  });\n  return parentGraphMap;\n};\nexport const mergeUiMaps = (destinationMap, sourceMap, propName) => {\n  Object.keys(sourceMap || {}).forEach(key => {\n    if (!(key in destinationMap)) {\n      destinationMap[key] = {};\n    }\n\n    destinationMap[key][propName] = sourceMap[key];\n  });\n};","/*eslint no-unused-vars: [\"error\", { \"ignoreRestSiblings\": true }]*/\nimport castArray from 'lodash-es/castArray';\nimport { DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, DIMENSION_ID_ASSIGNED_CATEGORIES, canDimensionBeAddedToAxis, defaultVisType, defaultFontStyle, deleteFontStyleOption } from '@dhis2/analytics';\nimport { getFilteredLayout, getInverseLayout, getRetransfer } from '../modules/layout';\nimport { getOptionsForUi } from '../modules/options';\nimport { getAdaptedUiByType, getUiFromVisualization } from '../modules/ui';\nexport const SET_UI = 'SET_UI';\nexport const SET_UI_FROM_VISUALIZATION = 'SET_UI_FROM_VISUALIZATION';\nexport const SET_UI_TYPE = 'SET_UI_TYPE';\nexport const SET_UI_OPTIONS = 'SET_UI_OPTIONS';\nexport const SET_UI_FONT_STYLE = 'SET_UI_FONT_STYLE';\nexport const SET_UI_LAYOUT = 'SET_UI_LAYOUT';\nexport const ADD_UI_LAYOUT_DIMENSIONS = 'ADD_UI_LAYOUT_DIMENSIONS';\nexport const REMOVE_UI_LAYOUT_DIMENSIONS = 'REMOVE_UI_LAYOUT_DIMENSIONS';\nexport const SET_UI_ITEMS = 'SET_UI_ITEMS';\nexport const ADD_UI_ITEMS = 'ADD_UI_ITEMS';\nexport const REMOVE_UI_ITEMS = 'REMOVE_UI_ITEMS';\nexport const SET_UI_PARENT_GRAPH_MAP = 'SET_UI_PARENT_GRAPH_MAP';\nexport const ADD_UI_PARENT_GRAPH_MAP = 'ADD_UI_PARENT_GRAPH_MAP';\nexport const SET_UI_ACTIVE_MODAL_DIALOG = 'SET_UI_ACTIVE_MODAL_DIALOG';\nexport const SET_UI_YEAR_ON_YEAR_SERIES = 'SET_UI_YEAR_ON_YEAR_SERIES';\nexport const SET_UI_YEAR_ON_YEAR_CATEGORY = 'SET_UI_YEAR_ON_YEAR_CATEGORY';\nexport const CLEAR_UI = 'CLEAR_UI';\nexport const TOGGLE_UI_RIGHT_SIDEBAR_OPEN = 'TOGGLE_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_RIGHT_SIDEBAR_OPEN = 'SET_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_INTERPRETATION = 'SET_UI_INTERPRETATION';\nexport const CLEAR_UI_INTERPRETATION = 'CLEAR_UI_INTERPRETATION';\nexport const CLEAR_SERIES_TYPE = 'CLEAR_SERIES_TYPE';\nexport const DEFAULT_UI = {\n  type: defaultVisType,\n  options: getOptionsForUi(),\n  layout: {\n    columns: [DIMENSION_ID_DATA],\n    rows: [DIMENSION_ID_PERIOD],\n    filters: [DIMENSION_ID_ORGUNIT]\n  },\n  itemsByDimension: {\n    [DIMENSION_ID_ORGUNIT]: [],\n    [DIMENSION_ID_PERIOD]: []\n  },\n  yearOverYearSeries: [],\n  yearOverYearCategory: [],\n  parentGraphMap: {},\n  activeModalDialog: null,\n  rightSidebarOpen: false,\n  interpretation: {}\n};\nexport const PRESELECTED_YEAR_OVER_YEAR_SERIES = ['THIS_YEAR', 'LAST_YEAR'];\nexport const PRESELECTED_YEAR_OVER_YEAR_CATEGORY = ['MONTHS_THIS_YEAR'];\n\nconst getPreselectedUi = options => {\n  const {\n    rootOrganisationUnit,\n    relativePeriod\n  } = options;\n  const rootOrganisationUnits = [];\n  const parentGraphMap = { ...DEFAULT_UI.parentGraphMap\n  };\n\n  if (rootOrganisationUnit && rootOrganisationUnit.id) {\n    rootOrganisationUnits.push(rootOrganisationUnit.id);\n    parentGraphMap[rootOrganisationUnit.id] = '';\n  }\n\n  return { ...DEFAULT_UI,\n    itemsByDimension: { ...DEFAULT_UI.itemsByDimension,\n      [DIMENSION_ID_ORGUNIT]: rootOrganisationUnits,\n      [DIMENSION_ID_PERIOD]: [relativePeriod]\n    },\n    yearOverYearSeries: PRESELECTED_YEAR_OVER_YEAR_SERIES,\n    yearOverYearCategory: PRESELECTED_YEAR_OVER_YEAR_CATEGORY,\n    parentGraphMap\n  };\n};\n\nexport default ((state = DEFAULT_UI, action) => {\n  switch (action.type) {\n    case SET_UI:\n      {\n        return { ...action.value\n        };\n      }\n\n    case SET_UI_FROM_VISUALIZATION:\n      {\n        return getAdaptedUiByType(getUiFromVisualization(action.value, state));\n      }\n\n    case SET_UI_TYPE:\n      {\n        return { ...state,\n          type: action.value\n        };\n      }\n\n    case SET_UI_OPTIONS:\n      {\n        return { ...state,\n          options: { ...state.options,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_FONT_STYLE:\n      {\n        const {\n          fontStyleKey,\n          option,\n          value\n        } = action.value;\n        let fontStyle = {};\n\n        if (defaultFontStyle[fontStyleKey][option] !== value) {\n          // custom value: save it\n          fontStyle = { ...(state.options.fontStyle || {}),\n            [fontStyleKey]: { ...(state.options.fontStyle || {})[fontStyleKey],\n              [option]: value\n            }\n          };\n        } else {\n          // default value: remove the previous value\n          fontStyle = deleteFontStyleOption(state.options.fontStyle, fontStyleKey, option);\n        }\n\n        return { ...state,\n          options: { ...state.options,\n            fontStyle: { ...fontStyle\n            }\n          }\n        };\n      }\n\n    case SET_UI_LAYOUT:\n      {\n        return { ...state,\n          layout: { ...action.value\n          }\n        };\n      }\n    // action.value: transfer object (dimensionId:axisId) saying what to add where: { ou: 'rows' }\n    // Reducer takes care of swapping (retransfer) if dimension already exists in layout\n\n    case ADD_UI_LAYOUT_DIMENSIONS:\n      {\n        const transfers = { ...action.value,\n          ...getRetransfer(state.layout, action.value, state.type)\n        };\n        let newLayout = state.layout; // Add dimension ids to destination (axisId === null means remove from layout)\n\n        Object.entries(transfers).forEach(([dimensionId, {\n          axisId,\n          index\n        }]) => {\n          if (newLayout[axisId] && canDimensionBeAddedToAxis(state.type, newLayout[axisId], axisId)) {\n            // Filter out transferred dimension id (remove from source)\n            newLayout = getFilteredLayout(newLayout, [dimensionId]);\n\n            if (index === null || index === undefined) {\n              newLayout[axisId].push(dimensionId);\n            } else {\n              newLayout[axisId].splice(index, 0, dimensionId);\n            }\n          }\n        });\n        return { ...state,\n          layout: newLayout\n        };\n      }\n\n    case REMOVE_UI_LAYOUT_DIMENSIONS:\n      {\n        return { ...state,\n          layout: getFilteredLayout(state.layout, action.value)\n        };\n      }\n\n    case SET_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: itemIds\n          }\n        };\n      }\n\n    case ADD_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        const currentItemIds = state.itemsByDimension[dimensionId] || [];\n        const dxItems = [...new Set([...currentItemIds, ...itemIds])];\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case REMOVE_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIdsToRemove\n        } = action.value;\n        const dxItems = (state.itemsByDimension[dimensionId] || []).filter(id => !itemIdsToRemove.includes(id));\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_SERIES:\n      {\n        return { ...state,\n          yearOverYearSeries: action.value || DEFAULT_UI.yearOverYearSeries\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_CATEGORY:\n      {\n        return { ...state,\n          yearOverYearCategory: action.value ? castArray(action.value) : DEFAULT_UI.yearOverYearCategory\n        };\n      }\n\n    case SET_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: action.value\n        };\n      }\n\n    case ADD_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: { ...state.parentGraphMap,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_ACTIVE_MODAL_DIALOG:\n      {\n        return { ...state,\n          activeModalDialog: action.value || DEFAULT_UI.activeModalDialog\n        };\n      }\n\n    case CLEAR_UI:\n      {\n        return getPreselectedUi(action.value);\n      }\n\n    case TOGGLE_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: !state.rightSidebarOpen\n      };\n\n    case SET_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: true\n      };\n\n    case SET_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: action.value\n      };\n\n    case CLEAR_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: DEFAULT_UI.interpretation\n      };\n\n    case CLEAR_SERIES_TYPE:\n      return { ...state,\n        options: { ...state.options,\n          series: state.options.series.map(({\n            type,\n            ...rest\n          }) => rest)\n        }\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetUi = state => state.ui;\nexport const sGetUiType = state => sGetUi(state).type;\nexport const sGetUiOptions = state => sGetUi(state).options;\nexport const sGetUiLayout = state => sGetUi(state).layout;\nexport const sGetUiItems = state => sGetUi(state).itemsByDimension;\nexport const sGetUiYearOverYearSeries = state => sGetUi(state).yearOverYearSeries;\nexport const sGetUiYearOverYearCategory = state => sGetUi(state).yearOverYearCategory;\nexport const sGetUiParentGraphMap = state => sGetUi(state).parentGraphMap;\nexport const sGetUiActiveModalDialog = state => sGetUi(state).activeModalDialog;\nexport const sGetUiRightSidebarOpen = state => sGetUi(state).rightSidebarOpen;\nexport const sGetUiInterpretation = state => sGetUi(state).interpretation;\nexport const sGetAxes = state => sGetUi(state).axes; // Selectors level 2\n\nexport const sGetAxisIdByDimensionId = (state, dimensionId) => (getInverseLayout(sGetUiLayout(state)) || {})[dimensionId];\nexport const sGetUiItemsByDimension = (state, dimension) => sGetUiItems(state)[dimension] || DEFAULT_UI.itemsByDimension[dimension];\nexport const sGetDimensionItemsByAxis = (state, axisId) => sGetUiItemsByDimension(state, (sGetUiLayout(state) || {})[axisId]) || [];\nexport const sGetDimensionIdsFromLayout = state => Object.values(sGetUiLayout(state)).reduce((ids, axisDimensionIds) => ids.concat(axisDimensionIds), []);\nexport const sLayoutHasDimension = (state, dimension) => sGetDimensionIdsFromLayout(state).includes(dimension);\nexport const sLayoutHasAssignedCategories = state => sLayoutHasDimension(state, DIMENSION_ID_ASSIGNED_CATEGORIES);\nexport const sGetAxisSetup = state => {\n  const columns = sGetUiLayout(state).columns;\n  const items = sGetUiItems(state);\n  const axes = sGetAxes(state) || {};\n  return Array.isArray(items[columns[0]]) && items[columns[0]].length ? items[columns[0]].map(id => ({\n    id,\n    axis: id in axes ? axes[id] : 0\n  })) : [];\n};\nexport const sGetUiFontStyle = (state, key) => (sGetUiOptions(state).fontStyle || {})[key];\nexport const sGetConsolidatedUiFontStyle = (state, key) => ({ ...defaultFontStyle[key],\n  ...sGetUiFontStyle(state, key)\n});","export const ADD_METADATA = 'ADD_METADATA';\nexport const DEFAULT_METADATA = {};\nexport default ((state = DEFAULT_METADATA, action) => {\n  switch (action.type) {\n    case ADD_METADATA:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetMetadata = state => state.metadata;","export const SET_SETTINGS = 'SET_SETTINGS';\nexport const ADD_SETTINGS = 'ADD_SETTINGS';\nexport const DEFAULT_SETTINGS = {\n  keyDateFormat: 'yyyy-MM-dd',\n  keyAnalysisRelativePeriod: 'LAST_12_MONTHS',\n  keyAnalysisDigitGroupSeparator: 'SPACE',\n  keyIgnoreAnalyticsApprovalYearThreshold: -1,\n  displayNameProperty: 'displayName',\n  uiLocale: 'en',\n  rootOrganisationUnit: {}\n};\nexport default ((state = DEFAULT_SETTINGS, action) => {\n  switch (action.type) {\n    case SET_SETTINGS:\n      {\n        return Object.assign({}, action.value);\n      }\n\n    case ADD_SETTINGS:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSettings = state => state.settings;\nexport const sGetSettingsDisplayNameProperty = state => sGetSettings(state).displayNameProperty;\nexport const sGetRootOrgUnit = state => sGetSettings(state).rootOrganisationUnit;\nexport const sGetRelativePeriod = state => sGetSettings(state).keyAnalysisRelativePeriod;\nexport const sGetUiLocale = state => sGetSettings(state).uiLocale;","export const RECEIVED_USER = 'RECEIVED_USER';\nexport const SET_USER_AUTHORITY = 'SET_USER_AUTHORITY';\nexport const DEFAULT_USER = {\n  id: '',\n  username: '',\n  uiLocale: '',\n  isSuperuser: false,\n  authorities: {}\n};\nexport default ((state = DEFAULT_USER, action) => {\n  switch (action.type) {\n    case RECEIVED_USER:\n      {\n        return fromD2ToUserObj(action.value);\n      }\n\n    case SET_USER_AUTHORITY:\n      {\n        return { ...state,\n          authorities: { ...state.authorities,\n            ...action.value\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n});\n\nfunction fromD2ToUserObj(d2Object) {\n  return {\n    id: d2Object.id,\n    username: d2Object.username,\n    uiLocale: d2Object.settings.keyUiLocale,\n    isSuperuser: d2Object.authorities.has('ALL')\n  };\n} // Selectors\n\n\nexport const sGetUser = state => state.user;\nexport const sGetUserId = state => sGetUser(state).id;\nexport const sGetUsername = state => sGetUser(state).username;\nexport const sGetIsSuperuser = state => sGetUser(state).isSuperuser;\nexport const sGetUiLocale = state => sGetUser(state).uiLocale;\nexport const sGetUserAuthorities = state => sGetUser(state).authorities;","export const RECEIVED_SNACKBAR_MESSAGE = 'RECEIVED_SNACKBAR_MESSAGE';\nexport const CLEAR_SNACKBAR = 'CLEAR_SNACKBAR';\nexport const DEFAULT_SNACKBAR = {\n  message: null,\n  duration: null\n};\nexport default ((state = DEFAULT_SNACKBAR, action) => {\n  switch (action.type) {\n    case RECEIVED_SNACKBAR_MESSAGE:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    case CLEAR_SNACKBAR:\n      {\n        return DEFAULT_SNACKBAR;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSnackbar = state => state.snackbar;","export const SET_LOAD_ERROR = 'SET_LOAD_ERROR';\nexport const CLEAR_LOAD_ERROR = 'CLEAR_LOAD_ERROR';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_PLUGIN_LOADING = 'SET_PLUGIN_LOADING';\nexport const DEFAULT_LOADING = {\n  isLoading: false,\n  loadingError: null,\n  isPluginLoading: true\n};\nexport default ((state = DEFAULT_LOADING, action) => {\n  switch (action.type) {\n    case SET_LOAD_ERROR:\n      {\n        return { ...state,\n          loadingError: action.value\n        };\n      }\n\n    case CLEAR_LOAD_ERROR:\n      return { ...state,\n        loadingError: DEFAULT_LOADING.loadingError\n      };\n\n    case SET_LOADING:\n      return { ...state,\n        isLoading: action.value\n      };\n\n    case SET_PLUGIN_LOADING:\n      return { ...state,\n        isPluginLoading: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetLoadError = state => state.loader.loadingError;\nexport const sGetIsLoading = state => state.loader.isLoading;\nexport const sGetIsPluginLoading = state => state.loader.isPluginLoading;","export const SET_CHART = 'SET_CHART';\nexport const DEFAULT_CHART = null;\nexport default ((state = DEFAULT_CHART, action) => {\n  switch (action.type) {\n    case SET_CHART:\n      {\n        return action.value;\n      }\n\n    default:\n      return state;\n  }\n});\nexport const sGetChart = state => state.chart;","import { combineReducers } from 'redux';\nimport visualization, * as fromVisualization from './visualization';\nimport current, * as fromCurrent from './current';\nimport dimensions, * as fromDimensions from './dimensions';\nimport recommendedIds, * as fromRecommendedIds from './recommendedIds';\nimport ui, * as fromUi from './ui';\nimport metadata, * as fromMetadata from './metadata';\nimport settings, * as fromSettings from './settings';\nimport user, * as fromUser from './user';\nimport snackbar, * as fromSnackbar from './snackbar';\nimport loader, * as fromLoader from './loader';\nimport chart, * as fromChart from './chart'; // Reducers\n\nexport default combineReducers({\n  visualization,\n  current,\n  dimensions,\n  recommendedIds,\n  ui,\n  metadata,\n  settings,\n  user,\n  snackbar,\n  loader,\n  chart\n}); // Selectors\n\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommendedIds, fromUi, fromMetadata, fromSettings, fromUser, fromSnackbar, fromLoader, fromChart };\nexport const sGetSeriesSetupItems = state => fromUi.sGetAxisSetup(state).map(item => ({\n  dimensionItem: item.id,\n  axis: item.axis,\n  name: fromMetadata.sGetMetadata(state)[item.id]?.name\n}));","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport reducer from './reducers';\n\nconst configureStore = middleware => {\n  // Enable Redux devtools if extension is installed instead of redux-logger\n  // const composeEnhancers =\n  //     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: 'data-visualizer-app'\n  }) : compose;\n\n  if (!window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV !== 'production') {\n    middleware.push(createLogger());\n  }\n\n  return createStore(reducer, composeEnhancers(applyMiddleware(...middleware)));\n};\n\nexport default configureStore;","import { ADD_METADATA } from '../reducers/metadata';\nexport const acAddMetadata = value => ({\n  type: ADD_METADATA,\n  value\n});","import { acAddMetadata } from '../actions/metadata';\nexport default (({\n  dispatch\n}) => next => action => {\n  typeof action.metadata === 'object' && !Array.isArray(action.metadata) && dispatch(acAddMetadata(action.metadata));\n  next(action);\n});","import { SET_UI, CLEAR_UI, SET_UI_FROM_VISUALIZATION, SET_UI_TYPE, SET_UI_OPTIONS, SET_UI_LAYOUT, ADD_UI_LAYOUT_DIMENSIONS, REMOVE_UI_LAYOUT_DIMENSIONS, SET_UI_ITEMS, ADD_UI_ITEMS, REMOVE_UI_ITEMS, ADD_UI_PARENT_GRAPH_MAP, SET_UI_PARENT_GRAPH_MAP, SET_UI_ACTIVE_MODAL_DIALOG, SET_UI_YEAR_ON_YEAR_SERIES, SET_UI_YEAR_ON_YEAR_CATEGORY, TOGGLE_UI_RIGHT_SIDEBAR_OPEN, SET_UI_RIGHT_SIDEBAR_OPEN, SET_UI_INTERPRETATION, CLEAR_UI_INTERPRETATION, CLEAR_SERIES_TYPE, SET_UI_FONT_STYLE } from '../reducers/ui';\nexport const acSetUi = value => ({\n  type: SET_UI,\n  value\n});\nexport const acClear = value => ({\n  type: CLEAR_UI,\n  value\n});\nexport const acSetUiFromVisualization = value => ({\n  type: SET_UI_FROM_VISUALIZATION,\n  value\n});\nexport const acSetUiType = value => ({\n  type: SET_UI_TYPE,\n  value\n});\nexport const acSetUiOptions = value => ({\n  type: SET_UI_OPTIONS,\n  value\n});\nexport const acSetUiFontStyle = value => ({\n  type: SET_UI_FONT_STYLE,\n  value\n});\nexport const acSetUiLayout = value => ({\n  type: SET_UI_LAYOUT,\n  value\n});\nexport const acAddUiLayoutDimensions = value => ({\n  type: ADD_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acRemoveUiLayoutDimensions = value => ({\n  type: REMOVE_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acSetUiItems = value => ({\n  type: SET_UI_ITEMS,\n  value\n});\nexport const acAddUiItems = value => ({\n  type: ADD_UI_ITEMS,\n  value\n});\nexport const acRemoveUiItems = value => ({\n  type: REMOVE_UI_ITEMS,\n  value\n});\nexport const acSetUiYearOverYearSeries = value => ({\n  type: SET_UI_YEAR_ON_YEAR_SERIES,\n  value\n});\nexport const acSetUiYearOverYearCategory = value => ({\n  type: SET_UI_YEAR_ON_YEAR_CATEGORY,\n  value\n});\nexport const acAddParentGraphMap = value => ({\n  type: ADD_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetParentGraphMap = value => ({\n  type: SET_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetUiActiveModalDialog = value => ({\n  type: SET_UI_ACTIVE_MODAL_DIALOG,\n  value\n});\nexport const acToggleUiRightSidebarOpen = () => ({\n  type: TOGGLE_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiRightSidebarOpen = () => ({\n  type: SET_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiInterpretation = value => ({\n  type: SET_UI_INTERPRETATION,\n  value\n});\nexport const acClearUiInterpretation = () => ({\n  type: CLEAR_UI_INTERPRETATION\n});\nexport const acClearSeriesType = () => ({\n  type: CLEAR_SERIES_TYPE\n});","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { canDimensionBeAddedToAxis, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport { sGetUiLayout, sGetUiItems, sGetUiType } from '../reducers/ui';\nimport { acAddUiLayoutDimensions, acSetUiActiveModalDialog, acSetUiLayout } from '../actions/ui';\nimport { SOURCE_DIMENSIONS } from '../modules/layout';\n\nclass DndContext extends Component {\n  rearrangeLayoutDimensions = ({\n    sourceAxisId,\n    sourceIndex,\n    destinationAxisId,\n    destinationIndex\n  }) => {\n    const layout = this.props.layout;\n    const sourceList = Array.from(layout[sourceAxisId]);\n    const [moved] = sourceList.splice(sourceIndex, 1);\n\n    if (sourceAxisId === destinationAxisId) {\n      sourceList.splice(destinationIndex, 0, moved);\n      this.props.onReorderDimensions({ ...layout,\n        [sourceAxisId]: sourceList\n      });\n    } else {\n      if (canDimensionBeAddedToAxis(this.props.type, layout[destinationAxisId], destinationAxisId)) {\n        this.props.onAddDimensions({\n          [moved]: {\n            axisId: destinationAxisId,\n            index: destinationIndex\n          }\n        });\n      }\n    }\n  };\n  addDimensionToLayout = ({\n    axisId,\n    index,\n    dimensionId\n  }) => {\n    const {\n      layout,\n      type\n    } = this.props;\n\n    if (!canDimensionBeAddedToAxis(type, layout[axisId], axisId)) {\n      return;\n    }\n\n    this.props.onAddDimensions({\n      [dimensionId]: {\n        axisId,\n        index\n      }\n    });\n    const items = this.props.itemsByDimension[dimensionId];\n    const hasNoItems = Boolean(!items || !items.length);\n\n    if (hasNoItems && !getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n      this.props.onDropWithoutItems(dimensionId);\n    }\n  };\n  onDragEnd = result => {\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (source.droppableId === SOURCE_DIMENSIONS) {\n      this.addDimensionToLayout({\n        axisId: destination.droppableId,\n        index: destination.index,\n        dimensionId: draggableId\n      });\n    } else {\n      this.rearrangeLayoutDimensions({\n        sourceAxisId: source.droppableId,\n        sourceIndex: source.index,\n        destinationAxisId: destination.droppableId,\n        destinationIndex: destination.index\n      });\n    }\n  };\n\n  render() {\n    return <DragDropContext onDragEnd={this.onDragEnd}>\n                {this.props.children}\n            </DragDropContext>;\n  }\n\n}\n\nDndContext.propTypes = {\n  children: PropTypes.node,\n  itemsByDimension: PropTypes.object,\n  layout: PropTypes.object,\n  type: PropTypes.string,\n  onAddDimensions: PropTypes.func,\n  onDropWithoutItems: PropTypes.func,\n  onReorderDimensions: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  layout: sGetUiLayout(state),\n  type: sGetUiType(state),\n  itemsByDimension: sGetUiItems(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddDimensions: map => dispatch(acAddUiLayoutDimensions(map)),\n  onDropWithoutItems: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId)),\n  onReorderDimensions: layout => dispatch(acSetUiLayout(layout))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DndContext);","import { RECEIVED_SNACKBAR_MESSAGE, CLEAR_SNACKBAR } from '../reducers/snackbar';\nexport const acReceivedSnackbarMessage = value => ({\n  type: RECEIVED_SNACKBAR_MESSAGE,\n  value\n});\nexport const acClearSnackbar = () => ({\n  type: CLEAR_SNACKBAR\n});","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { AlertBar } from '@dhis2/ui';\nimport styles from './styles/Snackbar.module.css';\nimport { sGetSnackbar } from '../../reducers/snackbar';\nimport { acClearSnackbar } from '../../actions/snackbar';\nexport const VARIANT_ERROR = 'error';\nexport const VARIANT_SUCCESS = 'success';\nexport const VARIANT_WARNING = 'warning';\nexport const Snackbar = ({\n  snackbar,\n  onClose\n}) => {\n  const {\n    variant,\n    message,\n    duration\n  } = snackbar;\n  return message && <div className={styles.container}>\n                <AlertBar duration={duration} critical={variant === VARIANT_ERROR} success={variant === VARIANT_SUCCESS} warning={variant === VARIANT_WARNING} permanent={variant === VARIANT_ERROR || variant === VARIANT_WARNING} onHidden={onClose}>\n                    {message}\n                </AlertBar>\n            </div>;\n};\nSnackbar.propTypes = {\n  snackbar: PropTypes.object,\n  onClose: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  snackbar: sGetSnackbar(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: () => dispatch(acClearSnackbar())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Snackbar);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\n\nconst UpdateButton = ({\n  onClick,\n  ...props\n}) => {\n  return <Button data-test=\"update-button\" {...props} onClick={onClick} type=\"button\" primary>\n            {i18n.t('Update')}\n        </Button>;\n};\n\nUpdateButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default UpdateButton;","import { getInstance } from 'd2';\nexport const apiDownloadImage = async (type, formData) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `${api.baseUrl}/svg.${type}`;\n  return api.fetch(url, {\n    method: 'POST',\n    body: formData,\n    headers: new Headers(api.defaultHeaders)\n  }).then(res => res.blob());\n};\n\nconst addCommonParameters = (req, current, options) => {\n  req = req.withSkipRounding(current.skipRounding).withAggregationType(current.aggregationType).withMeasureCriteria(current.measureCriteria).withParameters({\n    completedOnly: current.completedOnly\n  }); //        .withUserOrgUnit(?) TODO\n\n  if (current.displayProperty) {\n    req = req.withDisplayProperty(current.displayProperty);\n  }\n\n  if (current.approvalLevel) {\n    req = req.withApprovalLevel(current.approvalLevel);\n  }\n\n  if (options.relativePeriodDate) {\n    req = req.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  return req;\n};\n\nexport const apiDownloadTable = async ({\n  current,\n  format,\n  options,\n  rows,\n  columns\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  let req = new d2.analytics.request().fromModel(current).withFormat(format).withTableLayout().withRows(rows.join(';')).withColumns(columns.join(';'));\n  req = addCommonParameters(req, current, options);\n\n  if (current.hideEmptyColumns) {\n    req = req.withHideEmptyColumns();\n  }\n\n  if (current.hideEmptyRows) {\n    req = req.withHideEmptyRows();\n  }\n\n  if (current.showHierarchy) {\n    req = req.withShowHierarchy();\n  }\n\n  const url = new URL(`${api.baseUrl}/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};\nexport const apiDownloadData = async ({\n  current,\n  format,\n  options,\n  idScheme,\n  path\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  let req = new d2.analytics.request().fromModel(current, path === 'dataValueSet').withFormat(format).withShowHierarchy(current.showHierarchy).withHierarchyMeta(current.showHierarchy).withIncludeMetadataDetails(true).withIncludeNumDen(); //.withApprovalLevel(current.?) TODO\n\n  req = addCommonParameters(req, current, options);\n\n  if (path) {\n    req = req.withPath(path);\n  }\n\n  if (idScheme) {\n    req = req.withOutputIdScheme(idScheme);\n  }\n\n  const url = new URL(`${api.baseUrl}/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};","import PropTypes from '@dhis2/prop-types';\nimport React from 'react';\nimport styles from './styles/MenuButton.module.css';\n\nconst MenuButton = ({\n  children,\n  dataTest,\n  disabled,\n  name,\n  onBlur,\n  onClick,\n  onFocus\n}) => <button className={styles.menuButton} data-test={dataTest} disabled={disabled} name={name} onBlur={onBlur} onClick={onClick} onFocus={onFocus}>\n        {children}\n    </button>;\n\nMenuButton.propTypes = {\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default MenuButton;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MoreHorizontalIcon = ({\n  style\n}) => {\n  return <svg style={{ ...style\n  }} xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n        </svg>;\n};\n\nMoreHorizontalIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default MoreHorizontalIcon;","import React, { useState, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport ImageIcon from '@material-ui/icons/Image';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport ListIcon from '@material-ui/icons/List';\nimport ListAltIcon from '@material-ui/icons/ListAlt';\nimport { FlyoutMenu, MenuItem, Divider, Popper, colors } from '@dhis2/ui';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { sGetUiType, sGetUiLayout, sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetChart } from '../../reducers/chart';\nimport { apiDownloadImage, apiDownloadData, apiDownloadTable } from '../../api/analytics';\nimport MenuButton from '../MenuButton/MenuButton';\nimport MoreHorizontalIcon from '../../assets/MoreHorizontalIcon';\nimport styles from './styles/DownloadMenu.module.css';\n\nconst DenseMenuItem = ({\n  Icon,\n  children,\n  ...rest\n}) => <MenuItem dense icon={Icon && <Icon style={{\n  color: colors.grey600\n}} />} {...rest}>\n        {children}\n    </MenuItem>;\n\nDenseMenuItem.propTypes = {\n  Icon: PropTypes.elementType,\n  children: PropTypes.element\n};\nexport const DownloadMenu = ({\n  current,\n  rows,\n  columns,\n  chart,\n  relativePeriodDate,\n  visType\n}) => {\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n\n  const toggleMenu = () => setDialogIsOpen(!dialogIsOpen);\n\n  const downloadImage = format => async () => {\n    const formData = new URLSearchParams();\n    formData.append('filename', current.name);\n\n    if (chart) {\n      formData.append('svg', chart);\n    }\n\n    const blob = await apiDownloadImage(format, formData);\n    const url = URL.createObjectURL(blob);\n    toggleMenu();\n    window.open(url, '_blank');\n  };\n\n  const downloadData = (format, idScheme, path) => async () => {\n    const url = await apiDownloadData({\n      current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      idScheme,\n      path\n    });\n    toggleMenu();\n    window.open(url, format.match(/(xls|csv)/) ? '_top' : '_blank');\n  };\n\n  const downloadTable = format => async () => {\n    const url = await apiDownloadTable({\n      current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      rows,\n      columns\n    });\n    toggleMenu();\n    window.open(url, format === 'html' ? '_blank' : '_top');\n  };\n\n  const graphicsMenuSection = () => <>\n            <div className={styles.menuSectionTitle}>{i18n.t('Graphics')}</div>\n            <DenseMenuItem Icon={ImageIcon} label={i18n.t('Image (.png)')} onClick={downloadImage('png')} />\n            <DenseMenuItem Icon={PictureAsPdfIcon} label={i18n.t('PDF (.pdf)')} onClick={downloadImage('pdf')} />\n        </>;\n\n  const tableMenuSection = () => <>\n            <div className={styles.menuSectionTitle}>\n                {i18n.t('Table layout')}\n            </div>\n            <DenseMenuItem Icon={ListAltIcon} label={i18n.t('Excel (.xls)')} onClick={downloadTable('xls')} />\n            <DenseMenuItem Icon={ListAltIcon} label={i18n.t('CSV (.csv)')} onClick={downloadTable('csv')} />\n            <DenseMenuItem Icon={ListAltIcon} label={i18n.t('HTML (.html)')} onClick={downloadTable('html')} />\n        </>;\n\n  const plainDataSourceSubLevel = format => <FlyoutMenu>\n            <div className={styles.menuSectionTitle}>\n                {i18n.t('Metadata ID scheme')}\n            </div>\n            <DenseMenuItem label={i18n.t('ID')} onClick={downloadData(format, 'UID')} />\n            <DenseMenuItem label={i18n.t('Code')} onClick={downloadData(format, 'CODE')} />\n            <DenseMenuItem label={i18n.t('Name')} onClick={downloadData(format, 'NAME')} />\n        </FlyoutMenu>;\n\n  const buttonRef = createRef();\n  return <>\n            <div ref={buttonRef}>\n                <MenuButton onClick={toggleMenu} disabled={!current}>\n                    {i18n.t('Download')}\n                </MenuButton>\n            </div>\n            {dialogIsOpen && createPortal(<div onClick={toggleMenu} className={styles.backdrop}>\n                        <Popper reference={buttonRef} placement=\"bottom-start\">\n                            <FlyoutMenu>\n                                {visType === VIS_TYPE_PIVOT_TABLE ? tableMenuSection() : graphicsMenuSection()}\n                                <Divider />\n                                <div className={styles.menuSectionTitle}>\n                                    {i18n.t('Plain data source')}\n                                </div>\n                                <DenseMenuItem Icon={ListIcon} label={i18n.t('JSON')}>\n                                    {plainDataSourceSubLevel('json')}\n                                </DenseMenuItem>\n                                <DenseMenuItem Icon={ListIcon} label={i18n.t('XML')}>\n                                    {plainDataSourceSubLevel('xml')}\n                                </DenseMenuItem>\n                                <DenseMenuItem Icon={ListIcon} label={i18n.t('Excel')}>\n                                    {plainDataSourceSubLevel('xls')}\n                                </DenseMenuItem>\n                                <DenseMenuItem Icon={ListIcon} label={i18n.t('CSV')}>\n                                    {plainDataSourceSubLevel('csv')}\n                                </DenseMenuItem>\n                                <DenseMenuItem Icon={MoreHorizontalIcon} label={i18n.t('Advanced')}>\n                                    <FlyoutMenu>\n                                        <div className={styles.menuSectionTitle}>\n                                            {i18n.t('Data value set')}\n                                        </div>\n                                        <DenseMenuItem label={i18n.t('JSON')} onClick={downloadData('json', null, 'dataValueSet')} />\n                                        <DenseMenuItem label={i18n.t('XML')} onClick={downloadData('xml', null, 'dataValueSet')} />\n                                        <Divider />\n                                        <div className={styles.menuSectionTitle}>\n                                            {i18n.t('Other formats')}\n                                        </div>\n                                        <DenseMenuItem label={i18n.t('JRXML')} onClick={downloadData('jrxml')} />\n                                        <DenseMenuItem label={i18n.t('Raw data SQL')} onClick={downloadData('sql', null, 'debug/sql')} />\n                                    </FlyoutMenu>\n                                </DenseMenuItem>\n                            </FlyoutMenu>\n                        </Popper>\n                    </div>, document.body)}\n        </>;\n};\nconst relativePeriodDateSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created || undefined);\nDownloadMenu.propTypes = {\n  chart: PropTypes.string,\n  columns: PropTypes.array,\n  current: PropTypes.object,\n  relativePeriodDate: PropTypes.string,\n  rows: PropTypes.array,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  current: sGetCurrent(state),\n  relativePeriodDate: relativePeriodDateSelector(state),\n  rows: sGetUiLayout(state).rows,\n  columns: sGetUiLayout(state).columns,\n  chart: sGetChart(state),\n  visType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps)(DownloadMenu);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetUiRightSidebarOpen } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { acToggleUiRightSidebarOpen } from '../../actions/ui';\nimport MenuButton from '../MenuButton/MenuButton';\nimport styles from './styles/InterpretationsButton.module.css';\nexport const InterpretationsButton = props => <MenuButton disabled={!props.id} onClick={props.onClick}>\n        {props.rightSidebarOpen ? <KeyboardArrowRightIcon className={styles.icon} /> : <KeyboardArrowLeftIcon className={styles.icon} />}\n        {i18n.t('Interpretations')}\n    </MenuButton>;\nInterpretationsButton.propTypes = {\n  id: PropTypes.string,\n  rightSidebarOpen: PropTypes.bool,\n  onClick: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: () => dispatch(acToggleUiRightSidebarOpen())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InterpretationsButton);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui';\n\nconst HideButton = ({\n  onClick,\n  ...props\n}) => <Button {...props} type=\"button\" secondary onClick={onClick}>\n        {i18n.t('Hide')}\n    </Button>;\n\nHideButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default HideButton;","// constants\nconst ID = 'id';\nconst NAME = 'name,displayName,displayShortName';\nconst DIMENSION_ITEM = `dimensionItem~rename(${ID})`;\nconst LEGEND_SET = `${ID},${NAME}`;\nconst USER = `${NAME},userCredentials[username]`;\nconst ITEMS = `${DIMENSION_ITEM},${NAME},dimensionItemType`;\nconst AXIS = `dimension,filter,legendSet[${LEGEND_SET}],items[${ITEMS}]`;\nconst INTERPRETATIONS = 'id,created'; // nested fields map\n\nexport const nestedFields = {\n  columns: AXIS,\n  rows: AXIS,\n  filters: AXIS,\n  user: USER,\n  interpretations: INTERPRETATIONS,\n  legendSet: LEGEND_SET\n};\nexport const extendFields = field => `${field}${nestedFields[field] ? `[${nestedFields[field]}]` : ''}`;","import { getFieldsStringByType } from '../modules/fields';\nconst visualizationQuery = {\n  visualization: {\n    resource: 'visualizations',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: getFieldsStringByType('visualization')\n    }\n  }\n};\nconst visualizationsQuery = {\n  visualization: {\n    resource: 'visualizations',\n    params: ({\n      visualizationIds\n    }) => ({\n      filter: `id:in:[${visualizationIds}]`,\n      fields: ['id', 'type']\n    })\n  }\n};\nexport const apiFetchVisualization = (dataEngine, id) => {\n  return dataEngine.query(visualizationQuery, {\n    variables: {\n      id\n    }\n  });\n};\nexport const apiFetchVisualizations = (dataEngine, visualizationIds) => {\n  return dataEngine.query(visualizationsQuery, {\n    variables: {\n      visualizationIds\n    }\n  });\n};\nexport const apiSaveVisualization = (dataEngine, visualization) => {\n  const mutation = {\n    type: 'create',\n    resource: 'visualizations',\n    data: visualization,\n    params: {\n      skipTranslations: 'true',\n      skipSharing: 'true'\n    }\n  };\n\n  if (visualization.id) {\n    mutation.type = 'update';\n    mutation.id = visualization.id;\n  }\n\n  return dataEngine.mutate(mutation);\n};","import { getAllFieldObjectsByType, extractName, markExcluded, moveExcludedToEnd } from './baseFields';\nimport { extendFields } from './nestedFields';\nexport { getAllFieldObjectsByType };\nexport const getOptionsByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.option === true);\nexport const getIncludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => !fieldObj.excluded);\nexport const getExcludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.excluded === true);\nexport const getFieldsStringByType = type => getAllFieldObjectsByType(type).map(markExcluded).map(extractName).sort().reduce(moveExcludedToEnd, null).map(extendFields).join(',');","import { SET_VISUALIZATION, CLEAR_VISUALIZATION } from '../reducers/visualization';\nexport const acSetVisualization = visualization => ({\n  type: SET_VISUALIZATION,\n  value: visualization\n});\nexport const acClear = () => ({\n  type: CLEAR_VISUALIZATION\n});","import { SET_CURRENT, SET_CURRENT_FROM_UI, CLEAR_CURRENT } from '../reducers/current';\nimport { sGetUi } from '../reducers/ui';\nexport const acSetCurrent = value => ({\n  type: SET_CURRENT,\n  value\n});\nexport const acClear = () => ({\n  type: CLEAR_CURRENT\n});\nexport const acSetCurrentFromUi = value => ({\n  type: SET_CURRENT_FROM_UI,\n  value\n});\nexport const tSetCurrentFromUi = () => async (dispatch, getState) => {\n  dispatch(acSetCurrentFromUi(sGetUi(getState())));\n};","import keyBy from 'lodash-es/keyBy';\nimport sortBy from 'lodash-es/sortBy';\nimport { SET_DIMENSIONS } from '../reducers/dimensions';\nimport { apiFetchDimensions } from '@dhis2/analytics';\nimport { sGetSettingsDisplayNameProperty } from '../reducers/settings';\nexport const acSetDimensions = dimensions => ({\n  type: SET_DIMENSIONS,\n  value: keyBy(sortBy(dimensions, [d => d.name.toLowerCase()]), 'id')\n});\nexport const tSetDimensions = d2 => async (dispatch, getState) => {\n  const onSuccess = dimensions => {\n    dispatch(acSetDimensions(dimensions));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchDimensions): ', error);\n    return error;\n  };\n\n  try {\n    const displayNameProp = sGetSettingsDisplayNameProperty(getState());\n    const dimensions = await apiFetchDimensions(d2, displayNameProp);\n    return onSuccess(dimensions);\n  } catch (err) {\n    return onError(err);\n  }\n};","import { SET_SETTINGS, ADD_SETTINGS } from '../reducers/settings';\nimport { apiFetchSystemSettings } from '../api/settings';\nimport { apiFetchOrganisationUnitRoot } from '../api/organisationUnits';\nexport const acSetSettings = value => ({\n  type: SET_SETTINGS,\n  value\n});\nexport const acAddSettings = value => ({\n  type: ADD_SETTINGS,\n  value\n});\nexport const tAddSettings = (...extraSettings) => async dispatch => {\n  const onSuccess = fetchedSettings => {\n    dispatch(acAddSettings(Object.assign({}, fetchedSettings, ...extraSettings)));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchSystemSettings): ', error);\n    return error;\n  };\n\n  try {\n    const systemSettings = await apiFetchSystemSettings();\n    const rootOrganisationUnit = await apiFetchOrganisationUnitRoot();\n    return onSuccess({ ...systemSettings,\n      rootOrganisationUnit\n    });\n  } catch (err) {\n    return onError(err);\n  }\n};","import { getInstance } from 'd2';\nimport { onError } from './index';\nimport { SYSTEM_SETTINGS } from '../modules/settings';\nexport const apiFetchSystemSettings = () => {\n  const endPoint = '/systemSettings';\n  const url = `${endPoint}?${SYSTEM_SETTINGS.map(s => `key=${s}`).join('&')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).catch(onError);\n};\nexport const apiFetchUserSettings = () => {\n  // \"key\" params not supported in the backend yet\n  // update: now it is, should be used here\n  const endPoint = '/userSettings';\n  return getInstance().then(d2 => d2.Api.getApi().get(endPoint)).catch(onError);\n};","import { SET_LOAD_ERROR, CLEAR_LOAD_ERROR, SET_LOADING, SET_PLUGIN_LOADING } from '../reducers/loader';\nexport const acSetLoadError = value => ({\n  type: SET_LOAD_ERROR,\n  value\n});\nexport const acClearLoadError = () => ({\n  type: CLEAR_LOAD_ERROR\n});\nexport const acSetLoading = value => ({\n  type: SET_LOADING,\n  value\n});\nexport const acSetPluginLoading = value => ({\n  type: SET_PLUGIN_LOADING,\n  value\n});","import React from 'react';\nexport const EmptyBox = () => <svg width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M96.4184693 4.6480742l-2.9759268 2.6728C91.5558812 5.2202435 88.8786031 4 86 4V0c4.0260387 0 7.7809122 1.7113874 10.4184693 4.6480742zM100 19.269042h-4l-.0000544-5.3024514c-.0043849-1.346405-.2739964-2.6517927-.7866406-3.8623659l3.6833463-1.559795c.7189815 1.6978243 1.0971493 3.5288134 1.1032837 5.4156229L100 19.269042zm0 13.9999755h-4v-10h4v10zm0 14h-4v-10h4v10zm0 14h-4v-10h4v10zm0 13.9999995h-4v-9.9999995h4v9.9999995zm-.516108 14.50858l-3.8521996-1.077292C95.8751624 87.829701 96 86.924153 96 86v-6.730983h4V86c0 1.289184-.1747984 2.557136-.516108 3.777597zM87.7213345 99.895024l-.4874961-3.970182c2.8302961-.34753 5.3578432-1.892491 6.9762006-4.213767l3.2812621 2.287645c-2.2629208 3.245799-5.802045 5.409086-9.7699666 5.896304zM73.461965 100v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zM3.17264828 94.875717l3.09219912-2.537382c1.79303608 2.185097 4.4211055 3.525451 7.2855127 3.651773l-.176231 3.996116c-4.01094422-.176885-7.69477669-2.055693-10.20148082-5.110507zM0 80.192922h4l.00006331 5.84312c.00418159 1.190127.21554574 2.348454.61951638 3.438567L.86883696 90.864547C.3022517 89.335619.0059261 87.711683.00007566 86.043095L0 80.192922zm0-13.999974h4v10H0v-10zm0-14.0000005h4v10H0v-10zm0-14h4v10H0v-10zm0-14h4v10H0v-10zM.701349 9.6140131l3.79891292 1.2523021C4.17021443 11.8675286 4 12.9209553 4 14v6.1929475H0V14c0-1.5058511.2385093-2.9819426.701349-4.3859869zM12.9113947.0417954l.3073341 3.9881757c-2.8514503.2197365-5.43930476 1.6474003-7.16021518 3.8917822l-3.1742768-2.4339201C5.29022999 2.3499781 8.91606935.3496804 12.9113947.0417954zM27.07607 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10z\" fill=\"#A0ADBA\" fillRule=\"nonzero\" />\n    </svg>;\nexport const PeriodError = () => <svg width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#A0ADBA\" fillRule=\"nonzero\">\n            <path d=\"M72.9999996 82.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM72.9999996 60.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\" />\n            <path d=\"M72.9999996 45.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L82.0312812 51.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\" />\n            <path d=\"M49.9999996-3.4e-7c27.6142375 0 50 22.38576254 50 50.00000004 0 3.4254464-.3449043 6.8082851-1.0236569 10.111998-.3334386 1.6229556-1.9194094 2.6683156-3.542365 2.334877-1.6229555-.3334386-2.6683156-1.9194094-2.334877-3.5423649.5972413-2.9069705.9008989-5.8852591.9008989-8.9045101 0-24.300529-19.699471-44.00000004-44-44.00000004S5.99999963 25.6994707 5.99999963 49.9999997c0 20.0457004 13.52123857 37.4107541 32.60787227 42.5117075 1.6006767.4277851 2.5514932 2.0721783 2.1237081 3.672855-.4277851 1.6006767-2.0721782 2.5514932-3.672855 2.1237082C15.3630605 92.5100466-3.7e-7 72.7795776-3.7e-7 49.9999997-3.7e-7 22.3857622 22.3857621-3.4e-7 49.9999996-3.4e-7z\" />\n            <path d=\"M31.9999996 52.4999997c-1.3807118 0-2.5-1.1192882-2.5-2.5 0-1.3254834 1.031536-2.4100387 2.3356243-2.4946824l.1643757-.0053176 15.4995614-.0008627.0004386-24.4991373c0-1.3807119 1.1192882-2.5 2.5-2.5 1.3254834 0 2.4100387 1.0315359 2.4946823 2.3356243l.0053177.1643757v27c0 1.3254834-1.0315359 2.4100386-2.3356243 2.4946823l-.1643757.0053177h-18z\" />\n        </g>\n    </svg>;\nexport const DataError = () => <svg width=\"98\" height=\"97\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#A0ADBA\" fillRule=\"nonzero\">\n            <path d=\"M47.9999996-3.4e-7c26.375131 0 48 8.64933258 48 21.00093054 0 6.7822228-6.3726775 12.3999932-16.8111022 16.1776421-1.5579685.5638263-3.2780231-.2420853-3.8418493-1.8000538-.5638263-1.5579685.2420852-3.2780231 1.8000537-3.8418493 8.3196582-3.0108708 12.8528978-7.007103 12.8528978-10.535739 0-7.5352197-18.6656043-15.00093054-42-15.00093054-23.3343956 0-41.99999997 7.46571084-41.99999997 15.00093054 0 8.3458435 22.23414277 16.1998284 47.97788217 14.8410919 1.6545514-.087326 3.066622 1.1831611 3.1539481 2.8377124.087326 1.6545514-1.1831611 3.066622-2.8377125 3.1539481C25.4193432 43.3576729-3.7e-7 34.3785482-3.7e-7 21.0009302-3.7e-7 8.64933224 21.6248687-3.4e-7 47.9999996-3.4e-7z\" />\n            <path d=\"M92.9999996 17.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v24c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-24c0-1.6568543 1.3431458-3 3-3zM2.99999963 17.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.0917782c0 6.7884007 15.40674827 13.7997289 36.16062537 14.9125249 1.6544777.088711 2.9237824 1.5018446 2.8350715 3.1563223-.088711 1.6544776-1.5018446 2.9237823-3.1563223 2.8350714C18.3983599 64.7388196.36378289 56.6257218.00543546 45.431923L-3.7e-7 45.0917779V20.9999997c0-1.6568543 1.34314575-3 3-3z\" />\n            <path d=\"M2.99999963 41.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.011713c0 5.6006467 10.94212037 11.6895243 27.41972777 14.017794 1.6405579.2318092 2.7825744 1.7496627 2.5507652 3.3902207-.2318092 1.640558-1.7496627 2.7825745-3.3902207 2.5507653l-1.1438963-.168296C13.057544 85.989973.26320686 78.7580311.00401161 69.3047869L-3.7e-7 69.0117127v-24.011713c0-1.6568543 1.34314575-3 3-3zM70.9999996 79.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM70.9999996 57.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\" />\n            <path d=\"M70.9999996 42.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L80.0312812 48.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\" />\n        </g>\n    </svg>;\nexport const EmptySeries = () => <svg height=\"100\" width=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\">\n            <path d=\"M92 52c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V60c0-4.418278 3.581722-8 8-8zm0 4H8c-2.209139 0-4 1.790861-4 4v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V60c0-2.209139-1.790861-4-4-4z\" fill=\"#e8edf2\" />\n            <path d=\"M99.5567844 7.04865205l-3.8222065 1.17929519C94.9653901 5.7349373 92.6508139 4 90 4V0c4.4179248 0 8.2737479 2.89021004 9.5567844 7.04865205zM100 21.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 48v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 43.8539409 9.22479438 44 10 44h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 33.461965h4V38c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 42.558667 0 40.3386428 0 38zm0-14h4v10H0zM1.6090385 4.55843779L4.96347541 6.7373717C4.33751189 7.70103338 4 8.82295605 4 10v5.461965H0V10c0-1.95639059.56487346-3.8340854 1.6090385-5.44156221zM16.0507133 0v4H10c-1.00213211 0-1.96454891.24434864-2.82591887.70537441L5.28653945 1.17873487C6.72503094.40881989 8.33525118 0 10 0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0z\" fill=\"#a0adba\" />\n        </g>\n    </svg>;\nexport const EmptyCategory = () => <svg height=\"100\" width=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\">\n            <path d=\"M92 0c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V8c0-4.418278 3.581722-8 8-8zm0 4H8C5.790861 4 4 5.790861 4 8v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V8c0-2.209139-1.790861-4-4-4z\" fill=\"#e8edf2\" />\n            <path d=\"M99.5567844 59.048652l-3.8222065 1.1792952C94.9653901 57.7349373 92.6508139 56 90 56v-4c4.4179248 0 8.2737479 2.89021 9.5567844 7.048652zM100 73.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 100v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 95.8539409 9.22479438 96 10 96h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 85.461965h4V90c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 94.558667 0 92.3386428 0 90zm0-14h4v10H0zm1.6090385-14.9035272l3.35443691 2.1789339C4.33751189 59.7010334 4 60.822956 4 62v5.461965H0V62c0-1.9563906.56487346-3.8340854 1.6090385-5.4415622zM16.0507133 52v4H10c-1.00213211 0-1.96454891.2443486-2.82591887.7053744l-1.88754168-3.5266395C6.72503094 52.4088199 8.33525118 52 10 52zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4z\" fill=\"#a0adba\" />\n        </g>\n    </svg>;\nexport const GenericError = () => <svg height=\"96\" viewBox=\"0 0 96 96\" width=\"96\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#a0adba\" transform=\"translate(3 3)\">\n            <path d=\"m40.5 73.5000001c0 2.4852813 2.0147186 4.5 4.5 4.5s4.5-2.0147187 4.5-4.5c0-2.4142734-1.9012365-4.3844892-4.2881643-4.4951021l-.2128322-.0048979c-2.4848234.0005384-4.4990035 2.0150507-4.4990035 4.5z\" />\n            <path d=\"m48 60v-30c0-1.6568542-1.3431458-3-3-3s-3 1.3431458-3 3v30c0 1.6568542 1.3431458 3 3 3s3-1.3431458 3-3z\" />\n            <path d=\"m45-2.99904788c3.8985931 0 7.4578604 2.21715778 9.1770339 5.71709169l37.8912554 77.19048409c1.3845546 2.8165473 1.2171646 6.1482722-.4427191 8.811863-1.6598833 2.6635901-4.5771005 4.2816904-7.7135702 4.2796124h-77.82201115c-3.13845856.002078-6.05567574-1.6160223-7.71555901-4.2796124-1.65988369-2.6635908-1.82727377-5.9953157-.44346379-8.8103471l37.89234295-77.19269833c1.7188306-3.49923557 5.2780979-5.71639335 9.176691-5.71639335zm0 6c-1.6106864 0-3.0811818.91600885-3.7909661 2.36100407l-37.89274459 77.19351591c-.47005356.9562122-.41322496 2.0873262.15030227 2.99161.56352731.9042839 1.5539177 1.4529206 2.62140842 1.4529206h77.8259889c1.0655018 0 2.0558922-.5486367 2.6194195-1.4529206.5635272-.9042838.6203558-2.0353978.1495577-2.9931259l-37.8916571-77.19130167c-.7101272-1.44569356-2.1806226-2.36170241-3.791309-2.36170241z\" />\n        </g>\n    </svg>;","import i18n from '@dhis2/d2-i18n';\nimport { getDisplayNameByVisType, getAvailableAxes, getAxisNameByLayoutType, getLayoutTypeByVisType, getAxisPerLockedDimension, DIMENSION_ID_DATA, AXIS_ID_COLUMNS, AXIS_ID_ROWS } from '@dhis2/analytics';\nimport { EmptySeries, EmptyCategory, PeriodError, DataError, GenericError, EmptyBox } from '../assets/ErrorIcons';\nimport { VARIANT_ERROR, VARIANT_WARNING } from '../components/Snackbar/Snackbar';\nexport class VisualizationError {\n  constructor(icon, title, description) {\n    this.icon = icon;\n    this.title = title;\n    this.description = description;\n  }\n\n}\nexport class EmptyResponseError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('No data available'), i18n.t('The selected dimensions didn’t return any data. There may be no data, or you may not have access to it.'));\n  }\n\n}\nexport class NoSeriesError extends VisualizationError {\n  constructor(visType) {\n    super(EmptySeries, i18n.t(`{{axisName}} is empty`, {\n      axisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{axisName}}.', {\n      axisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType))\n    }));\n  }\n\n}\nexport class NoCategoryError extends VisualizationError {\n  constructor(visType) {\n    super(EmptyCategory, i18n.t(`{{axisName}} is empty`, {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{axisName}}.', {\n      axisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }));\n  }\n\n}\nexport class NoSeriesOrCategoryError extends VisualizationError {\n  constructor(visType) {\n    super(EmptyBox, i18n.t(`{{columnsAxisName}} and {{rowsAxisName}} are empty`, {\n      columnsAxisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType)),\n      rowsAxisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType))\n    }), i18n.t('Add at least one item to {{columnsAxisName}} or {{rowsAxisName}} to create a {{visualizationType}}.', {\n      columnsAxisName: getAxisNameByLayoutType(AXIS_ID_COLUMNS, getLayoutTypeByVisType(visType)),\n      rowsAxisName: getAxisNameByLayoutType(AXIS_ID_ROWS, getLayoutTypeByVisType(visType)),\n      visualizationType: getDisplayNameByVisType(visType)\n    }));\n  }\n\n}\nexport class NoPeriodError extends VisualizationError {\n  constructor(visType) {\n    super(PeriodError, i18n.t('No period selected'), i18n.t('{{visualizationType}} must have at least one period selected in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class NoDataOrDataElementGroupSetError extends VisualizationError {\n  constructor(visType) {\n    const lockedAxis = getAxisPerLockedDimension(visType, DIMENSION_ID_DATA);\n    super(DataError, i18n.t('No data selected'), i18n.t('{{visualizationType}} must have at least one data item or data element group set item in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: lockedAxis ? getAxisNameByLayoutType(lockedAxis, getLayoutTypeByVisType(visType)) : getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class NoDataError extends VisualizationError {\n  constructor(visType) {\n    const lockedAxis = getAxisPerLockedDimension(visType, DIMENSION_ID_DATA);\n    super(DataError, i18n.t('No data selected'), i18n.t('{{visualizationType}} must have at least one data item in {{axes}}.', {\n      visualizationType: getDisplayNameByVisType(visType),\n      axes: lockedAxis ? getAxisNameByLayoutType(lockedAxis, getLayoutTypeByVisType(visType)) : getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class MultipleIndicatorAsFilterError extends VisualizationError {\n  constructor() {\n    super(DataError, i18n.t(\"There's a problem with the layout\"), i18n.t('A single indicator must be the only data item when using indicators as Data in Filter.'));\n  }\n\n}\nexport class CombinationDEGSRRError extends VisualizationError {\n  constructor() {\n    super(DataError, genericErrorTitle, i18n.t('Data Element Group Sets and Reporting Rates cannot be used together.'));\n  }\n\n}\nexport class GenericClientError extends VisualizationError {\n  constructor(visType) {\n    super(GenericError, genericErrorTitle, i18n.t('There is a problem with this {{visualizationType}} visualization.', {\n      visualizationType: getDisplayNameByVisType(visType)\n    }));\n  }\n\n}\nexport class GenericServerError extends VisualizationError {\n  constructor() {\n    super(GenericError, genericErrorTitle, i18n.t('There was a problem getting the data from the server.'));\n  }\n\n}\nexport class AssignedCategoriesDataElementsError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories can only be used with data elements'), i18n.t('Fix this problem by selecting data elements or removing Assigned Categories.'));\n  }\n\n}\nexport class AssignedCategoriesAsFilterError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories cannot be used as Filter'), i18n.t('Fix this problem by moving or removing Assigned Categories.'));\n  }\n\n}\nexport const genericErrorTitle = i18n.t('Something went wrong');\n\nconst getAvailableAxesDescription = visType => {\n  const axes = getAvailableAxes(visType);\n  let axesDescription = '';\n\n  for (let index = 0; index < axes.length; index++) {\n    axesDescription += getAxisNameByLayoutType(axes[index], getLayoutTypeByVisType(visType));\n\n    if (index < axes.length - 2) {\n      axesDescription += ', ';\n    } else if (index < axes.length - 1) {\n      axesDescription += ` ${i18n.t('or')} `;\n    }\n  }\n\n  return axesDescription;\n};\n\nexport const parseError = ({\n  message,\n  httpStatusCode\n}) => ({\n  message,\n  type: String(httpStatusCode).match(/50\\d/) ? VARIANT_ERROR : VARIANT_WARNING\n});","const userAuthorityQuery = {\n  authority: {\n    resource: 'me/authorization',\n    id: ({\n      authorityId\n    }) => authorityId\n  }\n};\nexport const apiFetchUserAuthority = (dataEngine, authorityId) => dataEngine.query(userAuthorityQuery, {\n  variables: {\n    authorityId\n  }\n});","import { RECEIVED_USER, SET_USER_AUTHORITY } from '../reducers/user';\nimport { acSetLoadError } from './loader';\nimport { GenericServerError } from '../modules/error';\nimport { apiFetchUserAuthority } from '../api/user';\nexport const acReceivedUser = value => ({\n  type: RECEIVED_USER,\n  value\n});\nexport const acSetUserAuthority = value => ({\n  type: SET_USER_AUTHORITY,\n  value\n});\nexport const tLoadUserAuthority = authorityKey => async (dispatch, getState, engine) => {\n  const onSuccess = response => {\n    dispatch(acSetUserAuthority({\n      [authorityKey]: response.authority\n    }));\n  };\n\n  try {\n    return onSuccess(await apiFetchUserAuthority(engine, authorityKey));\n  } catch (err) {\n    dispatch(acSetLoadError(new GenericServerError()));\n  }\n};","import options from './options';\nimport { DEFAULT_VISUALIZATION } from '../reducers/visualization';\nimport { DEFAULT_CURRENT } from '../reducers/current';\nexport const getVisualizationFromCurrent = current => {\n  const visualization = Object.assign({}, current);\n  const nonSavableOptions = Object.keys(options).filter(option => !options[option].savable);\n  nonSavableOptions.forEach(option => delete visualization[option]);\n  return visualization;\n};\nexport const getVisualizationState = (visualization, current) => {\n  if (current === DEFAULT_CURRENT) {\n    return STATE_EMPTY;\n  } else if (visualization === DEFAULT_VISUALIZATION) {\n    return STATE_UNSAVED;\n  } else if (current === visualization) {\n    return STATE_SAVED;\n  } else {\n    return STATE_DIRTY;\n  }\n};\nexport const STATE_EMPTY = 'EMPTY';\nexport const STATE_SAVED = 'SAVED';\nexport const STATE_UNSAVED = 'UNSAVED';\nexport const STATE_DIRTY = 'DIRTY';","import i18n from '@dhis2/d2-i18n';\nimport { apiFetchVisualization, apiSaveVisualization } from '../api/visualization';\nimport * as fromVisualization from './visualization';\nimport * as fromCurrent from './current';\nimport * as fromDimensions from './dimensions';\nimport * as fromRecommended from './recommendedIds';\nimport * as fromUi from './ui';\nimport * as fromMetadata from './metadata';\nimport * as fromSettings from './settings';\nimport * as fromUser from './user';\nimport * as fromChart from './chart';\nimport * as fromSnackbar from './snackbar';\nimport * as fromLoader from './loader';\nimport { VARIANT_SUCCESS } from '../components/Snackbar/Snackbar';\nimport { sGetCurrent } from '../reducers/current';\nimport { sGetVisualization } from '../reducers/visualization';\nimport { sGetRootOrgUnit, sGetRelativePeriod } from '../reducers/settings';\nimport history from '../modules/history';\nimport { getVisualizationFromCurrent } from '../modules/visualization';\nimport { convertOuLevelsToUids } from '../modules/orgUnit';\nimport { apiPostDataStatistics } from '../api/dataStatistics';\nimport { GenericServerError } from '../modules/error';\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommended, fromUi, fromMetadata, fromSettings, fromUser, fromChart, fromSnackbar, fromLoader };\n\nconst logError = (action, error) => {\n  console.log(`Error in action ${action}: ${error}`);\n}; // visualization, current, ui\n\n\nexport const tDoLoadVisualization = ({\n  id,\n  interpretationId,\n  ouLevels\n}) => async (dispatch, getState, engine) => {\n  const onSuccess = async response => {\n    dispatch(fromLoader.acSetPluginLoading(true));\n    const visualization = convertOuLevelsToUids(ouLevels, response.visualization);\n\n    if (interpretationId) {\n      const interpretation = visualization.interpretations.find(i => i.id === interpretationId);\n\n      if (interpretation) {\n        dispatch(fromUi.acSetUiInterpretation(interpretation));\n        dispatch(fromUi.acSetUiRightSidebarOpen());\n      }\n    }\n\n    apiPostDataStatistics(visualization.id);\n    dispatch(fromVisualization.acSetVisualization(visualization));\n    dispatch(fromCurrent.acSetCurrent(visualization));\n    dispatch(fromUi.acSetUiFromVisualization(visualization));\n    dispatch(fromLoader.acClearLoadError());\n  };\n\n  try {\n    return onSuccess(await apiFetchVisualization(engine, id));\n  } catch (errorResponse) {\n    let error = errorResponse;\n\n    if (errorResponse && errorResponse.message) {\n      error = errorResponse.message;\n    } else {\n      error = new GenericServerError();\n    }\n\n    clearVisualization(dispatch, getState, error);\n    logError('tDoLoadVisualization', error);\n  }\n};\nexport const clearVisualization = (dispatch, getState, error = null) => {\n  if (error) {\n    dispatch(fromLoader.acSetLoadError(error));\n  } else {\n    dispatch(fromLoader.acClearLoadError());\n  }\n\n  dispatch(fromVisualization.acClear());\n  dispatch(fromCurrent.acClear());\n  const rootOrganisationUnit = sGetRootOrgUnit(getState());\n  const relativePeriod = sGetRelativePeriod(getState());\n  dispatch(fromUi.acClear({\n    rootOrganisationUnit,\n    relativePeriod\n  }));\n};\nexport const tDoRenameVisualization = ({\n  name,\n  description\n}) => (dispatch, getState) => {\n  const state = getState();\n  const visualization = sGetVisualization(state);\n  const current = sGetCurrent(state);\n  const updatedVisualization = { ...visualization\n  };\n  const updatedCurrent = { ...current\n  };\n\n  if (name) {\n    updatedVisualization.name = updatedCurrent.name = name;\n  }\n\n  if (description) {\n    updatedVisualization.description = updatedCurrent.description = description;\n  }\n\n  dispatch(fromVisualization.acSetVisualization(updatedVisualization)); // keep the same reference for current if there are no changes\n  // other than the name/description\n\n  if (visualization === current) {\n    dispatch(fromCurrent.acSetCurrent(updatedVisualization));\n  } else {\n    dispatch(fromCurrent.acSetCurrent(updatedCurrent));\n  }\n\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    variant: VARIANT_SUCCESS,\n    message: i18n.t('Rename successful'),\n    duration: 2000\n  }));\n};\nexport const tDoSaveVisualization = ({\n  name,\n  description\n}, copy) => async (dispatch, getState, engine) => {\n  const onSuccess = res => {\n    if (res.status === 'OK' && res.response.uid) {\n      if (copy) {\n        history.push({\n          pathname: `/${res.response.uid}`,\n          state: {\n            isSaving: true\n          }\n        }); // Save as\n      } else {\n        history.replace({\n          pathname: `/${res.response.uid}`,\n          state: {\n            isSaving: true\n          }\n        }); // Save\n      }\n    }\n  };\n\n  try {\n    dispatch(fromLoader.acSetPluginLoading(true));\n    const visualization = getVisualizationFromCurrent(sGetCurrent(getState())); // remove the id to trigger a POST request and save a new AO\n\n    if (copy) {\n      delete visualization.id;\n    }\n\n    if (name) {\n      visualization.name = name;\n    }\n\n    if (description) {\n      visualization.description = description;\n    }\n\n    return onSuccess(await apiSaveVisualization(engine, visualization));\n  } catch (error) {\n    dispatch(fromLoader.acSetPluginLoading(false));\n    logError('tDoSaveVisualization', error); // TODO: Once the API returns custom error codes for validation errors, make sure they're relayed properly to be displayed to the user\n    // In the meantime we only display a generic error (doesn't give any constructive information but at least it doesn't fail silently any more)\n\n    dispatch(fromLoader.acSetLoadError(new GenericServerError()));\n  }\n};\nexport const tDoDeleteVisualization = () => (dispatch, getState) => {\n  const current = sGetCurrent(getState());\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    variant: VARIANT_SUCCESS,\n    message: i18n.t('\"{{deletedObject}}\" successfully deleted.', {\n      deletedObject: current.name\n    }),\n    duration: 2000\n  }));\n  history.push('/');\n};","import { getInstance } from 'd2';\nconst EVENT_TYPE_CHART_VIEW = 'CHART_VIEW';\nexport const apiPostDataStatistics = async id => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `/dataStatistics?eventType=${EVENT_TYPE_CHART_VIEW}&favorite=${id}`;\n  return api.post(url);\n};","import { AXIS, DIMENSION_ID_PERIOD, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, getPredefinedDimensionProp, dimensionIsValid, layoutGetDimension, DIMENSION_PROP_NO_ITEMS, DIMENSION_ID_DATA } from '@dhis2/analytics';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { NoSeriesError, NoCategoryError, NoPeriodError, NoDataError, NoSeriesOrCategoryError } from './error'; // Layout validation helper functions\n\nconst isAxisValid = axis => AXIS.isValid(axis) && axis.some(axisItem => dimensionIsValid(axisItem, {\n  requireItems: !getPredefinedDimensionProp(axisItem.dimension, DIMENSION_PROP_NO_ITEMS)\n}));\n\nconst validateDimension = (dimension, error) => {\n  if (!(dimension && dimensionIsValid(dimension, {\n    requireItems: true\n  }))) {\n    throw error;\n  }\n};\n\nconst validateAxis = (axis, error) => {\n  if (!isAxisValid(axis)) {\n    throw error;\n  }\n}; // Layout validation\n\n\nconst validateDefaultLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError(layout.type));\n  validateAxis(layout.rows, new NoCategoryError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), // TODO: old validation rule, refactor\n  new NoPeriodError(layout.type));\n};\n\nconst validatePivotTableLayout = layout => {\n  if (!isAxisValid(layout.columns) && !isAxisValid(layout.rows)) {\n    throw new NoSeriesOrCategoryError(layout.type);\n  }\n\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateYearOverYearLayout = layout => {\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_DATA), new NoDataError(layout.type));\n\n  if (!(Array.isArray(layout[BASE_FIELD_YEARLY_SERIES]) && typeof layout[BASE_FIELD_YEARLY_SERIES][0] === 'string')) {\n    throw new NoSeriesError(layout.type);\n  }\n\n  validateAxis(layout.rows, new NoCategoryError(layout.type));\n};\n\nconst validatePieLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateSingleValueLayout = layout => {\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_DATA), new NoDataError(layout.type));\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nexport const validateLayout = layout => {\n  switch (layout.type) {\n    case VIS_TYPE_PIE:\n      return validatePieLayout(layout);\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return validateYearOverYearLayout(layout);\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return validateSingleValueLayout(layout);\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return validatePivotTableLayout(layout);\n\n    default:\n      return validateDefaultLayout(layout);\n  }\n};","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const NAMESPACE = 'analytics';\nexport const CURRENT_AO_KEY = 'currentAnalyticalObject';\nexport const hasNamespace = async d2 => await d2.currentUser.dataStore.has(NAMESPACE);\nexport const getNamespace = async (d2, hasNamespace) => hasNamespace ? await d2.currentUser.dataStore.get(NAMESPACE) : await d2.currentUser.dataStore.create(NAMESPACE);\nexport const apiSave = async (data, key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, await hasNamespace(d2)));\n    return ns.set(key, data);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiFetch = async (key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, await hasNamespace(d2)));\n    return ns.get(key);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiSaveAOInUserDataStore = (current, key = CURRENT_AO_KEY) => apiSave(current, key);\nexport const apiFetchAOFromUserDataStore = (key = CURRENT_AO_KEY) => apiFetch(key);","import { connect } from 'react-redux';\nimport { sGetCurrent, sGetCurrentFromUi } from '../../reducers/current';\nimport * as fromActions from '../../actions';\nimport { validateLayout } from '../../modules/layoutValidation';\nimport { acSetLoadError, acClearLoadError, acSetPluginLoading } from '../../actions/loader';\nimport history from '../../modules/history';\nimport { CURRENT_AO_KEY } from '../../api/userDataStore';\nimport { GenericClientError } from '../../modules/error';\n\nconst UpdateVisualizationContainer = ({\n  renderComponent,\n  getCurrent,\n  getCurrentFromUi,\n  onUpdate,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart\n}) => {\n  // validate layout on update\n  // validation error message will be shown without loading the plugin first\n  const onClick = () => {\n    try {\n      validateLayout(getCurrentFromUi());\n      acClearLoadError();\n    } catch (error) {\n      acSetLoadError(error || new GenericClientError());\n    }\n\n    onLoadingStart();\n    onUpdate();\n    const urlContainsCurrentAOKey = history.location.pathname === '/' + CURRENT_AO_KEY;\n    const current = getCurrent();\n    const pathWithoutInterpretation = current && current.id ? `/${current.id}` : '/';\n\n    if (!urlContainsCurrentAOKey && history.location.pathname !== pathWithoutInterpretation) {\n      history.push(pathWithoutInterpretation);\n    }\n  };\n\n  return renderComponent(onClick);\n};\n\nconst mapDispatchToProps = {\n  getCurrent: () => (dispatch, getState) => sGetCurrent(getState()),\n  getCurrentFromUi: () => (dispatch, getState) => sGetCurrentFromUi(getState()),\n  onUpdate: fromActions.fromCurrent.tSetCurrentFromUi,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart: () => acSetPluginLoading(true)\n};\nexport default connect(null, mapDispatchToProps)(UpdateVisualizationContainer);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n/* eslint-disable-line no-unused-vars */\n\nimport { colors, spacers } from '@dhis2/ui';\nexport const tabBar = {\n  styles: <_JSXStyle id={\"3577720839\"}>{[\"div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}\"]}</_JSXStyle>,\n  className: \"jsx-3577720839\"\n};\nexport const tabSection = {\n  styles: <_JSXStyle id={\"1427514941\"}>{[`div.jsx-1427514941{padding:${spacers.dp16} 0;}`, `div.jsx-1427514941:not(:last-child){border-bottom:1px solid ${colors.grey300};margin-bottom:${spacers.dp8};}`]}</_JSXStyle>,\n  className: \"jsx-1427514941\"\n};\nexport const tabSectionContent = {\n  styles: <_JSXStyle id={\"1655721637\"}>{[\"div.jsx-1655721637{overflow-y:auto;}\"]}</_JSXStyle>,\n  className: \"jsx-1655721637\"\n};\nexport const tabSectionTitle = {\n  styles: <_JSXStyle id={\"3115295887\"}>{[`span.jsx-3115295887{display:inline-block;padding-bottom:${spacers.dp12};font-size:15px;color:${colors.grey900};font-weight:500;-webkit-letter-spacing:0.2px;-moz-letter-spacing:0.2px;-ms-letter-spacing:0.2px;letter-spacing:0.2px;}`]}</_JSXStyle>,\n  className: \"jsx-3115295887\"\n};\nexport const tabSectionOption = {\n  styles: <_JSXStyle id={\"1665807213\"}>{[`div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-1665807213\"\n};\nexport const tabSectionOptionItem = {\n  styles: <_JSXStyle id={\"2983019948\"}>{[`div.jsx-2983019948:not(:last-child){padding-bottom:${spacers.dp8};}`]}</_JSXStyle>,\n  className: \"jsx-2983019948\"\n};\nexport const tabSectionOptionText = {\n  styles: <_JSXStyle id={\"3717686981\"}>{[`p.jsx-3717686981{font-size:${spacers.dp14};padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-3717686981\"\n};\nexport const tabSectionOptionToggleable = {\n  styles: <_JSXStyle id={\"684239008\"}>{[`div.jsx-684239008{margin:${spacers.dp4} 0 0 23px;}`]}</_JSXStyle>,\n  className: \"jsx-684239008\"\n};\nexport const tabSectionOptionComplexInline = {\n  styles: <_JSXStyle id={\"3576615552\"}>{[\"div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\"]}</_JSXStyle>,\n  className: \"jsx-3576615552\"\n};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const SelectBaseOption = ({\n  option,\n  label,\n  helpText,\n  toggleable,\n  value,\n  onChange,\n  disabled\n}) => {\n  const defaultValue = option.defaultValue;\n  const [checked, setChecked] = useState(value !== defaultValue);\n  const selected = option.items.find(item => item.value === value)?.value;\n\n  const onToggle = checked => {\n    setChecked(checked);\n    onChange(checked ? option.items[0].value : defaultValue);\n  };\n\n  return <div className={tabSectionOption.className}>\n            {toggleable ? <Checkbox checked={checked} label={label} name={`${option.name}-toggle`} onChange={({\n      checked\n    }) => onToggle(checked)} dense disabled={disabled} /> : null}\n            {(!toggleable || checked) && !disabled ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                    <SingleSelectField name={`${option.name}-select`} label={toggleable ? '' : label} onChange={({\n        selected\n      }) => onChange(selected)} selected={selected} helpText={helpText} inputWidth=\"280px\" dense>\n                        {option.items.map(({\n          value,\n          label\n        }) => <SingleSelectOption key={value} value={value} label={label} />)}\n                    </SingleSelectField>\n                </div> : null}\n        </div>;\n};\nSelectBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  label: PropTypes.string,\n  toggleable: PropTypes.bool\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst AggregationType = () => <SelectBaseOption label={i18n.t('Aggregation type')} helpText={i18n.t('Overrides aggregation type for all data values.')} option={{\n  name: 'aggregationType',\n  items: [{\n    value: 'DEFAULT',\n    label: i18n.t('By data element')\n  }, {\n    value: 'COUNT',\n    label: i18n.t('Count')\n  }, {\n    value: 'AVERAGE',\n    label: i18n.t('Average')\n  }, {\n    value: 'AVERAGE_SUM_ORG_UNIT',\n    label: i18n.t('Average (sum in org unit hierarchy)')\n  }, {\n    value: 'SUM',\n    label: i18n.t('Sum')\n  }, {\n    value: 'LAST',\n    label: i18n.t('Last value')\n  }, {\n    value: 'LAST_AVERAGE_ORG_UNIT',\n    label: i18n.t('Last value (average in org unit hierarchy)')\n  }, {\n    value: 'MIN',\n    label: i18n.t('Min')\n  }, {\n    value: 'MAX',\n    label: i18n.t('Max')\n  }, {\n    value: 'STDDEV',\n    label: i18n.t('Standard deviation')\n  }, {\n    value: 'VARIANCE',\n    label: i18n.t('Variance')\n  }]\n}} />;\n\nexport default AggregationType;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst FontColorIcon = ({\n  color\n}) => <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"12\" cy=\"12\" fillRule=\"evenodd\" fill={color} r=\"7\" />\n    </svg>;\n\nFontColorIcon.defaultProps = {\n  color: '#000000'\n};\nFontColorIcon.propTypes = {\n  color: PropTypes.string\n};\nexport default FontColorIcon;","import React from 'react';\n\nconst BoldIcon = () => <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m7 5h6c2.209139 0 4 1.790861 4 4 0 .97998001-.3524116 1.8776499-.9374171 2.5731919 1.1608063.6986588 1.9374171 1.9720399 1.9374171 3.4268081 0 2.209139-1.790861 4-4 4h-7zm7 8h-5v4h5c1.1045695 0 2-.8954305 2-2 0-1.0543618-.8158778-1.9181651-1.8507377-1.9945143zm-1-6h-4v4h4c1.1045695 0 2-.8954305 2-2 0-1.0543618-.8158778-1.91816512-1.8507377-1.99451426z\" fill=\"#6e7a8a\" />\n    </svg>;\n\nexport default BoldIcon;","import React from 'react';\n\nconst ItalicIcon = () => <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m13.5 7h-3.5v-2h9v2h-3.5l-5 10h3.5v2h-9v-2h3.5z\" fill=\"#6e7a8a\" />\n    </svg>;\n\nexport default ItalicIcon;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelect, SingleSelectOption, Button } from '@dhis2/ui';\nimport { getFontSizeOptions, getTextAlignOptions, FONT_STYLE_OPTION_FONT_SIZE, FONT_STYLE_OPTION_BOLD, FONT_STYLE_OPTION_ITALIC, FONT_STYLE_OPTION_TEXT_COLOR, FONT_STYLE_OPTION_TEXT_ALIGN } from '@dhis2/analytics';\nimport styles from '../styles/TextStyle.module.css';\nimport FontColorIcon from '../../../assets/FontColorIcon';\nimport BoldIcon from '../../../assets/BoldIcon';\nimport ItalicIcon from '../../../assets/ItalicIcon';\nimport { sGetConsolidatedUiFontStyle } from '../../../reducers/ui';\nimport { acSetUiFontStyle } from '../../../actions/ui';\n\nconst stringToBool = string => string === 'true'; // eslint-disable-next-line no-unused-vars\n\n\nconst TextStyle = ({\n  fontStyleKey,\n  fontStyle,\n  onChange,\n  disabled\n}) => {\n  const fontSizeOptions = Object.values(getFontSizeOptions());\n  const textAlignOptions = Object.values(getTextAlignOptions());\n  const [fontSize, setFontSize] = useState(fontStyle[FONT_STYLE_OPTION_FONT_SIZE]);\n  const [textAlign, setTextAlign] = useState(fontStyle[FONT_STYLE_OPTION_TEXT_ALIGN]);\n  const [textColor, setTextColor] = useState(fontStyle[FONT_STYLE_OPTION_TEXT_COLOR]);\n  const [bold, setBold] = useState(fontStyle[FONT_STYLE_OPTION_BOLD]);\n  const [italic, setItalic] = useState(fontStyle[FONT_STYLE_OPTION_ITALIC]);\n  return <div className={styles.container}>\n            {fontSize && <SingleSelect onChange={({\n      selected\n    }) => {\n      setFontSize(Number(selected));\n      onChange(FONT_STYLE_OPTION_FONT_SIZE, Number(selected));\n    }} selected={fontSize.toString()} prefix={i18n.t('Size')} dense className={styles.fontSizeSelect} disabled={disabled}>\n                    {fontSizeOptions.map(option => <SingleSelectOption key={option.value?.toString()} value={option.value?.toString()} label={option.label} />)}\n                </SingleSelect>}\n            {textAlign && <SingleSelect onChange={({\n      selected\n    }) => {\n      setTextAlign(selected);\n      onChange(FONT_STYLE_OPTION_TEXT_ALIGN, selected);\n    }} selected={textAlign} prefix={i18n.t('Position')} dense className={styles.textAlignSelect} disabled={disabled}>\n                    {textAlignOptions.map(option => <SingleSelectOption key={option.value} value={option.value} label={option.label} />)}\n                </SingleSelect>}\n            {textColor && <label className={styles.textColorLabel}>\n                    <input type=\"color\" value={textColor} onChange={e => {\n        const value = e.target.value;\n        setTextColor(value);\n        onChange(FONT_STYLE_OPTION_TEXT_COLOR, value);\n      }} className={styles.textColorInput} disabled={disabled} />\n                    <FontColorIcon color={textColor} />\n                </label>}\n            {\n      /* TODO: temporary solution, use toggle instead of Button once https://jira.dhis2.org/browse/TECH-392 is implemented in @dhis2/ui */\n    }\n            {bold != null && <Button icon={<BoldIcon />} value={bold.toString()} onClick={({\n      value\n    }) => {\n      setBold(!stringToBool(value));\n      onChange(FONT_STYLE_OPTION_BOLD, !stringToBool(value));\n    }} className={bold ? styles.buttonActive : ''} small secondary disabled={disabled} />}\n            {italic != null && <Button icon={<ItalicIcon />} value={italic.toString()} onClick={({\n      value\n    }) => {\n      setItalic(!stringToBool(value));\n      onChange(FONT_STYLE_OPTION_ITALIC, !stringToBool(value));\n    }} className={italic ? styles.buttonActive : ''} small secondary disabled={disabled} />}\n        </div>;\n};\n\nTextStyle.propTypes = {\n  fontStyleKey: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  fontStyle: PropTypes.object,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  fontStyle: sGetConsolidatedUiFontStyle(state, ownProps.fontStyleKey)\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: (option, value) => {\n    dispatch(acSetUiFontStyle({\n      fontStyleKey: ownProps.fontStyleKey,\n      option,\n      value\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextStyle);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\nexport const CheckboxBaseOption = ({\n  option,\n  label,\n  value,\n  onChange,\n  inverted,\n  fontStyleKey\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={inverted ? !value : value} label={label} name={option.name} onChange={({\n    checked\n  }) => onChange(inverted ? !checked : checked)} dense />\n        {(!inverted && value || inverted && !value) && fontStyleKey ? <div className={tabSectionOptionToggleable.className}>\n                <TextStyle fontStyleKey={fontStyleKey} />\n            </div> : null}\n    </div>;\nCheckboxBaseOption.propTypes = {\n  fontStyleKey: PropTypes.string,\n  inverted: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  value: PropTypes.bool,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckboxBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowDimensionLabels = () => <CheckboxBaseOption label={i18n.t('Dimension labels')} option={{\n  name: 'showDimensionLabels'\n}} />;\n\nexport default ShowDimensionLabels;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst SkipRounding = () => <CheckboxBaseOption label={i18n.t('Skip rounding')} option={{\n  name: 'skipRounding'\n}} />;\n\nexport default SkipRounding;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColTotals = () => <CheckboxBaseOption label={i18n.t('Columns totals')} option={{\n  name: 'colTotals'\n}} />;\n\nexport default ColTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColSubTotals = () => <CheckboxBaseOption label={i18n.t('Column sub-totals')} option={{\n  name: 'colSubTotals'\n}} />;\n\nexport default ColSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowTotals = () => <CheckboxBaseOption label={i18n.t('Row totals')} option={{\n  name: 'rowTotals'\n}} />;\n\nexport default RowTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowSubTotals = () => <CheckboxBaseOption label={i18n.t('Row sub-totals')} option={{\n  name: 'rowSubTotals'\n}} />;\n\nexport default RowSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyColumns = () => <CheckboxBaseOption label={i18n.t('Hide empty columns')} option={{\n  name: 'hideEmptyColumns'\n}} />;\n\nexport default HideEmptyColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyRows = () => <CheckboxBaseOption label={i18n.t('Hide empty rows')} option={{\n  name: 'hideEmptyRows'\n}} />;\n\nexport default HideEmptyRows;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst NumberType = () => <SelectBaseOption label={i18n.t('Number type')} helpText={i18n.t('Display the value of percentages of the total')} option={{\n  name: 'numberType',\n  items: [{\n    value: 'VALUE',\n    label: i18n.t('Value')\n  }, {\n    value: 'ROW_PERCENTAGE',\n    label: i18n.t('Percentage of row')\n  }, {\n    value: 'COLUMN_PERCENTAGE',\n    label: i18n.t('Percentage of column')\n  }]\n}} />;\n\nexport default NumberType;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Field, Radio } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const RadioBaseOption = ({\n  option,\n  label,\n  value,\n  onChange\n}) => <Field name={option.name} label={label} dense>\n        {option.items.map(({\n    id,\n    label\n  }) => <Radio key={id} label={label} value={id} checked={value === id} onChange={({\n    value\n  }) => onChange(value)} />)}\n    </Field>;\nRadioBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RadioBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RadioBaseOption from './RadioBaseOption';\nexport const LEGEND_DISPLAY_STYLE_OPTION_NAME = 'legendDisplayStyle';\nexport const LEGEND_DISPLAY_STYLE_FILL = 'FILL';\nexport const LEGEND_DISPLAY_STYLE_TEXT = 'TEXT';\n\nconst LegendDisplayStyle = () => <RadioBaseOption option={{\n  name: LEGEND_DISPLAY_STYLE_OPTION_NAME,\n  items: [{\n    id: LEGEND_DISPLAY_STYLE_FILL,\n    label: i18n.t('Legend changes background color')\n  }, {\n    id: LEGEND_DISPLAY_STYLE_TEXT,\n    label: i18n.t('Legend changes text color')\n  }]\n}} />;\n\nexport default LegendDisplayStyle;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const LEGEND_SET_OPTION_NAME = 'legendSet';\nconst query = {\n  legendSets: {\n    resource: 'legendSets',\n    params: {\n      fields: ['id', 'displayName~rename(name)', 'legends[id,displayName~rename(name),startValue,endValue,color]'],\n      paging: 'false'\n    }\n  }\n};\n\nconst LegendSetSelect = ({\n  value,\n  loading,\n  options,\n  onFocus,\n  onChange\n}) => <SingleSelectField name=\"legendSetSelect\" label={i18n.t('Legend')} selected={value?.id} inputWidth=\"280px\" placeholder={i18n.t('Select from legends')} loadingText={i18n.t('Loading legends')} loading={loading} dense onFocus={onFocus} onChange={({\n  selected\n}) => onChange({\n  id: selected,\n  displayName: options.find(option => option.value === selected).label\n})}>\n        {options.map(({\n    value,\n    label\n  }) => <SingleSelectOption key={value} value={value} label={label} />)}\n    </SingleSelectField>;\n\nLegendSetSelect.propTypes = {\n  loading: PropTypes.bool,\n  options: PropTypes.array,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\n\nconst LegendSet = ({\n  value,\n  onChange\n}) => {\n  const engine = useDataEngine();\n  const [options, setOptions] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  if (value && value.id) {\n    if (!options.find(option => option.value === value.id)) {\n      setOptions([...options, {\n        value: value.id,\n        label: value.displayName\n      }]);\n    }\n  }\n\n  const onSelectFocus = async () => {\n    if (!isLoaded) {\n      const {\n        legendSets\n      } = await engine.query(query);\n\n      if (legendSets) {\n        const options = legendSets.legendSets.map(legendSet => ({\n          value: legendSet.id,\n          label: legendSet.name\n        }));\n        setOptions(options);\n      }\n\n      setIsLoaded(true);\n    }\n  };\n\n  return <LegendSetSelect loading={!isLoaded} value={value} options={options} onChange={onChange} onFocus={onSelectFocus} />;\n};\n\nLegendSet.propTypes = {\n  value: PropTypes.object,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state)[LEGEND_SET_OPTION_NAME] || {}\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    id,\n    displayName\n  }) => dispatch(acSetUiOptions({\n    [LEGEND_SET_OPTION_NAME]: {\n      id,\n      displayName\n    }\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LegendSet);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Radio, Field } from '@dhis2/ui';\nimport LegendSet from './LegendSet';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const LEGEND_DISPLAY_STRATEGY_OPTION_NAME = 'legendDisplayStrategy';\nexport const LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM = 'BY_DATA_ITEM';\nexport const LEGEND_DISPLAY_STRATEGY_FIXED = 'FIXED';\nimport { tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\n\nconst LegendDisplayStrategy = ({\n  value,\n  onChange\n}) => <Fragment>\n        <Field name={LEGEND_DISPLAY_STRATEGY_OPTION_NAME} dense>\n            <Radio key={LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM} label={i18n.t('Use pre-defined legend per data item')} value={LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM} checked={value === LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM} onChange={onChange} />\n            <Radio key={LEGEND_DISPLAY_STRATEGY_FIXED} label={i18n.t('Select a single legend for the entire visualization')} value={LEGEND_DISPLAY_STRATEGY_FIXED} checked={value === LEGEND_DISPLAY_STRATEGY_FIXED} onChange={onChange} />\n        </Field>\n        {value === LEGEND_DISPLAY_STRATEGY_FIXED ? <div className={tabSectionOptionToggleable.className}>\n                <LegendSet />\n            </div> : null}\n    </Fragment>;\n\nLegendDisplayStrategy.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state)[LEGEND_DISPLAY_STRATEGY_OPTION_NAME]\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    value\n  }) => dispatch(acSetUiOptions({\n    [LEGEND_DISPLAY_STRATEGY_OPTION_NAME]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LegendDisplayStrategy);","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, FieldSet, Legend as UiCoreLegend } from '@dhis2/ui';\nimport LegendDisplayStyle, { LEGEND_DISPLAY_STYLE_OPTION_NAME, LEGEND_DISPLAY_STYLE_FILL } from './LegendDisplayStyle';\nimport LegendDisplayStrategy, { LEGEND_DISPLAY_STRATEGY_OPTION_NAME, LEGEND_DISPLAY_STRATEGY_FIXED, LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM } from './LegendDisplayStrategy';\nimport { LEGEND_SET_OPTION_NAME } from './LegendSet';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOptionToggleable, tabSectionOption, tabSectionTitle } from '../styles/VisualizationOptions.style.js';\n\nconst Legend = ({\n  legendSet,\n  legendDisplayStrategy,\n  onChange,\n  hideStyleOptions\n}) => {\n  const [legendEnabled, setLegendEnabled] = useState(!(legendDisplayStrategy === LEGEND_DISPLAY_STRATEGY_FIXED && !legendSet));\n\n  const onCheckboxChange = ({\n    checked\n  }) => {\n    setLegendEnabled(checked);\n\n    if (checked) {\n      onChange({\n        [LEGEND_DISPLAY_STRATEGY_OPTION_NAME]: LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM\n      });\n    } else {\n      onChange({\n        [LEGEND_SET_OPTION_NAME]: undefined,\n        [LEGEND_DISPLAY_STRATEGY_OPTION_NAME]: LEGEND_DISPLAY_STRATEGY_FIXED,\n        [LEGEND_DISPLAY_STYLE_OPTION_NAME]: LEGEND_DISPLAY_STYLE_FILL\n      });\n    }\n  };\n\n  return <div className={tabSectionOption.className}>\n            <Checkbox checked={legendEnabled} label={i18n.t('Display legend')} onChange={onCheckboxChange} dense />\n            {legendEnabled ? <div className={tabSectionOptionToggleable.className}>\n                    {!hideStyleOptions ? <div className={tabSectionOption.className}>\n                            <FieldSet>\n                                <UiCoreLegend>\n                                    <span className={tabSectionTitle.className} style={{\n              marginTop: 8\n            }}>\n                                        {i18n.t('Legend style')}\n                                    </span>\n                                </UiCoreLegend>\n                                <div className={tabSectionOption.className}>\n                                    <LegendDisplayStyle />\n                                </div>\n                            </FieldSet>\n                        </div> : null}\n                    <div>\n                        <FieldSet>\n                            <UiCoreLegend>\n                                <span className={tabSectionTitle.className}>\n                                    {i18n.t('Legend type')}\n                                </span>\n                            </UiCoreLegend>\n                            <div className={tabSectionOption.className}>\n                                <LegendDisplayStrategy />\n                            </div>\n                        </FieldSet>\n                    </div>\n                </div> : null}\n        </div>;\n};\n\nLegend.propTypes = {\n  legendDisplayStrategy: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  hideStyleOptions: PropTypes.bool,\n  legendSet: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  legendSet: sGetUiOptions(state)[LEGEND_SET_OPTION_NAME],\n  legendDisplayStrategy: sGetUiOptions(state)[LEGEND_DISPLAY_STRATEGY_OPTION_NAME]\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions(value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Legend);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, Box, Input, InputField } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\nexport const TextBaseOption = ({\n  type,\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  onToggle,\n  fontStyleKey,\n  toggleable,\n  checked,\n  inline,\n  disabled\n}) => <div className={inline ? '' : tabSectionOption.className}>\n        {toggleable ? <Checkbox checked={checked} label={label} name={`${option.name}-toggle`} onChange={({\n    checked\n  }) => onToggle(checked)} dense disabled={disabled} /> : null}\n        {!toggleable || checked ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                {inline ? <Box width={width}>\n                        <Input type={type} onChange={({\n        value\n      }) => onChange(value)} name={option.name} value={value} placeholder={placeholder} dense disabled={disabled} />\n                    </Box> : <InputField type={type} label={toggleable ? '' : label} onChange={({\n      value\n    }) => onChange(value)} name={option.name} value={value} helpText={disabled ? '' : helpText} placeholder={placeholder} inputWidth={width} dense disabled={disabled} />}\n                {fontStyleKey ? <TextStyle fontStyleKey={fontStyleKey} /> : null}\n            </div> : null}\n    </div>;\nTextBaseOption.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  fontStyleKey: PropTypes.string,\n  helpText: PropTypes.string,\n  inline: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  toggleable: PropTypes.bool,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.string,\n  onChange: PropTypes.func,\n  onToggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || '',\n  checked: sGetUiOptions(state)[ownProps.option.name] !== undefined\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  })),\n  onToggle: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked ? '' : undefined\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextBaseOption);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Title = ({\n  label,\n  inline\n}) => <TextBaseOption type=\"text\" width=\"280px\" label={label} placeholder={i18n.t('Add a title')} option={{\n  name: 'title'\n}} inline={inline} />;\n\nTitle.defaultProps = {\n  inline: false\n};\nTitle.propTypes = {\n  inline: PropTypes.bool,\n  label: PropTypes.string\n};\nexport default Title;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DisplayDensity = () => <SelectBaseOption label={i18n.t('Display density')} option={{\n  name: 'displayDensity',\n  items: [{\n    value: 'COMFORTABLE',\n    label: i18n.t('Comfortable')\n  }, {\n    value: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    value: 'COMPACT',\n    label: i18n.t('Compact')\n  }]\n}} />;\n\nexport default DisplayDensity;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst FontSize = () => <SelectBaseOption label={i18n.t('Font size')} option={{\n  name: 'fontSize',\n  items: [{\n    value: 'LARGE',\n    label: i18n.t('Large')\n  }, {\n    value: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    value: 'SMALL',\n    label: i18n.t('Small')\n  }]\n}} />;\n\nexport default FontSize;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DigitGroupSeparator = () => <SelectBaseOption label={i18n.t('Digit group separator')} option={{\n  name: 'digitGroupSeparator',\n  items: [{\n    value: 'NONE',\n    label: i18n.t('None')\n  }, {\n    value: 'SPACE',\n    label: i18n.t('Space')\n  }, {\n    value: 'COMMA',\n    label: i18n.t('Comma')\n  }]\n}} />;\n\nexport default DigitGroupSeparator;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Input, Label, SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionText, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst OperatorSelect = ({\n  name,\n  value,\n  onChange\n}) => {\n  const options = [{\n    id: 'EQ',\n    label: '='\n  }, {\n    id: 'GT',\n    label: '>'\n  }, {\n    id: 'GE',\n    label: '>='\n  }, {\n    id: 'LT',\n    label: '<'\n  }, {\n    id: 'LE',\n    label: '<='\n  }];\n  return <div style={{\n    width: '112px'\n  }}>\n            <SingleSelect name={name} onChange={({\n      selected\n    }) => {\n      onChange(selected);\n    }} selected={value} tabIndex=\"0\" inputMaxWidth=\"106px\" dense>\n                {options.map(({\n        id,\n        label\n      }) => <SingleSelectOption key={id} value={id} label={label} />)}\n            </SingleSelect>\n        </div>;\n};\n\nOperatorSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst ValueInput = ({\n  name,\n  value,\n  onChange\n}) => <Input name={name} value={value} type=\"number\" onChange={({\n  value\n}) => onChange(value)} width=\"72px\" dense />;\n\nValueInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nclass MeasureCriteria extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      op1: '',\n      v1: '',\n      op2: '',\n      v2: ''\n    };\n    const [op1 = '', v1 = '', op2 = '', v2 = ''] = props.value.split(/[;:]/);\n    this.state = {\n      op1,\n      v1,\n      op2,\n      v2\n    };\n  }\n\n  onClear = () => this.setState(this.defaultState, this.props.onChange(''));\n  onChange = name => value => {\n    this.setState({\n      [name]: value\n    }, () => {\n      const {\n        op1,\n        v1,\n        op2,\n        v2\n      } = this.state;\n      const value = [];\n\n      if (op1 && v1) {\n        value.push(`${op1}:${v1}`);\n      }\n\n      if (op2 && v2) {\n        value.push(`${op2}:${v2}`);\n      }\n\n      this.props.onChange(value.length > 0 ? value.join(';') : '');\n    });\n  };\n\n  render() {\n    const {\n      op1,\n      v1,\n      op2,\n      v2\n    } = this.state;\n    return <div className={tabSectionOption.className}>\n                <p className={tabSectionOptionText.className}>\n                    {i18n.t('You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed')}\n                </p>\n                <div className={tabSectionOptionComplexInline.className}>\n                    <div style={{\n          width: '250px'\n        }}>\n                        <Label>{i18n.t('Minimum data value')}</Label>\n                        <div className={tabSectionOptionComplexInline.className}>\n                            <OperatorSelect name=\"op1\" value={op1} onChange={this.onChange('op1')} />\n                            <ValueInput name=\"v1\" value={v1} onChange={this.onChange('v1')} />\n                        </div>\n                    </div>\n                    <div style={{\n          width: '250px'\n        }}>\n                        <Label>{i18n.t('Maximum data value')}</Label>\n                        <div className={tabSectionOptionComplexInline.className}>\n                            <OperatorSelect name=\"op2\" value={op2} onChange={this.onChange('op2')} />\n                            <ValueInput name=\"v2\" value={v2} onChange={this.onChange('v2')} />\n                        </div>\n                    </div>\n                </div>\n                <div style={{\n        paddingTop: '16px'\n      }}>\n                    <Button onClick={this.onClear}>\n                        {i18n.t('Clear min/max limits')}\n                    </Button>\n                </div>\n            </div>;\n  }\n\n}\n\nMeasureCriteria.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state).measureCriteria || ''\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions({\n    measureCriteria: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasureCriteria);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamReportingPeriod = () => <CheckboxBaseOption label={i18n.t('Reporting period')} option={{\n  name: 'reportingPeriod'\n}} />;\n\nexport default ParamReportingPeriod;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Organisation unit')} option={{\n  name: 'organisationUnit'\n}} />;\n\nexport default ParamOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamParentOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Parent organisation unit')} option={{\n  name: 'parentOrganisationUnit'\n}} />;\n\nexport default ParamParentOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Regression = () => <CheckboxBaseOption label={i18n.t('Include regression')} option={{\n  name: 'regression'\n}} />;\n\nexport default Regression;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Cumulative = () => <CheckboxBaseOption label={i18n.t('Include cumulative')} option={{\n  name: 'cumulative'\n}} />;\n\nexport default Cumulative;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'sortOrder';\nconst defaultValue = options[optionName].defaultValue;\n\nconst SortOrder = () => <SelectBaseOption label={i18n.t('Custom sort order')} toggleable={true} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: '-1',\n    label: i18n.t('Low to high')\n  }, {\n    value: '1',\n    label: i18n.t('High to low')\n  }]\n}} />;\n\nexport default SortOrder;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst TopLimit = () => <SelectBaseOption label={i18n.t('Top limit')} option={{\n  name: 'topLimit',\n  items: [{\n    value: '0',\n    label: i18n.t('None')\n  }, {\n    value: '5',\n    label: '5'\n  }, {\n    value: '10',\n    label: '10'\n  }, {\n    value: '20',\n    label: '20'\n  }, {\n    value: '50',\n    label: '50'\n  }, {\n    value: '100',\n    label: '100'\n  }]\n}} />;\n\nexport default TopLimit;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { sGetUserAuthorities } from '../../../reducers/user';\nimport { sGetSettings } from '../../../reducers/settings';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const APPROVAL_LEVEL_OPTION_AUTH = 'F_VIEW_UNAPPROVED_DATA';\nconst optionName = 'approvalLevel';\nconst query = {\n  dataApprovalLevels: {\n    resource: 'dataApprovalLevels.json',\n    params: {\n      order: 'level:asc',\n      fields: 'id,displayName~rename(name),level',\n      paging: 'false'\n    }\n  }\n};\n\nconst ApprovalLevelSelect = ({\n  value,\n  loading,\n  options,\n  onFocus,\n  onChange\n}) => <SingleSelectField name=\"approvalLevelSelect\" label={i18n.t('Data approved at level')} selected={value?.id} inputWidth=\"280px\" placeholder={i18n.t('Select from predefined levels')} loadingText={i18n.t('Loading data approval levels')} loading={loading} dense onFocus={onFocus} onChange={({\n  selected\n}) => onChange({\n  id: selected,\n  displayName: options.find(option => option.value === selected).label\n})}>\n        {options.map(({\n    value,\n    label\n  }) => <SingleSelectOption key={value} value={value} label={label} />)}\n    </SingleSelectField>;\n\nApprovalLevelSelect.propTypes = {\n  loading: PropTypes.bool,\n  options: PropTypes.array,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\n\nconst ApprovalLevel = ({\n  value,\n  onChange,\n  enabled\n}) => {\n  const engine = useDataEngine();\n  const [options, setOptions] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  if (!enabled) {\n    return null;\n  }\n\n  if (value && value.id) {\n    if (!options.find(option => option.value === value.id)) {\n      setOptions([...options, {\n        value: value.id,\n        label: value.displayName\n      }]);\n    }\n  }\n\n  const onSelectFocus = async () => {\n    if (!isLoaded) {\n      const {\n        dataApprovalLevels\n      } = await engine.query(query);\n\n      if (dataApprovalLevels) {\n        const options = dataApprovalLevels.dataApprovalLevels.map(level => ({\n          value: level.id,\n          label: level.name\n        }));\n        setOptions(options);\n      }\n\n      setIsLoaded(true);\n    }\n  };\n\n  return <ApprovalLevelSelect loading={!isLoaded} value={value} options={options} onChange={onChange} onFocus={onSelectFocus} />;\n};\n\nApprovalLevel.propTypes = {\n  enabled: PropTypes.bool,\n  value: PropTypes.object,\n  onChange: PropTypes.func\n};\nconst approvalLevelEnabledSelector = createSelector([sGetSettings, sGetUserAuthorities], (settings, authorities) => settings.keyIgnoreAnalyticsApprovalYearThreshold !== -1 && authorities[APPROVAL_LEVEL_OPTION_AUTH]);\n\nconst mapStateToProps = state => ({\n  enabled: approvalLevelEnabledSelector(state),\n  value: sGetUiOptions(state)[optionName] || {}\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: ({\n    id,\n    displayName\n  }) => dispatch(acSetUiOptions({\n    [optionName]: {\n      id,\n      displayName\n    }\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ApprovalLevel);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowHierarchy = () => <CheckboxBaseOption label={i18n.t('Display organisation unit hierarchy')} option={{\n  name: 'showHierarchy'\n}} />;\n\nexport default ShowHierarchy;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label } from '@dhis2/ui';\nimport CheckboxBaseOption from './CheckboxBaseOption';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\n\nconst CompletedOnly = () => <div className={tabSectionOption.className}>\n        <Label>{i18n.t('Event data')}</Label>\n        <CheckboxBaseOption label={i18n.t('Only include completed events')} option={{\n    name: 'completedOnly'\n  }} />\n    </div>;\n\nexport default CompletedOnly;","import React from 'react';\nexport const AxisOne = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"16\" viewBox=\"0 0 18 16\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <rect width=\"18\" height=\"1\" y=\"15\" fill=\"#7B8998\" />\n            <rect width=\"2\" height=\"16\" x=\"4\" fill=\"#404B5A\" />\n            <rect width=\"1\" height=\"16\" x=\"13\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" x=\"17\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" fill=\"#7B8998\" opacity=\".50\" />\n        </g>\n    </svg>;\nexport const AxisTwo = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"16\" viewBox=\"0 0 18 16\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <rect width=\"18\" height=\"1\" y=\"15\" fill=\"#7B8998\" />\n            <rect width=\"2\" height=\"16\" x=\"12\" fill=\"#404B5A\" />\n            <rect width=\"1\" height=\"16\" x=\"4\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" x=\"17\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" fill=\"#7B8998\" opacity=\".50\" />\n        </g>\n    </svg>;\nexport const AxisThree = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"16\" viewBox=\"0 0 18 16\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <rect width=\"18\" height=\"1\" y=\"15\" fill=\"#7B8998\" />\n            <rect width=\"2\" height=\"16\" fill=\"#404B5A\" />\n            <rect width=\"1\" height=\"16\" x=\"13\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" x=\"17\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" x=\"4\" fill=\"#7B8998\" opacity=\".50\" />\n        </g>\n    </svg>;\nexport const AxisFour = () => <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"16\" viewBox=\"0 0 18 16\">\n        <g fill=\"none\" fillRule=\"evenodd\">\n            <rect width=\"18\" height=\"1\" y=\"15\" fill=\"#7B8998\" />\n            <rect width=\"2\" height=\"16\" x=\"16\" fill=\"#404B5A\" />\n            <rect width=\"1\" height=\"16\" x=\"13\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" x=\"4\" fill=\"#7B8998\" opacity=\".50\" />\n            <rect width=\"1\" height=\"16\" fill=\"#7B8998\" opacity=\".50\" />\n        </g>\n    </svg>;","import React, { useEffect } from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Table, TableHead, TableRow, TableCell, TableBody, Radio } from '@dhis2/ui';\nimport { VIS_TYPE_COLUMN, VIS_TYPE_LINE, visTypeIcons } from '@dhis2/analytics';\nimport styles from '../styles/SeriesTable.module.css';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { sGetSeriesSetupItems } from '../../../reducers';\nimport { EmptySeries, EmptyBox } from '../../../assets/ErrorIcons';\nimport { AxisOne, AxisTwo, AxisThree, AxisFour } from '../../../assets/AxisIcons';\nconst availableAxes = [0, 1, 2, 3];\nconst allTypes = [VIS_TYPE_COLUMN, VIS_TYPE_LINE];\nconst TYPE_PROP = 'type';\nconst AXIS_PROP = 'axis';\n\nconst SeriesTable = ({\n  layoutItems,\n  optionItems,\n  onChange,\n  visType,\n  showAxisOptions,\n  showTypeOptions\n}) => {\n  const availableTypes = [visType, ...allTypes.filter(type => type !== visType)];\n  useEffect(() => {\n    if (!optionItems.length) {\n      onChange(layoutItems);\n    } else {\n      const matchedItems = layoutItems.map(item => {\n        const matchedItem = optionItems.find(option => option.dimensionItem === item.dimensionItem);\n\n        if (matchedItem) {\n          matchedItem.name = item.name;\n        }\n\n        return matchedItem || item;\n      });\n      onChange(matchedItems);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n\n  const onItemChange = (changedItem, value, prop) => {\n    const series = [...optionItems];\n    const item = series.find(item => item.dimensionItem == changedItem.dimensionItem);\n    item[prop] = value;\n    onChange(series);\n  };\n\n  const renderTable = () => <Table suppressZebraStriping className={styles.table}>\n            <colgroup>\n                <col className={styles.nameColumn} />\n                <col className={styles.typeColumn} />\n                <col className={styles.axisColumn} />\n            </colgroup>\n            <TableHead className={styles.tableHead}>\n                <TableRow className={styles.tableRow}>\n                    <TableCell className={styles.tableCell}>\n                        {i18n.t('Data item')}\n                    </TableCell>\n\n                    <TableCell className={styles.tableCell}>\n                        {showTypeOptions && i18n.t('Visualization type')}\n                    </TableCell>\n\n                    {showAxisOptions && availableAxes.map((axis, index) => <TableCell key={index} className={styles.tableCell}>\n                                {i18n.t('Axis {{axisId}}', {\n            axisId: index + 1\n          })}\n                                <div className={styles.axisIcon}>\n                                    {renderAxisIcon(index + 1)}\n                                </div>\n                            </TableCell>)}\n                </TableRow>\n            </TableHead>\n            <TableBody className={styles.tableBody}>\n                {optionItems.map(item => <TableRow key={`multiaxis-table-row-${item.dimensionItem}`}>\n                        <TableCell className={styles.itemName}>\n                            {item.name}\n                        </TableCell>\n                        <TableCell className={styles.itemType}>\n                            {showTypeOptions && availableTypes.map(type => <div className={styles.typeContainer} key={type}>\n                                        <Radio className={styles.radioInput} key={type} onChange={() => onItemChange(item, type, TYPE_PROP)} checked={item.type ? item.type === type : visType === type} label={<span className={styles.visIcon}>\n                                                    {visTypeIcons[type]}\n                                                </span>} dense />\n                                    </div>)}\n                        </TableCell>\n                        {showAxisOptions && availableAxes.map(axis => <TableCell key={axis} className={styles.itemAxis}>\n                                    <Radio onChange={() => onItemChange(item, axis, AXIS_PROP)} checked={item.axis === axis} dense />\n                                </TableCell>)}\n                    </TableRow>)}\n            </TableBody>\n        </Table>;\n\n  const renderAxisIcon = axis => {\n    switch (axis) {\n      case 1:\n        return <AxisOne />;\n\n      case 2:\n        return <AxisTwo />;\n\n      case 3:\n        return <AxisThree />;\n\n      case 4:\n        return <AxisFour />;\n    }\n  };\n\n  const renderError = (title, description, icon) => <div className={styles.errorContainer}>\n            <div className={styles.errorIcon}>{icon}</div>\n            <p className={styles.errorTitle}>{title}</p>\n            <p className={styles.errorDescription}>{description}</p>\n        </div>;\n\n  const renderEmptySeriesError = () => renderError(i18n.t('Series is empty'), i18n.t('Options for selected items will be available here'), EmptySeries());\n\n  const renderNoSeriesOptionsError = () => renderError(i18n.t('No Series options'), i18n.t(\"There aren't any Series options for this visualization type\"), EmptyBox());\n\n  if (!showAxisOptions && !showTypeOptions) {\n    return renderNoSeriesOptionsError();\n  } else {\n    return Object.keys(layoutItems).length && optionItems.length ? renderTable() : renderEmptySeriesError();\n  }\n};\n\nSeriesTable.propTypes = {\n  visType: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  layoutItems: PropTypes.array,\n  optionItems: PropTypes.array,\n  showAxisOptions: PropTypes.bool,\n  showTypeOptions: PropTypes.bool\n};\nSeriesTable.defaultProps = {\n  layoutItems: [],\n  optionItems: [],\n  showAxisOptions: false,\n  showTypeOptions: false\n};\n\nconst mapStateToProps = state => ({\n  layoutItems: sGetSeriesSetupItems(state),\n  optionItems: sGetUiOptions(state).series,\n  visType: sGetUiType(state)\n});\n\nconst mapDispatchToProps = {\n  onChange: series => dispatch => {\n    dispatch(acSetUiOptions({\n      series\n    }));\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SeriesTable);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst CumulativeValues = () => <CheckboxBaseOption label={i18n.t('Cumulative values')} option={{\n  name: 'cumulativeValues'\n}} />;\n\nexport default CumulativeValues;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowData = () => <CheckboxBaseOption label={i18n.t('Value labels')} option={{\n  name: 'showData'\n}} />;\n\nexport default ShowData;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'hideEmptyRowItems';\nconst defaultValue = options[optionName].defaultValue;\n\nconst HideEmptyRowItems = () => <SelectBaseOption label={i18n.t('Hide empty categories')} toggleable={true} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: 'BEFORE_FIRST',\n    label: i18n.t('Before first')\n  }, {\n    value: 'AFTER_LAST',\n    label: i18n.t('After last')\n  }, {\n    value: 'BEFORE_FIRST_AFTER_LAST',\n    label: i18n.t('Before first and after last')\n  }, {\n    value: 'ALL',\n    label: i18n.t('All')\n  }]\n}} />;\n\nexport default HideEmptyRowItems;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { FONT_STYLE_HORIZONTAL_AXIS_TITLE } from '@dhis2/analytics';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'domainAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst DomainAxisLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} fontStyleKey={FONT_STYLE_HORIZONTAL_AXIS_TITLE} />;\n\nexport default DomainAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst NoSpaceBetweenColumns = () => <CheckboxBaseOption label={i18n.t('No space between bars/columns')} option={{\n  name: 'noSpaceBetweenColumns'\n}} />;\n\nexport default NoSpaceBetweenColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { FONT_STYLE_LEGEND } from '@dhis2/analytics';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideLegend = () => <CheckboxBaseOption label={i18n.t('Show legend key')} option={{\n  name: 'hideLegend'\n}} inverted={true} fontStyleKey={FONT_STYLE_LEGEND} />;\n\nexport default HideLegend;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Field, Radio } from '@dhis2/ui';\nimport { VIS_TYPE_PIVOT_TABLE, FONT_STYLE_VISUALIZATION_TITLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Title from './Title';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\nconst HIDE_TITLE_AUTO = 'AUTO';\nconst HIDE_TITLE_NONE = 'NONE';\nconst HIDE_TITLE_CUSTOM = 'CUSTOM';\n\nclass HideTitle extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      value: HIDE_TITLE_AUTO\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  onGroupChange = ({\n    value\n  }) => {\n    this.setState({\n      value\n    });\n    this.props.onChange(value === HIDE_TITLE_NONE, value === HIDE_TITLE_AUTO ? undefined : this.props.title || undefined);\n  };\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {\n          /* TODO: Remove this check? PT doesn't use this component anyway */\n        }\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table title') : i18n.t('Chart title')}\n                </Label>\n                <Field name=\"hideTitle-selector\" dense>\n                    {[{\n          id: HIDE_TITLE_AUTO,\n          label: i18n.t('Auto generated')\n        }, {\n          id: HIDE_TITLE_NONE,\n          label: i18n.t('None')\n        }, {\n          id: HIDE_TITLE_CUSTOM,\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense onChange={this.onGroupChange} checked={value === id} />)}\n                </Field>\n                {value === HIDE_TITLE_CUSTOM ? <div className={tabSectionOptionToggleable.className}>\n                        <Title inline />\n                    </div> : null}\n                {value === HIDE_TITLE_AUTO || value === HIDE_TITLE_CUSTOM ? <div className={tabSectionOptionToggleable.className}>\n                        <TextStyle fontStyleKey={FONT_STYLE_VISUALIZATION_TITLE} />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideTitle.propTypes = {\n  title: PropTypes.string,\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideTitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideTitle ? HIDE_TITLE_NONE : uiOptions.title === undefined ? HIDE_TITLE_AUTO : HIDE_TITLE_CUSTOM);\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: hideTitleSelector(state),\n  title: sGetUiOptions(state).title\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (hideTitle, title) => dispatch(acSetUiOptions({\n    hideTitle,\n    title\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideTitle);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Subtitle = () => <TextBaseOption type=\"text\" width=\"280px\" placeholder={i18n.t('Add a subtitle')} option={{\n  name: 'subtitle'\n}} />;\n\nexport default Subtitle;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, Field } from '@dhis2/ui';\nimport { VIS_TYPE_PIVOT_TABLE, FONT_STYLE_VISUALIZATION_SUBTITLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Subtitle from './Subtitle';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\nconst HIDE_SUBTITLE_AUTO = 'AUTO';\nconst HIDE_SUBTITLE_NONE = 'NONE';\nconst HIDE_SUBTITLE_CUSTOM = 'CUSTOM';\n\nclass HideSubtitle extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      value: HIDE_SUBTITLE_AUTO\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  onGroupChange = ({\n    value\n  }) => {\n    this.setState({\n      value\n    });\n    this.props.onChange(value === HIDE_SUBTITLE_NONE, value === HIDE_SUBTITLE_AUTO ? undefined : this.props.subtitle || undefined);\n  };\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table subtitle') : i18n.t('Chart subtitle')}\n                </Label>\n                <Field name=\"hideSubtitle-selector\" dense>\n                    {[{\n          id: HIDE_SUBTITLE_AUTO,\n          label: i18n.t('Auto generated')\n        }, {\n          id: HIDE_SUBTITLE_NONE,\n          label: i18n.t('None')\n        }, {\n          id: HIDE_SUBTITLE_CUSTOM,\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense onChange={this.onGroupChange} checked={value === id} />)}\n                </Field>\n                {value === HIDE_SUBTITLE_CUSTOM ? <div className={tabSectionOptionToggleable.className}>\n                        <Subtitle inline />\n                    </div> : null}\n                {value === HIDE_SUBTITLE_AUTO || value === HIDE_SUBTITLE_CUSTOM ? <div className={tabSectionOptionToggleable.className}>\n                        <TextStyle fontStyleKey={FONT_STYLE_VISUALIZATION_SUBTITLE} />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideSubtitle.propTypes = {\n  subtitle: PropTypes.string,\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideSubtitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideSubtitle ? HIDE_SUBTITLE_NONE : uiOptions.subtitle === undefined ? HIDE_SUBTITLE_AUTO : HIDE_SUBTITLE_CUSTOM);\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: hideSubtitleSelector(state),\n  subtitle: sGetUiOptions(state).subtitle\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: (hideSubtitle, subtitle) => dispatch(acSetUiOptions({\n    hideSubtitle,\n    subtitle\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideSubtitle);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'regressionType';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RegressionType = ({\n  disabled\n}) => <SelectBaseOption toggleable={true} label={i18n.t('Trend line')} disabled={disabled} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: 'LINEAR',\n    label: i18n.t('Linear')\n  }, {\n    value: 'POLYNOMIAL',\n    label: i18n.t('Polynomial')\n  }, {\n    value: 'LOESS',\n    label: i18n.t('Loess')\n  }]\n}} />;\n\nRegressionType.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RegressionType;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineValue = () => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'targetLineValue'\n}} inline />;\n\nexport default TargetLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} placeholder={i18n.t('Target line title')} option={{\n  name: 'targetLineLabel'\n}} inline />;\n\nexport default TargetLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, Label } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport TargetLineValue from './TargetLineValue';\nimport TargetLineLabel from './TargetLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const TargetLine = ({\n  checked,\n  onChange,\n  disabled\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={checked} label={i18n.t('Target line')} onChange={({\n    checked\n  }) => onChange(checked)} dense disabled={disabled} />\n        {checked && !disabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <div>\n                    <Label>{i18n.t('Value')}</Label>\n                    <TargetLineValue />\n                </div>\n                <div>\n                    <Label>{i18n.t('Title')}</Label>\n                    <TargetLineLabel />\n                </div>\n            </div> : null}\n    </div>;\nTargetLine.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  checked: sGetUiOptions(state).targetLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: checked => dispatch(acSetUiOptions({\n    targetLine: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetLine);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineValue = () => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'baseLineValue'\n}} inline />;\n\nexport default BaseLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} placeholder={i18n.t('Base line title')} option={{\n  name: 'baseLineLabel'\n}} inline />;\n\nexport default BaseLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, Label } from '@dhis2/ui';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport BaseLineValue from './BaseLineValue';\nimport BaseLineLabel from './BaseLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const BaseLine = ({\n  checked,\n  onChange,\n  disabled\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={checked} label={i18n.t('Base line')} name=\"baseLine-toggle\" onChange={({\n    checked\n  }) => onChange(checked)} dense disabled={disabled} />\n        {checked && !disabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <div>\n                    <Label>{i18n.t('Value')}</Label>\n                    <BaseLineValue />\n                </div>\n                <div>\n                    <Label>{i18n.t('Title')}</Label>\n                    <BaseLineLabel />\n                </div>\n            </div> : null}\n    </div>;\nBaseLine.propTypes = {\n  checked: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  checked: sGetUiOptions(state).baseLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: checked => dispatch(acSetUiOptions({\n    baseLine: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BaseLine);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RegressionType from '../../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../../components/VisualizationOptions/Options/BaseLine';\nexport default (hasCustomAxes => ({\n  key: 'data-lines',\n  label: i18n.t('Lines'),\n  helpText: hasCustomAxes ? i18n.t('Lines are not supported yet when using multiple axes') : null,\n  content: React.Children.toArray([<RegressionType disabled={hasCustomAxes} />, <TargetLine disabled={hasCustomAxes} />, <BaseLine disabled={hasCustomAxes} />])\n}));","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nimport { FONT_STYLE_VERTICAL_AXIS_TITLE } from '@dhis2/analytics';\nconst optionName = 'rangeAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RangeAxisLabel = ({\n  disabled\n}) => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} disabled={disabled} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} fontStyleKey={FONT_STYLE_VERTICAL_AXIS_TITLE} />;\n\nRangeAxisLabel.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RangeAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMinValue = ({\n  disabled\n}) => <TextBaseOption type=\"number\" width=\"100px\" placeholder={i18n.t('Min')} disabled={disabled} option={{\n  name: 'rangeAxisMinValue'\n}} inline />;\n\nRangeAxisMinValue.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RangeAxisMinValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMaxValue = ({\n  disabled\n}) => <TextBaseOption type=\"number\" width=\"100px\" placeholder={i18n.t('Max')} disabled={disabled} option={{\n  name: 'rangeAxisMaxValue'\n}} inline />;\n\nRangeAxisMaxValue.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RangeAxisMaxValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport { Label, Help } from '@dhis2/ui';\nimport RangeAxisMinValue from './RangeAxisMinValue';\nimport RangeAxisMaxValue from './RangeAxisMaxValue';\nimport { tabSectionOption, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst AxisRange = ({\n  disabled\n}) => <div className={tabSectionOption.className}>\n        <Label>{i18n.t('Axis range')}</Label>\n        <div className={tabSectionOptionComplexInline.className}>\n            <RangeAxisMinValue disabled={disabled} />\n            {'\\u00A0\\u2013\\u00A0'}\n            <RangeAxisMaxValue disabled={disabled} />\n        </div>\n        {!disabled ? <Help>\n                {i18n.t('Values outside of the range will not be displayed')}\n            </Help> : null}\n    </div>;\n\nAxisRange.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default AxisRange;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport TextBaseOption from './TextBaseOption';\nexport const RangeAxisSteps = ({\n  disabled\n}) => <TextBaseOption type=\"number\" width=\"96px\" helpText={i18n.t('The number of axis steps between the min and max values')} label={i18n.t('Steps')} disabled={disabled} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisSteps'\n}} />;\nRangeAxisSteps.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RangeAxisSteps;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisDecimals = ({\n  disabled\n}) => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Decimals')} disabled={disabled} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisDecimals'\n}} />;\n\nRangeAxisDecimals.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default RangeAxisDecimals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport { Label } from '@dhis2/ui';\nimport { FONT_STYLE_SERIES_AXIS_LABELS } from '@dhis2/analytics';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\n\nconst SeriesAxisLabels = ({\n  disabled\n}) => <div className={tabSectionOption.className}>\n        <Label>{i18n.t('Labels')}</Label>\n        <TextStyle fontStyleKey={FONT_STYLE_SERIES_AXIS_LABELS} disabled={disabled} />\n    </div>;\n\nSeriesAxisLabels.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default SeriesAxisLabels;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RangeAxisLabel from '../../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport AxisRange from '../../../components/VisualizationOptions/Options/AxisRange';\nimport RangeAxisSteps from '../../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport SeriesAxisLabels from '../../../components/VisualizationOptions/Options/SeriesAxisLabels';\nexport default (hasCustomAxes => ({\n  key: 'axes-vertical-axis',\n  label: i18n.t('Vertical (y) axis'),\n  helpText: hasCustomAxes ? i18n.t('Vertical axis options are not supported yet when using multiple axes') : null,\n  content: React.Children.toArray([<RangeAxisLabel disabled={hasCustomAxes} />, <AxisRange disabled={hasCustomAxes} />, <RangeAxisSteps disabled={hasCustomAxes} />, <RangeAxisDecimals disabled={hasCustomAxes} />, <SeriesAxisLabels disabled={hasCustomAxes} />])\n}));","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport { Label } from '@dhis2/ui';\nimport { FONT_STYLE_CATEGORY_AXIS_LABELS } from '@dhis2/analytics';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nimport TextStyle from './TextStyle';\n\nconst CategoryAxisLabels = ({\n  disabled\n}) => <div className={tabSectionOption.className}>\n        <Label>{i18n.t('Labels')}</Label>\n        <TextStyle fontStyleKey={FONT_STYLE_CATEGORY_AXIS_LABELS} disabled={disabled} />\n    </div>;\n\nCategoryAxisLabels.propTypes = {\n  disabled: PropTypes.bool\n};\nexport default CategoryAxisLabels;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst PercentStackedValues = () => <CheckboxBaseOption label={i18n.t('Stacked values add up to 100%')} option={{\n  name: 'percentStackedValues'\n}} />;\n\nexport default PercentStackedValues;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","import { VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_LINE, VIS_TYPE_RADAR, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport pivotTableConfig from './pivotTableConfig';\nimport columnConfig from './columnConfig';\nimport stackedColumnConfig from './stackedColumnConfig';\nimport lineConfig from './lineConfig';\nimport areaConfig from './areaConfig';\nimport pieConfig from './pieConfig';\nimport gaugeConfig from './gaugeConfig';\nimport singleValueConfig from './singleValueConfig';\nimport barConfig from './barConfig';\nimport yearOverYearConfig from './yearOverYearConfig';\nexport const getOptionsByType = (type, hasCustomAxes) => {\n  switch (type) {\n    case VIS_TYPE_COLUMN:\n      return columnConfig(hasCustomAxes);\n\n    case VIS_TYPE_BAR:\n      return barConfig(hasCustomAxes);\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return yearOverYearConfig(hasCustomAxes);\n\n    case VIS_TYPE_STACKED_COLUMN:\n    case VIS_TYPE_STACKED_BAR:\n      return stackedColumnConfig(hasCustomAxes);\n\n    case VIS_TYPE_LINE:\n    case VIS_TYPE_RADAR:\n      return lineConfig(hasCustomAxes);\n\n    case VIS_TYPE_AREA:\n      return areaConfig(hasCustomAxes);\n\n    case VIS_TYPE_GAUGE:\n      return gaugeConfig(hasCustomAxes);\n\n    case VIS_TYPE_PIE:\n      return pieConfig(hasCustomAxes);\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return singleValueConfig(hasCustomAxes);\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return pivotTableConfig(hasCustomAxes);\n\n    default:\n      // return all the options\n      return stackedColumnConfig(hasCustomAxes);\n  }\n};","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable showAxisOptions={true} showTypeOptions={true} />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable showAxisOptions={true} />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable showAxisOptions={true} showTypeOptions={true} />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <HideLegend />])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nimport getLinesSection from './sections/lines';\nimport getVerticalAxisSection from './sections/verticalAxis';\nimport CategoryAxisLabels from '../../components/VisualizationOptions/Options/CategoryAxisLabels';\nexport default (hasCustomAxes => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, getLinesSection(hasCustomAxes), {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [getVerticalAxisSection(hasCustomAxes), {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />, <CategoryAxisLabels />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <HideLegend />])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange';\nimport Legend from '../../components/VisualizationOptions/Options/Legend';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nexport default (() => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-lines',\n    label: i18n.t('Lines'),\n    content: React.Children.toArray([<TargetLine />, <BaseLine />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-section-1',\n    content: React.Children.toArray([<Legend />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-vertical-axis',\n    label: i18n.t('Vertical (y) axis'),\n    content: React.Children.toArray([<AxisRange />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nexport default (() => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport Legend from '../../components/VisualizationOptions/Options/Legend';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nexport default (() => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <CompletedOnly />])\n  }]\n}, {\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-section-1',\n    content: React.Children.toArray([<Legend hideStyleOptions={true} />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}]);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport ShowDimensionLabels from '../../components/VisualizationOptions/Options/ShowDimensionLabels';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding';\nimport ColTotals from '../../components/VisualizationOptions/Options/ColTotals';\nimport ColSubTotals from '../../components/VisualizationOptions/Options/ColSubTotals';\nimport RowTotals from '../../components/VisualizationOptions/Options/RowTotals';\nimport RowSubTotals from '../../components/VisualizationOptions/Options/RowSubTotals';\nimport HideEmptyColumns from '../../components/VisualizationOptions/Options/HideEmptyColumns';\nimport HideEmptyRows from '../../components/VisualizationOptions/Options/HideEmptyRows';\nimport NumberType from '../../components/VisualizationOptions/Options/NumberType';\nimport Legend from '../../components/VisualizationOptions/Options/Legend';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport DisplayDensity from '../../components/VisualizationOptions/Options/DisplayDensity';\nimport FontSize from '../../components/VisualizationOptions/Options/FontSize';\nimport DigitGroupSeparator from '../../components/VisualizationOptions/Options/DigitGroupSeparator';\nimport MeasureCriteria from '../../components/VisualizationOptions/Options/MeasureCriteria';\nimport ParamReportingPeriod from '../../components/VisualizationOptions/Options/ParamReportingPeriod';\nimport ParamOrganisationUnit from '../../components/VisualizationOptions/Options/ParamOrganisationUnit';\nimport ParamParentOrganisationUnit from '../../components/VisualizationOptions/Options/ParamParentOrganisationUnit';\nimport Regression from '../../components/VisualizationOptions/Options/Regression';\nimport Cumulative from '../../components/VisualizationOptions/Options/Cumulative';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport TopLimit from '../../components/VisualizationOptions/Options/TopLimit';\nimport ApprovalLevel from '../../components/VisualizationOptions/Options/ApprovalLevel';\nimport ShowHierarchy from '../../components/VisualizationOptions/Options/ShowHierarchy';\nimport CompletedOnly from '../../components/VisualizationOptions/Options/CompletedOnly';\nimport SeriesTable from '../../components/VisualizationOptions/Options/SeriesTable';\nexport default (() => [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowDimensionLabels />, <SkipRounding />])\n  }, {\n    key: 'data-display-totals',\n    label: i18n.t('Display totals'),\n    content: React.Children.toArray([<ColTotals />, <ColSubTotals />, <RowTotals />, <RowSubTotals />])\n  }, {\n    key: 'data-display-empty-data',\n    label: i18n.t('Display empty data'),\n    content: React.Children.toArray([<HideEmptyColumns />, <HideEmptyRows />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <NumberType />, <CompletedOnly />, <ApprovalLevel />])\n  }]\n}, {\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-section-1',\n    content: React.Children.toArray([<Legend />])\n  }]\n}, {\n  key: 'series-tab',\n  label: i18n.t('Series'),\n  content: [{\n    key: 'series-table',\n    content: React.Children.toArray([<SeriesTable />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<Title label={i18n.t('Table title')} />, <DisplayDensity />, <FontSize />, <DigitGroupSeparator />])\n  }, {\n    key: 'style-section-2',\n    label: i18n.t('Labels'),\n    content: React.Children.toArray([<ShowHierarchy />])\n  }]\n}, {\n  key: 'limitValues-tab',\n  label: i18n.t('Limit values'),\n  content: [\n  /*\n  {\n      key: 'limitValues-limit-numbers',\n      label: i18n.t('Limit number of values'),\n      content: [<TopLimit />],\n  },*/\n  {\n    key: 'limitValues-limit-min-max',\n    label: i18n.t('Limit minimum/maximum values'),\n    content: React.Children.toArray([<MeasureCriteria />])\n  }]\n}, {\n  key: 'parameters-tab',\n  label: i18n.t('Parameters'),\n  content: [{\n    key: 'parameters-section-1',\n    content: React.Children.toArray([<ParamReportingPeriod />, <ParamOrganisationUnit />, <ParamParentOrganisationUnit />, <Regression />, <Cumulative />, <SortOrder />, <TopLimit />])\n  }]\n}]);","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FieldSet, Legend, TabBar, Tab, Help } from '@dhis2/ui';\nimport { tabSection, tabSectionTitle, tabSectionOption, tabSectionOptionItem, tabSectionOptionToggleable, tabSectionOptionComplexInline, tabSectionOptionText, tabBar } from './styles/VisualizationOptions.style.js';\nimport { sGetUiType, sGetUiOptions, sGetDimensionItemsByAxis } from '../../reducers/ui';\nimport { getOptionsByType } from '../../modules/options/config';\nimport { isDualAxisType, hasCustomAxes, AXIS_ID_COLUMNS } from '@dhis2/analytics';\nexport class VisualizationOptions extends Component {\n  state = {\n    activeTabKey: undefined\n  };\n  selectTab = tabKey => {\n    this.setState({\n      activeTabKey: tabKey\n    });\n  };\n  generateTabContent = sections => sections.map(({\n    key,\n    label,\n    content,\n    helpText\n  }) => <div key={key} className={tabSection.className}>\n                <FieldSet>\n                    {label ? <Legend>\n                            <span className={tabSectionTitle.className}>\n                                {label}\n                            </span>\n                        </Legend> : null}\n                    {content}\n                    {helpText ? <Legend>\n                            <Help className={tabSectionOptionText.className}>\n                                {helpText}\n                            </Help>\n                        </Legend> : null}\n                </FieldSet>\n            </div>);\n  generateTabs = tabs => tabs.map(({\n    key,\n    label,\n    content\n  }) => ({\n    key,\n    label,\n    content: this.generateTabContent(content)\n  }));\n\n  render() {\n    const {\n      visualizationType,\n      columnDimensionItems,\n      series\n    } = this.props;\n    const filteredSeries = series.filter(seriesItem => columnDimensionItems.some(layoutItem => layoutItem === seriesItem.dimensionItem));\n    const optionsConfig = getOptionsByType(visualizationType, isDualAxisType(visualizationType) && hasCustomAxes(filteredSeries));\n    const tabs = this.generateTabs(optionsConfig);\n    let activeTabIndex = tabs.findIndex(tab => tab.key === this.state.activeTabKey);\n\n    if (activeTabIndex < 0) {\n      activeTabIndex = 0;\n    }\n\n    return <Fragment>\n                <div className={tabBar.className}>\n                    <TabBar>\n                        {tabs.map(({\n            key,\n            label\n          }, index) => <Tab key={key} onClick={() => this.selectTab(key)} selected={index === activeTabIndex}>\n                                {label}\n                            </Tab>)}\n                    </TabBar>\n                    {tabBar.styles}\n                </div>\n                {tabs[activeTabIndex].content}\n                {tabSection.styles}\n                {tabSectionTitle.styles}\n                {tabSectionOption.styles}\n                {tabSectionOptionItem.styles}\n                {tabSectionOptionToggleable.styles}\n                {tabSectionOptionComplexInline.styles}\n                {tabSectionOptionText.styles}\n            </Fragment>;\n  }\n\n}\nVisualizationOptions.propTypes = {\n  visualizationType: PropTypes.string.isRequired,\n  columnDimensionItems: PropTypes.array,\n  series: PropTypes.array\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  columnDimensionItems: sGetDimensionItemsByAxis(state, AXIS_ID_COLUMNS),\n  series: sGetUiOptions(state).series\n});\n\nexport default connect(mapStateToProps)(VisualizationOptions);","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions } from '@dhis2/ui';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport HideButton from '../HideButton/HideButton';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport VisualizationOptions from './VisualizationOptions';\nimport MenuButton from '../MenuButton/MenuButton';\n\nclass VisualizationOptionsManager extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialogIsOpen: false\n    };\n  }\n\n  onClose = () => {\n    this.toggleVisualizationOptionsDialog();\n  };\n  toggleVisualizationOptionsDialog = () => {\n    this.setState({\n      dialogIsOpen: !this.state.dialogIsOpen\n    });\n  };\n  getPrimaryOnClick = handler => () => {\n    handler();\n    this.onClose();\n  };\n\n  render() {\n    return <Fragment>\n                <MenuButton className={this.props.className} onClick={this.toggleVisualizationOptionsDialog}>\n                    {i18n.t('Options')}\n                </MenuButton>\n                {this.state.dialogIsOpen && <Modal onClose={this.onClose} position=\"top\" large>\n                        <ModalTitle>{i18n.t('Options')}</ModalTitle>\n                        <ModalContent>\n                            <VisualizationOptions />\n                        </ModalContent>\n                        <ModalActions>\n                            <ButtonStrip>\n                                <HideButton onClick={this.onClose} />\n                                <UpdateVisualizationContainer renderComponent={handler => <UpdateButton onClick={this.getPrimaryOnClick(handler)} />} />\n                            </ButtonStrip>\n                        </ModalActions>\n                    </Modal>}\n            </Fragment>;\n  }\n\n}\n\nVisualizationOptionsManager.propTypes = {\n  className: PropTypes.string\n};\nexport default VisualizationOptionsManager;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport FileMenu from '@dhis2/d2-ui-file-menu';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport DownloadMenu from '../DownloadMenu/DownloadMenu';\nimport InterpretationsButton from '../Interpretations/InterpretationsButton';\nimport VisualizationOptionsManager from '../VisualizationOptions/VisualizationOptionsManager';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport * as fromActions from '../../actions';\nimport { sGetCurrent } from '../../reducers/current';\nimport history from '../../modules/history';\nimport { parseError } from '../../modules/error';\nimport styles from './styles/MenuBar.module.css';\n\nconst onOpen = id => {\n  const path = `/${id}`;\n\n  if (history.location.pathname === path) {\n    history.replace(path);\n  } else {\n    history.push(path);\n  }\n};\n\nconst onNew = () => history.push('/');\n\nconst getOnRename = props => details => props.onRenameVisualization(details);\n\nconst getOnSave = props => details => props.onSaveVisualization(details, false);\n\nconst getOnSaveAs = props => details => props.onSaveVisualization(details, true);\n\nconst getOnDelete = props => () => props.onDeleteVisualization();\n\nconst getOnError = props => error => props.onError(error);\n\nexport const MenuBar = ({ ...props\n}, context) => <div className={styles.menuBar}>\n        <UpdateVisualizationContainer renderComponent={handler => <UpdateButton className={styles.updateButton} small onClick={handler} />} />\n        <FileMenu d2={context.d2} fileId={props.id || null} fileType={props.apiObjectName} onOpen={onOpen} onNew={onNew} onRename={getOnRename(props)} onSave={getOnSave(props)} onSaveAs={getOnSaveAs(props)} onDelete={getOnDelete(props)} onError={getOnError(props)} />\n        <VisualizationOptionsManager />\n        <DownloadMenu />\n        <div className={styles.grow} />\n        <InterpretationsButton />\n    </div>;\nMenuBar.propTypes = {\n  apiObjectName: PropTypes.string,\n  id: PropTypes.string\n};\nMenuBar.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onRenameVisualization: details => dispatch(fromActions.tDoRenameVisualization(details)),\n  onSaveVisualization: (details, copy) => dispatch(fromActions.tDoSaveVisualization(details, copy)),\n  onDeleteVisualization: () => dispatch(fromActions.tDoDeleteVisualization()),\n  onError: error => {\n    const {\n      type,\n      message\n    } = parseError(error);\n    dispatch(fromActions.fromSnackbar.acReceivedSnackbarMessage({\n      variant: type,\n      message\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuBar);","import React from 'react';\n\nconst InterpretationIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"2---Home-+-Selected-Intp.\" transform=\"translate(-522.000000, -169.000000)\">\n                    <rect fill=\"#F4F6F8\" x=\"0\" y=\"0\" width=\"1280\" height=\"850\" />\n                    <g id=\"title-area\" transform=\"translate(298.000000, 165.000000)\">\n                        <g id=\"name-badge\" transform=\"translate(220.000000, 0.000000)\">\n                            <rect id=\"Rectangle-4\" fill=\"#FFFFFF\" opacity=\"0.700613839\" x=\"0\" y=\"0\" width=\"260\" height=\"24\" rx=\"4\" />\n                            <g id=\"undo\" transform=\"translate(4.000000, 4.000000)\">\n                                <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                                <polyline id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" points=\"2.375 2.374 2.375 6.124 6.125 6.124\" />\n                                <path d=\"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124\" id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                <path d=\"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z\" id=\"Combined-Shape\" fill=\"#494949\" />\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default InterpretationIcon;","import { colors } from '@dhis2/ui';\nexport default {\n  titleBar: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  cell: {\n    display: 'flex',\n    alignItems: 'center',\n    background: colors.white,\n    padding: '6px',\n    borderRadius: '5px',\n    margin: '4px'\n  },\n  title: {\n    fontSize: '14px'\n  },\n  suffix: {\n    paddingLeft: '4px'\n  },\n  interpretation: {\n    fontSize: '12px',\n    color: colors.grey700\n  },\n  interpretationIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '14px',\n    width: '14px',\n    marginRight: '3px'\n  },\n  titleUnsaved: {\n    color: colors.grey500,\n    fontStyle: 'italic'\n  },\n  titleDirty: {\n    color: colors.grey700\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetVisualization } from '../../reducers/visualization';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetUiLocale } from '../../reducers/settings';\nimport formatDate from '../../modules/formatDate';\nimport InterpretationIcon from '../../assets/InterpretationIcon';\nimport styles from './styles/TitleBar.style';\nimport { STATE_UNSAVED, STATE_SAVED, STATE_DIRTY, getVisualizationState } from '../../modules/visualization';\nexport const getTitleUnsaved = () => i18n.t('Unsaved visualization');\nexport const getTitleDirty = () => i18n.t('Edited');\nconst defaultTitleStyle = { ...styles.cell,\n  ...styles.title\n};\nconst defaultInterpretationStyle = { ...styles.cell,\n  ...styles.interpretation\n};\n\nconst getTitleText = (titleState, visualization) => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return getTitleUnsaved();\n\n    case STATE_SAVED:\n    case STATE_DIRTY:\n      return visualization.name;\n\n    default:\n      return '';\n  }\n};\n\nconst getCustomTitleStyle = titleState => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return styles.titleUnsaved;\n\n    default:\n      return null;\n  }\n};\n\nconst getSuffix = titleState => {\n  switch (titleState) {\n    case STATE_DIRTY:\n      return <div style={{ ...styles.suffix,\n        ...styles.titleDirty\n      }}>{`- ${getTitleDirty()}`}</div>;\n\n    default:\n      return '';\n  }\n};\n\nexport const TitleBar = ({\n  titleState,\n  titleText,\n  interpretationDate\n}) => {\n  const titleStyle = { ...defaultTitleStyle,\n    ...getCustomTitleStyle(titleState)\n  };\n  return titleText ? <div data-test=\"chart-title\" style={styles.titleBar}>\n            <div style={titleStyle}>\n                {titleText}\n                {getSuffix(titleState)}\n            </div>\n            {interpretationDate && <div style={defaultInterpretationStyle}>\n                    <div style={styles.interpretationIcon}>\n                        <InterpretationIcon />\n                    </div>\n                    <div>\n                        {i18n.t('Viewing interpretation from {{interpretationDate}}', {\n          interpretationDate\n        })}\n                    </div>\n                </div>}\n        </div> : null;\n};\nTitleBar.propTypes = {\n  interpretationDate: PropTypes.string,\n  titleState: PropTypes.string,\n  titleText: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualization: sGetVisualization(state),\n  current: sGetCurrent(state),\n  interpretation: sGetUiInterpretation(state),\n  uiLocale: sGetUiLocale(state)\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  const {\n    visualization,\n    current,\n    interpretation,\n    uiLocale\n  } = stateProps;\n  const titleState = getVisualizationState(visualization, current);\n  return { ...dispatchProps,\n    ...ownProps,\n    titleState: titleState,\n    titleText: getTitleText(titleState, visualization),\n    interpretationDate: interpretation && interpretation.created ? formatDate(interpretation.created, uiLocale) : null\n  };\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(TitleBar);","import { DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nexport const getPathForOrgUnit = (orgUnit, parentGraphMap) => {\n  if (parentGraphMap[orgUnit.id] === undefined) {\n    return undefined;\n  } // if this is root org unit then in parentGraphMap object\n  // it has empty string as value and id as key\n\n\n  if (parentGraphMap[orgUnit.id] === '') {\n    return '/' + orgUnit.id;\n  }\n\n  return '/' + parentGraphMap[orgUnit.id] + '/' + orgUnit.id;\n};\nexport const appendPathsToOrgUnits = (current, ui) => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(current);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n  const {\n    parentGraphMap\n  } = ui;\n\n  if (!ouAxis) {\n    return current;\n  }\n\n  return { ...current,\n    [ouAxis]: current[ouAxis].map(dimension => ({ ...dimension,\n      items: dimension.items.map(item => ({ ...item,\n        path: getPathForOrgUnit(item, parentGraphMap)\n      }))\n    }))\n  };\n};\nexport const removeUnnecessaryAttributesFromAnalyticalObject = current => ({ ...current,\n  id: undefined,\n  name: undefined,\n  displayName: undefined\n});\nexport const appendDimensionItemNamesToAnalyticalObject = (current, metadata) => {\n  const appendNames = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      name: metadata[item.id] ? metadata[item.id].name : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendNames),\n    filters: current.filters.map(appendNames),\n    rows: current.rows.map(appendNames)\n  };\n};\nexport const appendDimensionItemTypeToAnalyticalObject = (current, metadata) => {\n  const appendDimensionType = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      dimensionItemType: metadata[item.id] ? metadata[item.id].dimensionItemType : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendDimensionType),\n    filters: current.filters.map(appendDimensionType),\n    rows: current.rows.map(appendDimensionType)\n  };\n};\nexport const appendCompleteParentGraphMap = (current, {\n  parentGraphMap\n}) => ({ ...current,\n  parentGraphMap: { ...current.parentGraphMap,\n    ...parentGraphMap\n  }\n});\nexport const prepareCurrentAnalyticalObject = (current, metadata, ui) => {\n  let result;\n  result = removeUnnecessaryAttributesFromAnalyticalObject(current);\n  result = appendDimensionItemNamesToAnalyticalObject(result, metadata);\n  result = appendDimensionItemTypeToAnalyticalObject(result, metadata);\n  result = appendPathsToOrgUnits(result, ui);\n  result = appendCompleteParentGraphMap(result, ui);\n  return result;\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"24\" width=\"10\" height=\"22\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"4\" width=\"10\" height=\"42\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </svg>;\n\nColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ColumnIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst StackedColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) \" x=\"6\" y=\"7\" width=\"10\" height=\"19\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"20\" width=\"10\" height=\"26\" />\n            <rect fill=\"#63A4FF\" transform=\"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) \" x=\"20\" y=\"11\" width=\"10\" height=\"9\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"33\" width=\"10\" height=\"13\" />\n            <rect fill=\"#1976D2\" transform=\"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) \" x=\"36\" y=\"14\" width=\"10\" height=\"19\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </svg>;\n\nStackedColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedColumnIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst BarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </svg>;\n\nBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default BarIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst StackedBarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) \" x=\"19\" y=\"4\" width=\"9\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#63A4FF\" x=\"13\" y=\"18\" width=\"23\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"33\" y=\"32\" width=\"9\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </svg>;\n\nStackedBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedBarIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PieIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <defs>\n            <mask id=\"mask-4\" fill=\"white\">\n                <circle cx=\"24\" cy=\"24\" r=\"24\" />\n            </mask>\n        </defs>\n        <g stroke=\"none\" strokeWidth=\"0\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) \">\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"30.17142857142857,240\" mask=\"url(#mask-4)\" strokeWidth=\"48\">\n                    <path stroke=\"#63A4FF\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"82.97142857142858,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#1976D2\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"37.71428571428572,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#004BA0\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n            </g>\n        </g>\n    </svg>;\n\nPieIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PieIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst GaugeIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(0.000000, -12.000000)\">\n                <path d=\"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z\" fill=\"#9E9E9E\" fillRule=\"nonzero\" />\n                <path d=\"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z\" fill=\"#63A4FF\" fillRule=\"nonzero\" />\n            </g>\n        </g>\n    </svg>;\n\nGaugeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GaugeIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst LineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-line-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-line-icon)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </svg>;\n\nLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default LineIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst AreaIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-area-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <g />\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" fill=\"#63A4FF\" mask=\"url(#mask-area-icon)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </svg>;\n\nAreaIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default AreaIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst RadarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"23\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"15\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"5\" />\n            <circle fill=\"#1976D2\" cx=\"24\" cy=\"9\" r=\"2\" />\n            <circle fill=\"#1976D2\" cx=\"11\" cy=\"31\" r=\"2\" />\n            <circle fill=\"#63A4FF\" cx=\"24\" cy=\"39\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"39\" cy=\"24\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"40\" cy=\"40\" r=\"2\" />\n        </g>\n    </svg>;\n\nRadarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default RadarIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearLineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-yoyl-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28\" />\n                <polygon stroke=\"#004BA0\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20\" />\n                <polygon stroke=\"#63A4FF\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </svg>;\n\nYearOverYearLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearLineIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <polygon points=\"0 0 48 0 48 48 0 48\" />\n                <polygon fill=\"#63A4FF\" points=\"6 14 11 14 11 46 6 46\" />\n                <polygon fill=\"#63A4FF\" points=\"20 23 25 23 25 46 20 46\" />\n                <polygon fill=\"#63A4FF\" points=\"34 30 39 30 39 46 34 46\" />\n                <polygon fill=\"#004BA0\" points=\"11 26 16 26 16 46 11 46\" />\n                <polygon fill=\"#004BA0\" points=\"25 16 30 16 30 46 25 46\" />\n                <polygon fill=\"#004BA0\" points=\"39 9 44 9 44 46 39 46\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 0 2 0 2 48 0 48\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 46 48 46 48 48 0 48\" />\n            </g>\n        </g>\n    </svg>;\n\nYearOverYearColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearColumnIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst SingleValueIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <path d=\"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z\" fill=\"#9e9e9e\" />\n        <path d=\"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z\" fill=\"#1976d2\" />\n        <path d=\"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z\" fill=\"#1976d2\" />\n        <path d=\"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z\" fill=\"#1976d2\" />\n    </svg>;\n\nSingleValueIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default SingleValueIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst GlobeIcon = ({\n  style = {\n    width: 24,\n    height: 24,\n    paddingRight: '8px'\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 48 48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <g>\n                    <mask id=\"mask-globe-icon\" fill=\"white\">\n                        <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                    </mask>\n                    <circle stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" cx=\"24\" cy=\"24\" r=\"23\" />\n                    <polyline stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3\" />\n                    <polyline stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42\" />\n                    <polyline stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12\" />\n                    <polyline stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47\" />\n                </g>\n            </g>\n        </g>\n    </svg>;\n\nGlobeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GlobeIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PivotTableIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <polygon points=\"0 0 48 0 48 48 0 48\" />\n            <rect stroke=\"#4A5768\" strokeWidth=\"2\" x=\"7\" y=\"11\" width=\"34\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"18\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"19\" y=\"11\" width=\"2\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"24\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"30\" width=\"32\" height=\"2\" />\n        </g>\n    </svg>;\n\nPivotTableIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PivotTableIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport ColumnIcon from '../../assets/ColumnIcon';\nimport StackedColumnIcon from '../../assets/StackedColumnIcon';\nimport BarIcon from '../../assets/BarIcon';\nimport StackedBarIcon from '../../assets/StackedBarIcon';\nimport PieIcon from '../../assets/PieIcon';\nimport GaugeIcon from '../../assets/GaugeIcon';\nimport LineIcon from '../../assets/LineIcon';\nimport AreaIcon from '../../assets/AreaIcon';\nimport RadarIcon from '../../assets/RadarIcon';\nimport YearOverYearLineIcon from '../../assets/YearOverYearLineIcon';\nimport YearOverYearColumnIcon from '../../assets/YearOverYearColumnIcon';\nimport SingleValueIcon from '../../assets/SingleValueIcon';\nimport GlobeIcon from '../../assets/GlobeIcon';\nimport PivotTableIcon from '../../assets/PivotTableIcon';\n\nconst ListItemIcon = ({\n  iconType,\n  style\n}) => {\n  switch (iconType) {\n    case VIS_TYPE_STACKED_COLUMN:\n      return <StackedColumnIcon style={style} />;\n\n    case VIS_TYPE_BAR:\n      return <BarIcon style={style} />;\n\n    case VIS_TYPE_STACKED_BAR:\n      return <StackedBarIcon style={style} />;\n\n    case VIS_TYPE_PIE:\n      return <PieIcon style={style} />;\n\n    case VIS_TYPE_GAUGE:\n      return <GaugeIcon style={style} />;\n\n    case VIS_TYPE_LINE:\n      return <LineIcon style={style} />;\n\n    case VIS_TYPE_AREA:\n      return <AreaIcon style={style} />;\n\n    case VIS_TYPE_RADAR:\n      return <RadarIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return <YearOverYearLineIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return <YearOverYearColumnIcon style={style} />;\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return <SingleValueIcon style={style} />;\n\n    case 'MAP':\n      return <GlobeIcon style={style} />;\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return <PivotTableIcon style={style} />;\n\n    case VIS_TYPE_COLUMN:\n    default:\n      return <ColumnIcon style={style} />;\n  }\n};\n\nListItemIcon.propTypes = {\n  iconType: PropTypes.string,\n  style: PropTypes.object\n};\nexport default ListItemIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItemIcon from './ListItemIcon';\nimport styles from './styles/VisualizationTypeSelector.module.css';\n\nconst VisualizationTypeListItem = ({\n  iconType,\n  label,\n  disabled,\n  isSelected,\n  onClick\n}) => {\n  const classNames = [styles.listItem];\n\n  if (isSelected) {\n    classNames.push(styles.listItemActive);\n  }\n\n  if (disabled) {\n    classNames.push(styles.listItemDisabled);\n  }\n\n  return <div className={classNames.join(' ')} onClick={onClick}>\n            <span className={styles.listItemIcon}>\n                {<ListItemIcon iconType={iconType} style={{\n        width: 48,\n        height: 48\n      }} />}\n            </span>\n            <span className={styles.listItemText}>{label}</span>\n        </div>;\n};\n\nVisualizationTypeListItem.propTypes = {\n  disabled: PropTypes.bool,\n  iconType: PropTypes.string,\n  isSelected: PropTypes.bool,\n  label: PropTypes.string,\n  onClick: PropTypes.func\n};\nexport default VisualizationTypeListItem;","import React, { useState, createRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport { visTypeDisplayNames } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { Card, Divider, Popper } from '@dhis2/ui';\nimport { prepareCurrentAnalyticalObject } from '../../modules/currentAnalyticalObject';\nimport { getAdaptedUiByType } from '../../modules/ui';\nimport { sGetUi, sGetUiType } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { acSetUi, acClearSeriesType } from '../../actions/ui';\nimport { apiSaveAOInUserDataStore, CURRENT_AO_KEY } from '../../api/userDataStore';\nimport VisualizationTypeListItem from './VisualizationTypeListItem';\nimport ListItemIcon from './ListItemIcon';\nimport styles from './styles/VisualizationTypeSelector.module.css';\nexport const MAPS_APP_URL = 'dhis-web-maps';\nexport const VisualizationTypeSelector = ({\n  visualizationType,\n  ui,\n  setUi,\n  onItemClick,\n  current,\n  metadata\n}, context) => {\n  const baseUrl = context.baseUrl;\n  const [listIsOpen, setListIsOpen] = useState(false);\n\n  const toggleList = () => setListIsOpen(!listIsOpen);\n\n  const handleListItemClick = type => () => {\n    setUi(getAdaptedUiByType({ ...ui,\n      type\n    }));\n    onItemClick();\n    toggleList();\n  };\n\n  const handleOpenAsMapClick = async event => {\n    if (!current) {\n      event.stopPropagation();\n      return;\n    }\n\n    const currentAnalyticalObject = prepareCurrentAnalyticalObject(current, metadata, ui);\n    await apiSaveAOInUserDataStore(currentAnalyticalObject);\n    window.location.href = `${baseUrl}/${MAPS_APP_URL}?${CURRENT_AO_KEY}=true`;\n  };\n\n  const getVisTypes = () => Object.keys(visTypeDisplayNames);\n\n  const VisTypesList = <Card>\n            <div className={styles.listContainer}>\n                {getVisTypes().map(type => <VisualizationTypeListItem key={type} iconType={type} label={visTypeDisplayNames[type]} isSelected={type === visualizationType} onClick={handleListItemClick(type)} />)}\n                <Divider />\n                <VisualizationTypeListItem key={'MAP'} iconType={'MAP'} label={i18n.t('Open as Map')} // TODO: Open as: Map when i18next nsSeparator fixed\n      onClick={handleOpenAsMapClick} disabled={!current} />\n            </div>\n        </Card>;\n  const buttonRef = createRef();\n  return <>\n            <div onClick={toggleList} ref={buttonRef} className={styles.button}>\n                <ListItemIcon iconType={visualizationType} />\n                <span>{visTypeDisplayNames[visualizationType]}</span>\n                <ArrowDropDownIcon style={{\n        marginLeft: 'auto'\n      }} />\n            </div>\n            {listIsOpen && createPortal(<div onClick={toggleList} className={styles.backdrop}>\n                        <Popper reference={buttonRef} placement=\"bottom-start\">\n                            <div className={styles.cardContainer}>\n                                {VisTypesList}\n                            </div>\n                        </Popper>\n                    </div>, document.body)}\n        </>;\n};\nVisualizationTypeSelector.propTypes = {\n  current: PropTypes.object,\n  metadata: PropTypes.object,\n  setUi: PropTypes.func,\n  ui: PropTypes.object,\n  visualizationType: PropTypes.oneOf(Object.keys(visTypeDisplayNames)),\n  onItemClick: PropTypes.func\n};\nVisualizationTypeSelector.contextTypes = {\n  baseUrl: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  current: sGetCurrent(state),\n  metadata: sGetMetadata(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setUi: ui => dispatch(acSetUi(ui)),\n  onItemClick: () => dispatch(acClearSeriesType())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VisualizationTypeSelector);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { getAvailableAxes, getAxisNameByLayoutType, getLayoutTypeByVisType } from '@dhis2/analytics';\nimport { SplitButton, FlyoutMenu, MenuItem, Button } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetUiActiveModalDialog, sGetUiType } from '../../../../reducers/ui';\nimport { acAddUiLayoutDimensions } from '../../../../actions/ui';\nimport styles from './styles/AddToLayoutButton.module.css';\nexport const AddToLayoutButton = ({\n  dialogId,\n  visType,\n  onAddDimension,\n  onClick\n}) => {\n  const availableAxes = getAvailableAxes(visType);\n  const AddToLayoutButton = availableAxes.length > 1 ? SplitButton : Button;\n\n  const clickHandler = axisId => {\n    onAddDimension({\n      [dialogId]: {\n        axisId\n      }\n    });\n    onClick();\n  };\n\n  const renderMenu = () => <FlyoutMenu maxWidth=\"380px\">\n            {getAvailableAxes(visType).slice(1).map(axis => <MenuItem key={axis} onClick={() => clickHandler(axis)} label={i18n.t(`Add to {{axisName}}`, {\n      axisName: getAxisNameByLayoutType(axis, getLayoutTypeByVisType(visType))\n    })} />)}\n        </FlyoutMenu>;\n\n  return <AddToLayoutButton component={availableAxes.length > 1 ? renderMenu() : null} onClick={() => clickHandler(availableAxes[0])} primary className={styles.button}>\n            {i18n.t(`Add to {{axisName}}`, {\n      axisName: getAxisNameByLayoutType(availableAxes[0], getLayoutTypeByVisType(visType))\n    })}\n        </AddToLayoutButton>;\n};\nAddToLayoutButton.propTypes = {\n  dialogId: PropTypes.string.isRequired,\n  visType: PropTypes.string.isRequired,\n  onAddDimension: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state),\n  dialogId: sGetUiActiveModalDialog(state)\n});\n\nexport default connect(mapStateToProps, {\n  onAddDimension: acAddUiLayoutDimensions\n})(AddToLayoutButton);","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport debounce from 'lodash-es/debounce';\nimport isEqual from 'lodash-es/isEqual';\nimport i18n from '@dhis2/d2-i18n';\nimport { DataDimension, DynamicDimension, PeriodDimension, OrgUnitDimension, ouIdHelper, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, getAxisMaxNumberOfItems, getDisplayNameByVisType, filterOutPredefinedDimensions, apiFetchRecommendedIds } from '@dhis2/analytics';\nimport { Modal, ModalContent, ModalActions, ButtonStrip, ModalTitle } from '@dhis2/ui';\nimport HideButton from '../../HideButton/HideButton';\nimport AddToLayoutButton from './AddToLayoutButton/AddToLayoutButton';\nimport UpdateVisualizationContainer from '../../UpdateButton/UpdateVisualizationContainer';\nimport { acSetUiActiveModalDialog, acRemoveUiItems, acAddUiItems, acSetUiItems, acAddParentGraphMap } from '../../../actions/ui';\nimport { acAddMetadata } from '../../../actions/metadata';\nimport { acSetRecommendedIds } from '../../../actions/recommendedIds';\nimport { sGetUiItems, sGetUiItemsByDimension, sGetUiActiveModalDialog, sGetUiParentGraphMap, sGetUiType, sGetAxisIdByDimensionId, sGetDimensionIdsFromLayout } from '../../../reducers/ui';\nimport { sGetDimensions } from '../../../reducers/dimensions';\nimport { sGetMetadata } from '../../../reducers/metadata';\nimport { sGetSettingsDisplayNameProperty } from '../../../reducers/settings';\nimport { removeLastPathSegment, getOuPath } from '../../../modules/orgUnit';\nimport UpdateButton from '../../UpdateButton/UpdateButton';\nexport class DialogManager extends Component {\n  state = {\n    onMounted: false\n  };\n  componentDidUpdate = prevProps => {\n    const shouldFetchIds = !isEqual(prevProps.dxIds, this.props.dxIds) || !isEqual(prevProps.ouIds, this.props.ouIds);\n\n    if (shouldFetchIds) {\n      this.fetchRecommended();\n    }\n\n    if (this.props.dialogId === DIMENSION_ID_ORGUNIT && !this.state.ouMounted) {\n      this.setState({\n        ouMounted: true\n      });\n    }\n  };\n  fetchRecommended = debounce(async () => {\n    const ids = await apiFetchRecommendedIds(this.context.d2, this.props.dxIds, this.props.ouIds);\n    this.props.setRecommendedIds(ids);\n  }, 1000);\n  selectUiItems = ({\n    dimensionId,\n    items\n  }) => {\n    this.props.setUiItems({\n      dimensionId,\n      itemIds: items.map(item => item.id)\n    });\n\n    switch (dimensionId) {\n      case DIMENSION_ID_ORGUNIT:\n        {\n          const forMetadata = {};\n          const forParentGraphMap = {};\n          items.forEach(ou => {\n            const id = ouIdHelper.removePrefix(ou.id);\n            forMetadata[id] = {\n              id,\n              name: ou.name || ou.displayName,\n              displayName: ou.displayName\n            };\n\n            if (ou.path) {\n              const path = removeLastPathSegment(ou.path);\n              forParentGraphMap[ou.id] = path === `/${ou.id}` ? '' : path.replace(/^\\//, '');\n            }\n          });\n          this.props.addMetadata(forMetadata);\n          this.props.addParentGraphMap(forParentGraphMap);\n          break;\n        }\n\n      default:\n        {\n          this.props.addMetadata(items.reduce((obj, item) => {\n            obj[item.id] = {\n              id: item.id,\n              name: item.name || item.displayName,\n              displayName: item.displayName\n            };\n            return obj;\n          }, {}));\n        }\n    }\n  };\n  closeDialog = () => this.props.closeDialog(null);\n  getSelectedItems = dialogId => {\n    return this.props.selectedItems[dialogId] ? this.props.selectedItems[dialogId].filter(id => this.props.metadata[id]).map(id => ({\n      id,\n      name: this.props.metadata[id].name\n    })) : [];\n  };\n  getOrgUnitsFromIds = (ids, metadata, parentGraphMap) => ids.filter(id => metadata[ouIdHelper.removePrefix(id)] !== undefined).map(id => {\n    const ouUid = ouIdHelper.removePrefix(id);\n    return {\n      id,\n      name: metadata[ouUid].displayName || metadata[ouUid].name,\n      path: getOuPath(ouUid, metadata, parentGraphMap)\n    };\n  }); // The OU content is persisted as mounted in order\n  // to cache the org unit tree data\n\n  renderPersistedContent = dimensionProps => {\n    const {\n      displayNameProperty,\n      ouIds,\n      metadata,\n      parentGraphMap,\n      dialogId\n    } = this.props;\n\n    if (this.state.ouMounted) {\n      const ouItems = this.getOrgUnitsFromIds(ouIds, metadata, parentGraphMap);\n      const display = DIMENSION_ID_ORGUNIT === dialogId ? 'block' : 'none';\n      return <div key={DIMENSION_ID_ORGUNIT} style={{\n        display\n      }}>\n                    <OrgUnitDimension displayNameProperty={displayNameProperty} ouItems={ouItems} {...dimensionProps} />\n                </div>;\n    }\n\n    return null;\n  };\n  renderDialogContent = () => {\n    const {\n      displayNameProperty,\n      dialogId,\n      type,\n      removeUiItems,\n      setUiItems\n    } = this.props;\n    const dimensionProps = {\n      d2: this.context.d2,\n      onSelect: this.selectUiItems,\n      onDeselect: removeUiItems,\n      onReorder: setUiItems\n    };\n\n    const dynamicContent = () => {\n      const selectedItems = this.getSelectedItems(dialogId);\n      let infoBoxMessage;\n      const axisId = this.props.getAxisIdByDimensionId(dialogId);\n      const visType = type;\n      const numberOfItems = selectedItems.length;\n      const axisMaxNumberOfItems = getAxisMaxNumberOfItems(visType, axisId);\n      const hasMaxNumberOfItemsRule = !!axisMaxNumberOfItems;\n\n      if (hasMaxNumberOfItemsRule && numberOfItems > axisMaxNumberOfItems) {\n        infoBoxMessage = axisMaxNumberOfItems === 1 ? i18n.t(`'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.`, {\n          visualizationType: getDisplayNameByVisType(visType)\n        }) : i18n.t(`'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.`, {\n          visualiationType: getDisplayNameByVisType(visType),\n          maxNumber: axisMaxNumberOfItems\n        });\n        selectedItems.forEach((item, index) => {\n          item.isActive = index < axisMaxNumberOfItems;\n        });\n      }\n\n      let content = null;\n\n      if (dialogId === DIMENSION_ID_DATA) {\n        content = <DataDimension displayNameProp={displayNameProperty} selectedDimensions={selectedItems} infoBoxMessage={infoBoxMessage} {...dimensionProps} />;\n      } else if (dialogId === DIMENSION_ID_PERIOD) {\n        content = <PeriodDimension selectedPeriods={selectedItems} onSelect={dimensionProps.onSelect} // TODO: infoBoxMessage should ideally be implemented for all dimensions\n        />;\n      } else if (filterOutPredefinedDimensions(Object.keys(this.props.dimensions)).includes(dialogId)) {\n        content = <DynamicDimension selectedItems={selectedItems} dimensionId={dialogId} onSelect={dimensionProps.onSelect} context={dimensionProps.d2} // TODO: infoBoxMessage should ideally be implemented for all dimensions\n        />;\n      }\n\n      return content;\n    };\n\n    return <Fragment>\n                {this.renderPersistedContent(dimensionProps)}\n                {dialogId && dynamicContent()}\n            </Fragment>;\n  };\n  getPrimaryOnClick = handler => () => {\n    handler();\n    this.closeDialog();\n  };\n\n  render() {\n    const {\n      dialogId,\n      dimensions\n    } = this.props;\n    const dimension = dimensions[dialogId];\n    return <Fragment>\n                {dimension && <Modal onClose={this.closeDialog} data-test=\"dialog-manager\" position=\"top\" large>\n                        <ModalTitle>{dimension.name}</ModalTitle>\n                        <ModalContent>\n                            {this.renderDialogContent()}\n                        </ModalContent>\n                        <ModalActions>\n                            <ButtonStrip>\n                                <HideButton onClick={this.closeDialog} />\n                                <UpdateVisualizationContainer renderComponent={handler => this.props.dimensionIdsInLayout.includes(dialogId) ? <UpdateButton onClick={this.getPrimaryOnClick(handler)} /> : <AddToLayoutButton onClick={this.getPrimaryOnClick(handler)} />} />\n                            </ButtonStrip>\n                        </ModalActions>\n                    </Modal>}\n            </Fragment>;\n  }\n\n}\nDialogManager.contextTypes = {\n  d2: PropTypes.object\n};\nDialogManager.propTypes = {\n  closeDialog: PropTypes.func.isRequired,\n  dimensionIdsInLayout: PropTypes.array.isRequired,\n  ouIds: PropTypes.array.isRequired,\n  setRecommendedIds: PropTypes.func.isRequired,\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  dialogId: PropTypes.string,\n  dimensions: PropTypes.object,\n  displayNameProperty: PropTypes.string,\n  dxIds: PropTypes.array,\n  getAxisIdByDimensionId: PropTypes.func,\n  metadata: PropTypes.object,\n  parentGraphMap: PropTypes.object,\n  removeUiItems: PropTypes.func,\n  selectedItems: PropTypes.object,\n  setUiItems: PropTypes.func,\n  type: PropTypes.string\n};\nDialogManager.defaultProps = {\n  dialogId: null,\n  dxIds: []\n};\n\nconst mapStateToProps = state => ({\n  displayNameProperty: sGetSettingsDisplayNameProperty(state),\n  dialogId: sGetUiActiveModalDialog(state),\n  dimensions: sGetDimensions(state),\n  metadata: sGetMetadata(state),\n  parentGraphMap: sGetUiParentGraphMap(state),\n  dxIds: sGetUiItemsByDimension(state, DIMENSION_ID_DATA),\n  ouIds: sGetUiItemsByDimension(state, DIMENSION_ID_ORGUNIT),\n  selectedItems: sGetUiItems(state),\n  type: sGetUiType(state),\n  getAxisIdByDimensionId: dimensionId => sGetAxisIdByDimensionId(state, dimensionId),\n  dimensionIdsInLayout: sGetDimensionIdsFromLayout(state)\n});\n\nexport default connect(mapStateToProps, {\n  closeDialog: acSetUiActiveModalDialog,\n  setRecommendedIds: acSetRecommendedIds,\n  setUiItems: acSetUiItems,\n  addMetadata: acAddMetadata,\n  addUiItems: acAddUiItems,\n  removeUiItems: acRemoveUiItems,\n  addParentGraphMap: acAddParentGraphMap\n})(DialogManager);","import { SET_RECOMMENDED_IDS } from '../reducers/recommendedIds';\nexport const acSetRecommendedIds = value => ({\n  type: SET_RECOMMENDED_IDS,\n  value\n});","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { DimensionItem } from '@dhis2/analytics';\nimport styles from './styles/DndDimensionItem.module.css';\nexport class DndDimensionItem extends Component {\n  render = () => {\n    const {\n      id,\n      index,\n      name,\n      isSelected,\n      isLocked,\n      isDeactivated,\n      isRecommended,\n      onClick,\n      onOptionsClick\n    } = this.props;\n    const itemCommonProps = {\n      id,\n      name,\n      isSelected,\n      isLocked,\n      isDeactivated,\n      isRecommended\n    };\n    return <Draggable draggableId={id} index={index} isDragDisabled={isSelected || isDeactivated || isLocked}>\n                {(provided, snapshot) => <>\n                        <DimensionItem innerRef={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} className={snapshot.isDragging ? styles.dragging : styles.notDragging} onClick={onClick} onOptionsClick={onOptionsClick} {...itemCommonProps} />\n                        {snapshot.isDragging && <DimensionItem className={styles.dimensionItemClone} {...itemCommonProps} />}\n                    </>}\n            </Draggable>;\n  };\n}\nDndDimensionItem.propTypes = {\n  id: PropTypes.string,\n  index: PropTypes.number,\n  isDeactivated: PropTypes.bool,\n  isLocked: PropTypes.bool,\n  isRecommended: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  onOptionsClick: PropTypes.func\n};\nexport default DndDimensionItem;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { createSelector } from 'reselect';\nimport { getDisallowedDimensions, getAllLockedDimensionIds, getFixedDimensions, getDynamicDimensions, getPredefinedDimensions } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport DndDimensionItem from './DndDimensionItem';\nimport * as fromReducers from '../../reducers';\nimport { acSetUiActiveModalDialog } from '../../actions/ui';\nimport { SOURCE_DIMENSIONS } from '../../modules/layout';\nimport styles from './styles/DndDimensionList.module.css';\nexport class DndDimensionList extends Component {\n  dndIndex = 0;\n  nameContainsFilterText = dimension => dimension.name.toLowerCase().includes(this.props.filterText.toLowerCase());\n  isSelected = id => this.props.selectedIds.includes(id);\n  isDisabledDimension = id => this.props.disallowedDimensions.includes(id);\n  isLockedDimension = id => this.props.lockedDimensions.includes(id);\n  isRecommendedDimension = id => this.props.recommendedIds.includes(id);\n  renderItem = ({\n    id,\n    name\n  }) => {\n    const itemProps = {\n      id,\n      name,\n      index: this.dndIndex++,\n      isSelected: this.isSelected(id),\n      isLocked: this.isLockedDimension(id),\n      isDeactivated: this.isDisabledDimension(id),\n      isRecommended: this.isRecommendedDimension(id),\n      onClick: this.props.onDimensionClick,\n      onOptionsClick: this.props.onDimensionOptionsClick\n    };\n    return <DndDimensionItem key={`${SOURCE_DIMENSIONS}-${id}`} {...itemProps} />;\n  };\n  getDimensionItemsByFilter = filter => this.props.dimensions.filter(filter).filter(this.nameContainsFilterText).map(this.renderItem);\n\n  render() {\n    this.dndIndex = 0;\n    const fixedDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getFixedDimensions()).some(fixedDim => fixedDim.id === dimension.id));\n    const dynamicDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getDynamicDimensions()).some(dynDim => dynDim.id === dimension.id));\n    const nonPredefinedDimensions = this.getDimensionItemsByFilter(dimension => !Object.values(getPredefinedDimensions()).some(predefDim => predefDim.id === dimension.id));\n    return <Droppable droppableId={SOURCE_DIMENSIONS} isDropDisabled={true}>\n                {provided => <div className={styles.container} ref={provided.innerRef} {...provided.droppableProps}>\n                        <div className={styles.wrapper}>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    {i18n.t('Main dimensions')}\n                                </h3>\n                                <ul className={styles.list}>\n                                    {fixedDimensions}\n                                </ul>\n                            </div>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    {i18n.t('Other dimensions')}\n                                </h3>\n                                <ul className={styles.list}>\n                                    {dynamicDimensions}\n                                </ul>\n                            </div>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    {i18n.t('Your dimensions')}\n                                </h3>\n                                <ul className={styles.list}>\n                                    {nonPredefinedDimensions}\n                                </ul>\n                            </div>\n                        </div>\n                        {provided.placeholder}\n                    </div>}\n            </Droppable>;\n  }\n\n}\nDndDimensionList.propTypes = {\n  dimensions: PropTypes.array,\n  disallowedDimensions: PropTypes.array,\n  filterText: PropTypes.string,\n  lockedDimensions: PropTypes.array,\n  recommendedIds: PropTypes.array,\n  selectedIds: PropTypes.array,\n  onDimensionClick: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nconst getDisallowedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getDisallowedDimensions(type));\nconst getisLockedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getAllLockedDimensionIds(type));\n\nconst mapStateToProps = state => ({\n  dimensions: Object.values(fromReducers.fromDimensions.sGetDimensions(state)),\n  selectedIds: fromReducers.fromUi.sGetDimensionIdsFromLayout(state),\n  recommendedIds: fromReducers.fromRecommendedIds.sGetRecommendedIds(state),\n  disallowedDimensions: getDisallowedDimensionsMemo(state),\n  lockedDimensions: getisLockedDimensionsMemo(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onDimensionClick: id => dispatch(acSetUiActiveModalDialog(id))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DndDimensionList);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { DimensionFilter } from '@dhis2/analytics';\nimport DndDimensionList from './DndDimensionList';\nimport styles from './styles/DndDimensionsPanel.module.css';\nexport class DndDimensionsPanel extends Component {\n  state = {\n    filterText: ''\n  };\n  onClearFilter = () => {\n    this.setState({\n      filterText: ''\n    });\n  };\n  onFilterTextChange = filterText => {\n    this.setState({\n      filterText\n    });\n  };\n\n  render() {\n    return <div className={styles.container}>\n                <DimensionFilter placeholder={i18n.t('Filter dimensions')} text={this.state.filterText} onChange={this.onFilterTextChange} onClear={this.onClearFilter} disableUnderline={true} type=\"search\" />\n                <DndDimensionList filterText={this.state.filterText} onDimensionOptionsClick={this.props.onDimensionOptionsClick} />\n            </div>;\n  }\n\n}\nDndDimensionsPanel.propTypes = {\n  onDimensionOptionsClick: PropTypes.func\n};\nexport default DndDimensionsPanel;","import { colors } from '@dhis2/ui';\nexport const styles = {\n  divContainer: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: colors.grey050\n  }\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DialogManager from './Dialogs/DialogManager';\nimport DndDimensionsPanel from './DndDimensionsPanel';\nimport * as fromReducers from '../../reducers';\nimport { styles } from './styles/DimensionsPanel.style';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nexport class Dimensions extends Component {\n  state = {\n    dimensionMenuAnchorEl: null,\n    dimensionId: null\n  };\n  openOptionsMenuForDimension = (event, id) => {\n    event.stopPropagation();\n    this.setState({\n      dimensionMenuAnchorEl: event.currentTarget,\n      dimensionId: id\n    });\n  };\n  closeOptionsMenuForDimension = () => this.setState({\n    dimensionMenuAnchorEl: null,\n    dimensionId: null\n  });\n  getNumberOfDimensionItems = () => (this.props.itemsByDimension[this.state.dimensionId] || []).length;\n\n  render() {\n    return <div style={styles.divContainer}>\n                <DndDimensionsPanel onDimensionOptionsClick={this.openOptionsMenuForDimension} />\n                <DimensionMenu dimensionId={this.state.dimensionId} currentAxisId={this.props.getCurrentAxisId(this.state.dimensionId)} visType={this.props.ui.type} numberOfDimensionItems={this.getNumberOfDimensionItems()} isAssignedCategoriesInLayout={this.props.layoutHasAssignedCategories} assignedCategoriesItemHandler={destination => this.props.assignedCategoriesItemHandler(this.props.layoutHasAssignedCategories, destination)} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.dimensionMenuAnchorEl} onClose={this.closeOptionsMenuForDimension} />\n                <DialogManager />\n            </div>;\n  }\n\n}\nDimensions.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  getCurrentAxisId: PropTypes.func,\n  itemsByDimension: PropTypes.object,\n  layoutHasAssignedCategories: PropTypes.bool,\n  removeItemHandler: PropTypes.func,\n  ui: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  ui: fromReducers.fromUi.sGetUi(state),\n  dimensions: fromReducers.fromDimensions.sGetDimensions(state),\n  layout: fromReducers.fromUi.sGetUiLayout(state),\n  itemsByDimension: fromReducers.fromUi.sGetUiItems(state),\n  layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state),\n  getCurrentAxisId: dimensionId => fromReducers.fromUi.sGetAxisIdByDimensionId(state, dimensionId)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  axisItemHandler: ({\n    dimensionId,\n    axisId,\n    numberOfDimensionItems,\n    requireItems,\n    isDimensionInLayout\n  }) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n\n    if (numberOfDimensionItems === 0 && requireItems && !isDimensionInLayout) {\n      dispatch(acSetUiActiveModalDialog(dimensionId));\n    }\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dimensions);","export default {\n  wrapper: {\n    position: 'relative',\n    width: '380px'\n  },\n  container: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  }\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport InterpretationsComponent from '@dhis2/d2-ui-interpretations';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { acSetUiInterpretation, acClearUiInterpretation } from '../../actions/ui';\nimport history from '../../modules/history';\nimport styles from './styles/Interpretations.style';\nexport class Interpretations extends Component {\n  onInterpretationChange = interpretation => {\n    if (interpretation) {\n      const interpretationUrl = `/${this.props.id}/interpretation/${interpretation.id}`; // this covers the case when the URL contains already an interpretation id,\n      // the Interpretations component loads it and fires this callback passing the interpretation\n      // object, the URL is not changing in this case.\n      // the other scenario is when the URL changes because of a click inside the Interpretations component\n\n      if (history.location.pathname !== interpretationUrl) {\n        history.push(interpretationUrl);\n        this.props.acSetUiInterpretation({\n          id: interpretation.id,\n          created: interpretation.created\n        });\n      }\n    } else {\n      history.push(`/${this.props.id}`);\n    }\n  };\n\n  render() {\n    const {\n      type,\n      id,\n      interpretationId\n    } = this.props;\n    return id ? <div style={styles.wrapper}>\n                <div style={styles.container}>\n                    <InterpretationsComponent d2={this.context.d2} type={type} id={id} currentInterpretationId={interpretationId} onCurrentInterpretationChange={this.onInterpretationChange} />\n                </div>\n            </div> : null;\n  }\n\n}\nInterpretations.defaultProps = {\n  type: 'chart'\n};\nInterpretations.propTypes = {\n  acSetUiInterpretation: PropTypes.func,\n  id: PropTypes.string,\n  interpretationId: PropTypes.string,\n  type: PropTypes.string\n};\nInterpretations.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  interpretationId: sGetUiInterpretation(state).id || null\n});\n\nexport default connect(mapStateToProps, {\n  acSetUiInterpretation,\n  acClearUiInterpretation\n})(Interpretations);","export default {\n  chartCanvas: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    height: '100%'\n  },\n  loadingCover: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    left: 0,\n    top: 0,\n    zIndex: 100,\n    background: '#ffffffab'\n  }\n};","const legendSetsQuery = {\n    legendSets: {\n        resource: 'legendSets',\n        params: ({ ids }) => ({\n            fields:\n                'id,legends[id,displayName~rename(name),startValue,endValue,color]',\n            filter: `id:in:[${ids.join(',')}]`,\n        }),\n    },\n}\n\nexport const apiFetchLegendSets = (dataEngine, ids) =>\n    dataEngine.query(legendSetsQuery, { variables: { ids } })\n","export const orgUnitLevelsQuery = {\n    orgUnitLevels: {\n        resource: 'organisationUnitLevels',\n        params: {\n            fields: 'id,level,displayName~rename(name)',\n            paging: 'false',\n        },\n    },\n}\n\nconst orgUnitsQuery = {\n    orgUnits: {\n        resource: 'organisationUnits',\n        id: ({ id }) => id,\n        params: {\n            fields:\n                'id,level,displayName~rename(name),path,parent[id,displayName~rename(name)],children[level]',\n            paging: 'false',\n            userDataViewFallback: 'true',\n        },\n    },\n}\n\nexport const apiFetchOrganisationUnitLevels = dataEngine =>\n    dataEngine.query(orgUnitLevelsQuery)\n\nexport const apiFetchOrganisationUnit = (dataEngine, id) =>\n    dataEngine.query(orgUnitsQuery, { variables: { id } })\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst ArrowUpwardIcon = ({ style = { width: 18, height: 18 } }) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style={style}>\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n        <path\n            d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"\n            fill=\"black\"\n        />\n    </svg>\n)\n\nArrowUpwardIcon.propTypes = {\n    style: PropTypes.object,\n}\n\nexport default ArrowUpwardIcon\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst ArrowDownwardIcon = ({ style = { width: 18, height: 18 } }) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style={style}>\n        <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n        <path\n            d=\"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\"\n            fill=\"black\"\n        />\n    </svg>\n)\n\nArrowDownwardIcon.propTypes = {\n    style: PropTypes.object,\n}\n\nexport default ArrowDownwardIcon\n","import React, { useEffect, useState, useCallback } from 'react'\nimport PropTypes from 'prop-types'\n\nimport i18n from '@dhis2/d2-i18n'\nimport { useDataEngine } from '@dhis2/app-runtime'\nimport { Divider, FlyoutMenu, MenuItem } from '@dhis2/ui'\n\nimport ArrowUpwardIcon from './assets/ArrowUpwardIcon'\nimport ArrowDownwardIcon from './assets/ArrowDownwardIcon'\n\nimport { apiFetchOrganisationUnit } from './api/organisationUnits'\n\nexport const ContextualMenu = ({ config, ouLevels, onClick }) => {\n    const engine = useDataEngine()\n    const [ouData, setOuData] = useState(undefined)\n    const [subLevelData, setSubLevelData] = useState(undefined)\n\n    const lookupLevel = levelId => ouLevels.find(item => item.level === levelId)\n\n    const doFetchOuData = useCallback(\n        async ouId => {\n            const ouData = await apiFetchOrganisationUnit(engine, ouId)\n\n            return ouData.orgUnits\n        },\n        [engine]\n    )\n\n    useEffect(() => {\n        setOuData(null)\n\n        const doFetch = async () => {\n            const orgUnit = await doFetchOuData(config.ouId)\n\n            setOuData(orgUnit)\n        }\n\n        if (config.ouId) {\n            doFetch()\n        }\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [config])\n\n    useEffect(() => {\n        setSubLevelData(null)\n\n        if (ouData?.children.length) {\n            const levelData = lookupLevel(ouData.children[0].level)\n\n            if (levelData) {\n                setSubLevelData(levelData)\n            }\n        }\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [ouData])\n\n    const menuItemStyle = {\n        display: 'inline-block',\n        minWidth: 200,\n    }\n\n    return (\n        <FlyoutMenu>\n            {ouData && (\n                <MenuItem dense label={i18n.t('Change org unit')}>\n                    {ouData?.parent && (\n                        <>\n                            <MenuItem\n                                dense\n                                icon={<ArrowUpwardIcon />}\n                                label={\n                                    <span style={menuItemStyle}>\n                                        {ouData.parent.name}\n                                    </span>\n                                }\n                                onClick={() =>\n                                    onClick({\n                                        ou: { id: ouData.parent.id },\n                                    })\n                                }\n                            />\n                            {subLevelData && <Divider />}\n                        </>\n                    )}\n                    {subLevelData && (\n                        <MenuItem\n                            dense\n                            icon={<ArrowDownwardIcon />}\n                            label={\n                                <span style={menuItemStyle}>\n                                    {i18n.t('{{level}} level in {{orgunit}}', {\n                                        level: subLevelData.name,\n                                        orgunit: ouData.name,\n                                    })}\n                                </span>\n                            }\n                            onClick={() =>\n                                onClick({\n                                    ou: {\n                                        id: ouData.id,\n                                        path: ouData.path,\n                                        level: subLevelData.id,\n                                    },\n                                })\n                            }\n                        />\n                    )}\n                </MenuItem>\n            )}\n        </FlyoutMenu>\n    )\n}\n\nContextualMenu.propTypes = {\n    config: PropTypes.object,\n    ouLevels: PropTypes.array,\n    onClick: PropTypes.func,\n}\n\nexport default ContextualMenu\n","import React, { useRef, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { isSingleValue, createVisualization } from '@dhis2/analytics'\n\nconst ChartPlugin = ({\n    visualization,\n    responses,\n    extraOptions,\n    legendSets,\n    id: renderCounter,\n    style,\n    onChartGenerated,\n    animation: defaultAnimation,\n}) => {\n    const canvasRef = useRef(undefined)\n\n    const renderVisualization = useCallback(\n        animation => {\n            const visualizationConfig = createVisualization(\n                responses,\n                visualization,\n                canvasRef.current,\n                {\n                    ...extraOptions,\n                    animation,\n                    legendSets,\n                },\n                undefined,\n                undefined,\n                isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n            )\n\n            if (isSingleValue(visualization.type)) {\n                onChartGenerated(visualizationConfig.visualization)\n            } else {\n                onChartGenerated(\n                    visualizationConfig.visualization.getSVGForExport({\n                        sourceHeight: 768,\n                        sourceWidth: 1024,\n                    })\n                )\n            }\n        },\n        [\n            canvasRef,\n            visualization,\n            onChartGenerated,\n            responses,\n            extraOptions,\n            legendSets,\n        ]\n    )\n\n    useEffect(() => {\n        renderVisualization(defaultAnimation)\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [visualization, responses, extraOptions])\n\n    useEffect(() => {\n        renderCounter !== null && renderVisualization(0)\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [renderCounter, style])\n\n    return <div ref={canvasRef} style={style} />\n}\n\nChartPlugin.defaultProps = {\n    visualization: {},\n    filters: {},\n    style: {},\n    animation: 200,\n    onChartGenerated: Function.prototype,\n}\n\nChartPlugin.propTypes = {\n    extraOptions: PropTypes.object.isRequired,\n    legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n    responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n    visualization: PropTypes.object.isRequired,\n    animation: PropTypes.number,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onChartGenerated: PropTypes.func,\n}\n\nexport default ChartPlugin\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { PivotTable } from '@dhis2/analytics'\n\nconst PivotPlugin = ({\n    responses,\n    legendSets,\n    visualization,\n    style,\n    id: renderCounter,\n    onToggleContextualMenu,\n}) => {\n    return (\n        <div style={style}>\n            <PivotTable\n                visualization={visualization}\n                data={responses[0].response}\n                legendSets={legendSets}\n                renderCounter={renderCounter}\n                onToggleContextualMenu={onToggleContextualMenu}\n            />\n        </div>\n    )\n}\n\nPivotPlugin.defaultProps = {\n    style: {},\n}\n\nPivotPlugin.propTypes = {\n    legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n    responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n    visualization: PropTypes.object.isRequired,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onToggleContextualMenu: PropTypes.func,\n}\n\nexport default PivotPlugin\n","import { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\n\nconst peId = 'pe'\n\nexport const apiFetchAnalytics = async (d2, current, options) => {\n    const req = new d2.analytics.request()\n        .fromModel(current)\n        .withParameters(options)\n        .withIncludeNumDen(current.type === VIS_TYPE_PIVOT_TABLE)\n\n    const rawResponse = await d2.analytics.aggregate.get(req)\n\n    return [new d2.analytics.response(rawResponse)]\n}\n\nexport const apiFetchAnalyticsForYearOverYear = async (\n    d2,\n    current,\n    options\n) => {\n    let yearlySeriesReq = new d2.analytics.request()\n        .addPeriodDimension(current.yearlySeries)\n        .withSkipData(true)\n        .withSkipMeta(false)\n        .withIncludeMetadataDetails(true)\n\n    if (options.relativePeriodDate) {\n        yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(\n            options.relativePeriodDate\n        )\n    }\n\n    const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq)\n\n    const requests = []\n    const yearlySeriesLabels = []\n\n    const now = new Date()\n    const currentDay = ('' + now.getDate()).padStart(2, 0)\n    const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0)\n\n    yearlySeriesRes.metaData.dimensions[peId].forEach(period => {\n        yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name)\n\n        const startDate = `${period}-${currentMonth}-${currentDay}`\n\n        const req = new d2.analytics.request()\n            .fromModel(current)\n            .withParameters(options)\n            .withRelativePeriodDate(startDate)\n\n        requests.push(d2.analytics.aggregate.get(req))\n    })\n\n    return Promise.all(requests).then(responses => ({\n        responses: responses.map(res => new d2.analytics.response(res)),\n        yearlySeriesLabels,\n    }))\n}\n","export const computeGenericPeriodNames = responses => {\n    const xAxisRes = responses.reduce((out, res) => {\n        if (out.metaData) {\n            if (\n                res.metaData.dimensions.pe.length >\n                out.metaData.dimensions.pe.length\n            ) {\n                out = res\n            }\n        } else {\n            out = res\n        }\n\n        return out\n    }, {})\n\n    const metadata = xAxisRes.metaData\n\n    return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n        const name = metadata.items[periodId].name\n\n        // until the day the backend will support this in the API:\n        // trim off the trailing year in the period name\n        // english names should all have the year at the end of the string\n        genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''))\n\n        return genericPeriodNames\n    }, [])\n}\n","import pick from 'lodash-es/pick'\n\nexport const options = {\n    baseLineLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    baseLineValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    // colorSet:\n    cumulativeValues: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    domainAxisLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    hideEmptyRowItems: {\n        defaultValue: 'NONE',\n        requestable: false,\n        savable: true,\n    },\n    hideLegend: { defaultValue: false, requestable: false, savable: true },\n    noSpaceBetweenColumns: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    percentStackedValues: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisDecimals: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisMaxValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisMinValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisSteps: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    regressionType: { defaultValue: 'NONE', requestable: false, savable: true },\n    showData: { defaultValue: true, requestable: false, savable: true },\n    targetLineLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    targetLineValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    aggregationType: {\n        defaultValue: 'DEFAULT',\n        requestable: true,\n        savable: true,\n    },\n    completedOnly: { defaultValue: false, requestable: true, savable: true },\n    hideSubtitle: { defaultValue: false, requestable: false, savable: true },\n    hideTitle: { defaultValue: false, requestable: false, savable: true },\n    sortOrder: { defaultValue: '0', requestable: false, savable: true },\n    subtitle: { defaultValue: undefined, requestable: false, savable: true },\n    title: { defaultValue: undefined, requestable: false, savable: true },\n    series: { defaultValue: [], requestable: false, savable: true },\n    fontStyle: {\n        defaultValue: {},\n        requestable: false,\n        savable: true,\n    },\n\n    // only for PT\n    colTotals: { defaultValue: false, requestable: false, savable: true },\n    colSubTotals: { defaultValue: false, requestable: false, savable: true },\n    rowTotals: { defaultValue: false, requestable: false, savable: true },\n    rowSubTotals: { defaultValue: false, requestable: false, savable: true },\n    showDimensionLabels: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    hideEmptyColumns: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    hideEmptyRows: { defaultValue: false, requestable: false, savable: true },\n    skipRounding: { defaultValue: false, requestable: true, savable: true },\n    numberType: { defaultValue: 'VALUE', requestable: false, savable: true },\n    showHierarchy: { defaultValue: false, requestable: true, savable: true },\n    legendSet: { defaultValue: undefined, requestable: false, savable: true },\n    legendDisplayStrategy: {\n        defaultValue: 'FIXED',\n        requestable: false,\n        savable: true,\n    },\n    legendDisplayStyle: {\n        defaultValue: 'FILL',\n        requestable: false,\n        savable: true,\n    },\n    displayDensity: {\n        defaultValue: 'NORMAL',\n        requestable: false,\n        savable: true,\n    },\n    fontSize: { defaultValue: 'NORMAL', requestable: false, savable: true },\n    digitGroupSeparator: {\n        defaultValue: 'SPACE',\n        requestable: false,\n        savable: true,\n    },\n    approvalLevel: {\n        defaultValue: undefined,\n        requestable: true,\n        savable: false,\n    },\n\n    // these are stored in the AO under reportingParams\n    reportingPeriod: { defaultValue: false, requestable: false, savable: true },\n    organisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    parentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    // not exposed in UI\n    grandParentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    regression: { defaultValue: false, requestable: false, savable: true },\n    cumulative: { defaultValue: false, requestable: false, savable: true },\n    measureCriteria: {\n        defaultValue: undefined,\n        requestable: true,\n        savable: true,\n    },\n    topLimit: { defaultValue: '0', requestable: false, savable: true },\n}\n\nexport const computedOptions = {\n    baseLine: { defaultValue: false, requestable: false, savable: false },\n    targetLine: { defaultValue: false, requestable: false, savable: false },\n    axisRange: { defaultValue: undefined, requestable: false, savable: false },\n    legend: { defaultValue: undefined, requestable: false, savable: false },\n}\n\nexport default options\n\nexport const getOptionsForUi = () => {\n    return Object.entries({ ...options, ...computedOptions }).reduce(\n        (map, [option, props]) => {\n            map[option] = props.defaultValue\n\n            return map\n        },\n        {}\n    )\n}\n\nexport const getOptionsForRequest = () => {\n    return Object.entries(options).filter(\n        entry => entry[1].requestable // entry = [option, props]\n    )\n}\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n    return Boolean(\n        optionsFromVisualization[prop] &&\n            optionsFromVisualization[prop] !== options[prop].defaultValue\n    )\n}\n\nexport const getOptionsFromVisualization = visualization => {\n    const optionsFromVisualization = {\n        ...getOptionsForUi(),\n        ...pick(visualization, Object.keys(options)),\n    }\n\n    optionsFromVisualization.baseLine =\n        isNotDefault(optionsFromVisualization, 'baseLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'baseLineValue')\n\n    optionsFromVisualization.targetLine =\n        isNotDefault(optionsFromVisualization, 'targetLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'targetLineValue')\n\n    // nested options under reportingParams\n    if (visualization.reportingParams) {\n        optionsFromVisualization.organisationUnit =\n            visualization.reportingParams.organisationUnit\n        optionsFromVisualization.reportingPeriod =\n            visualization.reportingParams.reportingPeriod\n        optionsFromVisualization.parentOrganisationUnit =\n            visualization.reportingParams.parentOrganisationUnit\n        optionsFromVisualization.grandParentOrganisationUnit =\n            visualization.reportingParams.grandParentOrganisationUnit\n    }\n\n    // cast option values from Number for some options\n    ;['baseLineValue', 'targetLineValue', 'sortOrder', 'topLimit'].forEach(\n        option => {\n            if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n                optionsFromVisualization[option] = String(visualization[option])\n            }\n        }\n    )\n\n    return optionsFromVisualization\n}\n","import { getOptionsForRequest } from './options'\n\nexport const getRequestOptions = (visualization, filters) => {\n    const options = getOptionsForRequest().reduce((map, [option, props]) => {\n        // only add parameter if value !== default\n        if (\n            visualization[option] !== undefined &&\n            visualization[option] !== props.defaultValue\n        ) {\n            map[option] = visualization[option]\n        }\n\n        return map\n    }, {})\n\n    // interpretation filter\n    if (filters.relativePeriodDate) {\n        options.relativePeriodDate = filters.relativePeriodDate\n    }\n\n    // global filters\n    // userOrgUnit\n    if (filters.userOrgUnit && filters.userOrgUnit.length) {\n        const ouIds = filters.userOrgUnit.map(\n            ouPath => ouPath.split('/').slice(-1)[0]\n        )\n\n        options.userOrgUnit = ouIds.join(';')\n    }\n\n    return options\n}\n","import { isYearOverYear } from '@dhis2/analytics'\nimport {\n    apiFetchAnalyticsForYearOverYear,\n    apiFetchAnalytics,\n} from '../api/analytics'\nimport { computeGenericPeriodNames } from './analytics'\nimport { getRequestOptions } from './getRequestOptions'\n\nexport const fetchData = async ({\n    visualization,\n    filters,\n    d2,\n    forDashboard,\n}) => {\n    const options = getRequestOptions(visualization, filters)\n\n    const extraOptions = {\n        dashboard: forDashboard,\n    }\n\n    if (isYearOverYear(visualization.type)) {\n        const {\n            responses,\n            yearlySeriesLabels,\n        } = await apiFetchAnalyticsForYearOverYear(d2, visualization, options)\n\n        return {\n            responses,\n            extraOptions: {\n                ...extraOptions,\n                yearlySeries: yearlySeriesLabels,\n                xAxisLabels: computeGenericPeriodNames(responses),\n            },\n        }\n    }\n\n    return {\n        responses: await apiFetchAnalytics(d2, visualization, options),\n        extraOptions,\n    }\n}\n","export default {\n    backdrop: {\n        position: 'fixed',\n        height: '100%',\n        width: '100%',\n        top: 0,\n        left: 0,\n        backgroundColor: 'transparent',\n    },\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport { createPortal } from 'react-dom'\nimport PropTypes from 'prop-types'\n\nimport { useDataEngine, useDataQuery } from '@dhis2/app-runtime'\nimport { Popper } from '@dhis2/ui'\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\n\nimport { apiFetchLegendSets } from './api/legendSets'\nimport { orgUnitLevelsQuery } from './api/organisationUnits'\nimport ContextualMenu from './ContextualMenu'\nimport ChartPlugin from './ChartPlugin'\nimport PivotPlugin from './PivotPlugin'\nimport { fetchData } from './modules/fetchData'\n\nimport styles from './styles/VisualizationPlugin.style.js'\n\nconst LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM = 'BY_DATA_ITEM'\nconst LEGEND_DISPLAY_STRATEGY_FIXED = 'FIXED'\n\nexport const VisualizationPlugin = ({\n    d2,\n    visualization,\n    filters,\n    forDashboard,\n    onError,\n    onLoadingComplete,\n    onResponsesReceived,\n    onDrill,\n    ...props\n}) => {\n    const engine = useDataEngine()\n    const [fetchResult, setFetchResult] = useState(null)\n    const [contextualMenuRef, setContextualMenuRef] = useState(undefined)\n    const [contextualMenuConfig, setContextualMenuConfig] = useState({})\n\n    const onToggleContextualMenu = (ref, data) => {\n        setContextualMenuRef(ref)\n        setContextualMenuConfig(data)\n    }\n\n    const closeContextualMenu = () => setContextualMenuRef(undefined)\n\n    const onContextualMenuItemClick = args => {\n        closeContextualMenu()\n\n        onDrill(args)\n    }\n\n    const { data: ouLevelsResponse } = useDataQuery(orgUnitLevelsQuery, {\n        onError,\n    })\n    const ouLevels = ouLevelsResponse?.orgUnitLevels.organisationUnitLevels\n\n    const doFetchData = useCallback(async () => {\n        const result = await fetchData({\n            visualization,\n            filters,\n            d2,\n            forDashboard,\n        })\n\n        if (result.responses.length) {\n            onResponsesReceived(result.responses)\n        }\n\n        return result\n    }, [d2, filters, forDashboard, onResponsesReceived, visualization])\n\n    const doFetchLegendSets = useCallback(\n        async legendSetIds => {\n            if (!legendSetIds.length) {\n                return []\n            }\n\n            const response = await apiFetchLegendSets(engine, legendSetIds)\n\n            if (response && response.legendSets) {\n                return response.legendSets.legendSets\n            }\n        },\n        [engine]\n    )\n\n    useEffect(() => {\n        setFetchResult(null)\n\n        const doFetchAll = async () => {\n            const { responses, extraOptions } = await doFetchData(\n                visualization,\n                filters,\n                forDashboard\n            )\n\n            const legendSetIds = []\n\n            switch (visualization.legendDisplayStrategy) {\n                case LEGEND_DISPLAY_STRATEGY_FIXED:\n                    if (visualization.legendSet && visualization.legendSet.id) {\n                        legendSetIds.push(visualization.legendSet.id)\n                    }\n                    break\n                case LEGEND_DISPLAY_STRATEGY_BY_DATA_ITEM: {\n                    // parse responses to extract legendSet ids from metaData\n                    // multiple responses are only for YOY which does not support legends\n                    // safe to use only the 1st\n                    // dx dimensions might not be present, the empty array covers that case\n                    const dxIds = responses[0].metaData.dimensions.dx || []\n\n                    dxIds.forEach(dxId => {\n                        const legendSetId =\n                            responses[0].metaData.items[dxId].legendSet\n\n                        if (legendSetId) {\n                            legendSetIds.push(legendSetId)\n                        }\n                    })\n\n                    break\n                }\n            }\n\n            const legendSets = await doFetchLegendSets(legendSetIds)\n\n            setFetchResult({\n                visualization,\n                legendSets,\n                responses,\n                extraOptions,\n            })\n            onLoadingComplete()\n        }\n\n        doFetchAll().catch(error => {\n            onError(error)\n        })\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [visualization, filters, forDashboard])\n\n    if (!fetchResult) {\n        return null\n    }\n\n    const contextualMenuRect =\n        contextualMenuRef &&\n        contextualMenuRef.current &&\n        contextualMenuRef.current.getBoundingClientRect()\n\n    const virtualContextualMenuElement = contextualMenuRect\n        ? { getBoundingClientRect: () => contextualMenuRect }\n        : null\n\n    return (\n        <>\n            {!fetchResult.visualization.type ||\n            fetchResult.visualization.type === VIS_TYPE_PIVOT_TABLE ? (\n                <PivotPlugin\n                    visualization={fetchResult.visualization}\n                    responses={fetchResult.responses}\n                    legendSets={fetchResult.legendSets}\n                    onToggleContextualMenu={\n                        onDrill ? onToggleContextualMenu : undefined\n                    }\n                    {...props}\n                />\n            ) : (\n                <ChartPlugin\n                    visualization={fetchResult.visualization}\n                    responses={fetchResult.responses}\n                    extraOptions={fetchResult.extraOptions}\n                    legendSets={fetchResult.legendSets}\n                    {...props}\n                />\n            )}\n            {contextualMenuRect &&\n                createPortal(\n                    <div onClick={closeContextualMenu} style={styles.backdrop}>\n                        <Popper\n                            reference={virtualContextualMenuElement}\n                            placement=\"right\"\n                        >\n                            <ContextualMenu\n                                config={contextualMenuConfig}\n                                ouLevels={ouLevels}\n                                onClick={onContextualMenuItemClick}\n                            />\n                        </Popper>\n                    </div>,\n                    document.body\n                )}\n        </>\n    )\n}\n\nVisualizationPlugin.defaultProps = {\n    filters: {},\n    forDashboard: false,\n    onError: Function.prototype,\n    onLoadingComplete: Function.prototype,\n    onResponsesReceived: Function.prototype,\n    visualization: {},\n}\nVisualizationPlugin.propTypes = {\n    d2: PropTypes.object.isRequired,\n    visualization: PropTypes.object.isRequired,\n    filters: PropTypes.object,\n    forDashboard: PropTypes.bool,\n    onDrill: PropTypes.func,\n    onError: PropTypes.func,\n    onLoadingComplete: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport PropTypes from 'prop-types';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { visTypeIcons } from '@dhis2/analytics';\nimport styles from './styles/StartScreen.module.css';\nimport { sGetLoadError } from '../../reducers/loader';\nimport { apiFetchMostViewedVisualizations } from '../../api/mostViewedVisualizations';\nimport history from '../../modules/history';\nimport { VisualizationError, genericErrorTitle } from '../../modules/error';\nimport { GenericError } from '../../assets/ErrorIcons';\nimport { apiFetchVisualizations } from '../../api/visualization';\n\nconst StartScreen = ({\n  error\n}) => {\n  const [mostViewedVisualizations, setMostViewedVisualizations] = useState([]);\n  const engine = useDataEngine();\n  useEffect(() => {\n    async function populateMostViewedVisualizations(engine) {\n      const mostViewedVisualizationsResult = await apiFetchMostViewedVisualizations(engine, 6);\n      const visualizations = mostViewedVisualizationsResult.visualization;\n\n      if (visualizations && visualizations.length) {\n        const visualizationsResult = await apiFetchVisualizations(engine, visualizations.map(vis => vis.id));\n        const visualizationsWithType = visualizationsResult.visualization.visualizations;\n        const result = visualizations.map(vis => ({ ...visualizationsWithType.find(visWithType => visWithType.id === vis.id && visWithType),\n          ...vis\n        }));\n        setMostViewedVisualizations(result);\n      }\n    }\n\n    populateMostViewedVisualizations(engine);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getContent = () => error ? getErrorContent() : <div>\n                <div className={styles.section}>\n                    <h3 className={styles.title}>\n                        {i18n.t('Getting started')}\n                    </h3>\n                    <ul className={styles.guide}>\n                        <li className={styles.guideItem}>\n                            {i18n.t('All dimensions that you can use to build visualizations are shown in the left sidebar')}\n                        </li>\n                        <li className={styles.guideItem}>\n                            {i18n.t('Add dimensions to the layout above')}\n                        </li>\n                        <li className={styles.guideItem}>\n                            {i18n.t('Click a dimension to add or remove items')}\n                        </li>\n                    </ul>\n                </div>\n                {mostViewedVisualizations.length > 0 && <div className={styles.section}>\n                        <h3 className={styles.title}>\n                            {i18n.t('Your most viewed charts and tables')}\n                        </h3>\n                        {mostViewedVisualizations.map((visualization, index) => <p key={index} className={styles.visualization} onClick={() => history.push(`/${visualization.id}`)}>\n                                    <span className={styles.visIcon}>\n                                        {visTypeIcons[visualization.type]}\n                                    </span>\n                                    <span>{visualization.name}</span>\n                                </p>)}\n                    </div>}\n            </div>;\n\n  const getErrorContent = () => error instanceof VisualizationError ? <div className={styles.errorContainer}>\n                <div className={styles.errorIcon}>{error.icon()}</div>\n                <p className={styles.errorTitle}>{error.title}</p>\n                <p className={styles.errorDescription}>{error.description}</p>\n            </div> : <div className={styles.errorContainer}>\n                <div className={styles.errorIcon}>{GenericError()}</div>\n                <p className={styles.errorTitle}>{genericErrorTitle}</p>\n                <p className={styles.errorDescription}>\n                    {error.message || error}\n                </p>\n            </div>;\n\n  return <div className={styles.outer}>\n            <div className={styles.inner}>{getContent()}</div>\n        </div>;\n};\n\nStartScreen.propTypes = {\n  error: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  error: sGetLoadError(state)\n});\n\nexport default connect(mapStateToProps)(StartScreen);","export const apiFetchMostViewedVisualizations = (engine, pageSize) => {\n  const visualizationQuery = {\n    visualization: {\n      resource: 'dataStatistics/favorites',\n      params: {\n        eventType: 'VISUALIZATION_VIEW',\n        pageSize: pageSize || 10\n      }\n    }\n  };\n  return engine.query(visualizationQuery);\n};","import React from 'react';\nimport styles from './styles/LoadingMask.module.css';\nimport { CircularLoader } from '@dhis2/ui';\n\nfunction LoadingMask() {\n  return <div className={styles.outer}>\n            <CircularLoader className={styles.progress} />\n        </div>;\n}\n\nexport default LoadingMask;","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash-es/debounce';\nimport styles from './styles/Visualization.style';\nimport VisualizationPlugin from '@dhis2/data-visualizer-plugin';\nimport { sGetVisualization } from '../../reducers/visualization';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetUiRightSidebarOpen, sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetLoadError, sGetIsPluginLoading } from '../../reducers/loader';\nimport { acAddMetadata } from '../../actions/metadata';\nimport { acSetChart } from '../../actions/chart';\nimport { acSetLoadError, acSetPluginLoading } from '../../actions/loader';\nimport { acSetUiItems, acAddParentGraphMap } from '../../actions/ui';\nimport { tSetCurrentFromUi } from '../../actions/current';\nimport { removeLastPathSegment } from '../../modules/orgUnit';\nimport StartScreen from './StartScreen';\nimport { AssignedCategoriesDataElementsError, GenericServerError, EmptyResponseError, AssignedCategoriesAsFilterError, MultipleIndicatorAsFilterError, NoDataOrDataElementGroupSetError, CombinationDEGSRRError } from '../../modules/error';\nimport LoadingMask from '../../widgets/LoadingMask';\nexport class Visualization extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      renderId: null\n    };\n  }\n\n  onError = response => {\n    let error;\n\n    if (response) {\n      switch (response.errorCode) {\n        case 'E7114':\n          error = new AssignedCategoriesDataElementsError();\n          break;\n\n        case 'E7110':\n          error = new AssignedCategoriesAsFilterError();\n          break;\n\n        case 'E7108':\n          error = new MultipleIndicatorAsFilterError();\n          break;\n\n        case 'E7102':\n          error = new NoDataOrDataElementGroupSetError(this.props.visualization.type);\n          break;\n\n        case 'E7112':\n          error = new CombinationDEGSRRError();\n          break;\n\n        default:\n          error = response;\n      }\n    } else {\n      error = new GenericServerError();\n    }\n\n    this.props.setLoadError(error);\n  };\n  onChartGenerated = svg => this.props.setChart(svg);\n  onResponsesReceived = responses => {\n    const forMetadata = {};\n\n    if (!responses.some(response => response.rows && response.rows.length)) {\n      throw new EmptyResponseError();\n    }\n\n    responses.forEach(response => {\n      Object.entries(response.metaData.items).forEach(([id, item]) => {\n        forMetadata[id] = {\n          id,\n          name: item.name || item.displayName,\n          displayName: item.displayName,\n          dimensionItemType: item.dimensionItemType\n        };\n      });\n    });\n    this.props.addMetadata(forMetadata);\n  };\n  onDrill = drillData => {\n    if (drillData?.ou) {\n      const ou = drillData.ou;\n      const itemIds = [ou.id];\n\n      if (ou.level) {\n        itemIds.push(`LEVEL-${ou.level}`);\n      }\n\n      if (ou.path) {\n        const path = removeLastPathSegment(ou.path);\n        this.props.addParentGraphMap({\n          [ou.id]: path === `/{${ou.id}` ? '' : path.replace(/^\\//, '')\n        });\n      }\n\n      this.props.setUiItems({\n        dimensionId: 'ou',\n        itemIds\n      });\n    } // TODO drillData?.pe\n    // simulate an update for refreshing the visualization\n\n\n    this.props.setCurrent();\n  };\n  getNewRenderId = () => this.setState({\n    renderId: typeof this.state.renderId === 'number' ? this.state.renderId + 1 : 1\n  });\n  addResizeHandler = () => {\n    window.addEventListener('resize', debounce(() => {\n      this.getNewRenderId();\n    }, 300));\n  };\n\n  componentDidMount() {\n    this.addResizeHandler();\n  }\n\n  componentDidUpdate(prevProps) {\n    // open sidebar\n    if (this.props.rightSidebarOpen !== prevProps.rightSidebarOpen) {\n      this.getNewRenderId();\n    }\n  }\n\n  render() {\n    const {\n      visualization,\n      visFilters,\n      error\n    } = this.props;\n    const {\n      renderId\n    } = this.state;\n    return !visualization || error ? <StartScreen /> : <Fragment>\n                {this.props.isLoading ? <div style={styles.loadingCover}>\n                        <LoadingMask />\n                    </div> : null}\n                <VisualizationPlugin id={renderId} d2={this.context.d2} visualization={visualization} filters={visFilters} onChartGenerated={this.onChartGenerated} onLoadingComplete={this.props.onLoadingComplete} onResponsesReceived={this.onResponsesReceived} onError={this.onError} onDrill={this.onDrill} style={styles.chartCanvas} />\n            </Fragment>;\n  }\n\n}\nVisualization.contextTypes = {\n  d2: PropTypes.object\n};\nVisualization.propTypes = {\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  error: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rightSidebarOpen: PropTypes.bool,\n  setChart: PropTypes.func,\n  setCurrent: PropTypes.func,\n  setLoadError: PropTypes.func,\n  setUiItems: PropTypes.func,\n  visFilters: PropTypes.object,\n  visualization: PropTypes.object,\n  onLoadingComplete: PropTypes.func\n};\nexport const visualizationSelector = createSelector([sGetCurrent, sGetVisualization, sGetUiInterpretation], (current, visualization, interpretation) => interpretation.id ? visualization : current);\nexport const visFiltersSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created ? {\n  relativePeriodDate: interpretation.created\n} : {});\n\nconst mapStateToProps = state => ({\n  visualization: visualizationSelector(state),\n  visFilters: visFiltersSelector(state),\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  error: sGetLoadError(state),\n  isLoading: sGetIsPluginLoading(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoadingComplete: () => dispatch(acSetPluginLoading(false)),\n  addMetadata: metadata => dispatch(acAddMetadata(metadata)),\n  addParentGraphMap: parentGraphMap => dispatch(acAddParentGraphMap(parentGraphMap)),\n  setChart: chart => dispatch(acSetChart(chart)),\n  setLoadError: error => dispatch(acSetLoadError(error)),\n  setUiItems: data => dispatch(acSetUiItems(data)),\n  setCurrent: () => dispatch(tSetCurrentFromUi())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Visualization);","import { SET_CHART } from '../reducers/chart';\nexport const acSetChart = value => ({\n  type: SET_CHART,\n  value\n});","import { colors } from '@dhis2/ui';\nexport const styles = {\n  icon: {\n    width: 22,\n    height: 22,\n    background: 'none',\n    color: colors.black,\n    padding: 0\n  }\n};","import PropTypes from '@dhis2/prop-types';\nimport React from 'react';\nimport styles from './styles/IconButton.module.css';\n\nconst IconButton = ({\n  children,\n  dataTest,\n  disabled,\n  name,\n  onBlur,\n  onClick,\n  onFocus,\n  style,\n  ariaOwns,\n  ariaHaspopup\n}) => <button className={styles.iconButton} data-test={dataTest} disabled={disabled} name={name} onBlur={onBlur} onClick={onClick} onFocus={onFocus} style={style} aria-owns={ariaOwns} aria-haspopup={ariaHaspopup}>\n        {children}\n    </button>;\n\nIconButton.propTypes = {\n  ariaHaspopup: PropTypes.bool,\n  ariaOwns: PropTypes.string,\n  children: PropTypes.node,\n  dataTest: PropTypes.string,\n  disabled: PropTypes.bool,\n  name: PropTypes.string,\n  style: PropTypes.object,\n  onBlur: PropTypes.func,\n  onClick: PropTypes.func,\n  onFocus: PropTypes.func\n};\nexport default IconButton;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport * as fromReducers from '../../reducers';\nimport MoreHorizontalIcon from '../../assets/MoreHorizontalIcon';\nimport { styles } from './styles/Menu.style';\nimport { acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nimport IconButton from '../IconButton/IconButton';\n\nclass ChipMenu extends React.Component {\n  state = {\n    anchorEl: null\n  };\n  handleClick = event => {\n    event.stopPropagation();\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  };\n  handleClose = () => {\n    // event.stopPropagation();\n    this.setState({\n      anchorEl: null\n    });\n  };\n  getMenuId = () => `menu-for-${this.props.id}`;\n\n  render() {\n    return <React.Fragment>\n                <IconButton ariaOwns={this.state.anchorEl ? this.getMenuId() : null} ariaHaspopup={true} onClick={this.handleClick} style={styles.icon}>\n                    <MoreHorizontalIcon style={styles.icon} />\n                </IconButton>\n                {\n        /* TODO: Fix bug with the first menu item getting selected when the menu is opened */\n      }\n                <DimensionMenu dimensionId={this.props.dimensionId} currentAxisId={this.props.currentAxisId} visType={this.props.visType} numberOfDimensionItems={this.props.numberOfDimensionItems} isAssignedCategoriesInLayout={this.props.layoutHasAssignedCategories} assignedCategoriesItemHandler={destination => this.props.assignedCategoriesItemHandler(this.props.layoutHasAssignedCategories, destination)} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.anchorEl} onClose={this.handleClose} />\n            </React.Fragment>;\n  }\n\n}\n\nChipMenu.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  currentAxisId: PropTypes.string,\n  dimensionId: PropTypes.string,\n  id: PropTypes.string,\n  layoutHasAssignedCategories: PropTypes.bool,\n  numberOfDimensionItems: PropTypes.number,\n  removeItemHandler: PropTypes.func,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => {\n  return {\n    layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  axisItemHandler: ({\n    dimensionId,\n    axisId\n  }) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChipMenu);","import { colors } from '@dhis2/ui';\nexport const styles = {\n  tooltip: {\n    fontFamily: 'roboto',\n    padding: '7px 9px',\n    color: colors.white,\n    fontSize: '12px',\n    backgroundColor: colors.grey900,\n    boxShadow: 'none',\n    borderRadius: '3px',\n    position: 'relative',\n    top: '5px',\n    maxWidth: '300px'\n  },\n  list: {\n    listStyleType: 'none',\n    margin: '0px',\n    marginBottom: '-3px',\n    padding: '0px'\n  },\n  item: {\n    marginBottom: '3px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  icon: {\n    fontSize: '13px',\n    marginRight: '6px'\n  },\n  iconWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '5px'\n  },\n  warningLabel: {\n    whiteSpace: 'normal'\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport LockIcon from '@material-ui/icons/Lock';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport i18n from '@dhis2/d2-i18n';\nimport { ouIdHelper } from '@dhis2/analytics';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { styles } from './styles/Tooltip.style';\nconst labels = {\n  noneSelected: i18n.t('None selected'),\n  onlyOneInUse: name => i18n.t(\"Only '{{- name}}' in use\", {\n    name\n  }),\n  onlyLimitedNumberInUse: number => i18n.t(\"Only '{{number}}' in use\", {\n    number\n  })\n};\nexport const TooltipContent = ({\n  dimensionId,\n  itemIds,\n  metadata,\n  displayLimitedAmount,\n  lockedLabel\n}) => {\n  const getWarningLabel = () => {\n    const warningLabel = itemIds.length === 1 ? labels.onlyOneInUse(metadata[itemIds[0]] ? metadata[itemIds[0]].name : itemIds[0]) : labels.onlyLimitedNumberInUse(itemIds.length);\n    return displayLimitedAmount ? warningLabel : null;\n  };\n\n  const getNameList = (idList, label, metadata) => idList.reduce((levelString, levelId, index) => `${levelString}${index > 0 ? `, ` : ``}${metadata[levelId] ? metadata[levelId].name : levelId}`, `${label}: `);\n\n  const getItemDisplayNames = () => {\n    const levelIds = [];\n    const groupIds = [];\n    const itemDisplayNames = [];\n\n    if (!displayLimitedAmount) {\n      itemIds.forEach(id => {\n        if (ouIdHelper.hasLevelPrefix(id)) {\n          levelIds.push(ouIdHelper.removePrefix(id));\n        } else if (ouIdHelper.hasGroupPrefix(id)) {\n          groupIds.push(ouIdHelper.removePrefix(id));\n        } else {\n          itemDisplayNames.push(metadata[id] ? metadata[id].name : id);\n        }\n      });\n      levelIds.length && itemDisplayNames.push(getNameList(levelIds, i18n.t('Levels'), metadata));\n      groupIds.length && itemDisplayNames.push(getNameList(groupIds, i18n.t('Groups'), metadata));\n    }\n\n    return itemDisplayNames;\n  };\n\n  const renderWarningLabel = warningLabel => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <WarningIcon style={styles.icon} />\n                <span style={styles.warningLabel}>{warningLabel}</span>\n            </div>\n        </li>;\n\n  const renderItems = itemDisplayNames => {\n    const renderLimit = 5;\n    const itemsToRender = itemDisplayNames.slice(0, renderLimit).map(name => <li key={`${dimensionId}-${name}`} style={styles.item}>\n                    {name}\n                </li>);\n\n    if (itemDisplayNames.length > renderLimit) {\n      itemsToRender.push(<li key={`${dimensionId}-render-limit`} style={styles.item}>\n                    {itemDisplayNames.length - renderLimit === 1 ? i18n.t('And 1 other...') : i18n.t('And {{numberOfItems}} others...', {\n          numberOfItems: itemDisplayNames.length - renderLimit\n        })}\n                </li>);\n    }\n\n    return itemsToRender;\n  };\n\n  const renderLockedLabel = () => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <LockIcon style={styles.icon} />\n                <span>{lockedLabel}</span>\n            </div>\n        </li>;\n\n  const renderNoItemsLabel = () => <li key={`${dimensionId}-${labels.noneSelected}`} style={styles.item}>\n            {labels.noneSelected}\n        </li>;\n\n  const itemDisplayNames = getItemDisplayNames();\n  const warningLabel = getWarningLabel();\n  const hasNoItemsLabel = !itemDisplayNames.length && !warningLabel;\n  return <ul style={styles.list}>\n            {warningLabel && renderWarningLabel(warningLabel)}\n            {lockedLabel && renderLockedLabel()}\n            {itemDisplayNames && renderItems(itemDisplayNames)}\n            {hasNoItemsLabel && renderNoItemsLabel()}\n        </ul>;\n};\nTooltipContent.propTypes = {\n  dimensionId: PropTypes.string.isRequired,\n  metadata: PropTypes.object.isRequired,\n  displayLimitedAmount: PropTypes.bool,\n  itemIds: PropTypes.array,\n  lockedLabel: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  metadata: sGetMetadata(state)\n});\n\nexport default connect(mapStateToProps)(TooltipContent);","import React from 'react';\n\nconst DynamicDimensionIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"Artboard\" transform=\"translate(-80.000000, -9.000000)\">\n                    <g id=\"icon_dimension_new\" transform=\"translate(80.000000, 9.000000)\">\n                        <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                        <g id=\"module\" transform=\"translate(4.000000, 4.000000)\" stroke=\"#000000\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L0.322,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L6.678,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,6.78125 L3.5,2.72795833\" id=\"Shape\" />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default DynamicDimensionIcon;","import { colors, theme } from '@dhis2/ui'; // Layout\n\nexport const LAYOUT_HEIGHT = '78px'; // Axis\n\nexport const AXIS_PADDING = '4px 4px 2px 6px';\nexport const AXIS_LABEL_PADDING = '2px 0px 0px 4px';\nexport const AXIS_BORDER_COLOR = colors.grey300;\nexport const AXIS_BORDER_STYLE = 'solid';\nexport const AXIS_BORDER_WIDTH = '0px 0px 1px 1px';\nexport const AXIS_BACKGROUND_COLOR = colors.white; // Chip\n\nexport const CHIP_COLOR = colors.grey900;\nexport const CHIP_FONT_WEIGHT = 400;\nexport const CHIP_FONT_SIZE = '14px';\nexport const CHIP_BACKGROUND_COLOR = theme.secondary200;\nexport const CHIP_HEIGHT = '14px';\nexport const CHIP_MARGIN = '4px';\nexport const CHIP_PADDING = '1px 6px';\nexport const CHIP_BORDER_RADIUS = '2px';","import { colors } from '@dhis2/ui';\nimport * as layoutStyle from './style';\nconst baseChip = {\n  padding: layoutStyle.CHIP_PADDING,\n  fontSize: layoutStyle.CHIP_FONT_SIZE,\n  fontWeight: layoutStyle.CHIP_FONT_WEIGHT,\n  color: layoutStyle.CHIP_COLOR,\n  cursor: 'pointer',\n  minHeight: 24,\n  userSelect: 'none'\n};\nexport const styles = {\n  chipWrapper: {\n    display: 'flex',\n    margin: layoutStyle.CHIP_MARGIN,\n    backgroundColor: layoutStyle.CHIP_BACKGROUND_COLOR,\n    borderRadius: layoutStyle.CHIP_BORDER_RADIUS,\n    alignItems: 'center',\n    maxWidth: '400px'\n  },\n  chip: { ...baseChip,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  chipEmpty: {\n    backgroundColor: colors.grey300\n  },\n  fixedDimensionIcon: {\n    paddingRight: '6px'\n  },\n  iconWrapper: {\n    paddingRight: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  warningIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  warningIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  lockIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  lockIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  label: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  }\n};\nstyles.chipLeft = { ...baseChip,\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'flex',\n  borderTopRightRadius: '0px',\n  borderBottomRightRadius: '0px',\n  alignItems: 'center'\n};\nstyles.chipRight = { ...baseChip,\n  paddingLeft: '0px',\n  borderTopLeftRadius: '0px',\n  borderBottomLeftRadius: '0px'\n};","// TODO: Refactor chip to contain less logic\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport LockIcon from '@material-ui/icons/Lock';\nimport { Tooltip } from '@dhis2/ui';\nimport i18n from '@dhis2/d2-i18n';\nimport { getPredefinedDimensionProp, getAxisMaxNumberOfItems, hasAxisTooManyItems, getDisplayNameByVisType, getAxisNameByLayoutType, getLayoutTypeByVisType, DIMENSION_ID_ASSIGNED_CATEGORIES, isDimensionLocked, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport ChipMenu from './ChipMenu';\nimport TooltipContent from './TooltipContent';\nimport { setDataTransfer } from '../../modules/dnd';\nimport { sGetDimensions } from '../../reducers/dimensions';\nimport { sGetUiItemsByDimension, sGetUiType } from '../../reducers/ui';\nimport DynamicDimensionIcon from '../../assets/DynamicDimensionIcon';\nimport { styles } from './styles/Chip.style';\nimport { acSetUiActiveModalDialog } from '../../actions/ui';\nconst LockIconWrapper = <div style={styles.lockIconWrapper}>\n        <LockIcon style={styles.lockIcon} />\n    </div>;\nconst WarningIconWrapper = <div style={styles.warningIconWrapper}>\n        <WarningIcon style={styles.warningIcon} />\n    </div>;\n\nconst Chip = ({\n  type,\n  dimensionId,\n  dimensionName,\n  axisId,\n  items,\n  getOpenHandler\n}) => {\n  const id = Math.random().toString(36);\n\n  const isLocked = () => isDimensionLocked(type, dimensionId);\n\n  const getMaxNumberOfItems = () => getAxisMaxNumberOfItems(type, axisId);\n\n  const handleClick = () => {\n    if (!getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n      getOpenHandler(dimensionId);\n    }\n  };\n\n  const getDragStartHandler = () => event => {\n    setDataTransfer(event, axisId);\n  };\n\n  const getWrapperStyles = () => ({ ...styles.chipWrapper,\n    ...(!getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS) && !items.length ? styles.chipEmpty : {})\n  });\n\n  const renderChipLabelSuffix = () => {\n    const numberOfItems = items.length;\n    const getItemsLabel = !!getMaxNumberOfItems() && numberOfItems > getMaxNumberOfItems() ? i18n.t(`{{total}} of {{axisMaxNumberOfItems}} selected`, {\n      total: numberOfItems,\n      axisMaxNumberOfItems: getMaxNumberOfItems()\n    }) : i18n.t('{{total}} selected', {\n      total: numberOfItems\n    });\n    return `${items.length > 0 ? `: ${getItemsLabel}` : ''}`;\n  };\n\n  const renderChipIcon = () => {\n    const Icon = getPredefinedDimensionProp(dimensionId, 'icon');\n    return Icon ? <Icon style={styles.fixedDimensionIcon} /> : <DynamicDimensionIcon style={styles.dynamicDimensionIcon} />;\n  };\n\n  const renderMenu = () => <div style={styles.chipRight}>\n            <ChipMenu dimensionId={dimensionId} currentAxisId={axisId} visType={type} numberOfDimensionItems={items.length} />\n        </div>;\n\n  const renderTooltipContent = () => {\n    if (dimensionId !== DIMENSION_ID_ASSIGNED_CATEGORIES) {\n      const activeItemIds = getMaxNumberOfItems() ? items.slice(0, getMaxNumberOfItems()) : items;\n      const lockedLabel = isLocked() ? i18n.t(`{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}`, {\n        dimensionName: dimensionName,\n        axisName: getAxisNameByLayoutType(axisId, getLayoutTypeByVisType(type)),\n        visTypeName: getDisplayNameByVisType(type)\n      }) : null;\n      return <TooltipContent dimensionId={dimensionId} itemIds={activeItemIds} lockedLabel={lockedLabel} displayLimitedAmount={items.length > activeItemIds.length} />;\n    }\n  };\n\n  return <div style={getWrapperStyles()} data-dimensionid={dimensionId} draggable={!isLocked()} onDragStart={getDragStartHandler()}>\n            <Tooltip content={renderTooltipContent()} placement=\"bottom\">\n                {({\n        ref,\n        onMouseOver,\n        onMouseOut\n      }) => <div id={id} style={styles.chipLeft} onClick={handleClick} ref={ref} onMouseOver={onMouseOver} onMouseOut={onMouseOut}>\n                        <div style={styles.iconWrapper}>{renderChipIcon()}</div>\n                        <span style={styles.label}>{dimensionName}</span>\n                        <span>{renderChipLabelSuffix()}</span>\n                        {hasAxisTooManyItems(type, axisId, items.length) && WarningIconWrapper}\n                        {isLocked() && LockIconWrapper}\n                    </div>}\n            </Tooltip>\n            {!isLocked() && renderMenu()}\n        </div>;\n};\n\nChip.propTypes = {\n  axisId: PropTypes.string.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  dimensionName: PropTypes.string.isRequired,\n  getOpenHandler: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n  items: PropTypes.array\n};\nChip.defaultProps = {\n  items: []\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  dimensionName: (sGetDimensions(state)[ownProps.dimensionId] || {}).name,\n  items: sGetUiItemsByDimension(state, ownProps.dimensionId) || [],\n  type: sGetUiType(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chip);","const DATA_TYPE_TEXT = 'text';\nexport const setDataTransfer = (e, source) => {\n  e.dataTransfer.setData(DATA_TYPE_TEXT, JSON.stringify({\n    dimensionId: e.target.dataset.dimensionid,\n    source\n  }));\n};\nexport const decodeDataTransfer = e => JSON.parse(e.dataTransfer.getData(DATA_TYPE_TEXT));","import { colors } from '@dhis2/ui';\nimport * as layoutStyle from '../../styles/style';\nexport default {\n  axisContainer: {\n    display: 'flex',\n    backgroundColor: layoutStyle.AXIS_BACKGROUND_COLOR,\n    borderColor: layoutStyle.AXIS_BORDER_COLOR,\n    borderStyle: layoutStyle.AXIS_BORDER_STYLE,\n    borderWidth: layoutStyle.AXIS_BORDER_WIDTH,\n    padding: layoutStyle.AXIS_PADDING\n  },\n  axisContainerLeft: {\n    borderLeftWidth: 0\n  },\n  label: {\n    minWidth: 55,\n    maxWidth: 55,\n    padding: '2px 0px 0px 0px',\n    fontSize: 11,\n    color: colors.grey700,\n    userSelect: 'none',\n    letterSpacing: '0.2px'\n  }\n}; // TODO: Refactor this file and all other affected files (DefaultLayout + everything in ../../styles/) to css modules","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { getAxisNameByLayoutType, getLayoutTypeByVisType, isDimensionLocked } from '@dhis2/analytics';\nimport Chip from '../Chip';\nimport { sGetUi, sGetUiLayout, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiActiveModalDialog } from '../../../actions/ui';\nimport styles from './styles/DefaultAxis.style';\nimport stylesModule from './styles/DefaultAxis.module.css';\n\nclass Axis extends React.Component {\n  onDragOver = e => {\n    e.preventDefault();\n  };\n\n  render() {\n    const {\n      axisId,\n      axis,\n      style,\n      type,\n      getOpenHandler\n    } = this.props;\n    return <div id={axisId} style={{ ...styles.axisContainer,\n      ...style\n    }} onDragOver={this.onDragOver}>\n                <div style={styles.label}>\n                    {this.props.label || getAxisNameByLayoutType(axisId, getLayoutTypeByVisType(type))}\n                </div>\n                <Droppable droppableId={axisId} direction=\"horizontal\">\n                    {provided => <div className={stylesModule.content} ref={provided.innerRef} {...provided.droppableProps}>\n                            {axis.map((dimensionId, index) => {\n            const key = `${axisId}-${dimensionId}`;\n            return <Draggable key={key} draggableId={key} index={index} isDragDisabled={isDimensionLocked(type, dimensionId)}>\n                                        {provided => <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                                                <Chip onClick={getOpenHandler(dimensionId)} axisId={axisId} dimensionId={dimensionId} />\n                                            </div>}\n                                    </Draggable>;\n          })}\n                            {provided.placeholder}\n                        </div>}\n                </Droppable>\n            </div>;\n  }\n\n}\n\nAxis.propTypes = {\n  axis: PropTypes.array,\n  axisId: PropTypes.string,\n  classes: PropTypes.object,\n  getMoveHandler: PropTypes.func,\n  getOpenHandler: PropTypes.func,\n  getRemoveHandler: PropTypes.func,\n  label: PropTypes.string,\n  layout: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  ui: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  ui: sGetUi(state),\n  type: sGetUiType(state),\n  layout: sGetUiLayout(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dimensionId => () => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return { ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n    axis: stateProps.ui.layout[ownProps.axisId]\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(Axis);","import { LAYOUT_HEIGHT } from '../../styles/style'; // Axis\n\nexport const FILTER_AXIS_WIDTH = '67%';\nexport const DIMENSION_AXIS_CONTENT_HEIGHT = '36px'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  ct: {\n    display: 'flex',\n    minHeight: LAYOUT_HEIGHT\n  },\n  axisGroup: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  },\n  columns: {\n    flexBasis: '50%'\n  },\n  rows: {\n    flexBasis: '50%'\n  },\n  filters: {\n    flexBasis: '100%'\n  }\n};","import React from 'react';\nimport DefaultAxis from './DefaultAxis';\nimport styles from './styles/DefaultLayout.style';\nimport defaultAxisStyles from './styles/DefaultAxis.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={styles.ct}>\n        <div id=\"axis-group-1\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId=\"columns\" style={{ ...styles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n            <DefaultAxis axisId=\"rows\" style={{ ...styles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupRight\n  }}>\n            <DefaultAxis axisId=\"filters\" style={styles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nexport default Layout;","export default {\n  content: {\n    flex: '1 1 0%'\n  }\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getAxisNameByLayoutType, LAYOUT_TYPE_YEAR_OVER_YEAR } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport YearOverYearAxisStyles from './styles/YearOverYearAxis.style';\n\nconst YearOverYearAxis = props => <div id={props.axisId} style={{ ...defaultAxisStyles.axisContainer,\n  ...props.style\n}}>\n        <div className=\"label\" style={defaultAxisStyles.label}>\n            {getAxisNameByLayoutType(props.axisId, LAYOUT_TYPE_YEAR_OVER_YEAR)}\n        </div>\n        <div className=\"content\" style={{ ...defaultAxisStyles.content,\n    ...YearOverYearAxisStyles.content\n  }}>\n            {props.children}\n        </div>\n    </div>;\n\nYearOverYearAxis.propTypes = {\n  axisId: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nexport default connect(mapStateToProps)(YearOverYearAxis);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { MultiSelect, MultiSelectOption, SingleSelect, SingleSelectOption } from '@dhis2/ui';\n\nconst SinglePeriodSelector = ({\n  options,\n  selected,\n  onChange\n}) => <SingleSelect onChange={onChange} selected={selected} placeholder={i18n.t('Select a period')} dense>\n        {options.map(option => <SingleSelectOption key={option.id} value={option.id} label={option.getName()} />)}\n    </SingleSelect>;\n\nSinglePeriodSelector.propTypes = {\n  options: PropTypes.array,\n  selected: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst MultiPeriodSelector = ({\n  options,\n  selected,\n  onChange\n}) => <MultiSelect onChange={onChange} selected={selected} placeholder={i18n.t('Select years')} dense>\n        {options.map(option => <MultiSelectOption key={option.id} value={option.id} label={option.getName()} />)}\n    </MultiSelect>;\n\nMultiPeriodSelector.propTypes = {\n  options: PropTypes.array,\n  selected: PropTypes.array,\n  onChange: PropTypes.func\n};\n\nconst YearOverYearSelect = ({\n  multiple,\n  value,\n  ...props\n}) => multiple === 'true' ? <MultiPeriodSelector selected={value} {...props} /> : <SinglePeriodSelector selected={value} {...props} />;\n\nYearOverYearSelect.propTypes = {\n  multiple: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onChange: PropTypes.func\n};\nexport default YearOverYearSelect;","import { FILTER_AXIS_WIDTH } from '../../DefaultLayout/styles/DefaultLayout.style'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import i18n from '@dhis2/d2-i18n'; // Fixed years generator\n\nconst getFixedYears = len => {\n  let year = new Date().getFullYear();\n  return new Array(len).fill(null).map(() => {\n    const yearString = String(year--);\n    return {\n      id: yearString,\n      getName: () => yearString\n    };\n  });\n}; // Options for the year on year series dropdown\n\n\nexport const seriesOptions = [{\n  id: 'THIS_YEAR',\n  getName: () => i18n.t('This year')\n}, {\n  id: 'LAST_YEAR',\n  getName: () => i18n.t('Last year')\n}, {\n  id: 'LAST_5_YEARS',\n  getName: () => i18n.t('Last 5 years')\n}, ...getFixedYears(10)]; // Options for the year on year category dropdown\n\nexport const categoryOptions = [{\n  id: 'LAST_3_DAYS',\n  getName: () => i18n.t('Last 3 days')\n}, {\n  id: 'LAST_7_DAYS',\n  getName: () => i18n.t('Last 7 days')\n}, {\n  id: 'LAST_14_DAYS',\n  getName: () => i18n.t('Last 14 days')\n}, {\n  id: 'LAST_4_WEEKS',\n  getName: () => i18n.t('Last 4 weeks')\n}, {\n  id: 'LAST_12_WEEKS',\n  getName: () => i18n.t('Last 12 weeks')\n}, {\n  id: 'LAST_52_WEEKS',\n  getName: () => i18n.t('Last 52 weeks')\n}, {\n  id: 'WEEKS_THIS_YEAR',\n  getName: () => i18n.t('Weeks per year')\n}, {\n  id: 'LAST_3_MONTHS',\n  getName: () => i18n.t('Last 3 months')\n}, {\n  id: 'LAST_6_MONTHS',\n  getName: () => i18n.t('Last 6 months')\n}, {\n  id: 'LAST_12_MONTHS',\n  getName: () => i18n.t('Last 12 months')\n}, {\n  id: 'MONTHS_THIS_YEAR',\n  getName: () => i18n.t('Months per year')\n}, {\n  id: 'LAST_6_BIMONTHS',\n  getName: () => i18n.t('Last 6 bimonths')\n}, {\n  id: 'BIMONTHS_THIS_YEAR',\n  getName: () => i18n.t('Bimonths per year')\n}, {\n  id: 'LAST_4_QUARTERS',\n  getName: () => i18n.t('Last 4 quarters')\n}, {\n  id: 'QUARTERS_THIS_YEAR',\n  getName: () => i18n.t('Quarters per year')\n}, {\n  id: 'LAST_2_SIXMONTHS',\n  getName: () => i18n.t('Last 2 six-months')\n}];","import React from 'react';\nimport { connect } from 'react-redux';\nimport { AXIS_ID_FILTERS, AXIS_ID_COLUMNS, AXIS_ID_ROWS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\nimport YearOverYearAxis from './YearOverYearAxis';\nimport YearOverYearSelect from './YearOverYearSelect';\nimport YearOverYearLayoutStyles from './styles/YearOverYearLayout.style';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport { acSetUiYearOverYearSeries, acSetUiYearOverYearCategory } from '../../../actions/ui';\nimport { seriesOptions, categoryOptions } from '../../../modules/yearOverYear';\n\nconst Layout = props => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupLeft\n  }}>\n            <YearOverYearAxis axisId={AXIS_ID_COLUMNS} style={{ ...defaultLayoutStyles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect multiple=\"true\" value={props.yearOverYearSeries} onChange={props.onSeriesChange} options={seriesOptions} />\n            </YearOverYearAxis>\n            <YearOverYearAxis axisId={AXIS_ID_ROWS} style={{ ...defaultLayoutStyles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect value={props.yearOverYearCategory[0]} onChange={props.onCategoryChange} options={categoryOptions} />\n            </YearOverYearAxis>\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  yearOverYearCategory: PropTypes.array,\n  yearOverYearSeries: PropTypes.array,\n  onCategoryChange: PropTypes.func,\n  onSeriesChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSeriesChange: ({\n    selected\n  }) => {\n    dispatch(acSetUiYearOverYearSeries(selected));\n  },\n  onCategoryChange: ({\n    selected\n  }) => {\n    dispatch(acSetUiYearOverYearCategory(selected));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","import React from 'react';\nimport { AXIS_ID_COLUMNS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId={AXIS_ID_COLUMNS} style={{ ...defaultLayoutStyles.filters,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nexport default Layout;","// Axis\nexport const FILTER_AXIS_WIDTH = '50%'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import React from 'react';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\nimport pivotTableLayoutStyles from './styles/PivotTableLayout.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId={AXIS_ID_COLUMNS} style={{ ...defaultLayoutStyles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n            <DefaultAxis axisId={AXIS_ID_ROWS} style={{ ...defaultLayoutStyles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nexport default Layout;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { LAYOUT_TYPE_DEFAULT, LAYOUT_TYPE_PIE, LAYOUT_TYPE_YEAR_OVER_YEAR, LAYOUT_TYPE_PIVOT_TABLE, getLayoutTypeByVisType } from '@dhis2/analytics';\nimport DefaultLayout from './DefaultLayout/DefaultLayout';\nimport YearOverYearLayout from './YearOverYearLayout/YearOverYearLayout';\nimport PieLayout from './PieLayout/PieLayout';\nimport { sGetUiType } from '../../reducers/ui';\nimport PivotTableLayout from './PivotTableLayout/PivotTableLayout';\nconst componentMap = {\n  [LAYOUT_TYPE_DEFAULT]: DefaultLayout,\n  [LAYOUT_TYPE_PIE]: PieLayout,\n  [LAYOUT_TYPE_YEAR_OVER_YEAR]: YearOverYearLayout,\n  [LAYOUT_TYPE_PIVOT_TABLE]: PivotTableLayout\n};\n\nconst Layout = ({\n  visType\n}) => {\n  const layoutType = getLayoutTypeByVisType(visType);\n  const LayoutComponent = componentMap[layoutType];\n  return <LayoutComponent visType={visType} />;\n};\n\nLayout.propTypes = {\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps, null)(Layout);","import i18n from '@dhis2/d2-i18n';\n\nconst getRelativePeriods = () => ({\n  TODAY: i18n.t('Today'),\n  YESTERDAY: i18n.t('Yesterday'),\n  LAST_3_DAYS: i18n.t('Last 3 days'),\n  LAST_7_DAYS: i18n.t('Last 7 days'),\n  LAST_14_DAYS: i18n.t('Last 14 days'),\n  THIS_WEEK: i18n.t('This week'),\n  LAST_WEEK: i18n.t('Last week'),\n  LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n  LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n  LAST_52_WEEKS: i18n.t('Last 52 weeks'),\n  WEEKS_THIS_YEAR: i18n.t('Weeks this year'),\n  THIS_MONTH: i18n.t('This month'),\n  LAST_MONTH: i18n.t('Last month'),\n  LAST_3_MONTHS: i18n.t('Last 3 months'),\n  LAST_6_MONTHS: i18n.t('Last 6 months'),\n  LAST_12_MONTHS: i18n.t('Last 12 months'),\n  MONTHS_THIS_YEAR: i18n.t('Months this year'),\n  THIS_BIMONTH: i18n.t('This bimonth'),\n  LAST_BIMONTH: i18n.t('Last bimonth'),\n  LAST_6_BIMONTHS: i18n.t('Last 6 bimonths'),\n  BIMONTHS_THIS_YEAR: i18n.t('Bimonths this year'),\n  THIS_QUARTER: i18n.t('This quarter'),\n  LAST_QUARTER: i18n.t('Last quarter'),\n  LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n  QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n  THIS_SIX_MONTH: i18n.t('This six-month'),\n  LAST_SIX_MONTH: i18n.t('Last six-month'),\n  LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n  THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n  LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n  LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years'),\n  THIS_YEAR: i18n.t('This year'),\n  LAST_YEAR: i18n.t('Last year'),\n  LAST_5_YEARS: i18n.t('Last 5 years')\n});\n\nconst getOrganisationUnits = () => ({\n  USER_ORGUNIT: i18n.t('User org unit'),\n  USER_ORGUNIT_CHILDREN: i18n.t('User org unit children'),\n  USER_ORGUNIT_GRANDCHILDREN: i18n.t('User org unit grand children')\n});\n\nexport default function () {\n  return Object.entries({ ...getRelativePeriods(),\n    ...getOrganisationUnits()\n  }).reduce((obj, [key, value]) => ({ ...obj,\n    [key]: {\n      name: value\n    }\n  }), {});\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { CssVariables, Modal, ModalTitle, ModalContent, ModalActions, ButtonStrip, Button } from '@dhis2/ui';\nimport DndContext from './DndContext';\nimport Snackbar from '../components/Snackbar/Snackbar';\nimport MenuBar from './MenuBar/MenuBar';\nimport TitleBar from './TitleBar/TitleBar';\nimport VisualizationTypeSelector from './VisualizationTypeSelector/VisualizationTypeSelector';\nimport DimensionsPanel from './DimensionsPanel/DimensionsPanel';\nimport Interpretations from './Interpretations/Interpretations';\nimport Visualization from './Visualization/Visualization';\nimport Layout from './Layout/Layout';\nimport * as fromReducers from '../reducers';\nimport * as fromActions from '../actions';\nimport history from '../modules/history';\nimport defaultMetadata from '../modules/metadata';\nimport { apiFetchAOFromUserDataStore, CURRENT_AO_KEY } from '../api/userDataStore';\nimport './App.css';\nimport './scrollbar.css';\nimport { getParentGraphMapFromVisualization } from '../modules/ui';\nimport { APPROVAL_LEVEL_OPTION_AUTH } from './VisualizationOptions/Options/ApprovalLevel';\nimport { sGetVisualization } from '../reducers/visualization';\nimport { STATE_DIRTY, getVisualizationState } from '../modules/visualization';\nexport class App extends Component {\n  unlisten = null;\n  apiObjectName = 'visualization';\n  state = {\n    previousLocation: null,\n    initialLoadIsComplete: false,\n    locationToConfirm: false\n  };\n  /**\n   * The following cases require a fetch/refetch of the AO\n   * - enter a new url (causing a page load)\n   * - file->open (same or different AO)\n   * - file->saveAs\n   */\n\n  refetch = location => {\n    if (!this.state.previousLocation) {\n      return true;\n    }\n\n    const id = location.pathname.slice(1).split('/')[0];\n    const prevId = this.state.previousLocation.slice(1).split('/')[0];\n\n    if (id !== prevId || this.state.previousLocation === location.pathname) {\n      return true;\n    }\n\n    return false;\n  };\n  loadVisualization = async location => {\n    const {\n      store\n    } = this.context;\n\n    if (location.pathname.length > 1) {\n      // /currentAnalyticalObject\n      // /${id}/\n      // /${id}/interpretation/${interpretationId}\n      const pathParts = location.pathname.slice(1).split('/');\n      const id = pathParts[0];\n      const interpretationId = pathParts[2];\n      const urlContainsCurrentAOKey = id === CURRENT_AO_KEY;\n\n      if (urlContainsCurrentAOKey) {\n        const AO = await apiFetchAOFromUserDataStore();\n        this.props.addParentGraphMap(getParentGraphMapFromVisualization(AO)); // clear visualization and current\n        // to avoid leave them \"dirty\" when navigating to\n        // /currentAnalyticalObject from a previous saved AO\n\n        this.props.clearVisualization();\n        this.props.clearCurrent();\n        this.props.setUiFromVisualization(AO);\n        this.props.setCurrentFromUi(this.props.ui);\n      }\n\n      if (!urlContainsCurrentAOKey && this.refetch(location)) {\n        await store.dispatch(fromActions.tDoLoadVisualization({\n          id,\n          interpretationId,\n          ouLevels: this.props.ouLevels\n        }));\n      }\n\n      if (!interpretationId) {\n        store.dispatch(fromActions.fromUi.acClearUiInterpretation());\n      }\n    } else {\n      fromActions.clearVisualization(store.dispatch, store.getState);\n      fromActions.fromUi.acClearUiInterpretation(store.dispatch);\n    }\n\n    this.setState({\n      initialLoadIsComplete: true\n    });\n    this.setState({\n      previousLocation: location.pathname\n    });\n  };\n  componentDidMount = async () => {\n    const {\n      store\n    } = this.context;\n    const {\n      d2,\n      userSettings\n    } = this.props;\n    await store.dispatch(fromActions.fromSettings.tAddSettings(userSettings));\n    store.dispatch(fromActions.fromUser.acReceivedUser(d2.currentUser));\n    store.dispatch(fromActions.fromUser.tLoadUserAuthority(APPROVAL_LEVEL_OPTION_AUTH));\n    store.dispatch(fromActions.fromDimensions.tSetDimensions(d2));\n    const rootOrgUnit = this.props.settings.rootOrganisationUnit;\n\n    if (rootOrgUnit && rootOrgUnit.id) {\n      store.dispatch(fromActions.fromMetadata.acAddMetadata({ ...defaultMetadata(),\n        [rootOrgUnit.id]: { ...rootOrgUnit,\n          path: `/${rootOrgUnit.id}`\n        }\n      }));\n    }\n\n    this.loadVisualization(this.props.location);\n    this.unlisten = history.listen(location => {\n      const isSaving = location.state?.isSaving;\n\n      if (getVisualizationState(this.props.visualization, this.props.current) === STATE_DIRTY && this.state.locationToConfirm !== location && !isSaving) {\n        this.setState({\n          locationToConfirm: location\n        });\n      } else {\n        this.setState({\n          locationToConfirm: null\n        });\n        this.loadVisualization(location);\n      }\n    });\n    document.body.addEventListener('keyup', e => e.key === 'Enter' && e.ctrlKey === true && this.props.setCurrentFromUi(this.props.ui));\n    window.addEventListener('beforeunload', event => {\n      if (getVisualizationState(this.props.visualization, this.props.current) === STATE_DIRTY) {\n        event.preventDefault();\n        event.returnValue = i18n.t('You have unsaved changes.');\n      }\n    });\n  };\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n\n  getChildContext() {\n    return {\n      baseUrl: this.props.baseUrl,\n      i18n,\n      d2: this.props.d2\n    };\n  }\n\n  render() {\n    return <>\n                <div className=\"data-visualizer-app flex-ct flex-dir-col\">\n                    <div className=\"section-toolbar flex-ct\">\n                        <div className=\"toolbar-type\">\n                            <VisualizationTypeSelector />\n                        </div>\n                        <div className=\"toolbar-menubar flex-grow-1\">\n                            <MenuBar apiObjectName={this.apiObjectName} />\n                        </div>\n                    </div>\n                    <div className=\"section-main flex-grow-1 flex-ct\">\n                        <DndContext>\n                            <div className=\"main-left\">\n                                <DimensionsPanel />\n                            </div>\n                            <div className=\"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col\">\n                                <div className=\"main-center-layout\">\n                                    <Layout />\n                                </div>\n                                <div className=\"main-center-titlebar\">\n                                    <TitleBar />\n                                </div>\n                                <div className=\"main-center-canvas flex-grow-1\">\n                                    {this.state.initialLoadIsComplete && <Visualization />}\n                                </div>\n                            </div>\n                        </DndContext>\n                        {this.props.ui.rightSidebarOpen && this.props.current && <div className=\"main-right\">\n                                <Interpretations type={this.apiObjectName} id={this.props.current.id} />\n                            </div>}\n                    </div>\n                </div>\n                {this.state.locationToConfirm && <Modal small>\n                        <ModalTitle>\n                            {i18n.t('Discard unsaved changes?')}\n                        </ModalTitle>\n                        <ModalContent>\n                            {i18n.t('Are you sure you want to leave this visualization? Any unsaved changes will be lost.')}\n                        </ModalContent>\n                        <ModalActions>\n                            <ButtonStrip end>\n                                <Button secondary onClick={() => this.setState({\n              locationToConfirm: null\n            })}>\n                                    {i18n.t('No, cancel')}\n                                </Button>\n\n                                <Button onClick={() => history.push(this.state.locationToConfirm)} primary>\n                                    {i18n.t('Yes, leave')}\n                                </Button>\n                            </ButtonStrip>\n                        </ModalActions>\n                    </Modal>}\n                <Snackbar />\n                <CssVariables colors spacers />\n            </>;\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  settings: fromReducers.fromSettings.sGetSettings(state),\n  current: fromReducers.fromCurrent.sGetCurrent(state),\n  interpretations: fromReducers.fromVisualization.sGetInterpretations(state),\n  ui: fromReducers.fromUi.sGetUi(state),\n  visualization: sGetVisualization(state),\n  snackbar: fromReducers.fromSnackbar.sGetSnackbar(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentFromUi: ui => dispatch(fromActions.fromCurrent.acSetCurrentFromUi(ui)),\n  clearVisualization: () => dispatch(fromActions.fromVisualization.acClear()),\n  clearCurrent: () => dispatch(fromActions.fromCurrent.acClear()),\n  setUiFromVisualization: visualization => dispatch(fromActions.fromUi.acSetUiFromVisualization(visualization)),\n  addParentGraphMap: parentGraphMap => dispatch(fromActions.fromUi.acAddParentGraphMap(parentGraphMap)),\n  clearSnackbar: () => dispatch(fromActions.fromSnackbar.acClearSnackbar())\n});\n\nApp.contextTypes = {\n  store: PropTypes.object\n};\nApp.childContextTypes = {\n  d2: PropTypes.object,\n  baseUrl: PropTypes.string,\n  i18n: PropTypes.object\n};\nApp.propTypes = {\n  addParentGraphMap: PropTypes.func,\n  baseUrl: PropTypes.string,\n  clearCurrent: PropTypes.func,\n  clearVisualization: PropTypes.func,\n  current: PropTypes.object,\n  d2: PropTypes.object,\n  location: PropTypes.object,\n  ouLevels: PropTypes.array,\n  setCurrentFromUi: PropTypes.func,\n  setUiFromVisualization: PropTypes.func,\n  settings: PropTypes.object,\n  ui: PropTypes.object,\n  userSettings: PropTypes.object,\n  visualization: PropTypes.object\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import React from 'react';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { D2Shim } from './D2Shim';\nimport configureStore from './configureStore';\nimport metadataMiddleware from './middleware/metadata';\nimport App from './components/App';\nimport './locales';\n\nconst AppWrapper = () => {\n  const engine = useDataEngine();\n  const store = configureStore([thunk.withExtraArgument(engine), metadataMiddleware]);\n\n  if (window.Cypress) {\n    window.store = store;\n  }\n\n  const schemas = ['visualization', 'organisationUnit', 'userGroup'];\n  return <Provider store={store}>\n            <D2Shim schemas={schemas}>{params => <App {...params} />}</D2Shim>\n        </Provider>;\n};\n\nexport default AppWrapper;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"VisualizationTypeSelector_backdrop__84wtM\",\"button\":\"VisualizationTypeSelector_button__1d_Dv\",\"cardContainer\":\"VisualizationTypeSelector_cardContainer__2ZbJX\",\"listContainer\":\"VisualizationTypeSelector_listContainer__2ofGu\",\"listItem\":\"VisualizationTypeSelector_listItem__3Faru\",\"listItemActive\":\"VisualizationTypeSelector_listItemActive__1jCF3\",\"listItemDisabled\":\"VisualizationTypeSelector_listItemDisabled__2vjjv\",\"listItemSvg\":\"VisualizationTypeSelector_listItemSvg__30TD2\",\"listItemIcon\":\"VisualizationTypeSelector_listItemIcon__2vUNZ\",\"listItemText\":\"VisualizationTypeSelector_listItemText__3F6jt\"};"],"sourceRoot":""}