{"version":3,"sources":["D2App/modules/formatDate.js","D2App/components/DimensionsPanel/styles/DndDimensionItem.module.css","D2App/components/DimensionsPanel/styles/DndDimensionList.module.css","D2App/components/DimensionsPanel/styles/DndDimensionsPanel.module.css","D2App/modules/settings.js","D2App/api/index.js","D2App/api/organisationUnits.js","D2App/modules/history.js","D2App/D2Shim.js","D2App/reducers/visualization.js","D2App/modules/options.js","D2App/modules/layout.js","D2App/modules/fields/baseFields.js","D2App/modules/layoutAdapters.js","D2App/modules/orgUnit.js","D2App/reducers/ui.js","D2App/modules/optionalAxes.js","D2App/modules/ui.js","D2App/modules/current.js","D2App/reducers/current.js","D2App/reducers/dimensions.js","D2App/reducers/recommendedIds.js","D2App/reducers/metadata.js","D2App/reducers/settings.js","D2App/reducers/user.js","D2App/modules/fields/index.js","D2App/modules/fields/nestedFields.js","D2App/api/visualization.js","D2App/actions/visualization.js","D2App/actions/current.js","D2App/actions/dimensions.js","D2App/actions/ui.js","D2App/actions/metadata.js","D2App/api/settings.js","D2App/actions/settings.js","D2App/actions/user.js","D2App/reducers/chart.js","D2App/actions/snackbar.js","D2App/reducers/loader.js","D2App/actions/loader.js","D2App/api/dataStatistics.js","D2App/actions/index.js","D2App/components/Snackbar/styles/Snackbar.style.js","D2App/components/Snackbar/Snackbar.js","D2App/reducers/snackbar.js","D2App/reducers/index.js","D2App/configureStore.js","D2App/middleware/metadata.js","D2App/components/DndContext.js","D2App/components/UpdateButton/UpdateButton.js","D2App/components/DownloadMenu/styles/DownloadMenu.style.js","D2App/api/analytics.js","D2App/components/DownloadMenu/DownloadMenu.js","D2App/components/Interpretations/InterpretationsButton.js","D2App/components/HideButton/HideButton.js","D2App/assets/ErrorIcons.js","D2App/modules/error.js","D2App/modules/layoutValidation.js","D2App/api/userDataStore.js","D2App/components/UpdateButton/UpdateVisualizationContainer.js","D2App/components/VisualizationOptions/styles/VisualizationOptions.style.js","D2App/components/VisualizationOptions/Options/SelectBaseOption.js","D2App/components/VisualizationOptions/Options/AggregationType.js","D2App/components/VisualizationOptions/Options/CheckboxBaseOption.js","D2App/components/VisualizationOptions/Options/ShowDimensionLabels.js","D2App/components/VisualizationOptions/Options/SkipRounding.js","D2App/components/VisualizationOptions/Options/ColTotals.js","D2App/components/VisualizationOptions/Options/ColSubTotals.js","D2App/components/VisualizationOptions/Options/RowTotals.js","D2App/components/VisualizationOptions/Options/RowSubTotals.js","D2App/components/VisualizationOptions/Options/HideEmptyColumns.js","D2App/components/VisualizationOptions/Options/HideEmptyRows.js","D2App/components/VisualizationOptions/Options/NumberType.js","D2App/components/VisualizationOptions/Options/RadioBaseOption.js","D2App/components/VisualizationOptions/Options/LegendDisplayStyle.js","D2App/components/VisualizationOptions/Options/LegendDisplayStrategy.js","D2App/components/VisualizationOptions/Options/LegendSet.js","D2App/components/VisualizationOptions/Options/TextBaseOption.js","D2App/components/VisualizationOptions/Options/Title.js","D2App/components/VisualizationOptions/Options/DisplayDensity.js","D2App/components/VisualizationOptions/Options/FontSize.js","D2App/components/VisualizationOptions/Options/DigitGroupSeparator.js","D2App/components/VisualizationOptions/Options/MeasureCriteria.js","D2App/components/VisualizationOptions/Options/ParamReportingPeriod.js","D2App/components/VisualizationOptions/Options/ParamOrganisationUnit.js","D2App/components/VisualizationOptions/Options/ParamParentOrganisationUnit.js","D2App/components/VisualizationOptions/Options/Regression.js","D2App/components/VisualizationOptions/Options/Cumulative.js","D2App/components/VisualizationOptions/Options/SortOrder.js","D2App/components/VisualizationOptions/Options/TopLimit.js","D2App/modules/options/pivotTableConfig.js","D2App/components/VisualizationOptions/Options/CumulativeValues.js","D2App/components/VisualizationOptions/Options/ShowData.js","D2App/components/VisualizationOptions/Options/HideEmptyRowItems.js","D2App/components/VisualizationOptions/Options/RegressionType.js","D2App/components/VisualizationOptions/Options/TargetLineValue.js","D2App/components/VisualizationOptions/Options/TargetLineLabel.js","D2App/components/VisualizationOptions/Options/TargetLine.js","D2App/components/VisualizationOptions/Options/BaseLineValue.js","D2App/components/VisualizationOptions/Options/BaseLineLabel.js","D2App/components/VisualizationOptions/Options/BaseLine.js","D2App/components/VisualizationOptions/Options/RangeAxisMinValue.js","D2App/components/VisualizationOptions/Options/RangeAxisMaxValue.js","D2App/components/VisualizationOptions/Options/AxisRange.js","D2App/components/VisualizationOptions/Options/RangeAxisSteps.js","D2App/components/VisualizationOptions/Options/RangeAxisDecimals.js","D2App/components/VisualizationOptions/Options/RangeAxisLabel.js","D2App/components/VisualizationOptions/Options/DomainAxisLabel.js","D2App/components/VisualizationOptions/Options/NoSpaceBetweenColumns.js","D2App/components/VisualizationOptions/Options/HideLegend.js","D2App/components/VisualizationOptions/Options/HideTitle.js","D2App/components/VisualizationOptions/Options/Subtitle.js","D2App/components/VisualizationOptions/Options/HideSubtitle.js","D2App/modules/options/columnConfig.js","D2App/components/VisualizationOptions/Options/PercentStackedValues.js","D2App/modules/options/stackedColumnConfig.js","D2App/modules/options/lineConfig.js","D2App/modules/options/areaConfig.js","D2App/modules/options/pieConfig.js","D2App/components/VisualizationOptions/VisualizationOptions.js","D2App/modules/options/config.js","D2App/components/VisualizationOptions/VisualizationOptionsManager.js","D2App/components/MenuBar/MenuBar.js","D2App/components/MenuBar/styles/MenuBar.style.js","D2App/assets/InterpretationIcon.js","D2App/components/TitleBar/styles/TitleBar.style.js","D2App/components/TitleBar/TitleBar.js","D2App/modules/currentAnalyticalObject.js","D2App/assets/ColumnIcon.js","D2App/assets/StackedColumnIcon.js","D2App/assets/BarIcon.js","D2App/assets/StackedBarIcon.js","D2App/assets/PieIcon.js","D2App/assets/GaugeIcon.js","D2App/assets/LineIcon.js","D2App/assets/AreaIcon.js","D2App/assets/RadarIcon.js","D2App/assets/YearOverYearLineIcon.js","D2App/assets/YearOverYearColumnIcon.js","D2App/assets/SingleValueIcon.js","D2App/assets/GlobeIcon.js","D2App/assets/PivotTableIcon.js","D2App/components/VisualizationTypeSelector/MenuItemIcon.js","D2App/components/VisualizationTypeSelector/VisualizationTypeMenuItem.js","D2App/components/VisualizationTypeSelector/styles/VisualizationTypeSelector.style.js","D2App/components/VisualizationTypeSelector/VisualizationTypeSelector.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/DropDownButton.style.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/DropDownButton.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/Menu.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/Menu.style.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/AddToLayoutButton.js","D2App/components/DimensionsPanel/Dialogs/AddToLayoutButton/styles/AddToLayoutButton.style.js","D2App/components/DimensionsPanel/Dialogs/DialogManager.js","D2App/actions/recommendedIds.js","D2App/components/DimensionsPanel/DndDimensionItem.js","D2App/components/DimensionsPanel/DndDimensionList.js","D2App/components/DimensionsPanel/DndDimensionsPanel.js","D2App/components/DimensionsPanel/styles/DimensionsPanel.style.js","D2App/components/AxisSetup/styles/AxisSetup.style.js","D2App/components/AxisSetup/AxisSetup.js","D2App/components/AxisSetup/constants.js","D2App/components/DimensionsPanel/DimensionsPanel.js","D2App/components/Interpretations/styles/Interpretations.style.js","D2App/components/Interpretations/Interpretations.js","D2App/components/Visualization/styles/Visualization.style.js","../../../src/api/analytics.js","../../../src/modules/options.js","../../../src/modules/analytics.js","../../../src/ChartPlugin.js","../../../src/PivotPlugin.js","../../../src/index.js","D2App/components/Visualization/styles/StartScreen.style.js","D2App/api/mostViewedVisualizations.js","D2App/components/Visualization/StartScreen.js","D2App/components/Visualization/LoadingMask.js","D2App/components/Visualization/Visualization.js","D2App/actions/chart.js","D2App/assets/MoreHorizontalIcon.js","D2App/components/Layout/styles/Menu.style.js","D2App/components/Layout/Menu.js","D2App/components/Layout/styles/Tooltip.style.js","D2App/components/Layout/Tooltip.js","D2App/modules/dnd.js","D2App/assets/DynamicDimensionIcon.js","D2App/components/Layout/styles/style.js","D2App/components/Layout/styles/Chip.style.js","D2App/components/Layout/Chip.js","D2App/components/Layout/DefaultLayout/styles/DefaultAxis.style.js","D2App/components/Layout/DefaultLayout/DefaultAxis.js","D2App/components/Layout/DefaultLayout/styles/DefaultLayout.style.js","D2App/components/Layout/DefaultLayout/DefaultLayout.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearAxis.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearAxis.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearSelect.style.js","D2App/components/Layout/YearOverYearLayout/YearOverYearSelect.js","D2App/components/Layout/YearOverYearLayout/styles/YearOverYearLayout.style.js","D2App/modules/yearOverYear.js","D2App/components/Layout/YearOverYearLayout/YearOverYearLayout.js","D2App/components/Layout/PieLayout/PieLayout.js","D2App/components/Layout/PivotTableLayout/styles/PivotTableLayout.style.js","D2App/components/Layout/PivotTableLayout/PivotTableLayout.js","D2App/components/Layout/Layout.js","D2App/modules/metadata.js","D2App/components/App.js","D2App/modules/theme.js","D2App/AppWrapper.js"],"names":["formatDate","value","uiLocale","global","Intl","DateTimeFormat","year","month","day","format","Date","substr","replace","module","exports","SYSTEM_SETTINGS","extractUserSettings","settings","displayNameProperty","keyAnalysisDisplayProperty","keyUiLocale","onError","error","console","log","apiFetchOrganisationUnitRoot","url","join","getInstance","then","d2","Api","getApi","get","organisationUnits","catch","apiFetchOrganisationUnitLevels","organisationUnitLevels","createHashHistory","D2Shim","children","initConfig","appConfig","useConfig","useState","params","setParams","useEffect","a","async","baseUrl","apiVersion","d2Init","getUserSettings","userSettings","d2Config","i18n","sources","add","ouLevels","location","history","initD2","ScreenCover","CircularLoader","SET_VISUALIZATION","CLEAR_VISUALIZATION","DEFAULT_VISUALIZATION","state","action","type","sGetVisualization","visualization","sGetInterpretations","interpretations","options","baseLineLabel","defaultValue","undefined","requestable","baseLineValue","cumulativeValues","domainAxisLabel","hideEmptyRowItems","hideLegend","noSpaceBetweenColumns","percentStackedValues","rangeAxisDecimals","rangeAxisLabel","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","regressionType","showData","targetLineLabel","targetLineValue","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","title","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","legendSet","legendDisplayStrategy","legendDisplayStyle","displayDensity","fontSize","digitGroupSeparator","reportingPeriod","organisationUnit","parentOrganisationUnit","grandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","computedOptions","baseLine","targetLine","axisRange","getOptionsForUi","Object","entries","reduce","map","option","props","isNotDefault","optionsFromVisualization","prop","Boolean","getOptionsFromVisualization","pick","keys","reportingParams","forEach","prototype","hasOwnProperty","call","String","ADD_TO_LAYOUT_OPTIONS","axisId","AXIS_ID_COLUMNS","name","t","AXIS_ID_ROWS","AXIS_ID_FILTERS","getFilteredLayout","layout","excludedIds","ids","Array","isArray","filter","dim","includes","getInverseLayout","id","getRetransfer","transfer","visType","inverseLayout","dimensionIds","retransfer","sourceAxis","destinationAxisId","dimensionsAtDestination","isAxisFull","length","transferableDimension","getTransferableDimension","getAvailableAxes","find","axis","getAxisMaxNumberOfDimensions","getFieldObject","fieldsByType","reportTable","chart","excluded","eventReport","reportTable_eventReport","chart_eventChart","eventReport_eventChart","reportTable_chart_eventReport","reportTable_eventReport_eventChart","reportTable_chart_eventReport_eventChart","extractName","propObj","markExcluded","fieldObj","moveExcludedToEnd","acc","current","curIndex","array","slice","charAt","push","shift","getAllFieldObjectsByType","fields","key","concat","defaultLayoutAdapter","columns","rows","pieLayoutAdapter","yearOverYearLayoutAdapter","DIMENSION_ID_PERIOD","singleValueLayoutAdapter","DIMENSION_ID_DATA","isOuLevelIntId","ouIdHelper","hasLevelPrefix","Number","isInteger","parseInt","removePrefix","convertOuLevelsToUids","ouDimension","layoutGetDimension","DIMENSION_ID_ORGUNIT","dimensionGetItems","some","item","replaceNumericOuLevel","ouIntId","ouUid","l","level","assign","addLevelPrefix","replaceNumericOuLevelWithUid","updatedOuItems","layoutReplaceDimension","removeLastPathSegment","path","match","lastIndexOf","getOuPath","metadata","parentGraphMap","SET_UI","SET_UI_FROM_VISUALIZATION","SET_UI_TYPE","SET_UI_OPTIONS","SET_UI_LAYOUT","ADD_UI_LAYOUT_DIMENSIONS","REMOVE_UI_LAYOUT_DIMENSIONS","SET_UI_ITEMS","ADD_UI_ITEMS","REMOVE_UI_ITEMS","SET_UI_PARENT_GRAPH_MAP","ADD_UI_PARENT_GRAPH_MAP","SET_UI_ACTIVE_MODAL_DIALOG","SET_UI_YEAR_ON_YEAR_SERIES","SET_UI_YEAR_ON_YEAR_CATEGORY","CLEAR_UI","TOGGLE_UI_RIGHT_SIDEBAR_OPEN","SET_UI_RIGHT_SIDEBAR_OPEN","SET_UI_INTERPRETATION","CLEAR_UI_INTERPRETATION","SET_AXES","DEFAULT_UI","VIS_TYPE_COLUMN","filters","itemsByDimension","yearOverYearSeries","yearOverYearCategory","activeModalDialog","rightSidebarOpen","interpretation","axes","getAdaptedUiByType","getUiFromVisualization","transfers","newLayout","dimensionId","index","canDimensionBeAddedToAxis","splice","itemIds","currentItemIds","dxItems","Set","itemIdsToRemove","castArray","rootOrganisationUnit","relativePeriod","sGetUi","ui","sGetUiType","sGetUiOptions","sGetUiLayout","sGetUiItems","sGetUiYearOverYearSeries","sGetUiYearOverYearCategory","sGetUiParentGraphMap","sGetUiActiveModalDialog","sGetUiRightSidebarOpen","sGetUiInterpretation","sGetAxes","getAxisIdByDimensionId","sGetUiItemsByDimension","dimension","sGetDimensionIdsFromLayout","values","axisDimensionIds","sLayoutHasDimension","sLayoutHasAssignedCategories","DIMENSION_ID_ASSIGNED_CATEGORIES","sGetAxisSetup","items","getIdAxisMap","optionalAxes","vis","currentState","defaultVisType","layoutGetAxisIdDimensionIdsObject","layoutGetDimensionIdItemIdsObject","getParentGraphMapFromVisualization","isYearOverYear","VIS_TYPE_YEAR_OVER_YEAR_LINE","VIS_TYPE_YEAR_OVER_YEAR_COLUMN","yearOverYearUiAdapter","VIS_TYPE_PIE","pieUiAdapter","VIS_TYPE_SINGLE_VALUE","VIS_TYPE_GAUGE","singleValueUiAdapter","VIS_TYPE_PIVOT_TABLE","defaultUiAdapter","dimensionIdsByAxis","ouAxis","orgUnit","getAxesFromUi","object","getPredefinedDimensionProp","DIMENSION_PROP_NO_ITEMS","dimensionCreate","getOptionsFromUi","optionsFromUi","getOptionalAxesFromUi","destinationMap","sourceMap","propName","arr","getSingleValueCurrentFromUi","axesFromUi","layoutGetDimensionItems","singleValueAxesFromUi","getPieCurrentFromUi","getYearOverYearCurrentFromUi","dxItem","f","SET_CURRENT","SET_CURRENT_FROM_UI","CLEAR_CURRENT","DEFAULT_CURRENT","getDefaultFromUi","sGetCurrent","sGetCurrentFromUi","SET_DIMENSIONS","SET_SELECTED_DIMENSION","DEFAULT_DIMENSIONS","getPredefinedDimensions","sGetDimensions","dimensions","SET_RECOMMENDED_IDS","DEFAULT_RECOMMENDED_IDS","sGetRecommendedIds","recommendedIds","DEFAULT_METADATA","sGetMetadata","SET_SETTINGS","ADD_SETTINGS","DEFAULT_SETTINGS","keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator","sGetSettings","sGetSettingsDisplayNameProperty","sGetRootOrgUnit","sGetRelativePeriod","sGetUiLocale","DEFAULT_USER","username","isSuperuser","fromD2ToUserObj","d2Object","authorities","has","NAME","DIMENSION_ITEM","LEGEND_SET","USER","ITEMS","AXIS","nestedFields","user","extendFields","field","visualizationQuery","resource","sort","visualizationsQuery","visualizationIds","apiFetchVisualization","dataEngine","query","variables","apiSaveVisualization","mutation","data","skipTranslations","skipSharing","mutate","acSetVisualization","acClear","acSetCurrent","acSetCurrentFromUi","tSetCurrentFromUi","dispatch","getState","acSetDimensions","keyBy","sortBy","d","toLowerCase","tSetDimensions","onSuccess","displayNameProp","apiFetchDimensions","acSetUi","acSetUiFromVisualization","acSetUiType","acSetUiOptions","acSetUiLayout","acAddUiLayoutDimensions","acRemoveUiLayoutDimensions","acSetUiItems","acAddUiItems","acRemoveUiItems","acSetUiYearOverYearSeries","acSetUiYearOverYearCategory","acAddParentGraphMap","acSetParentGraphMap","acSetUiActiveModalDialog","acToggleUiRightSidebarOpen","acSetUiRightSidebarOpen","acSetUiInterpretation","acClearUiInterpretation","acSetAxes","acAddMetadata","apiFetchSystemSettings","s","acSetSettings","acAddSettings","tAddSettings","extraSettings","fetchedSettings","systemSettings","acReceivedUser","sGetChart","acReceivedSnackbarMessage","RECEIVED_SNACKBAR_MESSAGE","acCloseSnackbar","CLOSE_SNACKBAR","DEFAULT_LOADING","isLoading","loadingError","isPluginLoading","sGetLoadError","loader","sGetIsPluginLoading","acSetLoadError","acClearLoadError","acSetPluginLoading","apiPostDataStatistics","api","post","tDoLoadVisualization","interpretationId","engine","response","fromLoader","i","fromUi","fromVisualization","fromCurrent","message","clearVisualization","container","display","alignItems","icon","marginRight","closeIcon","marginLeft","width","height","cursor","warning","backgroundColor","colors","yellow500","color","black","red500","white","connect","sGetSnackbar","variant","duration","open","onClose","fromSnackbar","setTimeout","withStyles","styles","classes","autoHideDuration","className","onClick","DEFAULT_SNACKBAR","snackbar","combineReducers","sGetAxisSetupItems","obj","fromMetadata","configureStore","middleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","next","DndContext","rearrangeLayoutDimensions","sourceAxisId","sourceIndex","destinationIndex","sourceList","from","moved","onReorderDimensions","onAddDimensions","addDimensionToLayout","onDropWithoutItems","onDragEnd","result","source","destination","draggableId","droppableId","this","Component","UpdateButton","Button","data-test","primary","arrowIcon","menuAnchorOrigin","vertical","horizontal","submenuAnchorOrigin","apiDownloadImage","formData","fetch","method","body","headers","Headers","defaultHeaders","res","blob","addCommonParameters","req","withSkipRounding","withAggregationType","displayProperty","withDisplayProperty","relativePeriodDate","withRelativePeriodDate","apiDownloadTable","analytics","request","fromModel","withFormat","withTableLayout","withRows","withColumns","withHideEmptyColumns","withHideEmptyRows","withShowHierarchy","URL","buildUrl","origin","pathname","buildQuery","searchParams","append","apiDownloadData","idScheme","withHierarchyMeta","withMeasureCriteria","withPath","withOutputIdScheme","DownloadMenu","toggleMenu","target","setState","anchorEl","toggleSubmenu","dataType","payload","downloadImage","URLSearchParams","createObjectURL","downloadData","downloadTable","graphicsMenuSection","component","tableMenuSection","schemeSubmenu","advancedSubmenu","event","currentTarget","disableRipple","disableFocusRipple","disabled","anchorOrigin","getContentAnchorEl","style","relativePeriodDateSelector","createSelector","created","theme","spacing","unit","marginTop","size","HideButton","secondary","EmptyBox","xmlns","fill","fillRule","PeriodError","DataError","EmptySeries","EmptyCategory","GenericError","viewBox","transform","VisualizationError","description","EmptyResponseError","NoSeriesError","NoCategoryError","NoPeriodError","getDisplayNameByVisType","getAvailableAxesDescription","NoDataError","lockedAxis","getAxisPerLockedDimension","getAxisName","GenericClientError","GenericServerError","AssignedCategoriesDataElementsError","AssignedCategoriesAsFilterError","axesDescription","validateDimension","dimensionIsValid","requireItems","validateAxis","isValid","axisItem","isAxisValid","validateLayout","validatePieLayout","validateYearOverYearLayout","validateSingleValueLayout","validateDefaultLayout","CURRENT_AO_KEY","hasNamespace","currentUser","dataStore","getNamespace","create","apiSave","namespace","ns","set","apiFetch","apiSaveAOInUserDataStore","apiFetchAOFromUserDataStore","mapDispatchToProps","getCurrent","getCurrentFromUi","onUpdate","fromActions","onLoadingStart","renderComponent","urlContainsCurrentAOKey","pathWithoutInterpretation","tabBar","tabSection","spacers","dp16","grey300","dp8","tabSectionTitle","dp12","grey900","tabSectionOption","tabSectionOptionItem","tabSectionOptionText","dp14","tabSectionOptionToggleable","dp4","tabSectionOptionComplexInline","ownProps","onChange","label","helpText","toggleable","enabled","setEnabled","selected","Checkbox","checked","onToggle","dense","SingleSelectField","inputWidth","SingleSelectOption","AggregationType","ShowDimensionLabels","SkipRounding","ColTotals","ColSubTotals","RowTotals","RowSubTotals","HideEmptyColumns","HideEmptyRows","NumberType","RadioGroupField","Radio","LegendDisplayStyle","LegendDisplayStrategy","LegendSelect","loading","onFocus","displayName","placeholder","loadingText","LegendSetup","useDataEngine","setOptions","isLoaded","setIsLoaded","legendSets","paging","legendSetOptions","legendSetEnabled","setLegendSetEnabled","FieldSet","Legend","inline","Constrictor","Input","InputField","Title","defaultProps","DisplayDensity","FontSize","DigitGroupSeparator","OperatorSelect","SingleSelect","tabIndex","inputMaxWidth","ValueInput","MeasureCriteria","onClear","defaultState","op1","v1","op2","v2","split","Label","paddingTop","ParamReportingPeriod","ParamOrganisationUnit","ParamParentOrganisationUnit","Regression","Cumulative","SortOrder","TopLimit","content","React","Children","toArray","CumulativeValues","ShowData","HideEmptyRowItems","RegressionType","TargetLineValue","TargetLineLabel","BaseLineValue","BaseLineLabel","RangeAxisMinValue","RangeAxisMaxValue","AxisRange","Help","RangeAxisSteps","RangeAxisDecimals","RangeAxisLabel","DomainAxisLabel","NoSpaceBetweenColumns","HideLegend","HideTitle","visualizationType","RadioGroup","hideTitleSelector","uiOptions","Subtitle","HideSubtitle","PercentStackedValues","VisualizationOptions","activeTabKey","selectTab","tabKey","generateTabContent","sections","generateTabs","tabs","optionsConfig","VIS_TYPE_BAR","columnConfig","VIS_TYPE_STACKED_COLUMN","VIS_TYPE_STACKED_BAR","stackedColumnConfig","VIS_TYPE_LINE","VIS_TYPE_RADAR","lineConfig","VIS_TYPE_AREA","areaConfig","pieConfig","pivotTableConfig","getOptionsByType","activeTabIndex","findIndex","tab","TabBar","Tab","VisualizationOptionsManager","toggleVisualizationOptionsDialog","dialogIsOpen","getPrimaryOnClick","handler","Modal","large","ModalTitle","ModalContent","ModalActions","ButtonStrip","onOpen","onNew","getOnRename","details","onRenameVisualization","getOnSave","onSaveVisualization","getOnSaveAs","getOnDelete","onDeleteVisualization","getOnError","MenuBar","context","menuBar","updateButton","small","fileId","fileType","apiObjectName","onRename","onSave","onSaveAs","onDelete","grow","contextTypes","PropTypes","updatedVisualization","updatedCurrent","copy","status","uid","what","httpStatusCode","parseError","background","padding","fontWeight","textTransform","flex","InterpretationIcon","version","stroke","strokeWidth","x","y","opacity","rx","strokeLinecap","strokeLinejoin","points","titleBar","justifyContent","cell","borderRadius","margin","suffix","paddingLeft","grey700","interpretationIcon","titleUnsaved","grey500","fontStyle","titleDirty","TITLE_UNSAVED","TITLE_DIRTY","defaultTitleStyle","defaultInterpretationStyle","getTitleText","titleState","stateProps","dispatchProps","getTitleState","titleText","interpretationDate","titleStyle","getCustomTitleStyle","getSuffix","getPathForOrgUnit","prepareCurrentAnalyticalObject","appendCompleteParentGraphMap","appendPathsToOrgUnits","appendNames","appendDimensionItemNamesToAnalyticalObject","removeUnnecessaryAttributesFromAnalyticalObject","ColumnIcon","paddingRight","StackedColumnIcon","BarIcon","StackedBarIcon","PieIcon","cx","cy","r","strokeDasharray","mask","GaugeIcon","LineIcon","AreaIcon","RadarIcon","YearOverYearLineIcon","YearOverYearColumnIcon","SingleValueIcon","GlobeIcon","xlinkHref","PivotTableIcon","MenuItemIcon","iconType","VisualizationTypeMenuItem","isSelected","menuItem","listItemIcon","listItemSvg","disableTypography","listItemText","button","dropDownArrow","menu","maxWidth","menuDivider","border","borderBottom","borderColor","flexDirection","float","marginBottom","whiteSpace","textAlign","clearFix","clear","VisualizationTypeSelector","handleButtonClick","handleMenuItemClick","setUi","handleClose","handleOpenAsMapClick","currentAnalyticalObject","href","getVisTypes","visTypeDisplayNames","fullWidth","MenuListProps","string","arrowDown","minWidth","DropDown","menuItems","menuWidth","addToButtonRef","offsetWidth","isOverFlowing","getBoundingClientRect","bottom","innerHeight","transformOrigin","menuList","AddToLayoutButton","onAddDimension","dialogId","getAxisMeta","axisIdArray","axisMetaObj","renderMenuItems","buttonRef","createRef","availableAxisMeta","ref","addToRef","flexWrap","DialogManager","onMounted","componentDidUpdate","prevProps","isEqual","dxIds","ouIds","fetchRecommended","ouMounted","debounce","apiFetchRecommendedIds","setRecommendedIds","selectUiItems","setUiItems","forMetadata","forParentGraphMap","ou","addMetadata","addParentGraphMap","closeDialog","getSelectedItems","selectedItems","getOrgUnitsFromIds","renderPersistedContent","dimensionProps","ouItems","renderDialogContent","removeUiItems","onSelect","onDeselect","onReorder","infoBoxMessage","numberOfItems","axisMaxNumberOfItems","getAxisMaxNumberOfItems","visualiationType","maxNumber","isActive","selectedDimensions","selectedPeriods","filterOutPredefinedDimensions","dialogTitle","dynamicContent","renderPrimaryButton","dimensionIdsInLayout","keepMounted","disableEnforceFocus","addUiItems","DndDimensionItem","render","isLocked","isDeactivated","isRecommended","onOptionsClick","itemCommonProps","isDragDisabled","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","dragging","notDragging","dimensionItemClone","DndDimensionList","dndIndex","nameContainsFilterText","filterText","selectedIds","isDisabledDimension","disallowedDimensions","isLockedDimension","lockedDimensions","isRecommendedDimension","renderItem","itemProps","onDimensionClick","onDimensionOptionsClick","getDimensionItemsByFilter","fixedDimensions","getFixedDimensions","fixedDim","dynamicDimensions","getDynamicDimensions","dynDim","nonPredefinedDimensions","predefDim","isDropDisabled","droppableProps","wrapper","section","header","list","getDisallowedDimensionsMemo","fromReducers","getDisallowedDimensions","getisLockedDimensionsMemo","getAllLockedDimensionIds","DndDimensionsPanel","onClearFilter","onFilterTextChange","grey400","text","disableUnderline","divContainer","grey050","tableContainer","nameColumn","axisColumn","coloredColumn","grey100","tableCell","head","axisRadio","dialogContent","lineHeight","dialogActions","AxisSetup","setItems","itemsMap","onAxisChange","getAxes","oldItems","newItems","align","isOpen","dialogMaxWidth","onCancelClick","renderTable","onUpdateClick","Function","Dimensions","dimensionMenuAnchorEl","openOptionsMenuForDimension","stopPropagation","closeOptionsMenuForDimension","getNumberOfDimensionItems","currentAxisId","getCurrentAxisId","numberOfDimensionItems","dualAxisItemHandler","isAssignedCategoriesInLayout","layoutHasAssignedCategories","assignedCategoriesItemHandler","axisItemHandler","removeItemHandler","position","Interpretations","onInterpretationChange","interpretationUrl","currentInterpretationId","onCurrentInterpretationChange","chartCanvas","loadingCover","left","top","zIndex","apiFetchAnalytics","rawResponse","apiFetchAnalyticsForYearOverYear","yearlySeriesReq","yearlySeriesRes","requests","yearlySeriesLabels","now","currentDay","currentMonth","period","startDate","Promise","responses","paramReportingPeriod","paramOrganisationUnit","paramParentOrganisationUnit","paramGrandParentOrganisationUnit","getOptionsForRequest","entry","computeGenericPeriodNames","out","genericPeriodNames","ChartPlugin","ouPath","forDashboard","onResponsesReceived","onChartGenerated","onLoadingComplete","extraOptions","dashboard","noData","animation","visualizationConfig","createVisualization","isSingleValue","sourceHeight","sourceWidth","config","func","PivotPlugin","setVisualization","setData","getRequestOptions","outer","inner","dp24","boxSizing","errorContainer","errorIcon","errorTitle","grey800","letterSpacing","errorDescription","guide","listStylePosition","guideItem","textDecoration","visIcon","apiFetchMostViewedVisualizations","pageSize","eventType","mostViewedVisualizations","setMostViewedVisualizations","mostViewedVisualizationsResult","visualizations","visualizationsResult","visualizationsWithType","visWithType","populateMostViewedVisualizations","getErrorContent","visTypeIcons","progress","alignSelf","Visualization","errorCode","setLoadError","svg","setChart","metaData","getNewRenderId","renderId","addResizeHandler","addEventListener","visConfig","visFilters","LoadingMask","visConfigSelector","visFiltersSelector","MoreHorizontalIcon","ChipMenu","handleClick","getMenuId","Fragment","aria-owns","aria-haspopup","tooltip","fontFamily","boxShadow","listStyleType","overflow","textOverflow","iconWrapper","warningLabel","labels","noneSelected","onlyOneInUse","onlyLimitedNumberInUse","number","Tooltip","getWarningLabel","displayLimitedAmount","getItemDisplayNames","renderWarningLabel","renderItems","itemDisplayNames","renderLockedLabel","lockedLabel","renderNoItemsLabel","hasNoItemsLabel","placement","setDataTransfer","e","dataTransfer","JSON","stringify","dataset","dimensionid","DynamicDimensionIcon","AXIS_BORDER_COLOR","AXIS_BACKGROUND_COLOR","baseChip","minHeight","userSelect","chipWrapper","secondary200","chip","chipEmpty","fixedDimensionIcon","warningIcon","warningIconWrapper","lockIcon","lockIconWrapper","chipLeft","borderTopRightRadius","borderBottomRightRadius","chipRight","borderTopLeftRadius","borderBottomLeftRadius","LockIconWrapper","WarningIconWrapper","Chip","tooltipOpen","Math","random","toString","timeout","isDimensionLocked","getMaxNumberOfItems","handleMouseOver","handleMouseOut","clearTimeout","getOpenHandler","getDragStartHandler","getAnchorEl","document","getElementById","getWrapperStyles","renderChipLabelSuffix","getItemsLabel","total","renderChipIcon","Icon","dynamicDimensionIcon","renderMenu","renderTooltip","activeItemIds","dimensionName","axisName","visTypeName","data-dimensionid","draggable","onDragStart","onMouseOver","onMouseOut","hasAxisTooManyItems","axisContainer","layoutStyle","borderStyle","borderWidth","axisContainerLeft","borderLeftWidth","alignContent","Axis","onDragOver","preventDefault","direction","ct","axisGroup","axisGroupLeft","flexBasis","axisGroupRight","Layout","DefaultAxis","defaultAxisStyles","YearOverYearAxisStyles","displayProps","YearOverYearSelect","handleOpen","multiple","SelectDisplayProps","seriesOptions","len","getFullYear","getFixedYears","categoryOptions","defaultLayoutStyles","YearOverYearLayoutStyles","onSeriesChange","onCategoryChange","pivotTableLayoutStyles","componentMap","LAYOUT_TYPE_DEFAULT","DefaultLayout","LAYOUT_TYPE_PIE","PieLayout","LAYOUT_TYPE_YEAR_OVER_YEAR","YearOverYearLayout","LAYOUT_TYPE_PIVOT_TABLE","PivotTableLayout","layoutType","getLayoutTypeByVisType","LayoutComponent","relativePeriods","TODAY","YESTERDAY","LAST_3_DAYS","LAST_7_DAYS","LAST_14_DAYS","THIS_WEEK","LAST_WEEK","LAST_4_WEEKS","LAST_12_WEEKS","LAST_52_WEEKS","WEEKS_THIS_YEAR","THIS_MONTH","LAST_MONTH","LAST_3_MONTHS","LAST_6_MONTHS","LAST_12_MONTHS","MONTHS_THIS_YEAR","THIS_BIMONTH","LAST_BIMONTH","LAST_6_BIMONTHS","BIMONTHS_THIS_YEAR","THIS_QUARTER","LAST_QUARTER","LAST_4_QUARTERS","QUARTERS_THIS_YEAR","THIS_SIX_MONTH","LAST_SIX_MONTH","LAST_2_SIXMONTHS","THIS_FINANCIAL_YEAR","LAST_FINANCIAL_YEAR","LAST_5_FINANCIAL_YEARS","THIS_YEAR","LAST_YEAR","LAST_5_YEARS","USER_ORGUNIT","USER_ORGUNIT_CHILDREN","USER_ORGUNIT_GRANDCHILDREN","App","unlisten","previousLocation","initialLoadIsComplete","refetch","loadVisualization","store","pathParts","AO","setUiFromVisualization","setCurrentFromUi","componentDidMount","rootOrgUnit","defaultMetadata","listen","ctrlKey","DimensionsPanel","CssVariables","childContextTypes","dhis2theme","createMuiTheme","AppWrapper","thunk","withExtraArgument","metadataMiddleware","Cypress","muiTheme","schemas"],"mappings":"gIAAA,YAkBeA,IAZI,WAAkC,IAAjCC,EAAgC,uDAAxB,GAAIC,EAAoB,uDAAT,KACzC,MAA2B,qBAAhBC,EAAOC,MAAwBA,KAAKC,eACtC,IAAID,KAAKC,eAAeH,EAAU,CACvCI,KAAM,UACNC,MAAO,QACPC,IAAK,YACJC,OAAO,IAAIC,KAAKT,IAGdA,EAAMU,OAAO,EAAG,IAAIC,QAAQ,IAAK,Q,wCCd1CC,EAAOC,QAAU,CAAC,YAAc,sCAAsC,SAAW,qC,qBCAjFD,EAAOC,QAAU,CAAC,UAAY,oCAAoC,QAAU,kCAAkC,KAAO,+BAA+B,OAAS,iCAAiC,QAAU,oC,qBCAxMD,EAAOC,QAAU,CAAC,UAAY,wC,2sLCDjBC,EAAkB,CAAC,gBAAiB,4BAA6B,kCACjEC,EAAsB,SAAAC,GAEjC,MAAO,CACLC,oBAAkC,SAFnBD,EAASE,2BAEmB,cAAgB,mBAC3DjB,SAAUe,EAASG,cCJVC,EAAU,SAAAC,GAAK,OAAIC,QAAQC,IAAI,UAAWF,ICC1CG,EAA+B,WAC1C,IAEMC,EAAG,UAFQ,qBAER,0DADM,CAAC,KAAM,cAAe,QAC2CC,KAAK,MACrF,OAAOC,wBAAcC,MAAK,SAAAC,GAAE,OAAIA,EAAGC,IAAIC,SAASC,IAAIP,MAAMG,MAAK,qBAC7DK,kBACsB,MAAIC,MAAMd,IAOvBe,EAAiC,WAC5C,IAEMV,EAAG,UAFQ,0BAER,gCADM,CAAC,KAAM,OAAQ,cAAe,SACSC,KAAK,MAC3D,OAAOC,wBAAcC,MAAK,SAAAC,GAAE,OAAIA,EAAGC,IAAIC,SAASC,IAAIP,MAAMG,MAAK,qBAC7DQ,0BAC4BF,MAAMd,I,UCpBvBiB,gB,iBCsCFC,EAAS,SAAC,GAGhB,IAFLC,EAEI,EAFJA,SACGC,EACC,4BACEC,EAAYC,cADd,EAEwBC,mBAAS,MAFjC,mBAEGC,EAFH,KAEWC,EAFX,KAQJ,OALAC,qBAAU,YAzBG,WAGZN,GAHY,uBAAAO,EAAAC,OAAA,uDACbC,EADa,EACbA,QACAC,EAFa,EAEbA,WAFa,WAAAH,EAAA,MAIII,eAAO,eAAKX,EAAN,CACrBS,QAAQ,GAAD,OAAKA,EAAL,gBAAoBC,OALhB,cAIPrB,EAJO,YAOQd,EAPR,WAAAgC,EAAA,MAOmCK,6BAPnC,0BAOPC,GAPO,0BAAAN,EAAA,MAVI,EAAAA,EAAAC,OAAA,gDAOjBM,SAASC,KAAKC,QAAQC,IAAI,wCAPT,sCAUJ,2BAAAV,EAAA,MASUZ,KATV,eASPuB,EATO,yBAUN,CACLC,SAAUC,EAAQD,SAClBV,UACApB,KACAwB,eACAK,aAfW,uCA0BXG,CAAOpB,EAAWD,GAAYZ,KAAKiB,KAClC,IAGED,EAMEL,EAASK,GALP,kBAACkB,EAAA,EAAD,KACK,kBAACC,EAAA,EAAD,Q,kBCpDHC,G,OAAoB,qBACpBC,EAAsB,sBACtBC,EAAwB,KACrB,aAA4C,IAA3CC,EAA0C,uDAAlCD,EAAuBE,EAAW,uCACzD,OAAQA,EAAOC,MACb,KAAKL,EAED,OAAOI,EAAOpE,MAGlB,KAAKiE,EAED,OAAOC,EAGX,QACE,OAAOC,IAIAG,EAAoB,SAAAH,GAAK,OAAIA,EAAMI,eACnCC,EAAsB,SAAAL,GAAK,OAAIA,EAAMI,cAAgBJ,EAAMI,cAAcE,gBAAkB,I,0BCpB3FC,EAAU,CACrBC,cAAe,CACbC,kBAAcC,EACdC,aAAa,GAEfC,cAAe,CACbH,kBAAcC,EACdC,aAAa,GAGfE,iBAAkB,CAChBJ,cAAc,EACdE,aAAa,GAEfG,gBAAiB,CACfL,kBAAcC,EACdC,aAAa,GAEfI,kBAAmB,CACjBN,aAAc,OACdE,aAAa,GAEfK,WAAY,CACVP,cAAc,EACdE,aAAa,GAEfM,sBAAuB,CACrBR,cAAc,EACdE,aAAa,GAEfO,qBAAsB,CACpBT,cAAc,EACdE,aAAa,GAEfQ,kBAAmB,CACjBV,kBAAcC,EACdC,aAAa,GAEfS,eAAgB,CACdX,kBAAcC,EACdC,aAAa,GAEfU,kBAAmB,CACjBZ,kBAAcC,EACdC,aAAa,GAEfW,kBAAmB,CACjBb,kBAAcC,EACdC,aAAa,GAEfY,eAAgB,CACdd,kBAAcC,EACdC,aAAa,GAEfa,eAAgB,CACdf,aAAc,OACdE,aAAa,GAEfc,SAAU,CACRhB,cAAc,EACdE,aAAa,GAEfe,gBAAiB,CACfjB,kBAAcC,EACdC,aAAa,GAEfgB,gBAAiB,CACflB,kBAAcC,EACdC,aAAa,GAEfiB,gBAAiB,CACfnB,aAAc,UACdE,aAAa,GAEfkB,cAAe,CACbpB,cAAc,EACdE,aAAa,GAEfmB,aAAc,CACZrB,cAAc,EACdE,aAAa,GAEfoB,UAAW,CACTtB,cAAc,EACdE,aAAa,GAEfqB,UAAW,CACTvB,aAAc,IACdE,aAAa,GAEfsB,SAAU,CACRxB,kBAAcC,EACdC,aAAa,GAEfuB,MAAO,CACLzB,kBAAcC,EACdC,aAAa,GAGfwB,UAAW,CACT1B,cAAc,EACdE,aAAa,GAEfyB,aAAc,CACZ3B,cAAc,EACdE,aAAa,GAEf0B,UAAW,CACT5B,cAAc,EACdE,aAAa,GAEf2B,aAAc,CACZ7B,cAAc,EACdE,aAAa,GAEf4B,oBAAqB,CACnB9B,cAAc,EACdE,aAAa,GAEf6B,iBAAkB,CAChB/B,cAAc,EACdE,aAAa,GAEf8B,cAAe,CACbhC,cAAc,EACdE,aAAa,GAEf+B,aAAc,CACZjC,cAAc,EACdE,aAAa,GAEfgC,WAAY,CACVlC,aAAc,QACdE,aAAa,GAEfiC,cAAe,CACbnC,cAAc,EACdE,aAAa,GAEfkC,UAAW,CACTpC,kBAAcC,EACdC,aAAa,GAEfmC,sBAAuB,CACrBrC,kBAAcC,EACdC,aAAa,GAEfoC,mBAAoB,CAClBtC,aAAc,OACdE,aAAa,GAEfqC,eAAgB,CACdvC,aAAc,SACdE,aAAa,GAEfsC,SAAU,CACRxC,aAAc,SACdE,aAAa,GAEfuC,oBAAqB,CACnBzC,aAAc,QACdE,aAAa,GAGfwC,gBAAiB,CACf1C,cAAc,EACdE,aAAa,GAEfyC,iBAAkB,CAChB3C,cAAc,EACdE,aAAa,GAEf0C,uBAAwB,CACtB5C,cAAc,EACdE,aAAa,GAGf2C,4BAA6B,CAC3B7C,cAAc,EACdE,aAAa,GAEf4C,WAAY,CACV9C,cAAc,EACdE,aAAa,GAEf6C,WAAY,CACV/C,cAAc,EACdE,aAAa,GAEf8C,gBAAiB,CACfhD,kBAAcC,EACdC,aAAa,GAEf+C,SAAU,CACRjD,aAAc,IACdE,aAAa,IAGJgD,EAAkB,CAC7BC,SAAU,CACRnD,cAAc,EACdE,aAAa,GAEfkD,WAAY,CACVpD,cAAc,EACdE,aAAa,GAEfmD,UAAW,CACTrD,kBAAcC,EACdC,aAAa,IAGFJ,IACFwD,EAAkB,WAC7B,OAAOC,OAAOC,QAAPD,OAAA,IAAAA,CAAA,GAAoBzD,EAApB,GACFoD,IACFO,QAAO,SAACC,EAAD,GAA2B,IAAD,mBAAnBC,EAAmB,KAAXC,EAAW,KAElC,OADAF,EAAIC,GAAUC,EAAM5D,aACb0D,IACN,KAOCG,GAAe,SAACC,EAA0BC,GAC9C,OAAOC,QAAQF,EAAyBC,IAASD,EAAyBC,KAAUjE,EAAQiE,GAAM/D,eAGvFiE,GAA8B,SAAAtE,GACzC,IAAMmE,EAAwB,eAAQR,IAAR,GACzBY,YAAKvE,EAAe4D,OAAOY,KAAKrE,KAmBrC,OAjBAgE,EAAyBX,SAAWU,GAAaC,EAA0B,kBAAoBD,GAAaC,EAA0B,iBACtIA,EAAyBV,WAAaS,GAAaC,EAA0B,oBAAsBD,GAAaC,EAA0B,mBAEtInE,EAAcyE,kBAChBN,EAAyBnB,iBAAmBhD,EAAcyE,gBAAgBzB,iBAC1EmB,EAAyBpB,gBAAkB/C,EAAcyE,gBAAgB1B,gBACzEoB,EAAyBlB,uBAAyBjD,EAAcyE,gBAAgBxB,uBAChFkB,EAAyBjB,4BAA8BlD,EAAcyE,gBAAgBvB,6BAKvF,CAAC,YAAa,YAAYwB,SAAQ,SAAAV,GAC5BJ,OAAOe,UAAUC,eAAeC,KAAK7E,EAAegE,KACtDG,EAAyBH,GAAUc,OAAO9E,EAAcgE,QAGrDG,G,mBCvPIY,GAAwB,CAAC,CACpCC,OAAQC,kBACRC,KAAMlG,KAAKmG,EAAE,kBACZ,CACDH,OAAQI,eACRF,KAAMlG,KAAKmG,EAAE,oBACZ,CACDH,OAAQK,kBACRH,KAAMlG,KAAKmG,EAAE,mBASFG,IANFtG,KAAKmG,EAAE,UACVnG,KAAKmG,EAAE,YACJnG,KAAKmG,EAAE,UAIe,SAACI,EAAQC,GAAiB,IAAD,EAClDC,EAAMC,MAAMC,QAAQH,GAAeA,EAAc,CAACA,GACxD,OAAO,EAAP,iBACGP,kBAAkBM,EAAON,mBAAiBW,QAAO,SAAAC,GAAG,OAAKJ,EAAIK,SAASD,OADzE,cAEGT,eAAeG,EAAOH,gBAAcQ,QAAO,SAAAC,GAAG,OAAKJ,EAAIK,SAASD,OAFnE,cAGGR,kBAAkBE,EAAOF,mBAAiBO,QAAO,SAAAC,GAAG,OAAKJ,EAAIK,SAASD,OAHzE,IAQWE,GAAmB,SAAAR,GAC9B,IAAM1B,EAAUD,OAAOC,QAAQ0B,GACzBxB,EAAM,GAMZ,OALAF,EAAQa,SAAQ,YAA6B,IAAD,mBAA1BM,EAA0B,UAC7BN,SAAQ,SAAAsB,GACnBjC,EAAIiC,GAAMhB,QAGPjB,GAIIkC,GAAgB,SAACV,EAAQW,EAAUC,GAC9C,IAAMC,EAAgBL,GAAiBR,GACjCc,EAAezC,OAAOY,KAAK0B,GAC3BI,EAAa,GAiBnB,OAhBAD,EAAa3B,SAAQ,SAAAsB,GACnB,IAAMO,EAAaH,EAAcJ,IAAO,KAClCQ,EAAoBN,EAASF,GAAIhB,OACjCyB,EAA0BlB,EAAOiB,IAAsB,GAE7D,GAAIE,qBAAWP,EAASK,EAAmBC,EAAwBE,QAAS,CAC1E,IAAMC,EAAwBC,mCAAyBV,EAASK,EAAmBjB,EAAOiB,IAE1F,GAAII,EAAuB,CACzB,IAAM5B,EAASuB,GAA0BO,2BAAiBX,GAASY,MAAK,SAAAC,GAAI,OAAKC,uCAA6Bd,EAASa,MACvHV,EAAWM,GAAyB,CAClC5B,eAKDsB,GC5DHY,GAAiB,SAAChC,GAAD,IAAOjB,EAAP,uDAAe,GAAf,mBAAC,eAJO,OAKViB,GAChBjB,IAIQkD,GAAe,CAC1BC,YAAa,CAACF,GAAe,aAAc,CACzClD,QAAQ,IACNkD,GAAe,mBAAoB,CACrClD,QAAQ,IACNkD,GAAe,qBAAsB,CACvClD,QAAQ,IACNkD,GAAe,kBAAmB,CACpClD,QAAQ,IACNkD,GAAe,aAAc,CAC/BlD,QAAQ,IACNkD,GAAe,aAAc,CAC/BlD,QAAQ,IACNkD,GAAe,kBAAmB,CACpClD,QAAQ,IACNkD,GAAe,eAAgB,CACjClD,QAAQ,KAEVqD,MAAO,CAACH,GAAe,WAAY,CACjCI,UAAU,IACRJ,GAAe,SAAU,CAC3BI,UAAU,IACRJ,GA9BkC,iBA+BtCK,YAAa,CAACL,GAAe,aAC7BM,wBAAyB,CAACN,GAAe,eAAgB,CACvDlD,QAAQ,IACNkD,GAAe,YAAa,CAC9BlD,QAAQ,IACNkD,GAAe,iBAAkB,CACnClD,QAAQ,IACNkD,GAAe,WAAY,CAC7BlD,QAAQ,IACNkD,GAAe,gBAAiB,CAClClD,QAAQ,IACNkD,GAAe,eAAgB,CACjClD,QAAQ,IACNkD,GAAe,YAAa,CAC9BlD,QAAQ,IACNkD,GAAe,sBAAuB,CACxClD,QAAQ,IACNkD,GAAe,gBAAiB,CAClClD,QAAQ,KAEVyD,iBAAkB,CAACP,GAAe,gBAAiB,CACjDlD,QAAQ,IACNkD,GAAe,gBAAiB,CAClClD,QAAQ,IACNkD,GAAe,WAAY,CAC7BlD,QAAQ,IACNkD,GAAe,mBAAoB,CACrClD,QAAQ,IACNkD,GAAe,kBAAmB,CACpClD,QAAQ,IACNkD,GAAe,oBAAqB,CACtClD,QAAQ,IACNkD,GAAe,aAAc,CAC/BlD,QAAQ,IACNkD,GAAe,wBAAyB,CAC1ClD,QAAQ,IACNkD,GAAe,uBAAwB,CACzClD,QAAQ,IACNkD,GAAe,oBAAqB,CACtClD,QAAQ,IACNkD,GAAe,iBAAkB,CACnClD,QAAQ,IACNkD,GAAe,oBAAqB,CACtClD,QAAQ,IACNkD,GAAe,oBAAqB,CACtClD,QAAQ,IACNkD,GAAe,iBAAkB,CACnClD,QAAQ,IACNkD,GAAe,iBAAkB,CACnClD,QAAQ,IACNkD,GAAe,gBAAiBA,GAAe,WAAY,CAC7DlD,QAAQ,IACNkD,GAAe,kBAAmB,CACpClD,QAAQ,IACNkD,GAAe,kBAAmB,CACpClD,QAAQ,IACNkD,GAxFyB,OAwFO,CAClClD,QAAQ,KAEV0D,uBAAwB,CAACR,GAAe,2BAA4BA,GAAe,0BAA2BA,GAAe,6BAA8BA,GAAe,WAAYA,GAAe,cAAe,CAClNlD,QAAQ,IACNkD,GAAe,aAAc,CAC/BlD,QAAQ,IACNkD,GAAe,aAAc,CAC/BlD,QAAQ,IACNkD,GAAe,WAAYA,GAAe,gBAAiBA,GAAe,gBAAiB,CAC7FlD,QAAQ,IACNkD,GAAe,aAAcA,GAAe,UAChDS,8BAA+B,CAACT,GAAe,wBAAyB,CACtElD,QAAQ,IACNkD,GAAe,YAAa,CAC9BlD,QAAQ,KAEV4D,mCAAoC,CAACV,GAAe,mBAAoB,CACtEI,UAAU,IACRJ,GAAe,gBAAiB,CAClCI,UAAU,KAEZO,yCAA0C,CAACX,GAAe,UAAWA,GAAe,kBAAmB,CACrGlD,QAAQ,IACNkD,GAAe,sBAAuB,CACxCI,UAAU,IACRJ,GAAe,kBAAmB,CACpCI,UAAU,IACRJ,GAAe,qBAAsB,CACvCI,UAAU,IACRJ,GAAe,mCAAoC,CACrDI,UAAU,IACRJ,GAAe,OAAQ,CACzBI,UAAU,IACRJ,GAAe,WAAYA,GAAe,gBAAiB,CAC7DlD,QAAQ,IACNkD,GAAe,WAAYA,GAAe,qBAAsB,CAClEI,UAAU,IACRJ,GAAe,wBAAyB,CAC1CI,UAAU,IACRJ,GAAe,gCAAiC,CAClDI,UAAU,IACRJ,GAAe,eAAgBA,GAAe,uBAAwBA,GAAe,sBAAuBA,GAAe,eAAgBA,GAAe,oBAAqBA,GAAe,iBAAkB,CAClNI,UAAU,IACRJ,GAAe,YAAaA,GAAe,aAAcA,GAAe,mBAAoB,CAC9FI,UAAU,IACRJ,GAAe,WAAYA,GAAe,eAAgB,CAC5DlD,QAAQ,IACNkD,GAAe,YAAa,CAC9BlD,QAAQ,IACNkD,GAAe,OAAQ,CACzBI,UAAU,IACRJ,GAAe,MAAOA,GAAe,mBAAoBA,GAAe,6BAA8B,CACxGI,UAAU,IACRJ,GAAe,eAAgBA,GAAe,iBAAkBA,GAAe,QAASA,GAAe,qCAAsC,CAC/II,UAAU,IACRJ,GAAe,yBAA0B,CAC3CI,UAAU,IACRJ,GAAe,oBAAqB,CACtCI,UAAU,IACRJ,GAAe,kBAAmBA,GAAe,UAAW,CAC9DI,UAAU,IACRJ,GAAe,6BAA8B,CAC/CI,UAAU,IACRJ,GAAe,gBAAiBA,GAAe,kBAAmB,CACpEI,UAAU,IACRJ,GAAe,QAASA,GAAe,aAAcA,GAAe,YAAa,CACnFlD,QAAQ,IACNkD,GAAe,cAAeA,GAAe,eAAgBA,GAAe,WAAY,CAC1FlD,QAAQ,IACNkD,GAAe,aAAcA,GAAe,QAAS,CACvDlD,QAAQ,IACNkD,GAAe,WAAY,CAC7BlD,QAAQ,IACNkD,GAAe,gBAAiBA,GAAe,QAASA,GAAe,gBAAiBA,GAAe,qBAAsBA,GAAe,uBAAwB,CACtKI,UAAU,IACRJ,GAAe,+BAAgC,CACjDI,UAAU,IACRJ,GAAe,oCAAqC,CACtDI,UAAU,MAGdH,GAAanH,cAAb,sBAAiCmH,GAAaC,aAA9C,YAA8DD,GAAaE,OAA3E,YAAqFF,GAAaK,yBAAlG,YAA8HL,GAAaM,kBAA3I,YAAgKN,GAAaQ,+BAA7K,YAA+MR,GAAaS,oCAA5N,YAAmQT,GAAaU,2CAEzQ,I,GAAMC,GAAc,SAAAC,GAAO,OAAIA,EAAO,MAChCC,GAAe,SAAAC,GAAQ,OAA0B,IAAtBA,EAASX,SAAT,eAAkCW,EAAlC,eA9KT,OA8KS,WACfA,EAAQ,QAC7BA,GAGSC,GAAoB,SAACC,EAAKC,EAASC,EAAUC,GAGxD,OAFCH,IAAQA,EAAMG,EAAMC,SACC,MAAtBH,EAAQI,OAAO,IAAcL,EAAIM,KAAKN,EAAIO,SACnCP,GAGIQ,GAA2B,SAAA7I,GAAI,OAAI8D,OAAOC,QAAQsD,IAAcrD,QAAO,SAAC8E,EAAD,0BAAUC,EAAV,KAAepN,EAAf,YAA0BoN,EAAI/C,SAAShG,GAAQ8I,EAAOE,OAAOrN,GAASmN,IAAQ,KCvLrJG,GAAuB,SAAAxD,GAAW,IAAD,EACtCyD,EAAUzD,EAAON,mBAAiBsD,QAClCU,EAAO1D,EAAOH,gBAAcmD,QAClC,OAAO,EAAP,iBACGtD,kBAAkB+D,EAAQrC,OAAS,CAACqC,EAAQN,SAAW,IAD1D,cAEGtD,eAAe6D,EAAKtC,OAAS,CAACsC,EAAKP,SAAW,IAFjD,cAGGrD,kBAHH,sBAGyBE,EAAOF,oBAHhC,YAGqD2D,GAHrD,YAGiEC,KAHjE,GAOWC,GAAmB,SAAA3D,GAAW,IAAD,EAClCyD,EAAUzD,EAAON,mBAAiBsD,QAClCU,EAAO1D,EAAOH,gBAAcmD,QAClC,OAAO,EAAP,iBACGtD,kBAAkB+D,EAAQrC,QAAUsC,EAAKtC,OAAS,CAACqC,EAAQN,SAAWO,EAAKP,SAAW,IADzF,cAEGtD,eAAe,IAFlB,cAGGC,kBAHH,sBAGyBE,EAAOF,oBAHhC,YAGqD2D,GAHrD,YAGiEC,KAHjE,GAOWE,GAA4B,SAAA5D,GAAM,gCAC5CN,kBAAkB,IAD0B,cAE5CG,eAAe,IAF6B,cAG5CC,kBAAkB,sBAAIE,EAAOF,oBAAX,YAAgCE,EAAON,oBAAvC,YAA4DM,EAAOH,kBAAeQ,QAAO,SAAAC,GAAG,OAAIA,IAAQuD,0BAH9E,GAMlCC,GAA2B,SAAA9D,GAAW,IAAD,EAC1CyD,EAAUzD,EAAON,mBAAiBsD,QAClCU,EAAO1D,EAAOH,gBAAcmD,QAClC,OAAO,EAAP,iBACGtD,kBAAkB,CAACqE,sBADtB,cAEGlE,eAAe,IAFlB,cAGGC,kBAAkB,sBAAIE,EAAOF,oBAAX,YAAgC2D,GAAhC,YAA4CC,IAAMrD,QAAO,SAAAC,GAAG,OAAIA,IAAQyD,wBAH7F,GC7BIC,GAAiB,SAAAvD,GAAE,QAAIwD,aAAWC,eAAezD,IAAM0D,OAAOC,UAAUC,SAASJ,aAAWK,aAAa7D,GAAK,MAcvG8D,GAAwB,SAAC3K,EAAUoG,GAC9C,IAAMwE,EAAcC,6BAAmBzE,EAAQ0E,wBAG/C,GAF2BF,GAAeG,4BAAkBH,GAAaI,MAAK,SAAAC,GAAI,OAAIb,GAAea,EAAKpE,OAElF,CACtB,IAAMqE,EAjB2B,SAAAlL,GAAQ,OAAI,SAAAiL,GAC/C,IAAKb,GAAea,EAAKpE,IACvB,OAAOoE,EAGT,IAAME,EAAUV,SAASJ,aAAWK,aAAaO,EAAKpE,IAAK,IACrDuE,EAAQpL,EAAS4H,MAAK,SAAAyD,GAAC,OAAIZ,SAASY,EAAEC,MAAO,MAAQH,KAAStE,GACpE,OAAOpC,OAAO8G,OAAO,GAAIN,EAAM,CAC7BpE,GAAIwD,aAAWmB,eAAeJ,MASAK,CAA6BzL,GACrD0L,EAAiBX,4BAAkBH,GAAahG,IAAIsG,GAC1D,OAAOS,iCAAuBvF,EAAQ0E,uBAAsBY,GAG9D,OAAOtF,GAEIwF,GAAwB,SAAAC,GAEnC,OAAiC,IAA7BA,EAAKC,MAAM,OAAOtE,OACbqE,EAGFA,EAAK7O,OAAO,EAAG6O,EAAKE,YAAY,OAU5BC,GAAY,SAACnF,EAAIoF,EAAUC,GACtC,OAAID,EAASpF,IAAOoF,EAASpF,GAAIgF,KACxBI,EAASpF,GAAIgF,KAIlBK,EAAerF,KAAQA,GAA6B,KAAvBqF,EAAerF,GACxC,IAAN,OAAWA,GAGNqF,EAAerF,GAAf,WAAyBqF,EAAerF,GAAxC,YAA+CA,QAAO1F,G,WCjDlDgL,GAAS,SACTC,GAA4B,4BAC5BC,GAAc,cACdC,GAAiB,iBACjBC,GAAgB,gBAChBC,GAA2B,2BAC3BC,GAA8B,8BAC9BC,GAAe,eACfC,GAAe,eACfC,GAAkB,kBAClBC,GAA0B,0BAC1BC,GAA0B,0BAC1BC,GAA6B,6BAC7BC,GAA6B,6BAC7BC,GAA+B,+BAC/BC,GAAW,WACXC,GAA+B,+BAC/BC,GAA4B,4BAC5BC,GAAwB,wBACxBC,GAA0B,0BAC1BC,GAAW,WACXC,GAAa,CACxB7M,KAAM8M,kBACNzM,QAASwD,IACT4B,OAAQ,CACNyD,QAAS,CAACM,qBACVL,KAAM,CAACG,uBACPyD,QAAS,CAAC5C,yBAEZ6C,kBAAgB,qBACb7C,uBAAuB,IADV,eAEbb,sBAAsB,IAFT,IAIhB2D,mBAAoB,CAAC,YAAa,aAClCC,qBAAsB,CAAC,oBACvB3B,eAAgB,GAChB4B,kBAAmB,KACnBC,kBAAkB,EAClBC,eAAgB,GAChBC,KAAM,MAEQ,cAAiC,IAAhCxN,EAA+B,uDAAvB+M,GAAY9M,EAAW,uCAC9C,OAAQA,EAAOC,MACb,KAAKwL,GAED,OAAO,eAAKzL,EAAOpE,OAIvB,KAAK8P,GAED,OAAO8B,GAAmBC,GAAuBzN,EAAOpE,MAAOmE,IAGnE,KAAK4L,GAED,OAAO,eAAK5L,EAAZ,CACEE,KAAMD,EAAOpE,QAInB,KAAKgQ,GAED,OAAO,eAAK7L,EAAZ,CACEO,QAAQ,eAAMP,EAAMO,QAAb,GACFN,EAAOpE,SAKlB,KAAKiQ,GAED,OAAO,eAAK9L,EAAZ,CACE2F,OAAO,eAAM1F,EAAOpE,SAO1B,KAAKkQ,GAED,IAAM4B,EAAS,eAAQ1N,EAAOpE,MAAf,GACVwK,GAAcrG,EAAM2F,OAAQ1F,EAAOpE,MAAOmE,EAAME,OAEjD0N,EAAY5N,EAAM2F,OAiBtB,OAfA3B,OAAOC,QAAQ0J,GAAW7I,SAAQ,YAG1B,IAAD,mBAH6B+I,EAG7B,YAFLzI,EAEK,EAFLA,OACA0I,EACK,EADLA,MAEIF,EAAUxI,IAAW2I,oCAA0B/N,EAAME,KAAM0N,EAAUxI,GAASA,KAEhFwI,EAAYlI,GAAkBkI,EAAW,CAACC,IAE5B,OAAVC,QAA4BpN,IAAVoN,EACpBF,EAAUxI,GAAQyD,KAAKgF,GAEvBD,EAAUxI,GAAQ4I,OAAOF,EAAO,EAAGD,OAIlC,eAAK7N,EAAZ,CACE2F,OAAQiI,IAId,KAAK5B,GAED,OAAO,eAAKhM,EAAZ,CACE2F,OAAQD,GAAkB1F,EAAM2F,OAAQ1F,EAAOpE,SAIrD,KAAKoQ,GACF,IAAD,EAIMhM,EAAOpE,MAFTgS,EAFJ,EAEIA,YACAI,EAHJ,EAGIA,QAEF,OAAO,eAAKjO,EAAZ,CACEkN,iBAAiB,eAAMlN,EAAMkN,iBAAb,eACbW,EAAcI,MAKvB,KAAK/B,GACF,IAAD,EAIMjM,EAAOpE,MAFTgS,EAFJ,EAEIA,YACAI,EAHJ,EAGIA,QAEIC,EAAiBlO,EAAMkN,iBAAiBW,IAAgB,GACxDM,EAAO,YAAO,IAAIC,IAAJ,sBAAYF,GAAZ,YAA+BD,MACnD,OAAO,eAAKjO,EAAZ,CACEkN,iBAAiB,eAAMlN,EAAMkN,iBAAb,eACbW,EAAcM,MAKvB,KAAKhC,GACF,IAAD,EAIMlM,EAAOpE,MAFTgS,EAFJ,EAEIA,YACAQ,EAHJ,EAGIA,gBAEIF,GAAWnO,EAAMkN,iBAAiBW,IAAgB,IAAI7H,QAAO,SAAAI,GAAE,OAAKiI,EAAgBnI,SAASE,MACnG,OAAO,eAAKpG,EAAZ,CACEkN,iBAAiB,eAAMlN,EAAMkN,iBAAb,eACbW,EAAcM,MAKvB,KAAK5B,GAED,OAAO,eAAKvM,EAAZ,CACEmN,mBAAoBlN,EAAOpE,OAASkR,GAAWI,qBAIrD,KAAKX,GAED,OAAO,eAAKxM,EAAZ,CACEoN,qBAAsBnN,EAAOpE,MAAQyS,aAAUrO,EAAOpE,OAASkR,GAAWK,uBAIhF,KAAKhB,GAED,OAAO,eAAKpM,EAAZ,CACEyL,eAAgBxL,EAAOpE,QAI7B,KAAKwQ,GAED,OAAO,eAAKrM,EAAZ,CACEyL,eAAe,eAAMzL,EAAMyL,eAAb,GACTxL,EAAOpE,SAKlB,KAAKyQ,GAED,OAAO,eAAKtM,EAAZ,CACEqN,kBAAmBpN,EAAOpE,OAASkR,GAAWM,oBAIpD,KAAKZ,GACF,IAAD,IAIMxM,EAAOpE,MAFT0S,EAFJ,EAEIA,qBACAC,EAHJ,EAGIA,eAEF,OAAO,eAAKzB,GAAZ,CACEG,iBAAiB,eAAMH,GAAWG,kBAAlB,mBACb7C,uBAAuB,CAACkE,EAAqBnI,KADhC,cAEboD,sBAAsB,CAACgF,IAFV,IAIhB/C,eAAe,eAAMsB,GAAWtB,eAAlB,eACX8C,EAAqBnI,GAAK,OAKnC,KAAKsG,GACH,OAAO,eAAK1M,EAAZ,CACEsN,kBAAmBtN,EAAMsN,mBAG7B,KAAKX,GACH,OAAO,eAAK3M,EAAZ,CACEsN,kBAAkB,IAGtB,KAAKV,GACH,OAAO,eAAK5M,EAAZ,CACEuN,eAAgBtN,EAAOpE,QAG3B,KAAKgR,GACH,OAAO,eAAK7M,EAAZ,CACEuN,eAAgBR,GAAWQ,iBAG/B,KAAKT,GACH,OAAO,eAAK9M,EAAZ,CACEwN,KAAMvN,EAAOpE,QAGjB,QACE,OAAOmE,IAIAyO,GAAS,SAAAzO,GAAK,OAAIA,EAAM0O,IACxBC,GAAa,SAAA3O,GAAK,OAAIyO,GAAOzO,GAAOE,MACpC0O,GAAgB,SAAA5O,GAAK,OAAIyO,GAAOzO,GAAOO,SACvCsO,GAAe,SAAA7O,GAAK,OAAIyO,GAAOzO,GAAO2F,QACtCmJ,GAAc,SAAA9O,GAAK,OAAIyO,GAAOzO,GAAOkN,kBACrC6B,GAA2B,SAAA/O,GAAK,OAAIyO,GAAOzO,GAAOmN,oBAClD6B,GAA6B,SAAAhP,GAAK,OAAIyO,GAAOzO,GAAOoN,sBACpD6B,GAAuB,SAAAjP,GAAK,OAAIyO,GAAOzO,GAAOyL,gBAC9CyD,GAA0B,SAAAlP,GAAK,OAAIyO,GAAOzO,GAAOqN,mBACjD8B,GAAyB,SAAAnP,GAAK,OAAIyO,GAAOzO,GAAOsN,kBAChD8B,GAAuB,SAAApP,GAAK,OAAIyO,GAAOzO,GAAOuN,gBAC9C8B,GAAW,SAAArP,GAAK,OAAIyO,GAAOzO,GAAOwN,MAElC8B,GAAyB,SAACtP,EAAO6N,GAAR,OAAyB1H,GAAiB0I,GAAa7O,KAAW,IAAI6N,IAC/F0B,GAAyB,SAACvP,EAAOwP,GAAR,OAAsBV,GAAY9O,GAAOwP,IAAczC,GAAWG,iBAAiBsC,IAC5GC,GAA6B,SAAAzP,GAAK,OAAIgE,OAAO0L,OAAOb,GAAa7O,IAAQkE,QAAO,SAAC2B,EAAK8J,GAAN,OAA2B9J,EAAIqD,OAAOyG,KAAmB,KACzIC,GAAsB,SAAC5P,EAAOwP,GAAR,OAAsBC,GAA2BzP,GAAOkG,SAASsJ,IACvFK,GAA+B,SAAA7P,GAAK,OAAI4P,GAAoB5P,EAAO8P,qCACnEC,GAAgB,SAAA/P,GAC3B,IAAMoJ,EAAUyF,GAAa7O,GAAOoJ,QAC9B4G,EAAQlB,GAAY9O,GACpBwN,EAAO6B,GAASrP,IAAU,GAChC,OAAO8F,MAAMC,QAAQiK,EAAM5G,EAAQ,MAAQ4G,EAAM5G,EAAQ,IAAIrC,OAASiJ,EAAM5G,EAAQ,IAAIjF,KAAI,SAAAiC,GAAE,MAAK,CACjGA,KACAgB,KAAMhB,KAAMoH,EAAOA,EAAKpH,GAAM,MAC1B,IC3QK6J,GAAe,SAAAC,GAC1B,OAAMpK,MAAMC,QAAQmK,IAAiBA,EAAanJ,OAI3CmJ,EAAalK,QAAO,SAAAwE,GAAI,MAAwC,kBAA7BA,EAAI,QAAmCtG,QAAO,SAACC,EAAKqG,GAE5F,OADArG,EAAIqG,EAAI,iBAAoCA,EAAI,KACzCrG,IACN,IANM4I,GAAWS,MCGTE,GAAyB,SAACyC,GAAD,IAAMC,EAAN,uDAAqB,GAArB,sBAAkCA,EAAlC,CACpClQ,KAAMiQ,EAAIjQ,MAAQmQ,iBAClB9P,QAASmE,GAA4ByL,GACrCxK,OAAQ2K,4CAAkCH,GAC1CjD,iBAAkBqD,4CAAkCJ,GACpD1E,eAAgB0E,EAAI1E,gBAAkB+E,GAAmCL,IAAQC,EAAa3E,eAC9F0B,mBAAoBsD,yBAAeN,EAAIjQ,OAASiQ,EAAG,aAA6BA,EAAG,aAA6BC,EAAajD,mBAC7HC,qBAAsBqD,yBAAeN,EAAIjQ,MAAQiQ,EAAI9G,KAAK,GAAG2G,MAAM7L,KAAI,SAAAqG,GAAI,OAAIA,EAAKpE,MAAMgK,EAAahD,qBACvGI,KAAMyC,GAAaE,EAAID,iBAuBZzC,GAAqB,SAAAiB,GAChC,OAAQA,EAAGxO,MACT,KAAKwQ,+BACL,KAAKC,iCAED,OAjB6B,SAAAjC,GACnC,IAAM1O,EAAQgE,OAAO8G,OAAO,GAAI4D,GAC1BsB,EAAQhM,OAAO8G,OAAO,GAAI9K,EAAMkN,kBAEtC,cADO8C,EAAMxG,uBACN,eAAKxJ,EAAZ,CACE2F,OAAQ4D,GAA0BmF,EAAG/I,QACrCuH,iBAAkB8C,IAWPY,CAAsBlC,GAGjC,KAAKmC,eAED,OA1BoB,SAAAnC,GAAE,sBAAUA,EAAV,CAC5B/I,OAAQ2D,GAAiBoF,EAAG/I,UAyBfmL,CAAapC,GAGxB,KAAKqC,wBACL,KAAKC,iBAED,OAnB4B,SAAAtC,GAAE,sBAAUA,EAAV,CACpC/I,OAAQ8D,GAAyBiF,EAAG/I,UAkBvBsL,CAAqBvC,GAGhC,KAAKwC,uBACH,OAAOxC,EAET,QACE,OA3C0B,SAAAA,GAAE,sBAAUA,EAAV,CAChC/I,OAAQwD,GAAqBuF,EAAG/I,UA0CrBwL,CAAiBzC,KAGjB8B,GAAqC,SAAAL,GAChD,IAAMiB,EAAqBd,4CAAkCH,GAEvDkB,EADgBlL,GAAiBiL,GACV/G,wBAE7B,IAAKgH,EACH,MAAO,GAGT,IAAM5F,EAAiB,GAWvB,OAVoB0E,EAAIkB,GAAQlK,MAAK,SAAAqI,GAAS,OAAIA,EAAUA,YAAcnF,0BAC9D2F,MAAMhK,QAAO,SAAAsL,GAAO,OAAIA,EAAQlG,QAAMtG,SAAQ,SAAAwM,GACxD,GAAI,IAAMA,EAAQlL,KAAOkL,EAAQlG,KAE/BK,EAAe6F,EAAQlL,IAAM,OACxB,CACL,IAAMgF,EAAOD,GAAsBmG,EAAQlG,MAC3CK,EAAe6F,EAAQlL,IAAkB,MAAZgF,EAAK,GAAaA,EAAK7O,OAAO,GAAK6O,MAG7DK,GC1EI8F,GAAgB,SAAA7C,GAAE,OAAI1K,OAAOC,QAAQyK,EAAG/I,QAAQzB,QAAO,SAACyB,EAAD,0BAAUP,EAAV,KAAkBqB,EAAlB,2BAA0Cd,EAA1C,eACjEP,EAASqB,EAAatC,KAAI,SAAA0J,GAAW,OAHtB2D,EAGmC9C,EAAGxB,iBAH9B9G,EAGgDyH,EAHzC/H,MAAMC,QAAQyL,EAAOpL,KAAQoL,EAAOpL,GAAIW,QAGiB0K,qCAA2B5D,EAAa6D,2BAA2BC,0BAAgB9D,EAAaa,EAAGxB,iBAAiBW,IAAgB,KAH7M,IAAC2D,EAAQpL,KAG0MJ,QAAO,SAAAC,GAAG,OAAY,OAARA,SAC9O,KACS2L,GAAmB,SAAAlD,GAC9B,IAAMmD,EAAgBlN,YAAK+J,EAAGnO,QAASyD,OAAOY,KAAKrE,IAwBnD,OAtB8B,IAA1BmO,EAAGnO,QAAQsD,aACbgO,EAAcnQ,gBAAkBnB,EAAQmB,gBAAgBjB,aACxDoR,EAAclQ,gBAAkBpB,EAAQoB,gBAAgBlB,eAG9B,IAAxBiO,EAAGnO,QAAQqD,WACbiO,EAAcrR,cAAgBD,EAAQC,cAAcC,aACpDoR,EAAcjR,cAAgBL,EAAQK,cAAcH,cAItDoR,EAAchN,gBAAkB,GAChC,CAAC,mBAAoB,kBAAmB,yBAA0B,+BAA+BC,SAAQ,SAAAV,GACvGyN,EAAchN,gBAAgBT,GAAUyN,EAAczN,UAC/CyN,EAAczN,MAGvB,CAAC,YAAa,YAAYU,SAAQ,SAAAV,GAC5BJ,OAAOe,UAAUC,eAAeC,KAAK4M,EAAezN,KACtDyN,EAAczN,GAAU0F,OAAO+H,EAAczN,QAG1CyN,GAGIC,GAAwB,SAAApD,GACnC,ID4C0BqD,EAAgBC,EAAWC,EC5C/C/B,EAAe,GAGrB,ODyC0B6B,EC1Cd7B,ED0C8B8B,EC1ChBtD,EAAGlB,KD0CwByE,EC1ClB,OD2CnCjO,OAAOY,KAAKoN,GAAa,IAAIlN,SAAQ,SAAAmE,GAC7BA,KAAO8I,IACXA,EAAe9I,GAAO,IAGxB8I,EAAe9I,GAAKgJ,GAAYD,EAAU/I,MC/CrCjF,OAAOC,QAAQiM,GAAchM,QAAO,SAACgO,EAAD,GAAwB,IAAD,mBAAhBjJ,EAAgB,KAAXpN,EAAW,KAGhE,OAFAA,EAAK,gBAAmCoN,EACxCiJ,EAAIrJ,KAAKhN,GACFqW,IACN,KAEQC,GAA8B,SAACnS,EAAOC,GACjD,IAAMyO,EAAE,eAAQzO,EAAOpE,MAAf,CACN8J,OAAO,eAAM8D,GAAyBxJ,EAAOpE,MAAM8J,WAG/CyM,EAAab,GAAc7C,GAE3BP,EAAUkE,kCAAwBD,EAAY1I,qBAC9C4I,EAAwBpH,iCAAuBkH,EAAY1I,oBAAmB,CAACyE,EAAQ,KAC7F,OAAO,eAAKnO,EAAZ,eN5D6B,OM6DR0O,EAAGxO,MACnBoS,EAFL,GAGKV,GAAiBlD,KAGX6D,GAAsB,SAACvS,EAAOC,GACzC,IAAMyO,EAAE,eAAQzO,EAAOpE,MAAf,CACN8J,OAAO,eAAM2D,GAAiBrJ,EAAOpE,MAAM8J,WAG7C,OAAO,eAAK3F,EAAZ,eNvE6B,OMwER0O,EAAGxO,MACnBqR,GAAc7C,GAFnB,GAGKkD,GAAiBlD,KAGX8D,GAA+B,SAACxS,EAAOC,GAAY,IAAD,EACvDyO,EAAKzO,EAAOpE,MACZ4W,EAAS/D,EAAGxB,iBAAiBxD,qBAAqB,CAACgF,EAAGxB,iBAAiBxD,qBAAmB,IAAM,GACtG,OAAO,eAAK1J,GAAZ,mBNhF6B,OMiFR0O,EAAGxO,MADxB,cAEGmF,kBAAkB,CAACsM,0BAAgBjI,oBAAmB+I,KAFzD,cAGGjN,eAAe,CAACmM,0BAAgBnI,sBAAqBkF,EAAGtB,wBAH3D,cAIG3H,kBAAkB8L,GAAc7C,GAAIzB,QAAQjH,QAAO,SAAA0M,GAAC,OAAK,CAAChJ,oBAAmBF,uBAAqBtD,SAASwM,EAAElD,eAJhH,cAKG,CNpFmC,gBMoFNd,EAAGvB,oBALnC,GAMKyE,GAAiBlD,KCpFXiE,GAAc,cACdC,GAAsB,sBACtBC,GAAgB,gBAChBC,GAAkB,KAEzBC,GAAmB,SAAC/S,EAAOC,GAC/B,IAAMmS,EAAab,GAActR,EAAOpE,OAClCgW,EAAgBD,GAAiB3R,EAAOpE,OACxCqU,EAAe4B,GAAsB7R,EAAOpE,OAClD,OAAO,eAAKmE,EAAZ,ePX6B,OOYRC,EAAOpE,MAAMqE,MAC7BkS,EAFL,GAGKP,EAHL,CAIE3B,kBAIY,cAAsC,IAArClQ,EAAoC,uDAA5B8S,GAAiB7S,EAAW,uCACnD,OAAQA,EAAOC,MACb,KAAKyS,GAED,OAAO1S,EAAOpE,MAGlB,KAAK+W,GAED,OAAQ3S,EAAOpE,MAAMqE,MACnB,KAAK2Q,eACH,OAAO0B,GAAoBvS,EAAOC,GAEpC,KAAK8Q,wBACL,KAAKC,iBACH,OAAOmB,GAA4BnS,EAAOC,GAE5C,KAAKyQ,+BACL,KAAKC,iCACH,OAAO6B,GAA6BxS,EAAOC,GAE7C,QAEI,OAAO8S,GAAiB/S,EAAOC,GAKzC,KAAK4S,GACH,OAAOC,GAET,QACE,OAAO9S,IAIAgT,GAAc,SAAAhT,GAAK,OAAIA,EAAMwI,SAC7ByK,GAAoB,SAAAjT,GAC/B,IAAM0O,EAAK1O,EAAM0O,GAEjB,OAAQA,EAAGxO,MACT,KAAK2Q,eACH,OAAO0B,GAAoBvS,EAAO,CAChCnE,MAAO6S,IAGX,KAAKqC,wBACL,KAAKC,iBACH,OAAOmB,GAA4BnS,EAAO,CACxCnE,MAAO6S,IAGX,KAAKgC,+BACL,KAAKC,iCACH,OAAO6B,GAA6BxS,EAAO,CACzCnE,MAAO6S,IAGX,QAEI,OAAOqE,GAAiB/S,EAAO,CAC7BnE,MAAO6S,MChFJwE,GAAiB,iBACjBC,GAAyB,yBAChCC,GAAqBC,oCACX,cAAyC,IAAxCrT,EAAuC,uDAA/BoT,GAAoBnT,EAAW,uCACtD,OAAQA,EAAOC,MACb,KAAKgT,GAED,OAAO,eAAKE,GAAZ,GACKnT,EAAOpE,OAIhB,QACE,OAAOmE,IAgBAsT,GAAiB,SAAAtT,GAAK,OAAIA,EAAMuT,YC9BhCC,GAAsB,sBACtBC,GAA0B,GACvB,cAA8C,IAA7CzT,EAA4C,uDAApCyT,GAAyBxT,EAAW,uCAC3D,OAAQA,EAAOC,MACb,KAAKsT,GAED,OAAOvT,EAAOpE,OAAS4X,GAG3B,QACE,OAAOzT,IAIA0T,GAAqB,SAAA1T,GAAK,OAAIA,EAAM2T,gBCbpCC,GAAmB,GAenBC,GAAe,SAAA7T,GAAK,OAAIA,EAAMwL,UChB9BsI,GAAe,eACfC,GAAe,eACfC,GAAmB,CAC9BC,cAAe,aACfC,0BAA2B,iBAC3BC,+BAAgC,QAChCrX,oBAAqB,cACrBhB,SAAU,KACVyS,qBAAsB,IAER,cAAuC,IAAtCvO,EAAqC,uDAA7BgU,GAAkB/T,EAAW,uCACpD,OAAQA,EAAOC,MACb,KAAK4T,GAED,OAAO9P,OAAO8G,OAAO,GAAI7K,EAAOpE,OAGpC,KAAKkY,GAED,OAAO,eAAK/T,EAAZ,GACKC,EAAOpE,OAIhB,QACE,OAAOmE,IAIAoU,GAAe,SAAApU,GAAK,OAAIA,EAAMnD,UAC9BwX,GAAkC,SAAArU,GAAK,OAAIoU,GAAapU,GAAOlD,qBAC/DwX,GAAkB,SAAAtU,GAAK,OAAIoU,GAAapU,GAAOuO,sBAC/CgG,GAAqB,SAAAvU,GAAK,OAAIoU,GAAapU,GAAOkU,2BAClDM,GAAe,SAAAxU,GAAK,OAAIoU,GAAapU,GAAOlE,UChC5C2Y,GAAe,CAC1BrO,GAAI,GACJsO,SAAU,GACV5Y,SAAU,GACV6Y,aAAa,GAcf,SAASC,GAAgBC,GACvB,MAAO,CACLzO,GAAIyO,EAASzO,GACbsO,SAAUG,EAASH,SACnB5Y,SAAU+Y,EAAShY,SAASG,YAC5B2X,YAAaE,EAASC,YAAYC,IAAI,QAKnC,ICvB8B7U,G,oFCJ/B8U,GAAO,oCACPC,GAAc,+BAFT,KAES,KACdC,GAAU,UAHL,KAGK,YAAYF,IACtBG,GAAI,UAAMH,GAAN,8BACJI,GAAK,UAAMH,GAAN,YAAwBD,GAAxB,sBACLK,GAAI,qCAAiCH,GAAjC,mBAAsDE,GAAtD,KAGGE,GAAe,CAC1BlM,QAASiM,GACThM,KAAMgM,GACNpI,QAASoI,GACTE,KAAMJ,GACN7U,gBAPsB,aAQtBuC,UAAWqS,IAEAM,GAAe,SAAAC,GAAK,gBAAOA,GAAP,OAAeH,GAAaG,GAAb,WAA0BH,GAAaG,GAAvC,KAAmD,KCjB7FC,GAAqB,CACzBtV,cAAe,CACbuV,SAAU,iBACVvP,GAAI,qBACFA,IAEF3H,OAAQ,CACNuK,QFF+B9I,GEED,gBFFS6I,GAAyB7I,IAAMiE,IAAIiE,IAAcjE,IAAI+D,IAAa0N,OAAO1R,OAAOoE,GAAmB,MAAMnE,IAAIqR,IAAcjY,KAAK,SEMvKsY,GAAsB,CAC1BzV,cAAe,CACbuV,SAAU,iBACVlX,OAAQ,gBACNqX,EADM,EACNA,iBADM,MAED,CACL9P,OAAO,UAAD,OAAY8P,EAAZ,KACN9M,OAAQ,CAAC,KAAM,YAIR+M,GAAwB,SAACC,EAAY5P,GAChD,OAAO4P,EAAWC,MAAMP,GAAoB,CAC1CQ,UAAW,CACT9P,SAWO+P,GAAuB,SAACH,EAAY5V,GAC/C,IAAMgW,EAAW,CACflW,KAAM,SACNyV,SAAU,iBACVU,KAAMjW,EACN3B,OAAQ,CACN6X,iBAAkB,OAClBC,YAAa,SASjB,OALInW,EAAcgG,KAChBgQ,EAASlW,KAAO,SAChBkW,EAAShQ,GAAKhG,EAAcgG,IAGvB4P,EAAWQ,OAAOJ,ICpDdK,GAAqB,SAAArW,GAAa,MAAK,CAClDF,KAAML,EACNhE,MAAOuE,IAEIsW,GAAU,iBAAO,CAC5BxW,KAAMJ,ICJK6W,GAAe,SAAA9a,GAAK,MAAK,CACpCqE,KAAMyS,GACN9W,UAEW6a,GAAU,iBAAO,CAC5BxW,KAAM2S,KAEK+D,GAAqB,SAAA/a,GAAK,MAAK,CAC1CqE,KAAM0S,GACN/W,UAEWgb,GAAoB,kBAAM,SAAOC,EAAUC,GAAjB,SAAAnY,EAAAC,OAAA,gDACrCiY,EAASF,GAAmBnI,GAAOsI,OADE,uC,sBCR1BC,GAAkB,SAAAzD,GAAU,MAAK,CAC5CrT,KAAMgT,GACNrX,MAAOob,aAAMC,aAAO3D,EAAY,CAAC,SAAA4D,GAAC,OAAIA,EAAE7R,KAAK8R,iBAAiB,QAEnDC,GAAiB,SAAA3Z,GAAE,OAAI,SAAOoZ,EAAUC,GAAjB,qBAAAnY,EAAAC,OAAA,uDAC5ByY,EAAY,SAAA/D,GAChBuD,EAASE,GAAgBzD,KAGrBtW,EAAU,SAAAC,GAEd,OADAC,QAAQC,IAAI,+BAAgCF,GACrCA,GAPyB,SAW1Bqa,EAAkBlD,GAAgC0C,KAXxB,WAAAnY,EAAA,MAYP4Y,6BAAmB9Z,EAAI6Z,IAZhB,cAY1BhE,EAZ0B,yBAazB+D,EAAU/D,IAbe,2DAezBtW,EAAQ,EAAD,KAfkB,2DCRvBwa,GAAU,SAAA5b,GAAK,MAAK,CAC/BqE,KAAMwL,GACN7P,UAEW6a,GAAU,SAAA7a,GAAK,MAAK,CAC/BqE,KAAMuM,GACN5Q,UAEW6b,GAA2B,SAAA7b,GAAK,MAAK,CAChDqE,KAAMyL,GACN9P,UAEW8b,GAAc,SAAA9b,GAAK,MAAK,CACnCqE,KAAM0L,GACN/P,UAEW+b,GAAiB,SAAA/b,GAAK,MAAK,CACtCqE,KAAM2L,GACNhQ,UAEWgc,GAAgB,SAAAhc,GAAK,MAAK,CACrCqE,KAAM4L,GACNjQ,UAEWic,GAA0B,SAAAjc,GAAK,MAAK,CAC/CqE,KAAM6L,GACNlQ,UAEWkc,GAA6B,SAAAlc,GAAK,MAAK,CAClDqE,KAAM8L,GACNnQ,UAEWmc,GAAe,SAAAnc,GAAK,MAAK,CACpCqE,KAAM+L,GACNpQ,UAEWoc,GAAe,SAAApc,GAAK,MAAK,CACpCqE,KAAMgM,GACNrQ,UAEWqc,GAAkB,SAAArc,GAAK,MAAK,CACvCqE,KAAMiM,GACNtQ,UAEWsc,GAA4B,SAAAtc,GAAK,MAAK,CACjDqE,KAAMqM,GACN1Q,UAEWuc,GAA8B,SAAAvc,GAAK,MAAK,CACnDqE,KAAMsM,GACN3Q,UAEWwc,GAAsB,SAAAxc,GAAK,MAAK,CAC3CqE,KAAMmM,GACNxQ,UAEWyc,GAAsB,SAAAzc,GAAK,MAAK,CAC3CqE,KAAMkM,GACNvQ,UAEW0c,GAA2B,SAAA1c,GAAK,MAAK,CAChDqE,KAAMoM,GACNzQ,UAEW2c,GAA6B,iBAAO,CAC/CtY,KAAMwM,KAEK+L,GAA0B,iBAAO,CAC5CvY,KAAMyM,KAEK+L,GAAwB,SAAA7c,GAAK,MAAK,CAC7CqE,KAAM0M,GACN/Q,UAEW8c,GAA0B,iBAAO,CAC5CzY,KAAM2M,KAEK+L,GAAY,SAAA/c,GAAK,MAAK,CACjCqE,KAAM4M,GACNjR,UC/EWgd,GAAgB,SAAAhd,GAAK,MAAK,CACrCqE,KVF0B,eUG1BrE,UCAWid,GAAyB,WACpC,IACMxb,EAAG,UADQ,kBACR,YAAkBX,EAAgBwH,KAAI,SAAA4U,GAAC,oBAAWA,MAAKxb,KAAK,MACrE,OAAOC,wBAAcC,MAAK,SAAAC,GAAE,OAAIA,EAAGC,IAAIC,SAASC,IAAIP,MAAMS,MAAMd,ICHrD+b,GAAgB,SAAAnd,GAAK,MAAK,CACrCqE,KAAM4T,GACNjY,UAEWod,GAAgB,SAAApd,GAAK,MAAK,CACrCqE,KAAM6T,GACNlY,UAEWqd,GAAe,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAsB,SAAMrC,GAAN,qBAAAlY,EAAAC,OAAA,uDAC1CyY,EAAY,SAAA8B,GAChBtC,EAASmC,GAAcjV,OAAO8G,OAAP,MAAA9G,OAAM,CAAQ,GAAIoV,GAAZ,OAAgCD,OAGzDlc,EAAU,SAAAC,GAEd,OADAC,QAAQC,IAAI,mCAAoCF,GACzCA,GAPuC,oBAAA0B,EAAA,MAWjBka,MAXiB,cAWxCO,EAXwC,kBAAAza,EAAA,MAYXvB,KAZW,cAYxCkR,EAZwC,yBAavC+I,EAAU,eAAK+B,EAAN,CACd9K,2BAd4C,2DAiBvCtR,EAAQ,EAAD,KAjBgC,2DCVrCqc,GAAiB,SAAAzd,GAAK,MAAK,CACtCqE,KXF2B,gBWG3BrE,UCUW0d,GAAY,SAAAvZ,GAAK,OAAIA,EAAMyH,OCZ3B+R,GAA4B,SAAA3d,GAAK,MAAK,CACjDqE,KAAMuZ,GACN5d,UAEW6d,GAAkB,iBAAO,CACpCxZ,KAAMyZ,KCFKC,GAAkB,CAC7BC,WAAW,EACXC,aAAc,KACdC,iBAAiB,GA+BNC,GAAgB,SAAAha,GAAK,OAAIA,EAAMia,OAAOH,cAEtCI,GAAsB,SAAAla,GAAK,OAAIA,EAAMia,OAAOF,iBCvC5CI,GAAiB,SAAAte,GAAK,MAAK,CACtCqE,KDF4B,iBCG5BrE,UAEWue,GAAmB,iBAAO,CACrCla,KDL8B,qBCWnBma,GAAqB,SAAAxe,GAAK,MAAK,CAC1CqE,KDVgC,qBCWhCrE,UCZWye,GAAwB,SAAMlU,GAAN,mBAAAxH,EAAAC,OAAA,kEAAAD,EAAA,MAClBpB,yBADkB,cAC7BE,EAD6B,OAE7B6c,EAAM7c,EAAGC,IAAIC,SACbN,EAH6B,oCADP,aACO,qBAGwC8I,GAHxC,kBAI5BmU,EAAIC,KAAKld,IAJmB,sCCkBxBL,GAAU,SAACgD,EAAQ/C,GAE9B,OADAC,QAAQC,IAAR,0BAA+B6C,EAA/B,aAA0C/C,IACnCA,GAGIud,GAAuB,SAAC,GAAD,IAClCrU,EADkC,EAClCA,GACAsU,EAFkC,EAElCA,iBACAnb,EAHkC,EAGlCA,SAHkC,OAI9B,SAAOuX,EAAUC,EAAU4D,GAA3B,iBAAA/b,EAAAC,OAAA,uDACEyY,EAAY,SAAMsD,GAAN,iBAAAhc,EAAAC,OAAA,gDAChBiY,EAAS+D,IAA8B,IACjCza,EAAgB8J,GAAsB3K,EAAUqb,EAASxa,eAE3Dsa,IACInN,EAAiBnN,EAAcE,gBAAgB6G,MAAK,SAAA2T,GAAC,OAAIA,EAAE1U,KAAOsU,QAGtE5D,EAASiE,GAA6BxN,IACtCuJ,EAASiE,OAIbT,GAAsBla,EAAcgG,IACpC0Q,EAASkE,GAAqC5a,IAC9C0W,EAASmE,GAAyB7a,IAClC0W,EAASiE,GAAgC3a,IACzC0W,EF1CmC,CACrC5W,KDL8B,qBG6BZ,sCADd,cAsBKoX,EAtBL,WAAA1Y,EAAA,MAsBsBmX,GAAsB4E,EAAQvU,IAtBpD,mGAwBElJ,EAxBF,KA0BE,MAAO,KAAIge,UACbhe,EAAQ,KAAIge,SAGdC,GAAmBrE,EAAUC,EAAU7Z,GA9BrC,kBA+BKD,GAAQ,uBAAwBC,IA/BrC,0DAkCOie,GAAqB,SAACrE,EAAUC,GAA4B,IAAlB7Z,EAAiB,uDAAT,KAE3D4Z,EADE5Z,EACO2d,GAA0B3d,GF5DA,CACrCgD,KDL8B,qBGqE9B4W,EAASkE,MACTlE,EAASmE,MACT,IAAM1M,EAAuB+F,GAAgByC,KACvCvI,EAAiB+F,GAAmBwC,KAC1CD,EAASiE,GAAe,CACtBxM,uBACAC,qB,QC3EW,IACb4M,UAAW,CACTC,QAAS,OACTC,WAAY,UAEdC,KAAM,CACJC,YAAa,GAEfC,UAAW,CACTC,WAAY,EACZC,MAAO,GACPC,OAAQ,GACRC,OAAQ,WAEVC,QAAS,CACPC,gBAAiBC,UAAOC,UACxBC,MAAOF,UAAOG,OAEhBjf,MAAO,CACL6e,gBAAiBC,UAAOI,OACxBF,MAAOF,UAAOK,QCmCHC,sBAnBS,SAAAtc,GAAU,IAAD,EAM3Buc,GAAavc,GAJfwc,EAF6B,EAE7BA,QACAtB,EAH6B,EAG7BA,QACAuB,EAJ6B,EAI7BA,SAGF,MAAO,CACLD,UACAE,KAT6B,EAK7BA,KAKAxB,UACAuB,eAIuB,SAAA3F,GAAQ,MAAK,CACtC6F,QAAS,kBAAM7F,GF4GqB,SAAAA,GACpCA,EAAS8F,GAAuC,CAC9CF,MAAM,KAIRG,YAAW,kBAAM/F,EAAS8F,QAAiC,YE/G9CN,CAA6CQ,qBAAWC,GAAXD,EA1CpC,SAAC,GAAD,IACtBE,EADsB,EACtBA,QACAR,EAFsB,EAEtBA,QACAE,EAHsB,EAGtBA,KACAxB,EAJsB,EAItBA,QACAuB,EALsB,EAKtBA,SACAE,EANsB,EAMtBA,QANsB,OAOlB,kBAAC,KAAD,CAAaD,KAAMA,EAAMO,iBAAkBR,EAAUE,QAASA,GAC5D,kBAAC,KAAD,CAAoBO,UAAWF,EAAQR,GAAUtB,QAAS,0BAAMgC,UAAWF,EAAQ5B,WAT9D,UAURoB,EAA4B,kBAAC,KAAD,CAAUU,UAAWF,EAAQzB,OAAW,KACpEL,EAZU,YAaVsB,EAA8B,kBAAC,KAAD,CAAWU,UAAWF,EAAQvB,UAAW0B,QAASR,IAAc,aCxBtGlD,GAA4B,4BAC5BE,GAAiB,iBACjByD,GAAmB,CAC9BlC,QAAS,KACTuB,SAAU,KACVC,MAAM,EACNF,QDIiC,eCiBtBD,GAAe,SAAAvc,GAAK,OAAIA,EAAMqd,UCf5BC,eAAgB,CAC7Bld,gBACAoI,WACA+K,cACAI,kBACAjF,MACAlD,SvBjBc,WAAuC,IAAtCxL,EAAqC,uDAA7B4T,GAAkB3T,EAAW,uCACpD,OAAQA,EAAOC,MACb,IAJwB,eAMpB,OAAO,eAAKF,EAAZ,GACKC,EAAOpE,OAIhB,QACE,OAAOmE,IuBQXnD,YACA0Y,KrBdc,WAAmC,IAAlCvV,EAAiC,uDAAzByU,GAAcxU,EAAW,uCAChD,OAAQA,EAAOC,MACb,IATyB,gBAWrB,OAAO0U,GAAgB3U,EAAOpE,OAGlC,QACE,OAAOmE,IqBOXqd,SDbc,WAAuC,IAAtCrd,EAAqC,uDAA7Bod,GAAkBnd,EAAW,uCACpD,OAAQA,EAAOC,MACb,KAAKuZ,GAED,OAAO,eAAKzZ,EAAZ,GACKC,EAAOpE,OAIhB,KAAK8d,GAED,OAAOyD,GAGX,QACE,OAAOpd,ICDXia,OPdc,WAAsC,IAArCja,EAAoC,uDAA5B4Z,GAAiB3Z,EAAW,uCACnD,OAAQA,EAAOC,MACb,IAX0B,iBAatB,OAAO,eAAKF,EAAZ,CACE8Z,aAAc7Z,EAAOpE,QAI3B,IAjB4B,mBAkB1B,OAAO,eAAKmE,EAAZ,CACE8Z,aAAcF,GAAgBE,eAGlC,IArBuB,cAsBrB,OAAO,eAAK9Z,EAAZ,CACE6Z,UAAW5Z,EAAOpE,QAGtB,IAzB8B,qBA0B5B,OAAO,eAAKmE,EAAZ,CACE+Z,gBAAiB9Z,EAAOpE,QAG5B,QACE,OAAOmE,IOVXyH,MTtBc,WAAoC,IAAnCzH,EAAkC,uDADtB,KACWC,EAAW,uCACjD,OAAQA,EAAOC,MACb,IAJqB,YAMjB,OAAOD,EAAOpE,MAGlB,QACE,OAAOmE,MSkBAud,GAAqB,SAAAvd,GAAK,OAAI+a,GAAqB/a,GAAOmE,KAAI,SAAAqZ,GACzE,IAAMhS,EAAWiS,GAA0Bzd,GAAOwd,EAAIpX,IACtD,OAAO,eAAKoX,EAAZ,CACElY,KAAMkG,EAAWA,EAASlG,KAAO,SCZtBoY,GAfQ,SAAAC,GAIrB,IAAMC,EAAqC,kBAAXC,QAAuBA,OAAOC,qCAAuCD,OAAOC,qCAAqC,CAC/IxY,KAAM,wBACHyY,IAML,OAJKF,OAAOC,qCAILE,YAAYC,GAASL,EAAiBM,IAAe,WAAf,cAAmBP,OCflD,mBACd7G,EADc,EACdA,SADc,OAEV,SAAAqH,GAAI,OAAI,SAAAle,GACe,kBAApBA,EAAOuL,WAA0B1F,MAAMC,QAAQ9F,EAAOuL,WAAasL,EAAS+B,GAAc5Y,EAAOuL,WACxG2S,EAAKle,M,oFCIDme,G,8MACJC,0BAA4B,YAKrB,IAJLC,EAII,EAJJA,aACAC,EAGI,EAHJA,YACA3X,EAEI,EAFJA,kBACA4X,EACI,EADJA,iBAEM7Y,EAAS,EAAKtB,MAAMsB,OACpB8Y,EAAa3Y,MAAM4Y,KAAK/Y,EAAO2Y,IAFjC,EAGYG,EAAWzQ,OAAOuQ,EAAa,GAAxCI,EAHH,oBAKAL,IAAiB1X,GACnB6X,EAAWzQ,OAAOwQ,EAAkB,EAAGG,GACvC,EAAKta,MAAMua,oBAAX,eAAoCjZ,EAApC,eACG2Y,EAAeG,MAGd1Q,oCAA0B,EAAK1J,MAAMnE,KAAMyF,EAAOiB,GAAoBA,IACxE,EAAKvC,MAAMwa,gBAAX,eACGF,EAAQ,CACPvZ,OAAQwB,EACRkH,MAAO0Q,M,EAMjBM,qBAAuB,YAIhB,IAHL1Z,EAGI,EAHJA,OACA0I,EAEI,EAFJA,MACAD,EACI,EADJA,YACI,EAIA,EAAKxJ,MAFPsB,EAFE,EAEFA,OACAzF,EAHE,EAGFA,KAGF,GAAK6N,oCAA0B7N,EAAMyF,EAAOP,GAASA,GAArD,CAIA,EAAKf,MAAMwa,gBAAX,eACGhR,EAAc,CACbzI,SACA0I,WAGJ,IAAMkC,EAAQ,EAAK3L,MAAM6I,iBAAiBW,GACvBpJ,SAASuL,IAAUA,EAAMjJ,UAEzB0K,qCAA2B5D,EAAa6D,4BACzD,EAAKrN,MAAM0a,mBAAmBlR,K,EAGlCmR,UAAY,SAAAC,GAAW,IAEnBC,EAGED,EAHFC,OACAC,EAEEF,EAFFE,YACAC,EACEH,EADFG,YAGGD,IrCnEwB,eqCuEzBD,EAAOG,YACT,EAAKP,qBAAqB,CACxB1Z,OAAQ+Z,EAAYE,YACpBvR,MAAOqR,EAAYrR,MACnBD,YAAauR,IAGf,EAAKf,0BAA0B,CAC7BC,aAAcY,EAAOG,YACrBd,YAAaW,EAAOpR,MACpBlH,kBAAmBuY,EAAYE,YAC/Bb,iBAAkBW,EAAYrR,U,0EAMlC,OAAO,kBAAC,KAAD,CAAiBkR,UAAWM,KAAKN,WAC3BM,KAAKjb,MAAMjG,c,GAnFHmhB,aA+GVjD,sBAZS,SAAAtc,GAAK,MAAK,CAChC2F,OAAQkJ,GAAa7O,GACrBE,KAAMyO,GAAW3O,GACjBkN,iBAAkB4B,GAAY9O,OAGL,SAAA8W,GAAQ,MAAK,CACtC+H,gBAAiB,SAAA1a,GAAG,OAAI2S,EAASgB,GAAwB3T,KACzD4a,mBAAoB,SAAAlR,GAAW,OAAIiJ,EAASyB,GAAyB1K,KACrE+Q,oBAAqB,SAAAjZ,GAAM,OAAImR,EAASe,GAAclS,QAGzC2W,CAA6C8B,I,gCCvG7CoB,GAZM,SAAC,GAGf,IAFLrC,EAEI,EAFJA,QACG9Y,EACC,2BACJ,OAAO,kBAACob,GAAA,EAAD,eAAQC,YAAU,iBAAoBrb,EAAtC,CAA6C8Y,QAASA,EAASjd,KAAK,SAASyf,SAAO,IAChFvgB,KAAKmG,EAAE,Y,2QCVPwX,GAAS,CACpB6C,UAAW,CACTlE,WAAY,QAEdmE,iBAAkB,CAChBC,SAAU,SACVC,WAAY,QAEdC,oBAAqB,CACnBF,SAAU,MACVC,WAAY,UCRHE,GAAmB,SAAO/f,EAAMggB,GAAb,mBAAAthB,EAAAC,OAAA,kEAAAD,EAAA,MACbpB,yBADa,cACxBE,EADwB,OAExB6c,EAAM7c,EAAGC,IAAIC,SACbN,EAHwB,UAGfid,EAAIzb,QAHW,gBAGIoB,GAHJ,kBAIvBqa,EAAI4F,MAAM7iB,EAAK,CACpB8iB,OAAQ,OACRC,KAAMH,EACNI,QAAS,IAAIC,QAAQhG,EAAIiG,kBACxB/iB,MAAK,SAAAgjB,GAAG,OAAIA,EAAIC,WARW,sCAW1BC,GAAsB,SAACC,EAAKpY,EAASjI,GAWzC,OAVAqgB,EAAMA,EAAIC,iBAAiBrY,EAAQ9F,cAAcoe,oBAAoBtY,EAAQ5G,iBAEzE4G,EAAQuY,kBACVH,EAAMA,EAAII,oBAAoBxY,EAAQuY,kBAGpCxgB,EAAQ0gB,qBACVL,EAAMA,EAAIM,uBAAuB3gB,EAAQ0gB,qBAGpCL,GAGIO,GAAmB,2CAAAviB,EAAAC,OAAA,uDAC9B2J,EAD8B,EAC9BA,QACAnM,EAF8B,EAE9BA,OACAkE,EAH8B,EAG9BA,QACA8I,EAJ8B,EAI9BA,KACAD,EAL8B,EAK9BA,QAL8B,WAAAxK,EAAA,MAObpB,yBAPa,cAOxBE,EAPwB,OAQxB6c,EAAM7c,EAAGC,IAAIC,SACfgjB,GAAM,IAAIljB,EAAG0jB,UAAUC,SAAUC,UAAU9Y,GAAS+Y,WAAWllB,GAAQmlB,kBAAkBC,SAASpY,EAAK9L,KAAK,MAAMmkB,YAAYtY,EAAQ7L,KAAK,MAC/IqjB,EAAMD,GAAoBC,EAAKpY,EAASjI,GAEpCiI,EAAQhG,mBACVoe,EAAMA,EAAIe,wBAGRnZ,EAAQ/F,gBACVme,EAAMA,EAAIgB,qBAGRpZ,EAAQ5F,gBACVge,EAAMA,EAAIiB,qBAGNvkB,EAAM,IAAIwkB,IAAJ,UAAWvH,EAAIzb,QAAf,YAA0B8hB,EAAImB,YAA9B,UAA+ClE,OAAOre,SAASwiB,QAA/D,OAAwEnE,OAAOre,SAASyiB,WACpGje,OAAOC,QAAQ2c,EAAIsB,cAAcpd,SAAQ,mCAAEmE,EAAF,KAAOpN,EAAP,YAAkByB,EAAI6kB,aAAaC,OAAOnZ,EAAKpN,MAzB1D,kBA0BvByB,GA1BuB,uCA4BnB+kB,GAAkB,2CAAAzjB,EAAAC,OAAA,uDAC7B2J,EAD6B,EAC7BA,QACAnM,EAF6B,EAE7BA,OACAkE,EAH6B,EAG7BA,QACA+hB,EAJ6B,EAI7BA,SACAlX,EAL6B,EAK7BA,KAL6B,WAAAxM,EAAA,MAOZpB,yBAPY,cAOvBE,EAPuB,OAQvB6c,EAAM7c,EAAGC,IAAIC,SACfgjB,GAAM,IAAIljB,EAAG0jB,UAAUC,SAAUC,UAAU9Y,EAAkB,iBAAT4C,GAAyBmW,WAAWllB,GAAQkmB,kBAAkB/Z,EAAQ5F,eAAe4f,oBAAoBha,EAAQ/E,iBAEzKmd,EAAMD,GAAoBC,EAAKpY,EAASjI,GAEpC6K,IACFwV,EAAMA,EAAI6B,SAASrX,IAGjBkX,IACF1B,EAAMA,EAAI8B,mBAAmBJ,IAGzBhlB,EAAM,IAAIwkB,IAAJ,UAAWvH,EAAIzb,QAAf,YAA0B8hB,EAAImB,YAA9B,UAA+ClE,OAAOre,SAASwiB,QAA/D,OAAwEnE,OAAOre,SAASyiB,WACpGje,OAAOC,QAAQ2c,EAAIsB,cAAcpd,SAAQ,mCAAEmE,EAAF,KAAOpN,EAAP,YAAkByB,EAAI6kB,aAAaC,OAAOnZ,EAAKpN,MAtB3D,kBAuBtByB,GAvBsB,uCChClBqlB,GAAb,YACE,WAAYte,GAAQ,IAAD,+BACjB,8CAAMA,KAaRue,WAAa,SAAAC,GAAM,OAAI,EAAKC,SAAS,CACnCC,SAAUF,GAAU,QAfH,EAiBnBG,cAAgB,SAAC5c,EAAIyc,EAAQI,GAC3B,IAAMha,EAAG,UAAM7C,EAAN,WACH8c,EAAU,CACdH,SAAUF,GAAU,MAGX,WAAPzc,IACF8c,EAAQD,SAAWA,GAAY,MAGjC,EAAKH,SAAL,eACG7Z,EAAMia,KA5BQ,EA+BnBC,cAAgB,SAAA9mB,GAAM,OAAI,oCAAAuC,EAAAC,OAAA,yDAIpB,EAAKwF,MAFPmE,EAFsB,EAEtBA,QACAf,EAHsB,EAGtBA,OAEIyY,EAAW,IAAIkD,iBACZhB,OAAO,WAAY5Z,EAAQlD,MAEhCmC,GACFyY,EAASkC,OAAO,MAAO3a,GATD,WAAA7I,EAAA,MAYLqhB,GAAiB5jB,EAAQ6jB,IAZpB,OAYlBQ,EAZkB,OAalBpjB,EAAMwkB,IAAIuB,gBAAgB3C,GAChC,EAAKkC,aACL/E,OAAOnB,KAAKpf,EAAK,UAfO,wCA/BP,EAgDnBgmB,aAAe,SAACjnB,EAAQimB,EAAUlX,GAAnB,OAA4B,gCAAAxM,EAAAC,OAAA,yDAIrC,EAAKwF,MAFPmE,EAFuC,EAEvCA,QACAyY,EAHuC,EAGvCA,mBAHuC,WAAAriB,EAAA,MAKvByjB,GAAgB,CAChC7Z,UACAnM,SACAkE,QAAS,CACP0gB,sBAEFqB,WACAlX,UAZuC,OAKnC9N,EALmC,OAerCglB,EACF,EAAKU,cAAc,UAEnB,EAAKA,cAAc,YAGrB,EAAKJ,aACL/E,OAAOnB,KAAKpf,EAAKjB,EAAOgP,MAAM,aAAe,OAAS,UAtBb,uCAhDxB,EAwEnBkY,cAAgB,SAAAlnB,GAAM,OAAI,oCAAAuC,EAAAC,OAAA,yDAMpB,EAAKwF,MAJPmE,EAFsB,EAEtBA,QACAa,EAHsB,EAGtBA,KACAD,EAJsB,EAItBA,QACA6X,EALsB,EAKtBA,mBALsB,WAAAriB,EAAA,MAONuiB,GAAiB,CACjC3Y,UACAnM,SACAkE,QAAS,CACP0gB,sBAEF5X,OACAD,aAdsB,OAOlB9L,EAPkB,OAgBxBugB,OAAOnB,KAAKpf,EAAgB,SAAXjB,EAAoB,SAAW,QAhBxB,uCAxEP,EA0FnBmnB,oBAAsB,kBAAM,6BAClB,kBAAC,KAAD,CAAeC,UAAU,OAAOrkB,KAAKmG,EAAE,aACvC,kBAAC,KAAD,CAAU4X,QAAS,EAAKgG,cAAc,QAClC,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAe/jB,KAAKmG,EAAE,kBAE1B,kBAAC,KAAD,CAAU4X,QAAS,EAAKgG,cAAc,QAClC,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAe/jB,KAAKmG,EAAE,kBAtGjB,EAyGnBme,iBAAmB,kBAAM,6BACf,kBAAC,KAAD,CAAeD,UAAU,OAAOrkB,KAAKmG,EAAE,UACvC,kBAAC,KAAD,CAAU4X,QAAS,EAAKoG,cAAc,QAClC,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAenkB,KAAKmG,EAAE,kBAE1B,kBAAC,KAAD,CAAU4X,QAAS,EAAKoG,cAAc,QAClC,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAenkB,KAAKmG,EAAE,gBAE1B,kBAAC,KAAD,CAAU4X,QAAS,EAAKoG,cAAc,SAClC,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAenkB,KAAKmG,EAAE,oBAzHlC,EAAKvF,MAAQ,CACX+iB,SAAU,KACVY,cAAe,CACbZ,SAAU,KACVE,SAAU,MAEZW,gBAAiB,CACfb,SAAU,OATG,EADrB,wEAgIY,IAAD,OACP,OAAO,kBAAC,WAAD,KACK,kBAAC,KAAD,CAAQ7F,UAAWoC,KAAKjb,MAAM6Y,UAAWC,QAAS,SAAA0G,GAAK,OAAI,EAAKjB,WAAWiB,EAAMC,gBAAgBC,eAAe,EAAMC,oBAAoB,EAAMC,UAAW3E,KAAKjb,MAAMmE,SACjKpJ,KAAKmG,EAAE,aAEZ,kBAAC,KAAD,CAAMmX,KAAMjY,QAAQ6a,KAAKtf,MAAM+iB,UAAWA,SAAUzD,KAAKtf,MAAM+iB,SAAUmB,aAAcnH,GAAO8C,iBAAkBsE,mBAAoB,KAAMxH,QAAS,kBAAM,EAAKiG,eACzJtD,KAAKjb,MAAMkC,UAAY2K,uBAAuBoO,KAAKoE,mBAAqBpE,KAAKkE,sBAC9E,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAeC,UAAU,OACpBrkB,KAAKmG,EAAE,sBAEZ,kBAAC,KAAD,CAAU4X,QAAS,SAAA0G,GAAK,OAAI,EAAKb,cAAc,SAAUa,EAAMC,cAAe,UAC1E,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,aACA,kBAAC,KAAD,CAAgBM,MAAOrH,GAAO6C,aAElC,kBAAC,KAAD,CAAUzC,QAAS,SAAA0G,GAAK,OAAI,EAAKb,cAAc,SAAUa,EAAMC,cAAe,SAC1E,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,YACA,kBAAC,KAAD,CAAgBM,MAAOrH,GAAO6C,aAElC,kBAAC,KAAD,CAAUzC,QAAS,SAAA0G,GAAK,OAAI,EAAKb,cAAc,SAAUa,EAAMC,cAAe,SAC1E,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,cACA,kBAAC,KAAD,CAAgBM,MAAOrH,GAAO6C,aAElC,kBAAC,KAAD,CAAUzC,QAAS,SAAA0G,GAAK,OAAI,EAAKb,cAAc,SAAUa,EAAMC,cAAe,SAC1E,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,YACA,kBAAC,KAAD,CAAgBM,MAAOrH,GAAO6C,aAElC,kBAAC,KAAD,CAAUzC,QAAS,SAAA0G,GAAK,OAAI,EAAKb,cAAc,WAAYa,EAAMC,iBAC7D,kBAAC,KAAD,KACI,kBAAC,KAAD,OAEJ,kBAAC,KAAD,KAAe1kB,KAAKmG,EAAE,aACtB,kBAAC,KAAD,CAAgB6e,MAAOrH,GAAO6C,cAGtC,kBAAC,KAAD,CAAMlD,KAAMjY,QAAQ6a,KAAKtf,MAAM2jB,cAAcZ,UAAWA,SAAUzD,KAAKtf,MAAM2jB,cAAcZ,SAAUmB,aAAcnH,GAAOiD,oBAAqBrD,QAAS,kBAAM,EAAKqG,cAAc,YAC7K,kBAAC,KAAD,CAAeS,UAAU,OACpBrkB,KAAKmG,EAAE,uBAEZ,kBAAC,KAAD,CAAU4X,QAASmC,KAAKgE,aAAahE,KAAKtf,MAAM2jB,cAAcV,SAAU,QAAxE,MAGA,kBAAC,KAAD,CAAU9F,QAASmC,KAAKgE,aAAahE,KAAKtf,MAAM2jB,cAAcV,SAAU,SAAxE,QAGA,kBAAC,KAAD,CAAU9F,QAASmC,KAAKgE,aAAahE,KAAKtf,MAAM2jB,cAAcV,SAAU,SAAxE,SAIJ,kBAAC,KAAD,CAAMvG,KAAMjY,QAAQ6a,KAAKtf,MAAM4jB,gBAAgBb,UAAWA,SAAUzD,KAAKtf,MAAM4jB,gBAAgBb,SAAUmB,aAAc,CAC/HpE,SAAU,MACVC,WAAY,SACXpD,QAAS,kBAAM,EAAKqG,cAAc,cACvB,kBAAC,KAAD,CAAeS,UAAU,OACpBrkB,KAAKmG,EAAE,mBAEZ,kBAAC,KAAD,CAAU4X,QAASmC,KAAKgE,aAAa,OAAQ,KAAM,iBAAnD,QAGA,kBAAC,KAAD,CAAUnG,QAASmC,KAAKgE,aAAa,MAAO,KAAM,iBAAlD,OAGA,kBAAC,KAAD,MACA,kBAAC,KAAD,CAAeG,UAAU,OACpBrkB,KAAKmG,EAAE,kBAEZ,kBAAC,KAAD,CAAU4X,QAASmC,KAAKgE,aAAa,UAArC,SAGA,kBAAC,KAAD,CAAUnG,QAASmC,KAAKgE,aAAa,MAAO,KAAM,cAAlD,sBAjNpB,GAAkC/D,aAyN5B8E,GAA6BC,aAAe,CAAClV,KAAuB,SAAA7B,GAAc,OAAIA,EAAegX,cAAW7jB,KAoBvG4b,sBATS,SAAAtc,GAAK,MAAK,CAChCwI,QAASwK,GAAYhT,GACrBihB,mBAAoBoD,GAA2BrkB,GAC/CqJ,KAAMwF,GAAa7O,GAAOqJ,KAC1BD,QAASyF,GAAa7O,GAAOoJ,QAC7B3B,MAAO8R,GAAUvZ,GACjBuG,QAASoI,GAAW3O,MAGkB,GAAzBsc,CAA6BqG,I,4CC5N7BrG,sBATS,SAAAtc,GAAK,MAAK,CAChCsN,iBAAkB6B,GAAuBnP,GACzCoG,IAAK4M,GAAYhT,IAAU,IAAIoG,OAGN,SAAA0Q,GAAQ,MAAK,CACtCqG,QAAS,kBAAMrG,EAAS0B,UAGX8D,CAA6CQ,sBA5B7C,SAAA0H,GAAK,MAAK,CACvBjJ,KAAM,CACJC,YAAagJ,EAAMC,QAAQC,KAC3BC,UAAW,MAyB6C7H,EArBvB,SAAAzY,GAAK,OAAI,kBAAC,KAAD,CAAQ6Y,UAAW7Y,EAAM6Y,UAAW0H,KAAK,QAAQX,UAAW5f,EAAM+B,GAAI2d,eAAe,EAAMC,oBAAoB,EAAM7G,QAAS9Y,EAAM8Y,SACzK9Y,EAAMiJ,iBAAmB,kBAAC,KAAD,CAAwB4P,UAAW7Y,EAAM2Y,QAAQzB,OAAW,kBAAC,KAAD,CAAuB2B,UAAW7Y,EAAM2Y,QAAQzB,OACrInc,KAAKmG,EAAE,wB,mDCNDsf,GAVI,SAAC,GAAD,IACjB1H,EADiB,EACjBA,QACG9Y,EAFc,kCAGb,kBAACob,GAAA,EAAD,iBAAYpb,EAAZ,CAAmBnE,KAAK,SAAS4kB,WAAS,EAAC3H,QAASA,IACjD/d,KAAKmG,EAAE,UCRHwf,GAAW,kBAAM,yBAAKpJ,MAAM,MAAMC,OAAO,MAAMoJ,MAAM,8BAC1D,0BAAM7N,EAAE,4pDAA4pD8N,KAAK,UAAUC,SAAS,cAEvrDC,GAAc,kBAAM,yBAAKxJ,MAAM,MAAMC,OAAO,MAAMoJ,MAAM,8BAC7D,uBAAGC,KAAK,UAAUC,SAAS,WACvB,0BAAM/N,EAAE,ubACR,0BAAMA,EAAE,kyBACR,0BAAMA,EAAE,0pBACR,0BAAMA,EAAE,kWAGPiO,GAAY,kBAAM,yBAAKzJ,MAAM,KAAKC,OAAO,KAAKoJ,MAAM,8BACzD,uBAAGC,KAAK,UAAUC,SAAS,WACvB,0BAAM/N,EAAE,grBACR,0BAAMA,EAAE,mnBACR,0BAAMA,EAAE,s1BACR,0BAAMA,EAAE,qyBAGPkO,GAAc,kBAAM,yBAAKzJ,OAAO,MAAMD,MAAM,MAAMqJ,MAAM,8BAC7D,uBAAGC,KAAK,QACJ,0BAAM9N,EAAE,oPAAoP8N,KAAK,YACjQ,0BAAM9N,EAAE,qkCAAqkC8N,KAAK,eAGjlCK,GAAgB,kBAAM,yBAAK1J,OAAO,MAAMD,MAAM,MAAMqJ,MAAM,8BAC/D,uBAAGC,KAAK,QACJ,0BAAM9N,EAAE,gPAAgP8N,KAAK,YAC7P,0BAAM9N,EAAE,wkCAAwkC8N,KAAK,eAGplCM,GAAe,kBAAM,yBAAK3J,OAAO,KAAK4J,QAAQ,YAAY7J,MAAM,KAAKqJ,MAAM,8BAChF,uBAAGC,KAAK,UAAUQ,UAAU,kBACxB,0BAAMtO,EAAE,0MACR,0BAAMA,EAAE,4GACR,0BAAMA,EAAE,s0BCjCPuO,GACX,WAAYnK,EAAMrZ,EAAOyjB,GAAc,qBACrCrG,KAAK/D,KAAOA,EACZ+D,KAAKpd,MAAQA,EACbod,KAAKqG,YAAcA,GAIVC,GAAb,YACE,aAAe,wEACPb,GAAU3lB,KAAKmG,EAAE,qBAAsBnG,KAAKmG,EAAE,kHAFxD,4BAAwCmgB,IAM3BG,GAAb,YACE,aAAe,wEACPR,GAAajmB,KAAKmG,EAAE,mBAAoBnG,KAAKmG,EAAE,sCAFzD,4BAAmCmgB,IAMtBI,GAAb,YACE,aAAe,wEACPR,GAAelmB,KAAKmG,EAAE,qBAAsBnG,KAAKmG,EAAE,wCAF7D,4BAAqCmgB,IAMxBK,GAAb,YACE,WAAYxf,GAAU,wEACd4e,GAAa/lB,KAAKmG,EAAE,iBAAkBnG,KAAKmG,EAAE,6DAA8D,CAC/GgB,QAASyf,kCAAwBzf,GACjCiH,KAAMyY,GAA4B1f,OAJxC,4BAAmCmf,IAStBQ,GAAb,YACE,WAAY3f,GAAU,qBACpB,IAAM4f,EAAaC,oCAA0B7f,EAASmD,qBADnC,mDAEb0b,GAAWhmB,KAAKmG,EAAE,eAAgBnG,KAAKmG,EAAE,4DAA6D,CAC1GgB,QAASyf,kCAAwBzf,GACjCiH,KAAM2Y,EAAaE,sBAAYF,GAAcF,GAA4B1f,OAL/E,4BAAiCmf,IAUpBY,GAAb,YACE,WAAY/f,GAAU,wEACdgf,GAAcnmB,KAAKmG,EAAE,wBAAyBnG,KAAKmG,EAAE,0DAA2D,CACpHgB,QAASyf,kCAAwBzf,OAHvC,4BAAwCmf,IAQ3Ba,GAAb,YACE,aAAe,wEACPhB,GAAcnmB,KAAKmG,EAAE,wBAAyBnG,KAAKmG,EAAE,2DAF/D,4BAAwCmgB,IAM3Bc,GAAb,YACE,aAAe,wEACPjB,GAAcnmB,KAAKmG,EAAE,2DAA4DnG,KAAKmG,EAAE,kFAFlG,4BAAyDmgB,IAM5Ce,GAAb,YACE,aAAe,wEACPlB,GAAcnmB,KAAKmG,EAAE,gDAAiDnG,KAAKmG,EAAE,iEAFvF,4BAAqDmgB,IAO/CO,GAA8B,SAAA1f,GAIlC,IAHA,IAAMiH,EAAOtG,2BAAiBX,GAC1BmgB,EAAkB,GAEb5Y,EAAQ,EAAGA,EAAQN,EAAKzG,OAAQ+G,IACvC4Y,GAAmBL,sBAAY7Y,EAAKM,IAEhCA,EAAQN,EAAKzG,OAAS,EACxB2f,GAAmB,KACV5Y,EAAQN,EAAKzG,OAAS,IAC/B2f,GAAe,WAAQtnB,KAAKmG,EAAE,MAAf,MAInB,OAAOmhB,GCjFHC,GAAoB,SAACnX,EAAWtS,GACpC,IAAMsS,IAAaoX,2BAAiBpX,EAAW,CAC7CqX,cAAc,IAEd,MAAM3pB,GAIJ4pB,GAAe,SAAC1f,EAAMlK,GAC1B,IAbkB,SAAAkK,GAAI,OAAIiO,OAAK0R,QAAQ3f,IAASA,EAAKmD,MAAK,SAAAyc,GAAQ,OAAIJ,2BAAiBI,EAAU,CACjGH,cAAepV,qCAA2BuV,EAASxX,UAAWkC,gCAYzDuV,CAAY7f,GACf,MAAMlK,GA8BGgqB,GAAiB,SAAAvhB,GAG5B,OAFAghB,GAAkBvc,6BAAmBzE,EAAQ+D,qBAAoB,IAAIwc,GAAYvgB,EAAOzF,OAEhFyF,EAAOzF,MACb,KAAK2Q,eACH,OAfoB,SAAAlL,GACxBmhB,GAAanhB,EAAOyD,QAAS,IAAIyc,IACjCc,GAAkBvc,6BAAmBzE,EAAQ6D,uBAAsB,IAAIuc,GAAcpgB,EAAOzF,OAajFinB,CAAkBxhB,GAE3B,KAAKgL,iCACL,KAAKD,+BACH,OA3B6B,SAAA/K,GACjC,IAAMG,MAAMC,QAAQJ,EAAM,eAA8E,kBAAxCA,EAAM,aAA2B,GAC/F,MAAM,IAAIkgB,GAGZiB,GAAanhB,EAAO0D,KAAM,IAAIyc,IAsBnBsB,CAA2BzhB,GAEpC,KAAKoL,wBACL,KAAKC,iBACH,OAlB4B,SAAArL,GAChCghB,GAAkBvc,6BAAmBzE,EAAQ6D,uBAAsB,IAAIuc,GAAcpgB,EAAOzF,OAiBjFmnB,CAA0B1hB,GAEnC,QACE,OAzCwB,SAAAA,GAC5BmhB,GAAanhB,EAAOyD,QAAS,IAAIyc,IACjCiB,GAAanhB,EAAO0D,KAAM,IAAIyc,IAC9Ba,GAAkBvc,6BAAmBzE,EAAQ6D,uBAC7C,IAAIuc,GAAcpgB,EAAOzF,OAqCdonB,CAAsB3hB,KC7DtB4hB,GAAiB,0BACjBC,GAAe,SAAM9pB,GAAN,SAAAkB,EAAAC,OAAA,kEAAAD,EAAA,MAAkBlB,EAAG+pB,YAAYC,UAAU3S,IAF9C,cAEG,8EACf4S,GAAe,SAAOjqB,EAAI8pB,GAAX,SAAA5oB,EAAAC,OAAA,oDAA4B2oB,EAA5B,kCAAA5oB,EAAA,MAAiDlB,EAAG+pB,YAAYC,UAAU7pB,IAH7E,cAGG,2DAAAe,EAAA,MAAiGlB,EAAG+pB,YAAYC,UAAUE,OAH7H,cAGG,gGACfC,GAAU,SAAOxR,EAAMpN,EAAK6e,GAAlB,iBAAAlpB,EAAAC,OAAA,2EAAAD,EAAA,MAEFpB,yBAFE,UAEbE,EAFa,YAGRoqB,EAHQ,oCAAAlpB,EAAA,KAGY+oB,GAHZ,KAGyBjqB,EAHzB,YAAAkB,EAAA,MAGoC4oB,GAAa9pB,IAHjD,4HAGbqqB,EAHa,uBAIZA,EAAGC,IAAI/e,EAAKoN,IAJA,2DAMZpZ,EAAQ,EAAD,KANK,0DASVgrB,GAAW,SAAOhf,EAAK6e,GAAZ,iBAAAlpB,EAAAC,OAAA,2EAAAD,EAAA,MAEHpB,yBAFG,UAEdE,EAFc,YAGToqB,EAHS,oCAAAlpB,EAAA,KAGW+oB,GAHX,KAGwBjqB,EAHxB,YAAAkB,EAAA,MAGmC4oB,GAAa9pB,IAHhD,4HAGdqqB,EAHc,uBAIbA,EAAGlqB,IAAIoL,IAJM,2DAMbhM,EAAQ,EAAD,KANM,0DASXirB,GAA2B,SAAC1f,GAAD,IAAUS,EAAV,uDAAgBse,GAAhB,OAAmCM,GAAQrf,EAASS,IAC/Ekf,GAA8B,eAAClf,EAAD,uDAAOse,GAAP,OAA0BU,GAAShf,ICiBxEmf,GAAqB,CACzBC,WAAY,kBAAM,SAACvR,EAAUC,GAAX,OAAwB/D,GAAY+D,OACtDuR,iBAAkB,kBAAM,SAACxR,EAAUC,GAAX,OAAwB9D,GAAkB8D,OAClEwR,SAAUC,EAAwB3R,kBAClCsD,kBACAC,oBACAqO,eAAgB,kBAAMpO,IAAmB,KAE5BiC,qBAAQ,KAAM8L,GAAd9L,EAzCsB,SAAC,GAQ/B,IAPLoM,EAOI,EAPJA,gBACAL,EAMI,EANJA,WACAC,EAKI,EALJA,iBACAC,EAII,EAJJA,SACApO,EAGI,EAHJA,eACAC,EAEI,EAFJA,iBACAqO,EACI,EADJA,eAuBA,OAAOC,GAnBS,WACd,IACExB,GAAeoB,KACflO,IACA,MAAOld,GACPid,EAAejd,GAAS,IAAIopB,IAG9BmC,IACAF,IACA,IAAMI,EAA0BlpB,EAAQD,SAASyiB,WAAa,IAAMsF,GAC9D/e,EAAU6f,IACVO,EAA4BpgB,GAAWA,EAAQpC,GAAnB,WAA4BoC,EAAQpC,IAAO,IAExEuiB,GAA2BlpB,EAAQD,SAASyiB,WAAa2G,GAC5DnpB,EAAQoJ,KAAK+f,S,+DC9BNC,GAAS,CACpB9L,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,uEACvC8W,UAAW,kBAEA4L,GAAa,CACxB/L,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,8BAAD,OAA+B2iB,WAAQC,KAAvC,8EAAkHhN,UAAOiN,QAAzH,0BAAkJF,WAAQG,IAA1J,QACtChM,UAAW,kBAMAiM,IAHH,kBAAC,KAAD,CAAW/iB,GAAI,cAAe,CAAC,yCAGV,CAC7B2W,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,2DAAD,OAA4D2iB,WAAQK,KAApE,iCAAiGpN,UAAOqN,QAAxG,6HACtCnM,UAAW,mBAEAoM,GAAmB,CAC9BvM,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,mEAAD,OAAoE2iB,WAAQC,KAA5E,QACtC9L,UAAW,kBAEAqM,GAAuB,CAClCxM,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,sDAAD,OAAuD2iB,WAAQG,IAA/D,QACtChM,UAAW,kBAEAsM,GAAuB,CAClCzM,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,8BAAD,OAA+B2iB,WAAQU,KAAvC,2BAA8DV,WAAQC,KAAtE,QACtC9L,UAAW,kBAEAwM,GAA6B,CACxC3M,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,aAAc,CAAC,4BAAD,OAA6B2iB,WAAQY,IAArC,iBACrCzM,UAAW,iBAEA0M,GAAgC,CAC3C7M,OAAQ,kBAAC,KAAD,CAAW3W,GAAI,cAAe,CAAC,gMACvC8W,UAAW,kB,iCCoBEZ,sBAVS,SAACtc,EAAO6pB,GAAR,MAAsB,CAC5ChuB,MAAO+S,GAAc5O,GAAO6pB,EAASzlB,OAAOkB,UAGnB,SAACwR,EAAU+S,GAAX,MAAyB,CAClDC,SAAU,SAAAjuB,GAAK,OAAIib,EAASc,GAAe,eACxCiS,EAASzlB,OAAOkB,KAAOzJ,SAIbygB,EApDiB,SAAC,GAO1B,IANLlY,EAMI,EANJA,OACA2lB,EAKI,EALJA,MACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,WACApuB,EAEI,EAFJA,MACAiuB,EACI,EADJA,SAEMrpB,EAAe2D,EAAO3D,aADxB,EAE0BjC,mBAAS3C,IAAU4E,GAF7C,mBAEGypB,EAFH,KAEYC,EAFZ,KAGEC,EAAWhmB,EAAO4L,MAAM7I,MAAK,SAAAqD,GAAI,OAAIA,EAAK3O,QAAUA,MAAU,GAOpE,OAAO,yBAAKqhB,WAAY+M,GAAcC,EAAU,GAAKZ,GAAiBpM,WAC3D+M,EAAa,kBAACI,GAAA,EAAD,CAAUC,QAASJ,EAASH,MAAOA,EAAOzkB,KAAI,UAAKlB,EAAOkB,KAAZ,WAA2BwkB,SAAU,mBAN1F,SAAAQ,GACfH,EAAWG,GACXR,EAASQ,EAAUlmB,EAAO4L,MAAM,GAAGnU,MAAQ4E,GAMrC8pB,CAFmG,EACvGD,UACuBE,OAAK,IAAM,MAC1BP,GAAcC,EAAU,yBAAKhN,UAAW+M,EAAaP,GAA2BxM,UAAY,IACtF,kBAACuN,GAAA,EAAD,CAAmBnlB,KAAI,UAAKlB,EAAOkB,KAAZ,WAA2BykB,MAAOE,EAAa,GAAKF,EAAOD,SAAU,gBACxGM,EADwG,EACxGA,SADwG,OAEpGN,EAASM,EAASvuB,QAAQuuB,SAAUA,EAAUJ,SAAUA,EAAUU,WAAW,QAAQF,OAAK,GAC7EpmB,EAAO4L,MAAM7L,KAAI,gBAChCtI,EADgC,EAChCA,MACAkuB,EAFgC,EAEhCA,MAFgC,OAG5B,kBAACY,GAAA,EAAD,CAAoB1hB,IAAKpN,EAAOA,MAAOA,EAAOkuB,MAAOA,SAE1C,SCKVa,GAtCS,kBAAM,kBAAC,GAAD,CAAkBb,MAAO3qB,KAAKmG,EAAE,oBAAqBykB,SAAU5qB,KAAKmG,EAAE,2EAA4EnB,OAAQ,CACtLkB,KAAM,kBACN0K,MAAO,CAAC,CACNnU,MAAO,UACPkuB,MAAO3qB,KAAKmG,EAAE,oBACb,CACD1J,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,UACb,CACD1J,MAAO,UACPkuB,MAAO3qB,KAAKmG,EAAE,YACb,CACD1J,MAAO,uBACPkuB,MAAO3qB,KAAKmG,EAAE,wCACb,CACD1J,MAAO,MACPkuB,MAAO3qB,KAAKmG,EAAE,QACb,CACD1J,MAAO,OACPkuB,MAAO3qB,KAAKmG,EAAE,eACb,CACD1J,MAAO,wBACPkuB,MAAO3qB,KAAKmG,EAAE,+CACb,CACD1J,MAAO,MACPkuB,MAAO3qB,KAAKmG,EAAE,QACb,CACD1J,MAAO,MACPkuB,MAAO3qB,KAAKmG,EAAE,QACb,CACD1J,MAAO,SACPkuB,MAAO3qB,KAAKmG,EAAE,uBACb,CACD1J,MAAO,WACPkuB,MAAO3qB,KAAKmG,EAAE,kBCJH+W,sBAVS,SAACtc,EAAO6pB,GAAR,MAAsB,CAC5ChuB,MAAO+S,GAAc5O,GAAO6pB,EAASzlB,OAAOkB,QAAS,MAG5B,SAACwR,EAAU+S,GAAX,MAAyB,CAClDC,SAAU,SAAAQ,GAAO,OAAIxT,EAASc,GAAe,eAC1CiS,EAASzlB,OAAOkB,KAAOglB,SAIbhO,EA3BmB,SAAC,GAAD,IAChClY,EADgC,EAChCA,OACA2lB,EAFgC,EAEhCA,MACAluB,EAHgC,EAGhCA,MACAiuB,EAJgC,EAIhCA,SAJgC,OAK5B,yBAAK5M,UAAWoM,GAAiBpM,WAC/B,kBAACmN,GAAA,EAAD,CAAUC,QAASzuB,EAAOkuB,MAAOA,EAAOzkB,KAAMlB,EAAOkB,KAAMwkB,SAAU,gBACzEQ,EADyE,EACzEA,QADyE,OAErER,EAASQ,IAAUE,OAAK,QCPjBK,GAJa,kBAAM,kBAAC,GAAD,CAAoBd,MAAO3qB,KAAKmG,EAAE,oBAAqBnB,OAAQ,CAC/FkB,KAAM,0BCGOwlB,GAJM,kBAAM,kBAAC,GAAD,CAAoBf,MAAO3qB,KAAKmG,EAAE,iBAAkBnB,OAAQ,CACrFkB,KAAM,mBCGOylB,GAJG,kBAAM,kBAAC,GAAD,CAAoBhB,MAAO3qB,KAAKmG,EAAE,kBAAmBnB,OAAQ,CACnFkB,KAAM,gBCGO0lB,GAJM,kBAAM,kBAAC,GAAD,CAAoBjB,MAAO3qB,KAAKmG,EAAE,qBAAsBnB,OAAQ,CACzFkB,KAAM,mBCGO2lB,GAJG,kBAAM,kBAAC,GAAD,CAAoBlB,MAAO3qB,KAAKmG,EAAE,cAAenB,OAAQ,CAC/EkB,KAAM,gBCGO4lB,GAJM,kBAAM,kBAAC,GAAD,CAAoBnB,MAAO3qB,KAAKmG,EAAE,kBAAmBnB,OAAQ,CACtFkB,KAAM,mBCGO6lB,GAJU,kBAAM,kBAAC,GAAD,CAAoBpB,MAAO3qB,KAAKmG,EAAE,sBAAuBnB,OAAQ,CAC9FkB,KAAM,uBCGO8lB,GAJO,kBAAM,kBAAC,GAAD,CAAoBrB,MAAO3qB,KAAKmG,EAAE,mBAAoBnB,OAAQ,CACxFkB,KAAM,oBCaO+lB,GAdI,kBAAM,kBAAC,GAAD,CAAkBtB,MAAO3qB,KAAKmG,EAAE,eAAgBykB,SAAU5qB,KAAKmG,EAAE,iDAAkDnB,OAAQ,CAClJkB,KAAM,aACN0K,MAAO,CAAC,CACNnU,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,UACb,CACD1J,MAAO,iBACPkuB,MAAO3qB,KAAKmG,EAAE,sBACb,CACD1J,MAAO,oBACPkuB,MAAO3qB,KAAKmG,EAAE,8B,sBCsBH+W,sBAVS,SAACtc,EAAO6pB,GAAR,MAAsB,CAC5ChuB,MAAO+S,GAAc5O,GAAO6pB,EAASzlB,OAAOkB,UAGnB,SAACwR,EAAU+S,GAAX,MAAyB,CAClDC,SAAU,SAAAjuB,GAAK,OAAIib,EAASc,GAAe,eACxCiS,EAASzlB,OAAOkB,KAAOzJ,SAIbygB,EA9BgB,SAAC,GAAD,IAC7BlY,EAD6B,EAC7BA,OACA2lB,EAF6B,EAE7BA,MACAluB,EAH6B,EAG7BA,MACAiuB,EAJ6B,EAI7BA,SAJ6B,OAKzB,kBAACwB,GAAA,EAAD,CAAiBhmB,KAAMlB,EAAOkB,KAAMzJ,MAAOA,EAAOiuB,SAAU,gBAChEjuB,EADgE,EAChEA,MADgE,OAE5DiuB,EAASjuB,IAAQkuB,MAAOA,EAAOS,OAAK,GACjCpmB,EAAO4L,MAAM7L,KAAI,gBACtBiC,EADsB,EACtBA,GACA2jB,EAFsB,EAEtBA,MAFsB,OAGlB,kBAACwB,GAAA,EAAD,CAAOtiB,IAAK7C,EAAI2jB,MAAOA,EAAOluB,MAAOuK,WCF9BolB,GAXY,kBAAM,kBAAC,GAAD,CAAiBpnB,OAAQ,CACxDkB,KAAM,qBACN0K,MAAO,CAAC,CACN5J,GAAI,OACJ2jB,MAAO3qB,KAAKmG,EAAE,oCACb,CACDa,GAAI,OACJ2jB,MAAO3qB,KAAKmG,EAAE,mCCIHkmB,GAXe,kBAAM,kBAAC,GAAD,CAAiBrnB,OAAQ,CAC3DkB,KAAM,wBACN0K,MAAO,CAAC,CACN5J,GAAI,QACJ2jB,MAAO3qB,KAAKmG,EAAE,mCACb,CACDa,GAAI,eACJ2jB,MAAO3qB,KAAKmG,EAAE,iDCCZmmB,GAAe,SAAC,GAMf,IALL7vB,EAKI,EALJA,MACA8vB,EAII,EAJJA,QACAprB,EAGI,EAHJA,QACAqrB,EAEI,EAFJA,QACA9B,EACI,EADJA,SAEMM,EAAWvuB,GAASA,EAAMuK,GAAK,CACnCvK,MAAOA,EAAMuK,GACb2jB,MAAOluB,EAAMgwB,aACX,GACJ,OAAO,kBAACpB,GAAA,EAAD,CAAmBnlB,KAAK,yBAAyBykB,MAAO3qB,KAAKmG,EAAE,mBAAoB6kB,SAAUA,EAAUM,WAAW,QAAQoB,YAAa1sB,KAAKmG,EAAE,kCAAmCwmB,YAAa3sB,KAAKmG,EAAE,mBAAoBomB,QAASA,EAASnB,OAAK,EAACoB,QAASA,EAAS9B,SAAU,gBAClRM,EADkR,EAClRA,SADkR,OAE9QN,EAAS,CACbjnB,UAAW,CACTuD,GAAIgkB,EAASvuB,MACbgwB,YAAazB,EAASL,WAGfxpB,EAAQ4D,KAAI,gBACnBtI,EADmB,EACnBA,MACAkuB,EAFmB,EAEnBA,MAFmB,OAGf,kBAACY,GAAA,EAAD,CAAoB1hB,IAAKpN,EAAOA,MAAOA,EAAOkuB,MAAOA,SAYzDiC,GAAc,SAAC,GAGd,IAFLnwB,EAEI,EAFJA,MACAiuB,EACI,EADJA,SAEMnP,EAASsR,cADX,EAE0BztB,mBAAS,IAFnC,mBAEG+B,EAFH,KAEY2rB,EAFZ,OAG4B1tB,oBAAS,GAHrC,mBAGG2tB,EAHH,KAGaC,EAHb,KAKAvwB,GAASA,EAAMuK,KACZ7F,EAAQ4G,MAAK,SAAA/C,GAAM,OAAIA,EAAOvI,QAAUA,EAAMuK,OACjD8lB,EAAW,GAAD,mBAAK3rB,GAAL,CAAc,CACtB1E,MAAOA,EAAMuK,GACb2jB,MAAOluB,EAAMgwB,iBAgCnB,OAAO,kBAAC,GAAD,CAAcF,SAAUQ,EAAUtwB,MAAOA,EAAO0E,QAASA,EAASupB,SAAUA,EAAU8B,QA3BvE,gCAAAhtB,EAAAC,OAAA,mDACfstB,EADe,uBAEZlW,EAAQ,CACZoW,WAAY,CACV1W,SAAU,kBACVlX,OAAQ,iBAAO,CACbuK,OAAQ,6FACRsjB,QAAQ,MAPI,WAAA1tB,EAAA,MAaR+b,EAAO1E,MAAMA,IAbL,iBAYhBoW,EAZgB,EAYhBA,cAIM9rB,EAAU8rB,EAAWA,WAAWloB,KAAI,SAAAtB,GAAS,MAAK,CACtDhH,MAAOgH,EAAUuD,GACjB2jB,MAAOlnB,EAAUyC,SAEnB4mB,EAAW3rB,IAGb6rB,GAAY,GAvBM,yCA0GT9P,sBATS,SAAAtc,GAAK,MAAK,CAChCnE,MAAO+S,GAAc5O,GAAO6C,WAAa,GACzCC,sBAAuB8L,GAAc5O,GAAO8C,0BAGnB,SAAAgU,GAAQ,MAAK,CACtCgT,SAAU,SAAAyC,GAAgB,OAAIzV,EAASc,GAAe2U,QAGzCjQ,EAvEG,SAAC,GAIZ,IAHLzgB,EAGI,EAHJA,MACAiH,EAEI,EAFJA,sBACAgnB,EACI,EADJA,SACI,EAC4CtrB,mBAASiG,QAAQ5I,EAAMuK,KADnE,mBACGomB,EADH,KACqBC,EADrB,KAoBJ,OAAO,kBAAC,WAAD,KACG,kBAACpC,GAAA,EAAD,CAAUC,QAASkC,EAAkBzC,MAAO3qB,KAAKmG,EAAE,kBAAmBukB,SAlBvD,SAAC,GAEnB,IADLQ,EACI,EADJA,QAEAmC,EAAoBnC,GAGlBR,EADEQ,IAAYxnB,EACL,CACPA,sBAAuB,SAGhB,CACPD,eAAWnC,EACXoC,2BAAuBpC,KAM+E8pB,OAAK,IACtGgC,EAAmB,kBAAC,WAAD,KACZ,yBAAKtP,UAAW4L,GAAW5L,WACvB,kBAACwP,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,0BAAMzP,UAAWiM,GAAgBjM,WAC5B9d,KAAKmG,EAAE,iBAGhB,yBAAK2X,UAAWoM,GAAiBpM,WAC7B,kBAAC,GAAD,SAIZ,yBAAKA,UAAW4L,GAAW5L,WACvB,kBAACwP,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,0BAAMzP,UAAWiM,GAAgBjM,WAC5B9d,KAAKmG,EAAE,kBAGW,UAA1BzC,EAAoC,yBAAKoa,UAAWoM,GAAiBpM,WAC9D,kBAAC,GAAD,CAAarhB,MAAOA,EAAOiuB,SAAUA,KAChC,KACb,kBAAC,GAAD,SAGE,S,4BCvFfxN,sBAdS,SAACtc,EAAO6pB,GAAR,MAAsB,CAC5ChuB,MAAO+S,GAAc5O,GAAO6pB,EAASzlB,OAAOkB,OAAS,GACrD4kB,aAAwDxpB,IAA/CkO,GAAc5O,GAAO6pB,EAASzlB,OAAOkB,UAGrB,SAACwR,EAAU+S,GAAX,MAAyB,CAClDC,SAAU,SAAAjuB,GAAK,OAAIib,EAASc,GAAe,eACxCiS,EAASzlB,OAAOkB,KAAOzJ,MAE1B0uB,SAAU,SAAAD,GAAO,OAAIxT,EAASc,GAAe,eAC1CiS,EAASzlB,OAAOkB,KAAOglB,EAAU,QAAK5pB,SAI5B4b,EAxDe,SAAC,GAAD,IAC5Bpc,EAD4B,EAC5BA,KACA6pB,EAF4B,EAE5BA,MACA+B,EAH4B,EAG5BA,YACA9B,EAJ4B,EAI5BA,SACArO,EAL4B,EAK5BA,MACAvX,EAN4B,EAM5BA,OACAvI,EAP4B,EAO5BA,MACAiuB,EAR4B,EAQ5BA,SACAS,EAT4B,EAS5BA,SACAN,EAV4B,EAU5BA,WACAC,EAX4B,EAW5BA,QACA0C,EAZ4B,EAY5BA,OAZ4B,OAaxB,yBAAK1P,WAAY+M,GAAcC,GAAW0C,EAAS,GAAKtD,GAAiBpM,WACtE+M,EAAa,kBAACI,GAAA,EAAD,CAAUC,QAASJ,EAASH,MAAOA,EAAOzkB,KAAI,UAAKlB,EAAOkB,KAAZ,WAA2BwkB,SAAU,gBACrGQ,EADqG,EACrGA,QADqG,OAEjGC,EAASD,IAAUE,OAAK,IAAM,MAC5BP,GAAcC,EAAU,yBAAKhN,UAAW+M,EAAaP,GAA2BxM,UAAY,IACrF0P,EAAS,kBAACC,GAAA,EAAD,CAAalR,MAAOA,GACtB,kBAACmR,GAAA,EAAD,CAAO5sB,KAAMA,EAAM4pB,SAAU,gBAC7CjuB,EAD6C,EAC7CA,MAD6C,OAEzCiuB,EAASjuB,IAAQyJ,KAAMlB,EAAOkB,KAAMzJ,MAAOA,EAAOiwB,YAAaA,EAAatB,OAAK,KACxD,kBAACuC,GAAA,EAAD,CAAY7sB,KAAMA,EAAM6pB,MAAOE,EAAa,GAAKF,EAAOD,SAAU,gBACjGjuB,EADiG,EACjGA,MADiG,OAE7FiuB,EAASjuB,IAAQyJ,KAAMlB,EAAOkB,KAAMzJ,MAAOA,EAAOmuB,SAAUA,EAAU8B,YAAaA,EAAapB,WAAY/O,EAAO6O,OAAK,KAC7G,SC3BfwC,GAAQ,SAAC,GAAD,IACZjD,EADY,EACZA,MACA6C,EAFY,EAEZA,OAFY,OAGR,kBAAC,GAAD,CAAgB1sB,KAAK,OAAOyb,MAAM,QAAQoO,MAAOA,EAAO+B,YAAa1sB,KAAKmG,EAAE,eAAgBnB,OAAQ,CACxGkB,KAAM,SACLsnB,OAAQA,KAEXI,GAAMC,aAAe,CACnBL,QAAQ,GAMKI,UCDAE,GAdQ,kBAAM,kBAAC,GAAD,CAAkBnD,MAAO3qB,KAAKmG,EAAE,mBAAoBnB,OAAQ,CACvFkB,KAAM,iBACN0K,MAAO,CAAC,CACNnU,MAAO,cACPkuB,MAAO3qB,KAAKmG,EAAE,gBACb,CACD1J,MAAO,SACPkuB,MAAO3qB,KAAKmG,EAAE,WACb,CACD1J,MAAO,UACPkuB,MAAO3qB,KAAKmG,EAAE,iBCIH4nB,GAdE,kBAAM,kBAAC,GAAD,CAAkBpD,MAAO3qB,KAAKmG,EAAE,aAAcnB,OAAQ,CAC3EkB,KAAM,WACN0K,MAAO,CAAC,CACNnU,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,UACb,CACD1J,MAAO,SACPkuB,MAAO3qB,KAAKmG,EAAE,WACb,CACD1J,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,eCIH6nB,GAda,kBAAM,kBAAC,GAAD,CAAkBrD,MAAO3qB,KAAKmG,EAAE,yBAA0BnB,OAAQ,CAClGkB,KAAM,sBACN0K,MAAO,CAAC,CACNnU,MAAO,OACPkuB,MAAO3qB,KAAKmG,EAAE,SACb,CACD1J,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,UACb,CACD1J,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,e,oBCLZ8nB,GAAiB,SAAC,GAIjB,IAHL/nB,EAGI,EAHJA,KACAzJ,EAEI,EAFJA,MACAiuB,EACI,EADJA,SAEMvpB,EAAU,CAAC,CACf6F,GAAI,KACJ2jB,MAAO,KACN,CACD3jB,GAAI,KACJ2jB,MAAO,KACN,CACD3jB,GAAI,KACJ2jB,MAAO,MACN,CACD3jB,GAAI,KACJ2jB,MAAO,KACN,CACD3jB,GAAI,KACJ2jB,MAAO,OAEHK,EAAW7pB,EAAQ4G,MAAK,SAAA/C,GAAM,OAAIA,EAAOgC,KAAOvK,KACtD,OAAO,yBAAKuoB,MAAO,CACjBzI,MAAO,UAEC,kBAAC2R,GAAA,EAAD,CAAchoB,KAAMA,EAAMwkB,SAAU,YAErC,IADLM,EACI,EADJA,SAEAN,EAASM,EAASvuB,QACjBuuB,SAAUA,EAAW,CACtBvuB,MAAOuuB,EAAShkB,GAChB2jB,MAAOK,EAASL,YACdrpB,EAAW6sB,SAAS,IAAIC,cAAc,QAAQhD,OAAK,GAC1CjqB,EAAQ4D,KAAI,gBACrBiC,EADqB,EACrBA,GACA2jB,EAFqB,EAErBA,MAFqB,OAGjB,kBAACY,GAAA,EAAD,CAAoB1hB,IAAK7C,EAAIvK,MAAOuK,EAAI2jB,MAAOA,UAWrD0D,GAAa,SAAC,GAAD,IACjBnoB,EADiB,EACjBA,KACAzJ,EAFiB,EAEjBA,MACAiuB,EAHiB,EAGjBA,SAHiB,OAIb,kBAACgD,GAAA,EAAD,CAAOxnB,KAAMA,EAAMzJ,MAAOA,EAAOqE,KAAK,SAAS4pB,SAAU,gBAC7DjuB,EAD6D,EAC7DA,MAD6D,OAEzDiuB,EAASjuB,IAAQ8f,MAAM,OAAO6O,OAAK,KAQnCkD,G,YACJ,WAAYrpB,GAAQ,IAAD,wBACjB,8CAAMA,KAgBRspB,QAAU,kBAAM,EAAK7K,SAAS,EAAK8K,aAAc,EAAKvpB,MAAMylB,SAAS,MAjBlD,EAkBnBA,SAAW,SAAAxkB,GAAI,OAAI,SAAAzJ,GACjB,EAAKinB,SAAL,eACGxd,EAAOzJ,IACP,WAAO,IAAD,EAMH,EAAKmE,MAJP6tB,EAFK,EAELA,IACAC,EAHK,EAGLA,GACAC,EAJK,EAILA,IACAC,EALK,EAKLA,GAEInyB,EAAQ,GAEVgyB,GAAOC,GACTjyB,EAAMgN,KAAN,UAAcglB,EAAd,YAAqBC,IAGnBC,GAAOC,GACTnyB,EAAMgN,KAAN,UAAcklB,EAAd,YAAqBC,IAGvB,EAAK3pB,MAAMylB,SAASjuB,EAAMkL,OAAS,EAAIlL,EAAM0B,KAAK,KAAO,SApC3D,EAAKqwB,aAAe,CAClBC,IAAK,GACLC,GAAI,GACJC,IAAK,GACLC,GAAI,IANW,MAQ8B3pB,EAAMxI,MAAMoyB,MAAM,QARhD,0BAQVJ,OARU,MAQJ,GARI,SAQAC,OARA,MAQK,GARL,SAQSC,OART,MAQe,GARf,SAQmBC,OARnB,MAQwB,GARxB,SASjB,EAAKhuB,MAAQ,CACX6tB,MACAC,KACAC,MACAC,MAbe,E,wEA0CT,IAAD,EAMH1O,KAAKtf,MAJP6tB,EAFK,EAELA,IACAC,EAHK,EAGLA,GACAC,EAJK,EAILA,IACAC,EALK,EAKLA,GAEF,OAAO,yBAAK9Q,UAAWoM,GAAiBpM,WAC5B,uBAAGA,UAAWsM,GAAqBtM,WAC9B9d,KAAKmG,EAAE,uJAEZ,yBAAK2X,UAAW0M,GAA8B1M,WAC1C,yBAAKkH,MAAO,CACtBzI,MAAO,UAEO,kBAACuS,GAAA,EAAD,KAAQ9uB,KAAKmG,EAAE,uBACf,yBAAK2X,UAAW0M,GAA8B1M,WAC1C,kBAAC,GAAD,CAAgB5X,KAAK,MAAMzJ,MAAOgyB,EAAK/D,SAAUxK,KAAKwK,SAAS,SAC/D,kBAAC,GAAD,CAAYxkB,KAAK,KAAKzJ,MAAOiyB,EAAIhE,SAAUxK,KAAKwK,SAAS,UAGjE,yBAAK1F,MAAO,CACtBzI,MAAO,UAEO,kBAACuS,GAAA,EAAD,KAAQ9uB,KAAKmG,EAAE,uBACf,yBAAK2X,UAAW0M,GAA8B1M,WAC1C,kBAAC,GAAD,CAAgB5X,KAAK,MAAMzJ,MAAOkyB,EAAKjE,SAAUxK,KAAKwK,SAAS,SAC/D,kBAAC,GAAD,CAAYxkB,KAAK,KAAKzJ,MAAOmyB,EAAIlE,SAAUxK,KAAKwK,SAAS,WAIrE,yBAAK1F,MAAO,CACpB+J,WAAY,SAEA,kBAAC1O,GAAA,EAAD,CAAQtC,QAASmC,KAAKqO,SACjBvuB,KAAKmG,EAAE,+B,GA9EFga,aAqGfjD,sBAVS,SAAAtc,GAAK,MAAK,CAChCnE,MAAO+S,GAAc5O,GAAOyD,iBAAmB,OAGtB,SAAAqT,GAAQ,MAAK,CACtCgT,SAAU,SAAAjuB,GAAK,OAAIib,EAASc,GAAe,CACzCnU,gBAAiB5H,SAINygB,CAA6CoR,ICnK7CU,GAJc,kBAAM,kBAAC,GAAD,CAAoBrE,MAAO3qB,KAAKmG,EAAE,oBAAqBnB,OAAQ,CAChGkB,KAAM,sBCGO+oB,GAJe,kBAAM,kBAAC,GAAD,CAAoBtE,MAAO3qB,KAAKmG,EAAE,qBAAsBnB,OAAQ,CAClGkB,KAAM,uBCGOgpB,GAJqB,kBAAM,kBAAC,GAAD,CAAoBvE,MAAO3qB,KAAKmG,EAAE,4BAA6BnB,OAAQ,CAC/GkB,KAAM,6BCGOipB,GAJI,kBAAM,kBAAC,GAAD,CAAoBxE,MAAO3qB,KAAKmG,EAAE,sBAAuBnB,OAAQ,CACxFkB,KAAM,iBCGOkpB,GAJI,kBAAM,kBAAC,GAAD,CAAoBzE,MAAO3qB,KAAKmG,EAAE,sBAAuBnB,OAAQ,CACxFkB,KAAM,iBCAF7E,GAAeF,EAAO,UAAaE,aAc1BguB,GAZG,kBAAM,kBAAC,GAAD,CAAkB1E,MAAO3qB,KAAKmG,EAAE,qBAAsB0kB,YAAY,EAAM7lB,OAAQ,CACtGkB,KAJiB,YAKjB7E,aAAcA,GACduP,MAAO,CAAC,CACNnU,MAAO,KACPkuB,MAAO3qB,KAAKmG,EAAE,gBACb,CACD1J,MAAO,IACPkuB,MAAO3qB,KAAKmG,EAAE,qBCYHmpB,GAvBE,kBAAM,kBAAC,GAAD,CAAkB3E,MAAO3qB,KAAKmG,EAAE,aAAcnB,OAAQ,CAC3EkB,KAAM,WACN0K,MAAO,CAAC,CACNnU,MAAO,IACPkuB,MAAO3qB,KAAKmG,EAAE,SACb,CACD1J,MAAO,IACPkuB,MAAO,KACN,CACDluB,MAAO,KACPkuB,MAAO,MACN,CACDluB,MAAO,KACPkuB,MAAO,MACN,CACDluB,MAAO,KACPkuB,MAAO,MACN,CACDluB,MAAO,MACPkuB,MAAO,YCGI,IAAC,CACd9gB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,iBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAyB,kBAAC,GAAD,SACzD,CACD7lB,IAAK,sBACL8gB,MAAO3qB,KAAKmG,EAAE,kBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAe,kBAAC,GAAD,MAAkB,kBAAC,GAAD,MAAe,kBAAC,GAAD,SAChF,CACD7lB,IAAK,0BACL8gB,MAAO3qB,KAAKmG,EAAE,sBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAsB,kBAAC,GAAD,SACtD,CACD7lB,IAAK,gBACL8gB,MAAO3qB,KAAKmG,EAAE,YACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAqB,kBAAC,GAAD,WAEvD,CACD7lB,IAAK,aACL8gB,MAAO3qB,KAAKmG,EAAE,UACdopB,QAAS,CAAC,CACR1lB,IAAK,mBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,kBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,CAAO/E,MAAO3qB,KAAKmG,EAAE,iBAAoB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAc,kBAAC,GAAD,WAE7G,CACD0D,IAAK,kBACL8gB,MAAO3qB,KAAKmG,EAAE,gBACdopB,QAAS,CAOT,CACE1lB,IAAK,4BACL8gB,MAAO3qB,KAAKmG,EAAE,gCACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,iBACL8gB,MAAO3qB,KAAKmG,EAAE,cACdopB,QAAS,CAAC,CACR1lB,IAAK,uBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAA0B,kBAAC,GAAD,MAA2B,kBAAC,GAAD,MAAiC,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAe,kBAAC,GAAD,YCvE3JC,GAJU,kBAAM,kBAAC,GAAD,CAAoBhF,MAAO3qB,KAAKmG,EAAE,qBAAsBnB,OAAQ,CAC7FkB,KAAM,uBCGO0pB,GAJE,kBAAM,kBAAC,GAAD,CAAoBjF,MAAO3qB,KAAKmG,EAAE,gBAAiBnB,OAAQ,CAChFkB,KAAM,eCAF7E,GAAeF,EAAO,kBAAaE,aAoB1BwuB,GAlBW,kBAAM,kBAAC,GAAD,CAAkBlF,MAAO3qB,KAAKmG,EAAE,yBAA0B0kB,YAAY,EAAM7lB,OAAQ,CAClHkB,KAJiB,oBAKjB7E,aAAcA,GACduP,MAAO,CAAC,CACNnU,MAAO,eACPkuB,MAAO3qB,KAAKmG,EAAE,iBACb,CACD1J,MAAO,aACPkuB,MAAO3qB,KAAKmG,EAAE,eACb,CACD1J,MAAO,0BACPkuB,MAAO3qB,KAAKmG,EAAE,gCACb,CACD1J,MAAO,MACPkuB,MAAO3qB,KAAKmG,EAAE,aChBZ9E,GAAeF,EAAO,eAAaE,aAiB1ByuB,GAfQ,kBAAM,kBAAC,GAAD,CAAkBjF,YAAY,EAAMF,MAAO3qB,KAAKmG,EAAE,cAAenB,OAAQ,CACpGkB,KAJiB,iBAKjB7E,aAAcA,GACduP,MAAO,CAAC,CACNnU,MAAO,SACPkuB,MAAO3qB,KAAKmG,EAAE,WACb,CACD1J,MAAO,aACPkuB,MAAO3qB,KAAKmG,EAAE,eACb,CACD1J,MAAO,QACPkuB,MAAO3qB,KAAKmG,EAAE,eCVH4pB,GAJS,kBAAM,kBAAC,GAAD,CAAgBjvB,KAAK,SAASyb,MAAM,OAAOoO,MAAO3qB,KAAKmG,EAAE,SAAUumB,YAAa1sB,KAAKmG,EAAE,UAAWnB,OAAQ,CACtIkB,KAAM,mBACLsnB,QAAM,KCEMwC,GAJS,kBAAM,kBAAC,GAAD,CAAgBlvB,KAAK,OAAOyb,MAAM,QAAQoO,MAAO3qB,KAAKmG,EAAE,SAAUnB,OAAQ,CACtGkB,KAAM,mBACLsnB,QAAM,KC+BMtQ,sBAVS,SAAAtc,GAAK,MAAK,CAChCkqB,QAAStb,GAAc5O,GAAO6D,eAGL,SAAAiT,GAAQ,MAAK,CACtCgT,SAAU,SAAAI,GAAO,OAAIpT,EAASc,GAAe,CAC3C/T,WAAYqmB,SAID5N,EA3BW,SAAC,GAAD,IACxB4N,EADwB,EACxBA,QACAJ,EAFwB,EAExBA,SAFwB,OAGpB,yBAAK5M,UAAWoM,GAAiBpM,WAC/B,kBAACmN,GAAA,EAAD,CAAUC,QAASJ,EAASH,MAAO3qB,KAAKmG,EAAE,eAAgBukB,SAAU,gBACxEQ,EADwE,EACxEA,QADwE,OAEpER,EAASQ,IAAUE,OAAK,IACvBN,EAAU,yBAAKhN,UAAS,UAAKwM,GAA2BxM,UAAhC,YAA6C0M,GAA8B1M,YAC5F,kBAAC,GAAD,MACA,kBAAC,GAAD,OACK,SCZNmS,GAJO,kBAAM,kBAAC,GAAD,CAAgBnvB,KAAK,SAASyb,MAAM,OAAOoO,MAAO3qB,KAAKmG,EAAE,SAAUumB,YAAa1sB,KAAKmG,EAAE,UAAWnB,OAAQ,CACpIkB,KAAM,iBACLsnB,QAAM,KCEM0C,GAJO,kBAAM,kBAAC,GAAD,CAAgBpvB,KAAK,OAAOyb,MAAM,QAAQoO,MAAO3qB,KAAKmG,EAAE,SAAUnB,OAAQ,CACpGkB,KAAM,iBACLsnB,QAAM,KC+BMtQ,sBAVS,SAAAtc,GAAK,MAAK,CAChCkqB,QAAStb,GAAc5O,GAAO4D,aAGL,SAAAkT,GAAQ,MAAK,CACtCgT,SAAU,SAAAI,GAAO,OAAIpT,EAASc,GAAe,CAC3ChU,SAAUsmB,SAIC5N,EA3BS,SAAC,GAAD,IACtB4N,EADsB,EACtBA,QACAJ,EAFsB,EAEtBA,SAFsB,OAGlB,yBAAK5M,UAAWoM,GAAiBpM,WAC/B,kBAACmN,GAAA,EAAD,CAAUC,QAASJ,EAASH,MAAO3qB,KAAKmG,EAAE,aAAcD,KAAK,kBAAkBwkB,SAAU,gBAC7FQ,EAD6F,EAC7FA,QAD6F,OAEzFR,EAASQ,IAAUE,OAAK,IACvBN,EAAU,yBAAKhN,UAAS,UAAKwM,GAA2BxM,UAAhC,YAA6C0M,GAA8B1M,YAC5F,kBAAC,GAAD,MACA,kBAAC,GAAD,OACK,S,SCZNqS,GAJW,kBAAM,kBAAC,GAAD,CAAgBrvB,KAAK,SAASyb,MAAM,QAAQmQ,YAAa1sB,KAAKmG,EAAE,OAAQnB,OAAQ,CAC9GkB,KAAM,qBACLsnB,QAAM,KCEM4C,GAJW,kBAAM,kBAAC,GAAD,CAAgBtvB,KAAK,SAASyb,MAAM,QAAQmQ,YAAa1sB,KAAKmG,EAAE,OAAQnB,OAAQ,CAC9GkB,KAAM,qBACLsnB,QAAM,KCaM6C,GAZG,kBAAM,yBAAKvS,UAAWoM,GAAiBpM,WACjD,kBAACgR,GAAA,EAAD,KAAQ9uB,KAAKmG,EAAE,eACf,yBAAK2X,UAAW0M,GAA8B1M,WAC1C,kBAAC,GAAD,MACC,iBACD,kBAAC,GAAD,OAEJ,kBAACwS,GAAA,EAAD,KACKtwB,KAAKmG,EAAE,wDCTLoqB,GAHe,kBAAM,kBAAC,GAAD,CAAgBzvB,KAAK,SAASyb,MAAM,OAAOqO,SAAU5qB,KAAKmG,EAAE,2DAA4DwkB,MAAO3qB,KAAKmG,EAAE,SAAUumB,YAAa1sB,KAAKmG,EAAE,QAASnB,OAAQ,CACvNkB,KAAM,qBCIOsqB,GAJW,kBAAM,kBAAC,GAAD,CAAgB1vB,KAAK,SAASyb,MAAM,OAAOoO,MAAO3qB,KAAKmG,EAAE,YAAaumB,YAAa1sB,KAAKmG,EAAE,QAASnB,OAAQ,CACzIkB,KAAM,wBCAF7E,GAAeF,EAAO,eAAaE,aAO1BovB,GALQ,kBAAM,kBAAC,GAAD,CAAgB3vB,KAAK,OAAOyb,MAAM,QAAQoO,MAAO3qB,KAAKmG,EAAE,cAAeumB,YAAa1sB,KAAKmG,EAAE,eAAgBnB,OAAQ,CAC9IkB,KAJiB,iBAKjB7E,aAAcA,IACbwpB,YAAY,KCLTxpB,GAAeF,EAAO,gBAAaE,aAO1BqvB,GALS,kBAAM,kBAAC,GAAD,CAAgB5vB,KAAK,OAAOyb,MAAM,QAAQoO,MAAO3qB,KAAKmG,EAAE,cAAeumB,YAAa1sB,KAAKmG,EAAE,eAAgBnB,OAAQ,CAC/IkB,KAJiB,kBAKjB7E,aAAcA,IACbwpB,YAAY,KCFA8F,GAJe,kBAAM,kBAAC,GAAD,CAAoBhG,MAAO3qB,KAAKmG,EAAE,iCAAkCnB,OAAQ,CAC9GkB,KAAM,4BCGO0qB,GAJI,kBAAM,kBAAC,GAAD,CAAoBjG,MAAO3qB,KAAKmG,EAAE,cAAenB,OAAQ,CAChFkB,KAAM,iB,WCOF2qB,G,YACJ,WAAY5rB,GAAQ,IAAD,+BACjB,8CAAMA,KASRylB,SAAW,YAEJ,IADLjuB,EACI,EADJA,MAEA,EAAKinB,SAAS,CACZjnB,UAEF,EAAKwI,MAAMylB,SAAmB,SAAVjuB,IAdpB,EAAK+xB,aAAe,CAClB/xB,MAAO,QAET,EAAKmE,MAAQqE,EAAMxI,MAAQ,CACzBA,MAAOwI,EAAMxI,OACX,EAAK+xB,aAPQ,E,wEAmBT,IAEN/xB,EACEyjB,KAAKtf,MADPnE,MAGAq0B,EACE5Q,KAAKjb,MADP6rB,kBAEF,OAAO,yBAAKhT,UAAWoM,GAAiBpM,WAC5B,kBAACgR,GAAA,EAAD,KACKgC,IAAsBhf,uBAAuB9R,KAAKmG,EAAE,eAAiBnG,KAAKmG,EAAE,gBAEjF,kBAAC4qB,GAAA,EAAD,CAAY7qB,KAAK,qBAAqBwkB,SAAUxK,KAAKwK,SAAUjuB,MAAOA,EAAO2uB,OAAK,GAC7E,CAAC,CACZpkB,GAAI,OACJ2jB,MAAO3qB,KAAKmG,EAAE,mBACb,CACDa,GAAI,OACJ2jB,MAAO3qB,KAAKmG,EAAE,SACb,CACDa,GAAI,SACJ2jB,MAAO3qB,KAAKmG,EAAE,YACbpB,KAAI,gBACLiC,EADK,EACLA,GACA2jB,EAFK,EAELA,MAFK,OAGD,kBAACwB,GAAA,EAAD,CAAOtiB,IAAK7C,EAAI2jB,MAAOA,EAAOluB,MAAOuK,EAAIokB,OAAK,QAEjC,WAAV3uB,EAAqB,yBAAKqhB,UAAWwM,GAA2BxM,WACzD,kBAAC,GAAD,CAAO0P,QAAM,KACR,U,GAhDLrN,aA2DlB6Q,GAAoB9L,aAAe,CAAC1V,KAAgB,SAAAyhB,GAAS,OAAIA,EAAUtuB,UAAY,YAA6BrB,IAApB2vB,EAAUnuB,MAAsB,OAAS,YAahIoa,sBAXS,SAAAtc,GAAK,MAAK,CAChCkwB,kBAAmBvhB,GAAW3O,GAC9BnE,MAAOu0B,GAAkBpwB,OAGA,SAAA8W,GAAQ,MAAK,CACtCgT,SAAU,SAAAI,GAAO,OAAIpT,EAASc,GAAe,CAC3C7V,UAAWmoB,SAIA5N,CAA6C2T,IC5E7CK,GAJE,kBAAM,kBAAC,GAAD,CAAgBpwB,KAAK,OAAOyb,MAAM,QAAQmQ,YAAa1sB,KAAKmG,EAAE,kBAAmBnB,OAAQ,CAC9GkB,KAAM,eCMFirB,G,YACJ,WAAYlsB,GAAQ,IAAD,+BACjB,8CAAMA,KASRylB,SAAW,YAEJ,IADLjuB,EACI,EADJA,MAEA,EAAKinB,SAAS,CACZjnB,UAEF,EAAKwI,MAAMylB,SAAmB,SAAVjuB,IAdpB,EAAK+xB,aAAe,CAClB/xB,MAAO,QAET,EAAKmE,MAAQqE,EAAMxI,MAAQ,CACzBA,MAAOwI,EAAMxI,OACX,EAAK+xB,aAPQ,E,wEAmBT,IAEN/xB,EACEyjB,KAAKtf,MADPnE,MAGAq0B,EACE5Q,KAAKjb,MADP6rB,kBAEF,OAAO,yBAAKhT,UAAWoM,GAAiBpM,WAC5B,kBAACgR,GAAA,EAAD,KACKgC,IAAsBhf,uBAAuB9R,KAAKmG,EAAE,kBAAoBnG,KAAKmG,EAAE,mBAEpF,kBAAC4qB,GAAA,EAAD,CAAY7qB,KAAK,wBAAwBwkB,SAAUxK,KAAKwK,SAAUjuB,MAAOA,EAAO2uB,OAAK,GAChF,CAAC,CACZpkB,GAAI,OACJ2jB,MAAO3qB,KAAKmG,EAAE,SACb,CACDa,GAAI,SACJ2jB,MAAO3qB,KAAKmG,EAAE,YACbpB,KAAI,gBACLiC,EADK,EACLA,GACA2jB,EAFK,EAELA,MAFK,OAGD,kBAACwB,GAAA,EAAD,CAAOtiB,IAAK7C,EAAI2jB,MAAOA,EAAOluB,MAAOuK,EAAIokB,OAAK,QAEjC,WAAV3uB,EAAqB,yBAAKqhB,UAAWwM,GAA2BxM,WACzD,kBAAC,GAAD,CAAU0P,QAAM,KACX,U,GA7CFrN,aAoEZjD,sBAXS,SAAAtc,GAAK,MAAK,CAChCkwB,kBAAmBvhB,GAAW3O,GAC9BnE,MAAO+S,GAAc5O,GAAO8B,aAAe,OAAS,aAG3B,SAAAgV,GAAQ,MAAK,CACtCgT,SAAU,SAAAI,GAAO,OAAIpT,EAASc,GAAe,CAC3C9V,aAAcooB,SAIH5N,CAA6CiU,IC3D7C,IAAC,CACdtnB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,eACL8gB,MAAO3qB,KAAKmG,EAAE,WACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAsB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,SAC7E,CACD7lB,IAAK,aACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAgB,kBAAC,GAAD,SACpE,CACD7lB,IAAK,gBACL8gB,MAAO3qB,KAAKmG,EAAE,YACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,qBACL8gB,MAAO3qB,KAAKmG,EAAE,qBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAe,kBAAC,GAAD,MAAoB,kBAAC,GAAD,SACvF,CACD7lB,IAAK,uBACL8gB,MAAO3qB,KAAKmG,EAAE,uBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,oBACL8gB,MAAO3qB,KAAKmG,EAAE,eACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAA2B,kBAAC,GAAD,SAGzE,CACD7lB,IAAK,eACL8gB,MAAO3qB,KAAKmG,EAAE,UACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAe,kBAAC,GAAD,YCpDrC0B,GAJc,kBAAM,kBAAC,GAAD,CAAoBzG,MAAO3qB,KAAKmG,EAAE,iCAAkCnB,OAAQ,CAC7GkB,KAAM,2BCgBO,IAAC,CACd2D,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,eACL8gB,MAAO3qB,KAAKmG,EAAE,WACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAA0B,kBAAC,GAAD,MAAsB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,SACrH,CACD7lB,IAAK,aACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAgB,kBAAC,GAAD,SACpE,CACD7lB,IAAK,gBACL8gB,MAAO3qB,KAAKmG,EAAE,YACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,qBACL8gB,MAAO3qB,KAAKmG,EAAE,qBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAe,kBAAC,GAAD,MAAoB,kBAAC,GAAD,SACvF,CACD7lB,IAAK,uBACL8gB,MAAO3qB,KAAKmG,EAAE,uBACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,oBACL8gB,MAAO3qB,KAAKmG,EAAE,eACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAA2B,kBAAC,GAAD,SAG3D,CACD7lB,IAAK,eACL8gB,MAAO3qB,KAAKmG,EAAE,UACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAe,kBAAC,GAAD,YCvCrC,IAAC,CACd7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,iBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAAsB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAAe,kBAAC,GAAD,WAE9J,CACD7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,iBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,WAE/I,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,kBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAW,kBAAC,GAAD,MAAe,kBAAC,GAAD,MAAc,kBAAC,GAAD,YClB9E,IAAC,CACd7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,iBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAA0B,kBAAC,GAAD,MAAsB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAc,kBAAC,GAAD,MAAe,kBAAC,GAAD,WAExL,CACD7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,iBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,MAAuB,kBAAC,GAAD,MAAoB,kBAAC,GAAD,WAE/I,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,kBACL0lB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAgB,kBAAC,GAAD,MAAW,kBAAC,GAAD,MAAe,kBAAC,GAAD,MAAc,kBAAC,GAAD,YCpC9E,IAAC,CACd7lB,IAAK,WACL8gB,MAAO3qB,KAAKmG,EAAE,QACdopB,QAAS,CAAC,CACR1lB,IAAK,gBACL8gB,MAAO3qB,KAAKmG,EAAE,YACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,WAElC,CACD7lB,IAAK,YACL8gB,MAAO3qB,KAAKmG,EAAE,SACdopB,QAAS,CAAC,CACR1lB,IAAK,eACL8gB,MAAO3qB,KAAKmG,EAAE,UACdopB,QAASC,IAAMC,SAASC,QAAQ,CAAC,kBAAC,GAAD,MAAe,kBAAC,GAAD,YCbvC2B,GAAb,8MACEzwB,MAAQ,CACN0wB,kBAAchwB,GAFlB,EAIEiwB,UAAY,SAAAC,GACV,EAAK9N,SAAS,CACZ4N,aAAcE,KANpB,EASEC,mBAAqB,SAAAC,GAAQ,OAAIA,EAAS3sB,KAAI,gBAC5C8E,EAD4C,EAC5CA,IACA8gB,EAF4C,EAE5CA,MACA4E,EAH4C,EAG5CA,QAH4C,OAIxC,yBAAK1lB,IAAKA,EAAKiU,UAAW4L,GAAW5L,WAC7B,kBAACwP,GAAA,EAAD,KACK3C,EAAQ,kBAAC4C,GAAA,EAAD,KACD,0BAAMzP,UAAWiM,GAAgBjM,WAC5B6M,IAEG,KACf4E,QApBrB,EAuBEoC,aAAe,SAAAC,GAAI,OAAIA,EAAK7sB,KAAI,gBAC9B8E,EAD8B,EAC9BA,IACA8gB,EAF8B,EAE9BA,MACA4E,EAH8B,EAG9BA,QAH8B,MAIzB,CACL1lB,MACA8gB,QACA4E,QAAS,EAAKkC,mBAAmBlC,QA9BrC,0EAiCY,IAAD,OAIDsC,ECrCsB,SAAA/wB,GAC9B,OAAQA,GACN,KAAK8M,kBACL,KAAKkkB,eACL,KAAKxgB,+BACL,KAAKC,iCACH,OAAOwgB,GAET,KAAKC,0BACL,KAAKC,uBACH,OAAOC,GAET,KAAKC,gBACL,KAAKC,iBACH,OAAOC,GAET,KAAKC,gBACH,OAAOC,GAET,KAAK9gB,eACL,KAAKG,iBACL,KAAKD,wBACH,OAAO6gB,GAET,KAAK1gB,uBACH,OAAO2gB,GAET,QAEE,OAAOP,IDQaQ,CADlBxS,KAAKjb,MADP6rB,mBAGIc,EAAO1R,KAAKyR,aAAaE,GAC3Bc,EAAiBf,EAAKgB,WAAU,SAAAC,GAAG,OAAIA,EAAIhpB,MAAQ,EAAKjJ,MAAM0wB,gBAMlE,OAJIqB,EAAiB,IACnBA,EAAiB,GAGZ,kBAAC,WAAD,KACK,yBAAK7U,UAAW2L,GAAO3L,WACnB,kBAACgV,GAAA,EAAD,KACKlB,EAAK7sB,KAAI,WAGrB2J,GAHqB,IACtB7E,EADsB,EACtBA,IACA8gB,EAFsB,EAEtBA,MAFsB,OAGX,kBAACoI,GAAA,EAAD,CAAKlpB,IAAKA,EAAKkU,QAAS,kBAAM,EAAKwT,UAAU1nB,IAAMmhB,SAAUtc,IAAUikB,GAC7DhI,OAGZlB,GAAO9L,QAEXiU,EAAKe,GAAgBpD,QACrB7F,GAAW/L,OACXoM,GAAgBpM,OAChBuM,GAAiBvM,OACjBwM,GAAqBxM,OACrB2M,GAA2B3M,OAC3B6M,GAA8B7M,OAC9ByM,GAAqBzM,YAhEtC,GAA0CwC,aA6E3BjD,sBAJS,SAAAtc,GAAK,MAAK,CAChCkwB,kBAAmBvhB,GAAW3O,MAGjBsc,CAAyBmU,IE5BzB2B,G,YA7Cb,WAAY/tB,GAAQ,IAAD,+BACjB,8CAAMA,KAMRsY,QAAU,WACR,EAAK0V,oCARY,EAUnBA,iCAAmC,WACjC,EAAKvP,SAAS,CACZwP,cAAe,EAAKtyB,MAAMsyB,gBAZX,EAenBC,kBAAoB,SAAAC,GAAO,OAAI,WAC7BA,IACA,EAAK7V,YAfL,EAAK3c,MAAQ,CACXsyB,cAAc,GAHC,E,wEAoBT,IAAD,OACP,OAAO,kBAAC,WAAD,KACK,kBAAC,KAAD,CAAWpV,UAAWoC,KAAKjb,MAAM6Y,UAAWC,QAASmC,KAAK+S,kCACrDjzB,KAAKmG,EAAE,YAEX+Z,KAAKtf,MAAMsyB,cAAgB,kBAACG,GAAA,EAAD,CAAO9V,QAAS2C,KAAK3C,QAAS+V,OAAK,GACvD,kBAACC,GAAA,EAAD,KAAavzB,KAAKmG,EAAE,YACpB,kBAACqtB,GAAA,EAAD,KACI,kBAAC,GAAD,OAEJ,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAAC,GAAD,CAAY3V,QAASmC,KAAK3C,UAC1B,kBAAC,GAAD,CAA8B+L,gBAAiB,SAAA8J,GAAO,OAAI,kBAAC,GAAD,CAAcrV,QAAS,EAAKoV,kBAAkBC,gB,GAlC9FjT,aCMpCwT,GAAS,SAAA3sB,GACb,IAAMgF,EAAI,WAAOhF,GAEb3G,EAAQD,SAASyiB,WAAa7W,EAChC3L,EAAQjD,QAAQ4O,GAEhB3L,EAAQoJ,KAAKuC,IAIX4nB,GAAQ,kBAAMvzB,EAAQoJ,KAAK,MAE3BoqB,GAAc,SAAA5uB,GAAK,OAAI,SAAA6uB,GAAO,OAAI7uB,EAAM8uB,sBAAsBD,KAE9DE,GAAY,SAAA/uB,GAAK,OAAI,SAAA6uB,GAAO,OAAI7uB,EAAMgvB,oBAAoBH,GAAS,KAEnEI,GAAc,SAAAjvB,GAAK,OAAI,SAAA6uB,GAAO,OAAI7uB,EAAMgvB,oBAAoBH,GAAS,KAErEK,GAAc,SAAAlvB,GAAK,OAAI,kBAAMA,EAAMmvB,0BAEnCC,GAAa,SAAApvB,GAAK,OAAI,SAAAnH,GAAK,OAAImH,EAAMpH,QAAQC,KAEtCw2B,GAAU,SAAC,EAGrBC,GAHoB,IACrB3W,EADqB,EACrBA,QACG3Y,EAFkB,kCAGR,yBAAK6Y,UAAWF,EAAQ4W,SAC/B,kBAAC,GAAD,CAA8BlL,gBAAiB,SAAA8J,GAAO,OAAI,kBAAC,GAAD,CAActV,UAAWF,EAAQ6W,aAAcC,OAAK,EAAC3W,QAASqV,OACxH,kBAAC,KAAD,CAAU90B,GAAIi2B,EAAQj2B,GAAIq2B,OAAQ1vB,EAAM+B,IAAM,KAAM4tB,SAAU3vB,EAAM4vB,cAAelB,OAAQA,GAAQC,MAAOA,GAAOkB,SAAUjB,GAAY5uB,GAAQ8vB,OAAQf,GAAU/uB,GAAQ+vB,SAAUd,GAAYjvB,GAAQgwB,SAAUd,GAAYlvB,GAAQpH,QAASw2B,GAAWpvB,KACzP,kBAAC,GAAD,CAA6B6Y,UAAWF,EAAQ+M,QAChD,kBAAC,GAAD,CAAc7M,UAAWF,EAAQ+M,QACjC,yBAAK7M,UAAWF,EAAQsX,OACxB,kBAAC,GAAD,CAAuBpX,UAAWF,EAAQ+M,UAOlD2J,GAAQa,aAAe,CACrB72B,GAAI82B,KAAUhjB,QAGhB,IAqBe8K,sBArBS,SAAAtc,GAAK,MAAK,CAChCoG,IAAK4M,GAAYhT,IAAU,IAAIoG,OAGN,SAAA0Q,GAAQ,MAAK,CACtCqc,sBAAuB,SAAAD,GAAO,OAAIpc,EjFgBE,SAAC,GAAD,IACpCxR,EADoC,EACpCA,KACAqgB,EAFoC,EAEpCA,YAFoC,OAGhC,SAAC7O,EAAUC,GACf,IAAM/W,EAAQ+W,IACR3W,EAAgBD,EAAkBH,GAClCwI,EAAUwK,GAAYhT,GACtBy0B,EAAoB,eAAQr0B,GAE5Bs0B,EAAc,eAAQlsB,GAGxBlD,IACFmvB,EAAqBnvB,KAAOovB,EAAepvB,KAAOA,GAGhDqgB,IACF8O,EAAqB9O,YAAc+O,EAAe/O,YAAcA,GAGlE7O,EAASkE,GAAqCyZ,IAI5C3d,EAASmE,GADP7a,IAAkBoI,EACcisB,EAEAC,IAGpC5d,EAAS8F,GAAuC,CAC9C1B,QAAS9b,KAAKmG,EAAE,qBAChBmX,MAAM,EACND,SAAU,QiFhD+B+L,CAAmC0K,KAC9EG,oBAAqB,SAACH,EAASyB,GAAV,OAAmB7d,EjFkDN,SAAC,EAGlC6d,GAHiC,IAClCrvB,EADkC,EAClCA,KACAqgB,EAFkC,EAElCA,YAFkC,OAGxB,SAAO7O,EAAUC,EAAU4D,GAA3B,iBAAA/b,EAAAC,OAAA,uDACJyY,EAAY,SAAAmJ,GACG,OAAfA,EAAImU,QAAmBnU,EAAI7F,SAASia,MAClCF,EACFl1B,EAAQoJ,KAAR,WAAiB4X,EAAI7F,SAASia,MAE9Bp1B,EAAQjD,QAAR,WAAoBikB,EAAI7F,SAASia,QAN7B,SAYFz0B,EAZE,eAYmB4S,GAAY+D,MAGnC4d,UACKv0B,EAAcgG,GAGnBd,IACFlF,EAAckF,KAAOA,GAGnBqgB,IACFvlB,EAAculB,YAAcA,GAxBtB,KA2BDrO,EA3BC,WAAA1Y,EAAA,MA2BgBuX,GAAqBwE,EAAQva,IA3B7C,uHA6BDnD,GAAQ,uBAAD,OA7BN,0DiFrDuCurB,CAAiC0K,EAASyB,KAC3FnB,sBAAuB,kBAAM1c,GjFoFa,SAACA,EAAUC,GACrD,IAAMvO,EAAUwK,GAAY+D,KAC5BD,EAAS8F,GAAuC,CAC9C1B,QAAS9b,KAAKmG,EAAE,mCAAoC,CAClDuvB,KAAMtsB,EAAQlD,OAEhBoX,MAAM,EACND,SAAU,OAEZhd,EAAQoJ,KAAK,SiF5Fb5L,QAAS,SAAAC,GAAU,IAAD,ElE0BM,SAAC,GAAD,IACxBge,EADwB,EACxBA,QACA6Z,EAFwB,EAExBA,eAFwB,MAGnB,CACL7Z,UACAhb,KAAMgF,OAAO6vB,GAAgB1pB,MAAM,QAAU,QAAU,WkE3BjD2pB,CAAW93B,GAFbgD,EAFc,EAEdA,KACAgb,EAHc,EAGdA,QAEFpE,EAAS0R,EAAyBhP,0BAA0B,CAC1DgD,QAAStc,EACTgb,UACAwB,MAAM,SAKGJ,CAA6CQ,sBC9E5C,SAAA0H,GAAK,MAAK,CACxBoP,QAAS,CACPqB,WAAYjZ,UAAOK,MACnBhB,QAAS,OACTC,WAAY,SACZ4Z,QAAQ,KAAD,OAAO1Q,EAAMC,QAAQC,KAArB,MACP9I,OAAQ,QAEViY,aAAc,CACZrY,YAAagJ,EAAMC,QAAQC,MAE7BqF,MAAO,CACL9mB,SAAU,OACVkyB,WAAY,IACZC,cAAe,QAEjBd,KAAM,CACJe,KAAM,aD6DkDvY,CAAmB4W,K,WExDhE4B,GArBY,WACzB,OAAO,yBAAK3Z,MAAM,OAAOC,OAAO,OAAO4J,QAAQ,YAAY+P,QAAQ,MAAMvQ,MAAM,8BACrE,uBAAG5e,GAAG,MAAMovB,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAC3D,uBAAG9e,GAAG,4BAA4Bqf,UAAU,uCACxC,0BAAMR,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,OAAOC,OAAO,QACrD,uBAAGxV,GAAG,aAAaqf,UAAU,qCACzB,uBAAGrf,GAAG,aAAaqf,UAAU,mCACzB,0BAAMrf,GAAG,cAAc6e,KAAK,UAAU2Q,QAAQ,cAAcF,EAAE,IAAIC,EAAE,IAAIha,MAAM,MAAMC,OAAO,KAAKia,GAAG,MACnG,uBAAGzvB,GAAG,OAAOqf,UAAU,iCACnB,0BAAMrf,GAAG,QAAQsvB,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OAC/C,8BAAUxV,GAAG,OAAOovB,OAAO,UAAUM,cAAc,QAAQC,eAAe,QAAQC,OAAO,wCACzF,0BAAM7e,EAAE,wMAAwM/Q,GAAG,OAAOovB,OAAO,UAAUM,cAAc,QAAQC,eAAe,UAChR,0BAAM5e,EAAE,0SAA0S/Q,GAAG,iBAAiB6e,KAAK,mBCb5V,IACbgR,SAAU,CACR5a,QAAS,OACT6a,eAAgB,UAElBC,KAAM,CACJ9a,QAAS,OACTC,WAAY,SACZ2Z,WAAYjZ,UAAOK,MACnB6Y,QAAS,MACTkB,aAAc,MACdC,OAAQ,OAEVn0B,MAAO,CACLe,SAAU,QAEZqzB,OAAQ,CACNC,YAAa,OAEfhpB,eAAgB,CACdtK,SAAU,OACViZ,MAAOF,UAAOwa,SAEhBC,mBAAoB,CAClBpb,QAAS,OACTC,WAAY,SACZM,OAAQ,OACRD,MAAO,OACPH,YAAa,OAEfkb,aAAc,CACZxa,MAAOF,UAAO2a,QACdC,UAAW,UAEbC,WAAY,CACV3a,MAAOF,UAAOwa,UCzBLM,GAAgB13B,KAAKmG,EAAE,yBACvBwxB,GAAc33B,KAAKmG,EAAE,UAK5ByxB,GAAiB,eAAQja,GAAOoZ,KAAf,GAClBpZ,GAAO7a,OAEN+0B,GAA0B,eAAQla,GAAOoZ,KAAf,GAC3BpZ,GAAOxP,gBAeN2pB,GAAe,SAACC,EAAY/2B,GAChC,OAAQ+2B,GACN,IAvByB,UAwBvB,OAAOL,GAET,IA3BuB,QA4BvB,IA1BuB,QA2BrB,OAAO12B,EAAckF,KAEvB,QACE,MAAO,KAgFEgX,sBAvBS,SAAAtc,GAAK,MAAK,CAChCI,cAAeD,EAAkBH,GACjCwI,QAASwK,GAAYhT,GACrBuN,eAAgB6B,GAAqBpP,GACrClE,SAAU0Y,GAAaxU,MAmBe,MAhBrB,SAACo3B,EAAYC,EAAexN,GAAc,IAEzDzpB,EAIEg3B,EAJFh3B,cACAoI,EAGE4uB,EAHF5uB,QACA+E,EAEE6pB,EAFF7pB,eACAzR,EACEs7B,EADFt7B,SAEIq7B,EA7Fc,SAAC/2B,EAAeoI,GACpC,OAAIA,IAAYsK,GAZS,QAcd1S,IAAkBL,EAZF,UAchByI,IAAYpI,EAfE,QAEA,QAqGNk3B,CAAcl3B,EAAeoI,GAChD,OAAO,eAAK6uB,EAAZ,GACKxN,EADL,CAEEsN,WAAYA,EACZI,UAAWL,GAAaC,EAAY/2B,GACpCo3B,mBAAoBjqB,GAAkBA,EAAegX,QAAU3oB,aAAW2R,EAAegX,QAASzoB,GAAY,SAInGwgB,EAtDS,SAAC,GAIlB,IAHL6a,EAGI,EAHJA,WACAI,EAEI,EAFJA,UACAC,EACI,EADJA,mBAEMC,EAAU,eAAQT,GAAR,GA3BU,SAAAG,GAC1B,OAAQA,GACN,IArCyB,UAsCvB,OAAOpa,GAAO2Z,aAEhB,QACE,OAAO,MAsBNgB,CAAoBP,IAEzB,OAAOI,EAAY,yBAAK7X,YAAU,cAAc0E,MAAOrH,GAAOkZ,UACpD,yBAAK7R,MAAOqT,GACPF,EAtBC,SAAAJ,GAChB,OAAQA,GACN,IA9CuB,QA+CrB,OAAO,yBAAK/S,MAAK,eAAOrH,GAAOuZ,OAAd,GACZvZ,GAAO8Z,aADL,YAEEE,KAEX,QACE,MAAO,IAeIY,CAAUR,IAEdK,GAAsB,yBAAKpT,MAAO6S,IAC3B,yBAAK7S,MAAOrH,GAAO0Z,oBACf,kBAAC,GAAD,OAEJ,6BACKr3B,KAAKmG,EAAE,qDAAsD,CAC5EiyB,0BAIO,Q,qBC7FJI,GAAoB,SAACtmB,EAAS7F,GACzC,QAAmC/K,IAA/B+K,EAAe6F,EAAQlL,IAM3B,MAAmC,KAA/BqF,EAAe6F,EAAQlL,IAClB,IAAMkL,EAAQlL,GAGhB,IAAMqF,EAAe6F,EAAQlL,IAAM,IAAMkL,EAAQlL,IA+C7CyxB,GAAiC,SAACrvB,EAASgD,EAAUkD,GAMhE,OAb0C,SAAClG,EAAD,OAC1CiD,EAD0C,EAC1CA,eAD0C,sBAEhCjD,EAFgC,CAG1CiD,eAAe,eAAMjD,EAAQiD,eAAf,GACTA,KAQIqsB,CAlD0B,SAACtvB,EAASkG,GAC7C,IAAM0C,EAAqBd,4CAAkC9H,GAEvD6I,EADgBlL,GAAiBiL,GACV/G,wBAE3BoB,EACEiD,EADFjD,eAGF,OAAK4F,EAIE,eAAK7I,EAAZ,eACG6I,EAAS7I,EAAQ6I,GAAQlN,KAAI,SAAAqL,GAAS,sBAAUA,EAAV,CACrCQ,MAAOR,EAAUQ,MAAM7L,KAAI,SAAAqG,GAAI,sBAAUA,EAAV,CAC7BY,KAAMwsB,GAAkBptB,EAAMiB,eAN3BjD,EAwCAuvB,CAxB+C,SAACvvB,EAASgD,GAClE,IAAMwsB,EAAc,SAAAxoB,GAAS,sBAAUA,EAAV,CAC3BQ,MAAOR,EAAUQ,MAAM7L,KAAI,SAAAqG,GAAI,sBAAUA,EAAV,CAC7BlF,KAAMkG,EAAShB,EAAKpE,IAAMoF,EAAShB,EAAKpE,IAAId,UAAO5E,UAIvD,OAAO,eAAK8H,EAAZ,CACEY,QAASZ,EAAQY,QAAQjF,IAAI6zB,GAC7B/qB,QAASzE,EAAQyE,QAAQ9I,IAAI6zB,GAC7B3uB,KAAMb,EAAQa,KAAKlF,IAAI6zB,KAahBC,CA5BoD,SAAAzvB,GAAO,sBAAUA,EAAV,CACpEpC,QAAI1F,EACJ4E,UAAM5E,EACNmrB,iBAAanrB,IAwBJw3B,CAAgD1vB,GACGgD,GACrBkD,GACOA,I,oFC1CjCypB,GAnBI,SAAC,GAAD,QACjB/T,aADiB,MACT,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJO,SAMb,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,0BAAMD,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACrD,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,SCUjDyc,GAtBW,SAAC,GAAD,QACxBjU,aADwB,MAChB,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJc,SAMpB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,0BAAMD,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUQ,UAAU,kFAAkFiQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OAC/I,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACrD,0BAAMqJ,KAAK,UAAUQ,UAAU,kFAAkFiQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,MACjJ,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACrD,0BAAMqJ,KAAK,UAAUQ,UAAU,kFAAkFiQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACjJ,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,SCIjD0c,GAnBC,SAAC,GAAD,QACdlU,aADc,MACN,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJI,SAMV,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,0BAAMD,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OACnD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,SCUjD2c,GAtBQ,SAAC,GAAD,QACrBnU,aADqB,MACb,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJW,SAMjB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,0BAAMD,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OACnD,0BAAMqJ,KAAK,UAAUQ,UAAU,gFAAgFiQ,EAAE,KAAKC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAC7I,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACrD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,IAAIC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,SCejD4c,GA9BC,SAAC,GAAD,QACdpU,aADc,MACN,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJI,SAMV,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,8BACI,0BAAMhe,GAAG,SAAS6e,KAAK,SACnB,4BAAQwT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SAGlC,uBAAGnD,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,uBAAGO,UAAU,0FACT,uBAAG+P,OAAO,OAAOvQ,KAAK,OAAO2T,gBAAgB,wBAAwBC,KAAK,eAAepD,YAAY,MACjG,0BAAMD,OAAO,UAAUre,EAAE,uIAE7B,uBAAGqe,OAAO,OAAOvQ,KAAK,OAAO2T,gBAAgB,wBAAwBC,KAAK,eAAepT,UAAU,wFAAwFgQ,YAAY,MACnM,0BAAMD,OAAO,UAAUre,EAAE,uIAE7B,uBAAGqe,OAAO,OAAOvQ,KAAK,OAAO2T,gBAAgB,wBAAwBC,KAAK,eAAepT,UAAU,yFAAyFgQ,YAAY,MACpM,0BAAMD,OAAO,UAAUre,EAAE,2ICH9B2hB,GAlBG,SAAC,GAAD,QAChB1U,aADgB,MACR,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJM,SAMZ,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,uBAAGO,UAAU,mCACT,0BAAMtO,EAAE,4JAA4J8N,KAAK,UAAUC,SAAS,YAC5L,0BAAM/N,EAAE,qVAAqV8N,KAAK,UAAUC,SAAS,gBCYtX6T,GAtBE,SAAC,GAAD,QACf3U,aADe,MACP,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJK,SAMX,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,2BACI,0BAAM9e,GAAG,iBAAiB6e,KAAK,SAC3B,0BAAMyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,QAExC,6BAAS4Z,OAAO,UAAUC,YAAY,IAAIoD,KAAK,uBAAuB7C,OAAO,iFAC7E,0BAAM/Q,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,UCSrDod,GAvBE,SAAC,GAAD,QACf5U,aADe,MACP,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJK,SAMX,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,2BACI,0BAAM9e,GAAG,iBAAiB6e,KAAK,SAC3B,0BAAMyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,QAExC,4BACA,6BAAS4Z,OAAO,UAAUC,YAAY,IAAIxQ,KAAK,UAAU4T,KAAK,uBAAuB7C,OAAO,iFAC5F,0BAAM/Q,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,UCOrDqd,GAtBG,SAAC,GAAD,QAChB7U,aADgB,MACR,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJM,SAMZ,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,4BAAQsQ,OAAO,UAAUC,YAAY,IAAIgD,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC3D,4BAAQnD,OAAO,UAAUC,YAAY,IAAIgD,GAAG,KAAKC,GAAG,KAAKC,EAAE,OAC3D,4BAAQnD,OAAO,UAAUC,YAAY,IAAIgD,GAAG,KAAKC,GAAG,KAAKC,EAAE,MAC3D,4BAAQ1T,KAAK,UAAUwT,GAAG,KAAKC,GAAG,IAAIC,EAAE,MACxC,4BAAQ1T,KAAK,UAAUwT,GAAG,KAAKC,GAAG,KAAKC,EAAE,MACzC,4BAAQ1T,KAAK,UAAUwT,GAAG,KAAKC,GAAG,KAAKC,EAAE,MACzC,4BAAQ1T,KAAK,UAAUwT,GAAG,KAAKC,GAAG,KAAKC,EAAE,MACzC,4BAAQ1T,KAAK,UAAUwT,GAAG,KAAKC,GAAG,KAAKC,EAAE,SCStCO,GAxBc,SAAC,GAAD,QAC3B9U,aAD2B,MACnB,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJiB,SAMvB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,2BACI,0BAAM9e,GAAG,iBAAiB6e,KAAK,SAC3B,0BAAMyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,QAExC,6BAAS4Z,OAAO,UAAUC,YAAY,IAAIoD,KAAK,uBAAuB7C,OAAO,mDAC7E,6BAASR,OAAO,UAAUC,YAAY,IAAIoD,KAAK,uBAAuB7C,OAAO,kDAC7E,6BAASR,OAAO,UAAUC,YAAY,IAAIoD,KAAK,uBAAuB7C,OAAO,mDAC7E,0BAAM/Q,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,IAAIha,MAAM,IAAIC,OAAO,OAClD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,UCSrDud,GAzBgB,SAAC,GAAD,QAC7B/U,aAD6B,MACrB,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJmB,SAMzB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,2BACI,6BAAS8Q,OAAO,wBAChB,6BAAS/Q,KAAK,UAAU+Q,OAAO,0BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,4BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,4BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,4BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,4BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,0BAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,sBAC/B,6BAAS/Q,KAAK,UAAU+Q,OAAO,8BCDhCoD,GAhBS,SAAC,GAAD,QACtBhV,aADsB,MACd,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJY,SAMlB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,0BAAMjN,EAAE,wJAAwJ8N,KAAK,YACrK,0BAAM9N,EAAE,uDAAuD8N,KAAK,YACpE,0BAAM9N,EAAE,6WAA6W8N,KAAK,YAC1X,0BAAM9N,EAAE,ooBAAooB8N,KAAK,cCsB1oBoU,GAhCG,SAAC,GAAD,QAChBjV,aADgB,MACR,CACNzI,MAAO,GACPC,OAAQ,GACRwc,aAAc,OAJA,SAMZ,kBAAC,KAAD,CAAS5S,QAAQ,YAAYpB,MAAOA,GAClC,iDACA,sDACA,8BACI,0BAAMhe,GAAG,SAASsvB,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,QAEpD,uBAAGxV,GAAG,UAAUovB,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAC/D,uBAAG9e,GAAG,wBACF,uBAAGA,GAAG,kBACF,0BAAMA,GAAG,kBAAkB6e,KAAK,SAC5B,yBAAKqU,UAAU,aAEnB,uBAAGlzB,GAAG,WACN,4BAAQA,GAAG,SAASovB,OAAO,UAAUC,YAAY,IAAIoD,KAAK,wBAAwBJ,GAAG,KAAKC,GAAG,KAAKC,EAAE,OACpG,8BAAUvyB,GAAG,SAASovB,OAAO,UAAUC,YAAY,IAAIoD,KAAK,wBAAwB7C,OAAO,wDAC3F,8BAAU5vB,GAAG,SAASovB,OAAO,UAAUC,YAAY,IAAIoD,KAAK,wBAAwB7C,OAAO,oFAC3F,8BAAU5vB,GAAG,SAASovB,OAAO,UAAUC,YAAY,IAAIoD,KAAK,wBAAwB7C,OAAO,4DAC3F,8BAAU5vB,GAAG,SAASovB,OAAO,UAAUC,YAAY,IAAIoD,KAAK,wBAAwB7C,OAAO,6FCHhGuD,GApBQ,SAAC,GAAD,QACrBnV,aADqB,MACb,CACNgU,aAAc,MACdzc,MAAO,GACPC,OAAQ,IAJW,SAMjB,kBAAC,KAAD,CAAS4J,QAAQ,YAAYpB,MAAOA,GAClC,uBAAGoR,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAClD,6BAAS8Q,OAAO,wBAChB,0BAAMR,OAAO,UAAUC,YAAY,IAAIC,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,OACtE,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,MACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,KAAKC,EAAE,KAAKha,MAAM,IAAIC,OAAO,OACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,MACpD,0BAAMqJ,KAAK,UAAUyQ,EAAE,IAAIC,EAAE,KAAKha,MAAM,KAAKC,OAAO,SCuDjD4d,GAtDM,SAAC,GAGf,IAFLC,EAEI,EAFJA,SACArV,EACI,EADJA,MAEA,OAAQqV,GACN,KAAKrI,0BACH,OAAO,kBAAC,GAAD,CAAmBhN,MAAOA,IAEnC,KAAK8M,eACH,OAAO,kBAAC,GAAD,CAAS9M,MAAOA,IAEzB,KAAKiN,uBACH,OAAO,kBAAC,GAAD,CAAgBjN,MAAOA,IAEhC,KAAKvT,eACH,OAAO,kBAAC,GAAD,CAASuT,MAAOA,IAEzB,KAAKpT,iBACH,OAAO,kBAAC,GAAD,CAAWoT,MAAOA,IAE3B,KAAKmN,gBACH,OAAO,kBAAC,GAAD,CAAUnN,MAAOA,IAE1B,KAAKsN,gBACH,OAAO,kBAAC,GAAD,CAAUtN,MAAOA,IAE1B,KAAKoN,iBACH,OAAO,kBAAC,GAAD,CAAWpN,MAAOA,IAE3B,KAAK1T,+BACH,OAAO,kBAAC,GAAD,CAAsB0T,MAAOA,IAEtC,KAAKzT,iCACH,OAAO,kBAAC,GAAD,CAAwByT,MAAOA,IAExC,KAAKrT,wBACH,OAAO,kBAAC,GAAD,CAAiBqT,MAAOA,IAEjC,IAAK,MACH,OAAO,kBAAC,GAAD,CAAWA,MAAOA,IAE3B,KAAKlT,uBACH,OAAO,kBAAC,GAAD,CAAgBkT,MAAOA,IAEhC,KAAKpX,kBACL,QACE,OAAO,kBAAC,GAAD,CAAYoX,MAAOA,MCtCjBsV,GAnBmB,SAAC,GAAD,IAChCD,EADgC,EAChCA,SACA1c,EAFgC,EAEhCA,OACAgN,EAHgC,EAGhCA,MACA4P,EAJgC,EAIhCA,WACGt1B,EAL6B,iEAM5B,kBAAC,KAAD,eAAU+lB,SAAU3lB,QAAQk1B,GAAavV,MAAOrH,EAAO6c,SAAU7V,eAAa,GAAK1f,GACjF,kBAAC,KAAD,CAAc+f,MAAOrH,EAAO8c,cACxB,kBAAC,GAAD,CAAcJ,SAAUA,EAAUrV,MAAOrH,EAAO+c,eAEpD,kBAAC,KAAD,CAAcna,QAASoK,EAAOgQ,mBAAmB,EAAM3V,MAAOrH,EAAOid,iBChB9D,IACbC,OAAQ,CACN/E,QAAS,MACThZ,MAAOF,UAAOG,MACdlZ,SAAU,OACVmyB,cAAe,OACfD,WAAY,SACZpZ,gBAAiBC,UAAOK,MACxB6Z,eAAgB,cAElBgE,cAAe,CACbxe,WAAY,QAEdye,KAAM,CACJC,SAAU,QACVlF,QAAS,GAEXmF,YAAa,CACXC,OAAQ,OACRC,aAAc,YACdC,YAAaxe,UAAOiN,SAEtB2Q,SAAU,CACRhe,OAAQ,IACRD,MAAO,IACP0a,OAAQ,MACRnB,QAAS,QACT7Z,QAAS,OACTof,cAAe,SACfvE,eAAgB,SAChBE,aAAc,MACdsE,MAAO,QAETb,aAAc,CACZxD,OAAQ,EACRsE,aAAc,IAEhBb,YAAa,CACXne,MAAO,GACPC,OAAQ,IAEVoe,aAAc,CACZ/2B,SAAU,GACVoyB,KAAM,OACNH,QAAS,EACT0F,WAAY,SACZC,UAAW,UAEbC,SAAU,CACRC,MAAO,SC/BEnN,GAAe,CAC1B7K,SAAU,MAECiY,GAAb,YACE,WAAY32B,EAAOsvB,GAAU,IAAD,+BAC1B,8CAAMtvB,KAKR42B,kBAAoB,SAAApX,GAClB,EAAKf,SAAS,CACZC,SAAUc,EAAMC,iBARQ,EAW5BoX,oBAAsB,SAAAh7B,GAAI,OAAI,WAC5B,EAAKmE,MAAM82B,MAAM1tB,GAAmB,eAAK,EAAKpJ,MAAMqK,GAAjB,CACjCxO,WAEF,EAAKk7B,gBAfqB,EAiB5BC,qBAAuB,0BAAAz8B,EAAAC,OAAA,uDACfy8B,EAA0BzD,GAA+B,EAAKxzB,MAAMmE,QAAS,EAAKnE,MAAMmH,SAAU,EAAKnH,MAAMqK,IAD9F,WAAA9P,EAAA,MAEfspB,GAAyBoT,IAFV,OAGrBzd,OAAOre,SAAS+7B,KAAhB,UAA0B,EAAKz8B,QAA/B,YAzBwB,gBAyBxB,YAA0DyoB,GAA1D,SAHqB,sCAjBK,EAsB5B6T,YAAc,WACZ,EAAKtY,SAAS,CACZC,SAAU,QAxBc,EA2B5ByY,YAAc,kBAAMx3B,OAAOY,KAAK62B,wBAzB9B,EAAKz7B,MAAQ4tB,GACb,EAAK9uB,QAAU60B,EAAQ70B,QAHG,EAD9B,wEA8BY,IAAD,OAELikB,EACEzD,KAAKtf,MADP+iB,SAGAmN,EACE5Q,KAAKjb,MADP6rB,kBAEF,OAAO,kBAAC,WAAD,KACK,kBAAC,KAAD,CAAQ/S,QAASmC,KAAK2b,kBAAmBlX,eAAa,EAACC,oBAAkB,EAAC0X,WAAW,EAAM9W,KAAK,QAAQR,MAAOrH,GAAOkd,QAClH,kBAAC,GAAD,CAAcR,SAAUvJ,IACvBuL,sBAAoBvL,GACrB,kBAAC,KAAD,CAAmB9L,MAAOrH,GAAOmd,iBAErC,kBAAC,KAAD,CAAMxd,KAAMjY,QAAQse,GAAWA,SAAUA,EAAUmB,aAAc,CACzEpE,SAAU,SACVC,WAAY,QACXpD,QAAS2C,KAAK8b,YAAajX,mBAAoB,KAAMwX,cAAe,CACrEvX,MAAOrH,GAAOod,OAED7a,KAAKkc,cAAcr3B,KAAI,SAAAjE,GAAI,OAAI,kBAAC,GAAD,CAA2B+I,IAAK/I,EAAMu5B,SAAUv5B,EAAM6pB,MAAO0R,sBAAoBv7B,GAAOy5B,WAAYz5B,IAASgwB,EAAmBnT,OAAQA,GAAQI,QAAS,EAAK+d,oBAAoBh7B,QAClN,yBAAKkkB,MAAOrH,GAAO+d,WACnB,wBAAI1W,MAAOrH,GAAOsd,cAClB,kBAAC,GAAD,CAA2BpxB,IAAK,MAAOwwB,SAAU,MAAO1P,MAAO3qB,KAAKmG,EAAE,eAClFwX,OAAQA,GAAQI,QAASmC,KAAK+b,qBAAsBpX,UAAW3E,KAAKjb,MAAMmE,gBArDlF,GAA+C+W,aAkE/Cyb,GAA0BzG,aAAe,CACvCz1B,QAAS01B,KAAUoH,QAGrB,IAWetf,sBAXS,SAAAtc,GAAK,MAAK,CAChCkwB,kBAAmBvhB,GAAW3O,GAC9BwI,QAASwK,GAAYhT,GACrBwL,SAAUqI,GAAa7T,GACvB0O,GAAID,GAAOzO,OAGc,SAAA8W,GAAQ,MAAK,CACtCqkB,MAAO,SAAAzsB,GAAE,OAAIoI,EAASW,GAAQ/I,QAGjB4N,CAA6C0e,I,qFCtG7C,IACba,UAAW,CACTzF,aAAc,kBACdlB,QAAS,MACTtZ,OAAQ,OACRkgB,SAAU,QAEZlc,UAAW,CACTqF,KAAMjJ,UAAOK,QCUFS,wBAAWC,GAAXD,EAZe,SAAC,GAAD,IAC5BE,EAD4B,EAC5BA,QACAG,EAF4B,EAE5BA,QACAT,EAH4B,EAG5BA,KAH4B,OAIxB,kBAAC,KAAD,CAAQQ,UAAWF,EAAQ6e,UAAW3f,MAAM,UAAUM,QAAQ,YAAYuH,eAAa,EAACC,oBAAkB,EAAC7G,QAASA,GACjHT,EAAO,kBAAC,KAAD,CAAaQ,UAAWF,EAAQ4C,YAAgB,kBAAC,KAAD,CAAe1C,UAAWF,EAAQ4C,gBCJrFmc,GAAW,SAAC,GAOlB,IANLhZ,EAMI,EANJA,SACA/F,EAKI,EALJA,QACAG,EAII,EAJJA,QACAR,EAGI,EAHJA,QACAqf,EAEI,EAFJA,UAGMC,EADF,EADJC,eAEiCC,YATN,EAUrBC,EAAgBrZ,GAAYA,EAASsZ,wBAAwBC,OAXjD,IAWwEze,OAAO0e,YAC3FrY,EAAekY,EAAgB,CACnCtc,SAAU,MACVC,WAAY,SACV,CACFD,SAAU,SACVC,WAAY,SAERyc,EAAkBJ,EAAgB,CACtCtc,SAAU,SACVC,WAAY,SACV,CACFD,SAAU,MACVC,WAAY,SAEd,OAAO,kBAAC,WAAD,KACG,kBAAC,GAAD,CAAgB5C,QAASA,EAAST,KAAMjY,QAAQse,KAChD,kBAAC,KAAD,CAAMrG,KAAMjY,QAAQse,GAAWpG,QAASA,EAASoG,SAAUA,EAAUoB,mBAAoB,KAAMwX,cAAe,CACpHvX,MAAO,CACL0X,SAAUG,GAEZ/e,UAAWF,EAAQyf,UAClBvY,aAAcA,EAAcsY,gBAAiBA,GACnCR,KAIjBD,GAAS9O,aAAe,CACtBlK,SAAU,MAUGjG,4BCvDA,CACb2f,SAAU,CACRphB,QAAS,OACTof,cAAe,WDoDJ3d,CAAmBif,IE3CrBW,GAAb,YACE,WAAYr4B,GAAQ,IAAD,+BACjB,8CAAMA,KAIRrE,MAAQ,CACN+iB,SAAU,MANO,EAQnBpG,QAAU,kBAAM,EAAKmG,SAAS,CAC5BC,SAAU,QATO,EAWnBwH,SAAW,SAAA1G,GAAK,OAAI,EAAK7jB,MAAM+iB,SAAW,EAAKpG,UAAY,EAAKmG,SAAS,CACvEC,SAAUc,EAAMC,iBAZC,EAcnByE,SAAW,SAAAnjB,GACT,EAAKf,MAAMs4B,eAAX,eACG,EAAKt4B,MAAMu4B,SAAW,CACrBx3B,YAGJ,EAAKf,MAAM8Y,WApBM,EAsBnB0f,YAAc,SAAAC,GAAW,OAAIA,EAAY34B,KAAI,SAAAiB,GAAM,OAAID,GAAsBgC,MAAK,SAAA41B,GAAW,OAAIA,EAAY33B,SAAWA,SAtBrG,EAuBnB43B,gBAAkB,kBAAM,EAAKH,YAAY31B,2BAAiB,EAAK7C,MAAMkC,UAAUoC,MAAM,GAAGxE,KAAI,SAAA44B,GAAW,OAAI,kBAAC,KAAD,CAAU7f,UAAW,EAAK7Y,MAAM2Y,QAAQ4c,SAAUnW,UAAU,KAAKxa,IAAK8zB,EAAY33B,OAAQ+X,QAAS,kBAAM,EAAKoL,SAASwU,EAAY33B,UAC3N23B,EAAYz3B,UAtB7B,EAAK23B,UAAYrO,IAAMsO,YAFN,EADrB,wEA4BY,IAAD,OACDC,EAAoB7d,KAAKud,YAAY31B,2BAAiBoY,KAAKjb,MAAMkC,UACvE,OAAO,yBAAK62B,IAAK,SAAAC,GAAQ,OAAI,EAAKJ,UAAYI,IAClC,kBAAC,KAAD,CAAQngB,UAAWoC,KAAKjb,MAAM2Y,QAAQid,OAAQzd,QAAQ,YAAYN,MAAM,UAAU6H,eAAa,EAACC,oBAAkB,EAAC7G,QAAS,kBAAM,EAAKoL,SAAS4U,EAAkB,GAAG/3B,UAChK+3B,EAAkB,GAAG73B,MAEzB63B,EAAkBp2B,OAAS,EAAI,kBAAC,GAAD,CAAM4V,QAAS2C,KAAK3C,QAASQ,QAASmC,KAAKiL,SAAUxH,SAAUzD,KAAKtf,MAAM+iB,SAAUiZ,UAAW1c,KAAK0d,kBAAmBd,eAAgB5c,KAAK2d,YAAgB,UAlC5M,GAAuC1d,aAoDxBjD,sBALS,SAAAtc,GAAK,MAAK,CAChCuG,QAASoI,GAAW3O,GACpB48B,SAAU1tB,GAAwBlP,MAGI,CACtC28B,eAAgB7kB,IADHwE,CAEZQ,qBClEY,CACbmd,OAAQ,CACN7D,aAAc,kBACd1a,WAAY,MACZzY,SAAU,QAEZ22B,SAAU,CACR32B,SAAU,OACVmyB,cAAe,UACfwF,WAAY,SACZ1E,eAAgB,QAChBoH,SAAU,SACVpI,QAAS,MACTC,WAAY,QDqDbrY,CAAmB4f,KE5CTa,GAAb,8MACEv9B,MAAQ,CACNw9B,WAAW,GAFf,EAIEC,mBAAqB,SAAAC,KACKC,aAAQD,EAAUE,MAAO,EAAKv5B,MAAMu5B,SAAWD,aAAQD,EAAUG,MAAO,EAAKx5B,MAAMw5B,SAGzG,EAAKC,mBAGH,EAAKz5B,MAAMu4B,WAAavyB,wBAAyB,EAAKrK,MAAM+9B,WAC9D,EAAKjb,SAAS,CACZib,WAAW,KAbnB,EAiBED,iBAAmBE,cAAS,0BAAAp/B,EAAAC,OAAA,kEAAAD,EAAA,MACRq/B,iCAAuB,EAAKtK,QAAQj2B,GAAI,EAAK2G,MAAMu5B,MAAO,EAAKv5B,MAAMw5B,QAD7D,OACpBh4B,EADoB,OAE1B,EAAKxB,MAAM65B,kBAAkBr4B,GAFH,uCAGzB,KApBL,EAqBEs4B,cAAgB,YAGT,IAFLtwB,EAEI,EAFJA,YACAmC,EACI,EADJA,MAOA,OALA,EAAK3L,MAAM+5B,WAAW,CACpBvwB,cACAI,QAAS+B,EAAM7L,KAAI,SAAAqG,GAAI,OAAIA,EAAKpE,QAG1ByH,GACN,KAAKxD,uBAED,IAAMg0B,EAAc,GACdC,EAAoB,GAC1BtuB,EAAMlL,SAAQ,SAAAy5B,GACZ,IAAMn4B,EAAKwD,aAAWK,aAAas0B,EAAGn4B,IAOtC,GANAi4B,EAAYj4B,GAAM,CAChBA,KACAd,KAAMi5B,EAAGj5B,MAAQi5B,EAAG1S,YACpBA,YAAa0S,EAAG1S,aAGd0S,EAAGnzB,KAAM,CACX,IAAMA,EAAOD,GAAsBozB,EAAGnzB,MACtCkzB,EAAkBC,EAAGn4B,IAAMgF,IAAI,WAASmzB,EAAGn4B,IAAO,GAAKgF,EAAK5O,QAAQ,MAAO,QAG/E,EAAK6H,MAAMm6B,YAAYH,GACvB,EAAKh6B,MAAMo6B,kBAAkBH,GAC7B,MAGJ,QAEI,EAAKj6B,MAAMm6B,YAAYxuB,EAAM9L,QAAO,SAACsZ,EAAKhT,GAMxC,OALAgT,EAAIhT,EAAKpE,IAAM,CACbA,GAAIoE,EAAKpE,GACTd,KAAMkF,EAAKlF,MAAQkF,EAAKqhB,YACxBA,YAAarhB,EAAKqhB,aAEbrO,IACN,OA9Db,EAkEEkhB,YAAc,kBAAM,EAAKr6B,MAAMq6B,YAAY,OAlE7C,EAmEEC,iBAAmB,SAAA/B,GACjB,OAAO,EAAKv4B,MAAMu6B,cAAchC,GAAY,EAAKv4B,MAAMu6B,cAAchC,GAAU52B,QAAO,SAAAI,GAAE,OAAI,EAAK/B,MAAMmH,SAASpF,MAAKjC,KAAI,SAAAiC,GAAE,MAAK,CAC9HA,KACAd,KAAM,EAAKjB,MAAMmH,SAASpF,GAAId,SAC1B,IAvEV,EAyEEu5B,mBAAqB,SAACh5B,EAAK2F,EAAUC,GAAhB,OAAmC5F,EAAIG,QAAO,SAAAI,GAAE,YAA8C1F,IAA1C8K,EAAS5B,aAAWK,aAAa7D,OAAoBjC,KAAI,SAAAiC,GAChI,IAAMuE,EAAQf,aAAWK,aAAa7D,GACtC,MAAO,CACLA,KACAd,KAAMkG,EAASb,GAAOkhB,aAAergB,EAASb,GAAOrF,KACrD8F,KAAMG,GAAUZ,EAAOa,EAAUC,QA9EvC,EAmFEqzB,uBAAyB,SAAAC,GAAmB,IAAD,EAOrC,EAAK16B,MALPvH,EAFuC,EAEvCA,oBACA+gC,EAHuC,EAGvCA,MACAryB,EAJuC,EAIvCA,SACAC,EALuC,EAKvCA,eACAmxB,EANuC,EAMvCA,SAGF,GAAI,EAAK58B,MAAM+9B,UAAW,CACxB,IAAMiB,EAAU,EAAKH,mBAAmBhB,EAAOryB,EAAUC,GACnD4P,EAAUhR,yBAAyBuyB,EAAW,QAAU,OAC9D,OAAO,yBAAK3zB,IAAKoB,uBAAsB+Z,MAAO,CAC5C/I,YAEY,kBAAC,mBAAD,eAAkBve,oBAAqBA,EAAqBkiC,QAASA,GAAaD,KAIlG,OAAO,MAtGX,EAwGEE,oBAAsB,WAAO,IAAD,EAQtB,EAAK56B,MANPvH,EAFwB,EAExBA,oBACA8/B,EAHwB,EAGxBA,SACA18B,EAJwB,EAIxBA,KACAqT,EALwB,EAKxBA,WACA2rB,EANwB,EAMxBA,cACAd,EAPwB,EAOxBA,WAEIW,EAAiB,CACrBrhC,GAAI,EAAKi2B,QAAQj2B,GACjByhC,SAAU,EAAKhB,cACfiB,WAAYF,EACZG,UAAWjB,GA4Cb,OAAO,kBAAC,WAAD,KACM,EAAKU,uBAAuBC,GAC5BnC,GA3CU,WACrB,IACI0C,EADEV,EAAgB,EAAKD,iBAAiB/B,GAEtCx3B,EAAS,EAAKf,MAAMiL,uBAAuBstB,GAC3Cr2B,EAAUrG,EACVq/B,EAAgBX,EAAc73B,OAC9By4B,EAAuBC,kCAAwBl5B,EAASnB,GAe9D,KAdkCo6B,GAEHD,EAAgBC,IAC7CF,EAA0C,IAAzBE,EAA6BpgC,KAAKmG,EAAL,8GAAsH,CAClK2qB,kBAAmBlK,kCAAwBzf,KACxCnH,KAAKmG,EAAL,+IAAuJ,CAC1Jm6B,iBAAkB1Z,kCAAwBzf,GAC1Co5B,UAAWH,IAEbZ,EAAc95B,SAAQ,SAAC0F,EAAMsD,GAC3BtD,EAAKo1B,SAAW9xB,EAAQ0xB,MAIxB5C,IAAalzB,oBACf,OAAO,kBAAC,gBAAD,eAAe6N,gBAAiBza,EAAqB+iC,mBAAoBjB,EAAeU,eAAgBA,GAAoBP,IAGrI,GAAInC,IAAapzB,sBACf,OAAO,kBAAC,kBAAD,eAAiBs2B,gBAAiBlB,GAAmBG,IAM9D,GAFgCgB,wCAA8B/7B,OAAOY,KAAK,EAAKP,MAAMkP,aAEzDrN,SAAS02B,GAAW,CAC9C,IAAMoD,EAAczsB,EAAWqpB,IAAarpB,EAAWqpB,GAAUt3B,KACjE,OAAO,kBAAC,mBAAD,eAAkBs5B,cAAeA,EAAehC,SAAUA,EAAUoD,YAAaA,GAAiBjB,IAI3G,OAAO,KAKgBkB,KAnK7B,EAsKEC,oBAAsB,SAAAtD,GAAQ,OAAI,kBAAC,GAAD,CAA8BlU,gBAAiB,SAAA8J,GAAO,OAAI,EAAKnuB,MAAM87B,qBAAqBj6B,SAAS02B,GAAY,kBAAC,GAAD,CAAczf,QAAS,EAAKoV,kBAAkBC,KAAe,kBAAC,GAAD,CAAmBrV,QAAS,EAAKoV,kBAAkBC,SAtKnQ,EAuKED,kBAAoB,SAAAC,GAAO,OAAI,WAC7BA,IACA,EAAKkM,gBAzKT,0EA4KY,IAAD,EAIHpf,KAAKjb,MAFPu4B,EAFK,EAELA,SACArpB,EAHK,EAGLA,WAEI6sB,GAAexD,GAAYA,IAAavyB,uBAC9C,OAAO,kBAAC,KAAD,CAAQqV,YAAU,iBAAiBhD,KAAMkgB,KAAYrpB,EAAYoJ,QAAS2C,KAAKof,YAAatE,SAAS,KAAKiG,qBAAmB,EAACD,YAAaA,GACrI9gB,KAAK2f,sBACN,kBAAC,KAAD,KACI,kBAAC,GAAD,CAAY9hB,QAASmC,KAAKof,cACzB9B,GAAYtd,KAAK4gB,oBAAoBtD,SAtL1D,GAAmCrd,aA4LnCge,GAAchJ,aAAe,CAC3B72B,GAAI82B,KAAUhjB,QAqBhB+rB,GAActQ,aAAe,CAC3B2P,SAAU,KACVgB,MAAO,IAGT,IAcethB,sBAdS,SAAAtc,GAAK,MAAK,CAChClD,oBAAqBuX,GAAgCrU,GACrD48B,SAAU1tB,GAAwBlP,GAClCuT,WAAYD,GAAetT,GAC3BwL,SAAUqI,GAAa7T,GACvByL,eAAgBwD,GAAqBjP,GACrC49B,MAAOruB,GAAuBvP,EAAO0J,qBACrCm0B,MAAOtuB,GAAuBvP,EAAOqK,wBACrCu0B,cAAe9vB,GAAY9O,GAC3BE,KAAMyO,GAAW3O,GACjBsP,uBAAwB,SAAAzB,GAAW,OAAIyB,GAAuBtP,EAAO6N,IACrEsyB,qBAAsB1wB,GAA2BzP,MAGX,CACtC0+B,YAAanmB,GACb2lB,kBC5PiC,SAAAriC,GAAK,MAAK,CAC3CqE,KAAMsT,GACN3X,UD2PAuiC,WAAYpmB,GACZwmB,YAAa3lB,GACbynB,WAAYroB,GACZinB,cAAehnB,GACfumB,kBAAmBpmB,IAPNiE,CAQZihB,I,sBEtNYgD,GAxCf,8MACEC,OAAS,WAAO,IAAD,EAWT,EAAKn8B,MATP+B,EAFW,EAEXA,GACA0H,EAHW,EAGXA,MACAxI,EAJW,EAIXA,KACAq0B,EALW,EAKXA,WACA8G,EANW,EAMXA,SACAC,EAPW,EAOXA,cACAC,EARW,EAQXA,cACAxjB,EATW,EASXA,QACAyjB,EAVW,EAUXA,eAEIC,EAAkB,CACtBz6B,KACAd,OACAq0B,aACA8G,WACAC,gBACAC,iBAEF,OAAO,kBAAC,KAAD,CAAWvhB,YAAahZ,EAAI0H,MAAOA,EAAOgzB,eAAgBnH,GAAc+G,GAAiBD,IACnF,SAACM,EAAUC,GAAX,OAAwB,oCACjB,kBAAC,gBAAD,eAAeC,SAAUF,EAASE,UAAcF,EAASG,eAAoBH,EAASI,gBAAtF,CAAuGjkB,UAAW8jB,EAASI,WAAarkB,KAAOskB,SAAWtkB,KAAOukB,YAAankB,QAASA,EAASyjB,eAAgBA,GAAoBC,IACnOG,EAASI,YAAc,kBAAC,gBAAD,eAAelkB,UAAWH,KAAOwkB,oBAAwBV,SAxBzG,8BAAsCthB,a,sBCMzBiiB,GAAb,8MACEC,SAAW,EADb,EAEEC,uBAAyB,SAAAlyB,GAAS,OAAIA,EAAUlK,KAAK8R,cAAclR,SAAS,EAAK7B,MAAMs9B,WAAWvqB,gBAFpG,EAGEuiB,WAAa,SAAAvzB,GAAE,OAAI,EAAK/B,MAAMu9B,YAAY17B,SAASE,IAHrD,EAIEy7B,oBAAsB,SAAAz7B,GAAE,OAAI,EAAK/B,MAAMy9B,qBAAqB57B,SAASE,IAJvE,EAKE27B,kBAAoB,SAAA37B,GAAE,OAAI,EAAK/B,MAAM29B,iBAAiB97B,SAASE,IALjE,EAME67B,uBAAyB,SAAA77B,GAAE,OAAI,EAAK/B,MAAMsP,eAAezN,SAASE,IANpE,EAOE87B,WAAa,YAGN,IAFL97B,EAEI,EAFJA,GAGM+7B,EAAY,CAChB/7B,KACAd,KAHE,EADJA,KAKEwI,MAAO,EAAK2zB,WACZ9H,WAAY,EAAKA,WAAWvzB,GAC5Bq6B,SAAU,EAAKsB,kBAAkB37B,GACjCs6B,cAAe,EAAKmB,oBAAoBz7B,GACxCu6B,cAAe,EAAKsB,uBAAuB77B,GAC3C+W,QAAS,EAAK9Y,MAAM+9B,iBACpBxB,eAAgB,EAAKv8B,MAAMg+B,yBAE7B,OAAO,kBAAC,GAAD,eAAkBp5B,IAAG,UhJ9BC,agJ8BD,YAA0B7C,IAAU+7B,KAtBpE,EAwBEG,0BAA4B,SAAAt8B,GAAM,OAAI,EAAK3B,MAAMkP,WAAWvN,OAAOA,GAAQA,OAAO,EAAK07B,wBAAwBv9B,IAAI,EAAK+9B,aAxB1H,0EA2BI5iB,KAAKmiB,SAAW,EAChB,IAAMc,EAAkBjjB,KAAKgjB,2BAA0B,SAAA9yB,GAAS,OAAIxL,OAAO0L,OAAO8yB,gCAAsBj4B,MAAK,SAAAk4B,GAAQ,OAAIA,EAASr8B,KAAOoJ,EAAUpJ,SAC7Is8B,EAAoBpjB,KAAKgjB,2BAA0B,SAAA9yB,GAAS,OAAIxL,OAAO0L,OAAOizB,kCAAwBp4B,MAAK,SAAAq4B,GAAM,OAAIA,EAAOx8B,KAAOoJ,EAAUpJ,SAC7Iy8B,EAA0BvjB,KAAKgjB,2BAA0B,SAAA9yB,GAAS,OAAKxL,OAAO0L,OAAO2D,qCAA2B9I,MAAK,SAAAu4B,GAAS,OAAIA,EAAU18B,KAAOoJ,EAAUpJ,SACnK,OAAO,kBAAC,KAAD,CAAWiZ,YhJvCW,agJuCqB0jB,gBAAgB,IACrD,SAAAhC,GAAQ,OAAI,uCAAK7jB,UAAWH,KAAO3B,UAAWgiB,IAAK2D,EAASE,UAAcF,EAASiC,gBAC5E,yBAAK9lB,UAAWH,KAAOkmB,SACnB,yBAAK/lB,UAAWH,KAAOmmB,SACnB,wBAAIhmB,UAAWH,KAAOomB,QAAtB,mBAGA,wBAAIjmB,UAAWH,KAAOqmB,MACjBb,IAGT,yBAAKrlB,UAAWH,KAAOmmB,SACnB,wBAAIhmB,UAAWH,KAAOomB,QAAtB,oBAGA,wBAAIjmB,UAAWH,KAAOqmB,MACjBV,IAGT,yBAAKxlB,UAAWH,KAAOmmB,SACnB,wBAAIhmB,UAAWH,KAAOomB,QAAtB,mBAGA,wBAAIjmB,UAAWH,KAAOqmB,MACjBP,KAIZ9B,EAASjV,oBA3DlC,GAAsCvM,aA2EhC8jB,GAA8B/e,aAAe,CAACgf,EAAoB30B,aAAa,SAAAzO,GAAI,OAAIqjC,kCAAwBrjC,MAC/GsjC,GAA4Blf,aAAe,CAACgf,EAAoB30B,aAAa,SAAAzO,GAAI,OAAIujC,mCAAyBvjC,MAcrGoc,sBAZS,SAAAtc,GAAK,MAAK,CAChCuT,WAAYvP,OAAO0L,OAAO4zB,EAA4BhwB,eAAetT,IACrE4hC,YAAa0B,EAAoB7zB,2BAA2BzP,GAC5D2T,eAAgB2vB,EAAgC5vB,mBAAmB1T,GACnE8hC,qBAAsBuB,GAA4BrjC,GAClDgiC,iBAAkBwB,GAA0BxjC,OAGnB,SAAA8W,GAAQ,MAAK,CACtCsrB,iBAAkB,SAAAh8B,GAAE,OAAI0Q,EAASyB,GAAyBnS,QAG7CkW,CAA6CklB,I,sBC9D7CkC,GAhCf,8MACE1jC,MAAQ,CACN2hC,WAAY,IAFhB,EAIEgC,cAAgB,WACd,EAAK7gB,SAAS,CACZ6e,WAAY,MANlB,EASEiC,mBAAqB,SAAAjC,GACnB,EAAK7e,SAAS,CACZ6e,gBAXN,0EAgBI,OAAO,yBAAKzkB,UAAWH,KAAO3B,WAClB,kBAAC,kBAAD,CAAiBgJ,MAAO,CAChCuW,aAAc,MACd1F,WAAY,OACZqF,OAAO,aAAD,OAAete,UAAO6nB,SAC5BzN,aAAc,MACd5a,YAAa,OACZsQ,YAAa1sB,KAAKmG,EAAE,qBAAsBu+B,KAAMxkB,KAAKtf,MAAM2hC,WAAY7X,SAAUxK,KAAKskB,mBAAoBjW,QAASrO,KAAKqkB,cAAeI,kBAAkB,IAClJ,kBAAC,GAAD,CAAkBpC,WAAYriB,KAAKtf,MAAM2hC,WAAYU,wBAAyB/iB,KAAKjb,MAAMg+B,+BAxBzG,GAAwC9iB,aCN3BxC,GAAS,CACpBinB,aAAc,CACZpoB,OAAQ,OACRP,QAAS,OACTof,cAAe,SACf1e,gBAAiBC,UAAOioB,U,yKCLb,IACbC,eAAgB,CACdvf,UAAW,QAEbwf,WAAY,CACVxoB,MAAO,OAETyoB,WAAY,CACVzoB,MAAO,OAET0oB,cAAe,CACbtoB,gBAAiBC,UAAOsoB,SAE1BC,UAAW,CACTrP,QAAS,WACTqF,aAAa,aAAD,OAAeve,UAAOiN,UAEpCub,KAAM,CACJjK,aAAc,QAEhBkK,UAAW,CACTvP,QAAS,YAEXwP,cAAe,CACb/J,aAAc,OAEhB3Q,SAAU,CACR2a,WAAY,OAEdC,cAAe,CACbtK,OAAQ,SCNNuK,G,8MACJ7kC,MAAQ,CACNgQ,WAAOtP,G,EAgBTokC,SAAW,SAAA90B,GACT,IAAM+0B,EAAW/0B,EAAM9L,QAAO,SAAC6gC,EAAUv6B,GAEvC,OADAu6B,EAASv6B,EAAKpE,IAAMoE,EACbu6B,IACN,IACH,EAAKjiB,SAAS,CACZ9S,MAAO+0B,K,EAGXC,aAAe,SAACx6B,EAAMpD,GACpB,EAAK0b,SAAS,CACZ9S,MAAM,eAAM,EAAKhQ,MAAMgQ,MAAlB,eACFxF,EAAKpE,GADH,eACaoE,EADb,CAEDpD,c,EAKR69B,QAAU,WACR,IAAMz3B,EAAOxJ,OAAOY,KAAK,EAAK5E,MAAMgQ,OAAO9L,QAAO,SAACC,EAAKiC,GACtD,IAAMgB,EAAO,EAAKpH,MAAMgQ,MAAM5J,GAAIgB,KAMlC,OAJIA,EAAO,IACTjD,EAAIiC,GAAMgB,GAGLjD,IACN,IACH,OAAOH,OAAOY,KAAK4I,GAAMzG,OAAS,EAAIyG,EAAOT,GAAWS,M,qFAxCxD8R,KAAKwlB,SAASxlB,KAAKjb,MAAM2L,S,yCAGR0tB,GACjB,IAAMwH,EAAWxH,EAAU1tB,MACrBm1B,EAAW7lB,KAAKjb,MAAM2L,MAEvB2tB,aAAQuH,EAAUC,IACrB7lB,KAAKwlB,SAASK,K,oCAmCH,IAAD,OAEVnoB,EACEsC,KAAKjb,MADP2Y,QAEF,OAAO,kBAAC,KAAD,KACK,kCACI,yBAAKE,UAAWF,EAAQmnB,aACxB,yBAAKjnB,UAAS,UAAKF,EAAQonB,WAAb,YAA2BpnB,EAAQqnB,iBACjD,yBAAKnnB,UAAWF,EAAQonB,cAE5B,kBAAC,KAAD,KACI,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAWlnB,UAAWF,EAAQwnB,OAC9B,kBAAC,KAAD,CAAWtnB,UAAS,UAAKF,EAAQunB,UAAb,YAA0BvnB,EAAQwnB,MAAQY,MAAM,UAC/DhmC,KAAKmG,EAAE,WAEZ,kBAAC,KAAD,CAAW2X,UAAS,UAAKF,EAAQunB,UAAb,YAA0BvnB,EAAQwnB,MAAQY,MAAM,UAC/DhmC,KAAKmG,EAAE,aAIpB,kBAAC,KAAD,KACKvB,OAAOY,KAAK0a,KAAKtf,MAAMgQ,OAAO7L,KAAI,SAAAiC,GAC7C,IAAMoE,EAAO,EAAKxK,MAAMgQ,MAAM5J,GAC9B,OAAO,kBAAC,KAAD,CAAU6C,IAAG,8BAAyB7C,IACvB,kBAAC,KAAD,CAAW8W,UAAWF,EAAQunB,WACzB/5B,EAAKlF,MAEV,kBAAC,KAAD,CAAW4X,UAAWF,EAAQunB,UAAWa,MAAM,UAC3C,kBAAC,KAAD,CAAOjoB,QAAS,kBAAM,EAAK6nB,aAAax6B,ECvGvD,IDuGqE8f,QCvGrE,IDuG8E9f,EAAKpD,KAAgB8V,UAAWF,EAAQynB,aAE3G,kBAAC,KAAD,CAAWvnB,UAAWF,EAAQunB,UAAWa,MAAM,UAC3C,kBAAC,KAAD,CAAOjoB,QAAS,kBAAM,EAAK6nB,aAAax6B,ECzGvD,IDyGqE8f,QCzGrE,IDyG8E9f,EAAKpD,KAAgB8V,UAAWF,EAAQynB,qB,+BAQ/H,IAAD,SAMHnlB,KAAKjb,MAJP2Y,EAFK,EAELA,QACAqoB,EAHK,EAGLA,OACAC,EAJK,EAILA,eACAC,EALK,EAKLA,cAEF,OAAO,kBAAC,KAAD,CAAQ7oB,KAAM2oB,EAAQjL,SAAUkL,EAAgB3oB,QAAS4oB,EAAelF,qBAAmB,GACtF,kBAAC,KAAD,KAAcjhC,KAAKmG,EAAE,gBACrB,kBAAC,KAAD,CAAe2X,UAAWF,EAAQ0nB,eAC9B,uBAAGxnB,UAAWF,EAAQgN,UACjB5qB,KAAKmG,EAAE,8GAEZ,yBAAK2X,UAAWF,EAAQknB,gBACnB5kB,KAAKtf,MAAMgQ,OAASsP,KAAKkmB,gBAGlC,kBAAC,KAAD,CAAetoB,UAAWF,EAAQ4nB,eAC9B,kBAAC,KAAD,CAAQ1oB,MAAM,UAAU6H,eAAa,EAACC,oBAAkB,EAAC7G,QAASooB,GAC7DnmC,KAAKmG,EAAE,WAEZ,kBAAC,KAAD,CAAQ2W,MAAM,UAAUM,QAAQ,YAAYW,QAAS,kBAAM,EAAK9Y,MAAMohC,cAAc,EAAKR,UAAW,EAAK5gC,MAAMqK,MAC1GtP,KAAKmG,EAAE,iB,GA/GRga,aAoIxBslB,GAAU5X,aAAe,CACvBjQ,QAAS,GACTqoB,QAAQ,EACRr1B,MAAO,GACPy1B,cAAeC,SAAS3gC,UACxBwgC,cAAeG,SAAS3gC,UACxBugC,eAAgB,MAGlB,IAiBehpB,sBAjBS,SAAAtc,GAAK,MAAK,CAChCqlC,OAhJkC,cAgJ1Bn2B,GAAwBlP,GAChCgQ,MAAOuN,GAAmBvd,GAC1B0O,GAAID,GAAOzO,OAGc,SAAA8W,GAAQ,MAAK,CACtC2uB,cAAe,SAACj4B,EAAMkB,GACpBoI,EAAS8B,GAAUpL,IACnBsJ,EAASF,GAAmB,eAAKlI,EAAN,CACzBlB,WAEFsJ,EAASyB,OAEXgtB,cAAe,kBAAMzuB,EAASyB,UAGjB+D,CAA6CQ,qBAAWC,GAAXD,CAAmB+nB,KE7KlEc,GAAb,8MACE3lC,MAAQ,CACN4lC,sBAAuB,KACvB/3B,YAAa,MAHjB,EAKEg4B,4BAA8B,SAAChiB,EAAOzd,GACpCyd,EAAMiiB,kBACN,EAAKhjB,SAAS,CACZ8iB,sBAAuB/hB,EAAMC,cAC7BjW,YAAazH,KATnB,EAYE2/B,6BAA+B,kBAAM,EAAKjjB,SAAS,CACjD8iB,sBAAuB,KACvB/3B,YAAa,QAdjB,EAgBEm4B,0BAA4B,kBAAO,EAAK3hC,MAAM6I,iBAAiB,EAAKlN,MAAM6N,cAAgB,IAAI9G,QAhBhG,0EAkBY,IAAD,OACP,OAAO,yBAAKqd,MAAOrH,GAAOinB,cACd,kBAAC,GAAD,CAAoB3B,wBAAyB/iB,KAAKumB,8BAClD,kBAAC,gBAAD,CAAeh4B,YAAayR,KAAKtf,MAAM6N,YAAao4B,cAAe3mB,KAAKjb,MAAM6hC,iBAAiB5mB,KAAKtf,MAAM6N,aAActH,QAAS+Y,KAAKjb,MAAMqK,GAAGxO,KAAMimC,uBAAwB7mB,KAAK0mB,4BAA6BI,oBAAqB9mB,KAAKjb,MAAM+hC,oBAAqBC,6BAA8B/mB,KAAKjb,MAAMiiC,4BAA6BC,8BAA+B,SAAApnB,GAAW,OAAI,EAAK9a,MAAMkiC,8BAA8B,EAAKliC,MAAMiiC,4BAA6BnnB,IAAcqnB,gBAAiBlnB,KAAKjb,MAAMmiC,gBAAiBC,kBAAmBnnB,KAAKjb,MAAMoiC,kBAAmB1jB,SAAUzD,KAAKtf,MAAM4lC,sBAAuBjpB,QAAS2C,KAAKymB,+BAC/mB,kBAAC,GAAD,WAtBhB,GAAgCxmB,aAwEjBjD,sBAlCS,SAAAtc,GAAK,MAAK,CAChC0O,GAAI40B,EAAoB70B,OAAOzO,GAC/BuT,WAAY+vB,EAA4BhwB,eAAetT,GACvD2F,OAAQ29B,EAAoBz0B,aAAa7O,GACzCkN,iBAAkBo2B,EAAoBx0B,YAAY9O,GAClDsmC,4BAA6BhD,EAAoBzzB,6BAA6B7P,GAC9EkmC,iBAAkB,SAAAr4B,GAAW,OAAIy1B,EAAoBh0B,uBAAuBtP,EAAO6N,QAG1D,SAAAiJ,GAAQ,MAAK,CACtCsvB,oBAAqB,kBAAMtvB,EAASyB,GFnCF,eEoClCiuB,gBAAiB,SAAC34B,EAAazI,EAAQ+gC,GACrCrvB,EAASgB,GAAwB,eAC9BjK,EAAc,CACbzI,aAI2B,IAA3B+gC,GACFrvB,EAASyB,GAAyB1K,KAGtC44B,kBAAmB,SAAA54B,GACjBiJ,EAASiB,GAA2BlK,KAEtC04B,8BAA+B,SAACD,EAA6BlhC,GAC3D0R,EAASwvB,EAA8BvuB,GAA2BjI,oCAAoCgI,GAAwB,eAC3HhI,mCAAmC,CAClC1K,iBAMOkX,CAA6CqpB,I,sBClF7C,IACb1C,QAAS,CACPyD,SAAU,WACV/qB,MAAO,SAETP,UAAW,CACTsrB,SAAU,WACV9qB,OAAQ,OACRD,MAAO,SCAEgrB,GAAb,8MACEC,uBAAyB,SAAAr5B,GACvB,GAAIA,EAAgB,CAClB,IAAMs5B,EAAiB,WAAO,EAAKxiC,MAAM+B,GAAlB,2BAAuCmH,EAAenH,IAKzE3G,EAAQD,SAASyiB,WAAa4kB,IAChCpnC,EAAQoJ,KAAKg+B,GACb,EAAKxiC,MAAMqU,sBAAsB,CAC/BtS,GAAImH,EAAenH,GACnBme,QAAShX,EAAegX,gBAI5B9kB,EAAQoJ,KAAR,WAAiB,EAAKxE,MAAM+B,MAhBlC,0EAoBY,IAAD,EAKHkZ,KAAKjb,MAHPnE,EAFK,EAELA,KACAkG,EAHK,EAGLA,GACAsU,EAJK,EAILA,iBAEF,OAAOtU,EAAK,yBAAKge,MAAOrH,GAAOkmB,SACnB,yBAAK7e,MAAOrH,GAAO3B,WACf,kBAAC,KAAD,CAA0B1d,GAAI4hB,KAAKqU,QAAQj2B,GAAIwC,KAAMA,EAAMkG,GAAIA,EAAI0gC,wBAAyBpsB,EAAkBqsB,8BAA+BznB,KAAKsnB,2BAEjJ,SA9BrB,GAAqCrnB,aAkCrConB,GAAgB1Z,aAAe,CAC7B/sB,KAAM,SAQRymC,GAAgBpS,aAAe,CAC7B72B,GAAI82B,KAAUhjB,QAGhB,IAIe8K,sBAJS,SAAAtc,GAAK,MAAK,CAChC0a,iBAAkBtL,GAAqBpP,GAAOoG,IAAM,QAGd,CACtCsS,yBACAC,4BAFa2D,CAGZqqB,IC9DY,IACbK,YAAa,CACX3rB,QAAS,OACT6a,eAAgB,aAChB5a,WAAY,aACZM,OAAQ,QAEVqrB,aAAc,CACZP,SAAU,WACV9qB,OAAQ,OACRD,MAAO,OACPurB,KAAM,EACNC,IAAK,EACLC,OAAQ,IACRnS,WAAY,c,6sDCdhB,IAEaoS,GAAoB,gB,iFACvBzmB,GAAM,IAAIljB,YAAJ,qCADiB,G,mBAKHA,0BALG,I,cAKvB4pC,EALuB,O,kBAOtB,CAAC,IAAI5pC,YAAJ,SAPqB,K,sCAUpB6pC,GAAmC,gB,2FAKxCC,GAAkB,IAAI9pC,YAAJ,4BACE8K,EADF,4EALsB,GAWxCjI,EAAJ,qBACIinC,EAAkBA,yBACdjnC,EADJinC,qB,mBAK0B9pC,4BAjBc,I,cAiBtC+pC,EAjBsC,OAmBtCC,EAnBsC,GAoBtCC,EApBsC,GAsBtCC,EAAM,IAtBgC,KAuBtCC,GAAc,GAAKD,EAAN,sBAvByB,GAwBtCE,GAAgB,IAAMF,aAAP,eAxBuB,GA0B5CH,kCAAkD,SAAAM,GAC9CJ,OAAwBF,oBAAxBE,M,IAEMK,EAAY,GAAH,mCAAf,GAEMpnB,GAAM,IAAIljB,YAAJ,+DAAZ,GAKAgqC,OAAchqC,0BAAdgqC,O,kBAGGO,QAAA,aAA2B,SAAAC,G,MAAc,CAC5CA,UAAWA,EAAA,KAAc,SAAAznB,G,OAAO,IAAI/iB,YAAJ,SAAJ,MAC5BiqC,0B,uCCnDKpnC,GAAU,CACnBC,cAAe,CAAEC,kBAAF,EAA2BE,aAAa,GACvDC,cAAe,CAAEH,kBAAF,EAA2BE,aAAa,GAEvDE,iBAAkB,CAAEJ,cAAF,EAAuBE,aAAa,GACtDG,gBAAiB,CAAEL,kBAAF,EAA2BE,aAAa,GACzDI,kBAAmB,CAAEN,aAAF,OAAwBE,aAAa,GACxDK,WAAY,CAAEP,cAAF,EAAuBE,aAAa,GAChDM,sBAAuB,CAAER,cAAF,EAAuBE,aAAa,GAC3DO,qBAAsB,CAAET,cAAF,EAAuBE,aAAa,GAC1DQ,kBAAmB,CAAEV,kBAAF,EAA2BE,aAAa,GAC3DS,eAAgB,CAAEX,kBAAF,EAA2BE,aAAa,GACxDU,kBAAmB,CAAEZ,kBAAF,EAA2BE,aAAa,GAC3DW,kBAAmB,CAAEb,kBAAF,EAA2BE,aAAa,GAC3DY,eAAgB,CAAEd,kBAAF,EAA2BE,aAAa,GACxDa,eAAgB,CAAEf,aAAF,OAAwBE,aAAa,GACrDc,SAAU,CAAEhB,cAAF,EAAsBE,aAAa,GAC7Ce,gBAAiB,CAAEjB,kBAAF,EAA2BE,aAAa,GACzDgB,gBAAiB,CAAElB,kBAAF,EAA2BE,aAAa,GAGzDiB,gBAAiB,CAAEnB,aAAF,UAA2BE,aAAa,GACzDkB,cAAe,CAAEpB,cAAF,EAAuBE,aAAa,GACnDmB,aAAc,CAAErB,cAAF,EAAuBE,aAAa,GAClDoB,UAAW,CAAEtB,cAAF,EAAuBE,aAAa,GAC/CqB,UAAW,CAAEvB,aAAF,IAAqBE,aAAa,GAC7CsB,SAAU,CAAExB,kBAAF,EAA2BE,aAAa,GAClDuB,MAAO,CAAEzB,kBAAF,EAA2BE,aAAa,GAG/CwB,UAAW,CAAE1B,cAAF,EAAuBE,aAAa,GAC/CyB,aAAc,CAAE3B,cAAF,EAAuBE,aAAa,GAClD0B,UAAW,CAAE5B,cAAF,EAAuBE,aAAa,GAC/C2B,aAAc,CAAE7B,cAAF,EAAuBE,aAAa,GAClD4B,oBAAqB,CAAE9B,cAAF,EAAuBE,aAAa,GACzD6B,iBAAkB,CAAE/B,cAAF,EAAuBE,aAAa,GACtD8B,cAAe,CAAEhC,cAAF,EAAuBE,aAAa,GACnD+B,aAAc,CAAEjC,cAAF,EAAuBE,aAAa,GAClDgC,WAAY,CAAElC,aAAF,QAAyBE,aAAa,GAClDiC,cAAe,CAAEnC,cAAF,EAAuBE,aAAa,GACnDkC,UAAW,CAAEpC,aAAF,OAAwBE,aAAa,GAChDoC,mBAAoB,CAAEtC,aAAF,OAAwBE,aAAa,GACzDqC,eAAgB,CAAEvC,aAAF,SAA0BE,aAAa,GACvDsC,SAAU,CAAExC,aAAF,SAA0BE,aAAa,GACjDuC,oBAAqB,CAAEzC,aAAF,QAAyBE,aAAa,GAG3DwnC,qBAAsB,CAAE1nC,cAAF,EAAuBE,aAAa,GAC1DynC,sBAAuB,CAAE3nC,cAAF,EAAuBE,aAAa,GAC3D0nC,4BAA6B,CAAE5nC,cAAF,EAAuBE,aAAa,GAEjE2nC,iCAAkC,CAC9B7nC,cAD8B,EAE9BE,aAAa,GAEjB4C,WAAY,CAAE9C,cAAF,EAAuBE,aAAa,GAChD6C,WAAY,CAAE/C,cAAF,EAAuBE,aAAa,GAChD8C,gBAAiB,CAAEhD,kBAAF,EAA2BE,aAAa,GACzD+C,SAAU,CAAEjD,aAAF,IAAqBE,aAAa,IAsBnC4nC,GAAuB,W,OACzBvkC,OAAA,oBACH,SAAAwkC,G,OAASA,KAAJ,gBCpFAC,GAA4B,SAAAP,G,IAgB/B18B,EAfW08B,EAAA,QAAiB,c,OAC1BQ,EAAJ,SAEQjoB,gCACAioB,yBAFJ,SAIIA,KAGJA,IAGJ,IAZJ,IAeA,S,OAEOl9B,EAAA,sBAA8B,c,IAC3BlG,EAAOkG,WADsD,K,OAMnEm9B,OAAwBrjC,sBAAxBqjC,KAEA,IARJ,KCDEC,G,uBACF,G,+IACI,G,uFAgCgB,c,IACVroC,EAAU,aACZ,c,cAAO6D,EAAmB,KAAXC,EAAW,K,YAGlBjE,UACAA,OAA0BiE,EAF9B,eAIIF,KAAc/D,EAAd+D,IAGJ,IAXoC,I,GAiBxC8I,EAAJ,qBACI1M,qBAA6B0M,EAA7B1M,oBAKA0M,eAAuBA,cAA3B,OAAuD,C,IAC7C4wB,EAAQ5wB,EAAA,iBACV,SAAA47B,G,OAAUA,uBAAJ,MAGVtoC,cAAsBs9B,OAAtBt9B,K,OAGJ,K,wBAGU,W,qGASN,EATM,MAEEH,EAFF,SAGN6M,EAHM,UAIN67B,EAJM,eAKNC,EALM,sBAMNC,EANM,mBAON/rC,EAPM,UAQNgsC,EARM,oB,SAYA1oC,EAAU,sBAZV,GAcA2oC,EAAe,CACjBC,UADiB,EAEjBC,OAAQ,CAAEtF,KAAM1kC,oBAGhB8oC,EAnBE,IAqBFz3B,yBAAerQ,EArBb,O,uBAsBEunC,EAtBF,G,mBA2BQJ,GACN,QADsC,KA3BxC,I,gBAyBEW,EAzBF,YA0BEP,EA1BF,qBAiCFuB,iBACAA,cAA2BT,GAA3BS,G,mDAEkB7B,GACd,QAD+B,KApCjC,I,QAoCFa,EApCE,O,QA2CFA,EAAJ,QACIa,K,EAGJ,sBAA6B,W,IAACM,EAAqC,uDAAzB,QAAWA,UAC3CC,EAAsBC,8BAAoB,EAAD,EAG3C,YAH2C,iBAMvCF,mBANuC,SAU3CG,wBAAcppC,EAAdopC,aAV2C,cAa3CA,wBAAcppC,EAAlB,MACI4oC,EAAiBM,EAAjBN,eAEAA,EACIM,EAAAlpC,cAAA,gBAAkD,CAC9CqpC,aAD8C,IAE9CC,YAAa,S,EAM7B,wBAEAT,I,kDAEAhsC,EAAQ,EAARA,I,8DA7IJ,UAAiB2xB,IAAjB,Y,EAEA,sBAA6B8W,SAA7B,U,oTAIA,gB,yCAGehI,GACVC,aAAQre,KAAKjb,MAAN,OAAoBq5B,EAAhC,SAKKC,aAAQre,KAAKjb,MAAN,QAAqBq5B,EAAjC,SAOIpe,KAAKjb,MAAM+B,KAAOs3B,EAAlB,IACCC,aAAQre,KAAKjb,MAAN,MAAmBq5B,EAF/B,Q,KAII,sBADF,G,KAbE,gB,sCAuIG,yBAAKN,IAAK9d,KAAV,UAA0B8E,MAAO9E,KAAKjb,MAAM+f,a,gCAtJjC7E,aA0J1BqpB,gBAA2B,CACvBe,OADuB,GAEvB18B,QAFuB,GAGvB67B,cAHuB,EAIvB1kB,MAJuB,GAKvBilB,UALuB,IAMvBpsC,QAASyoC,SANc,UAOvBsD,iBAAkBtD,SAPK,UAQvBuD,kBAAmBvD,SARI,UASvBqD,oBAAqBrD,SAAS3gC,WAGlC6jC,aAAwB,CACpBe,OAAQnV,YADY,WAEpB92B,GAAI82B,YAFgB,WAGpBv3B,QAASu3B,UAHW,WAIpB6U,UAAW7U,KAJS,OAKpBvnB,QAASunB,KALW,OAMpBsU,aAActU,KANM,KAOpBpuB,GAAIouB,KAPgB,OAQpBpQ,MAAOoQ,KARa,OASpBwU,iBAAkBxU,KATE,KAUpByU,kBAAmBzU,KAVC,KAWpBuU,oBAAqBvU,KAAUoV,MC3LnC,IA+BMC,GAAc,SAAC,G,IACjBF,EAOE,EAPFA,OACA18B,EAME,EANFA,QACAmX,EAKE,EALFA,MACAnnB,EAIE,EAJFA,QACA8rC,EAGE,EAHFA,oBACArrC,EAEE,EAFFA,GACAurC,EACE,EADFA,kB,KAE0CzqC,mBADxC,M,GACK4B,EADL,KACoB0pC,EADpB,K,KAEsBtrC,mBAFtB,M,GAEK6X,EAFL,KAEW0zB,EAFX,K,OAIFprC,qBAAU,W,IACA4B,EA5CY,SAACH,EAAe6M,G,IAChC1M,EAAU,aAA8B,c,cAAO6D,EAAmB,KAAXC,EAAW,K,YAGhEjE,UACAA,OAA0BiE,EAF9B,eAIIF,KAAc/D,EAAd+D,IAGJ,IAV8C,I,GAc9C8I,EAAJ,qBACI1M,qBAA6B0M,EAA7B1M,oBAKA0M,eAAuBA,cAA3B,OAAuD,C,IAC7C4wB,EAAQ5wB,EAAA,iBACV,SAAA47B,G,OAAUA,uBAAJ,MAGVtoC,cAAsBs9B,OAAtBt9B,K,OAGJ,EAgBoBypC,CAAkBL,EAAlC,GACAtC,GAAkB3pC,EAAIisC,EAAtBtC,SACU,SAAAa,GACGA,EAAL,SAGA,GACIa,KAEJe,KACAC,EAAQ7B,KAAR6B,UACAd,QAVR5B,OAYW,SAAAnqC,GACHD,UAIT,CAAC0sC,EAAQ18B,EAAS87B,EAAqB9rC,EAASS,EAnBnDiB,IAsBI,yBAAKylB,MAAK,IAAIzI,MAAJ,OAAmBC,OAAQ,QAA3B,IACN,gCAAYxb,cAAZ,EAA0CiW,KAAMA,MAK5DwzB,gBAA2B,CACvBF,OADuB,GAEvB18B,QAFuB,GAGvBmX,MAHuB,GAIvBnnB,QAASyoC,SAJc,UAKvBuD,kBAAmBvD,SALI,UAMvBqD,oBAAqBrD,SAAS3gC,WAGlC8kC,aAAwB,CACpBF,OAAQnV,YADY,WAEpB92B,GAAI82B,YAFgB,WAGpBv3B,QAASu3B,UAHW,WAIpBvnB,QAASunB,KAJW,OAKpBpQ,MAAOoQ,KALa,OAMpByU,kBAAmBzU,KANC,KAOpBuU,oBAAqBvU,KAAUoV,MCxFnC,I,GAA4B,SAAAvlC,G,OACnBA,SAAD,MAAsBA,gBAA1B,uBAGW,qBAAP,GAFO,qBAAP,ICPO,IACb4lC,MAAO,CACL5uB,QAAS,OACT6a,eAAgB,SAChBta,OAAQ,QAEVsuB,MAAO,CACLhV,QAAQ,GAAD,OAAKnM,WAAQC,KAAb,YAAqBD,WAAQohB,MACpC/P,SAAU,IACVgQ,UAAW,aACXluB,MAAOF,UAAOqN,QACdqd,SAAU,WACVrrB,QAAS,OACTC,WAAY,UAEd+uB,eAAgB,CACdhvB,QAAS,OACTof,cAAe,SACfnf,WAAY,SACZuf,UAAW,UAEbyP,UAAW,CACT3uB,MAAO,QACPC,OAAQ,QACRya,OAAQ,eAEVkU,WAAY,CACVpV,WAAY,MACZlyB,SAAU,OACViZ,MAAOF,UAAOwuB,QACdC,cAAe,SACf9F,WAAY,OACZhpB,MAAO,QACP0a,OAAQ,eAEVqU,iBAAkB,CAChBvV,WAAY,MACZlyB,SAAU,OACViZ,MAAOF,UAAOwa,QACdmO,WAAY,OACZhpB,MAAO,QACP0a,OAAQ,UAEVn0B,MAAO,CACLizB,WAAY,OACZxQ,UAAW,EACXggB,WAAY,OACZzoB,MAAOF,UAAOwa,SAEhB0M,QAAS,CACPrI,UAAW,OACX5F,WAAY,OACZC,QAAS,GACTyF,aAAc,GACdvE,aAAc,GAEhBuU,MAAO,CACLhG,WAAY,OACZ8F,cAAe,QACfG,kBAAmB,UACnBvU,OAAQ,aACRnB,QAAS,cAEX2V,UAAW,CACT5nC,SAAU,OACV0hC,WAAY,OACZ8F,cAAe,QACf9P,aAAc,QAEhBv6B,cAAe,CACbib,QAAS,OACTC,WAAY,SACZ+a,OAAQ,aACRnB,QAAS,EACTuV,cAAe,QACf9F,WAAY,OACZ9oB,OAAQ,UACR5Y,SAAU,OACV,UAAW,CACT6nC,eAAgB,cAGpBC,QAAS,CACPnvB,OAAQ,OACR,QAAS,CACPA,OAAQ,OACRJ,YAAa,SCvFNwvB,GAAmC,SAACrwB,EAAQswB,GACvD,IAAMv1B,EAAqB,CACzBtV,cAAe,CACbuV,SAAU,2BACVlX,OAAQ,CACNysC,UAAW,qBACXD,SAAUA,GAAY,MAI5B,OAAOtwB,EAAO1E,MAAMP,ICoFP4G,sBAJS,SAAAtc,GAAK,MAAK,CAChC9C,MAAO8c,GAAcha,MAGRsc,CAAyBQ,qBAAWC,GAAXD,EA/EpB,SAAC,GAGd,IAFL5f,EAEI,EAFJA,MACA8f,EACI,EADJA,QACI,EAC4Dxe,mBAAS,IADrE,mBACG2sC,EADH,KAC6BC,EAD7B,KAEEzwB,EAASsR,cACfttB,qBAAU,YACR,SAAgDgc,GAAhD,gBAAA/b,EAAAC,OAAA,kEAAAD,EAAA,MAC+CosC,GAAiCrwB,EAAQ,IADxF,UACQ0wB,EADR,SAEQC,EAAiBD,EAA+BjrC,iBAEhCkrC,EAAevkC,OAJvC,mCAAAnI,EAAA,OlJQmCoX,EkJH2B2E,ElJGf7E,EkJHuBw1B,EAAennC,KAAI,SAAAgM,GAAG,OAAIA,EAAI/J,MlJI/F4P,EAAWC,MAAMJ,GAAqB,CAC3CK,UAAW,CACTJ,wBkJXF,OAKUy1B,EALV,OAMUC,EAAyBD,EAAqBnrC,cAAckrC,eAC5DrsB,EAASqsB,EAAennC,KAAI,SAAAgM,GAAG,sBAAUq7B,EAAuBrkC,MAAK,SAAAskC,GAAW,OAAIA,EAAYrlC,KAAO+J,EAAI/J,IAAMqlC,KAAlF,GAChCt7B,MAELi7B,EAA4BnsB,GAVhC,kClJQkC,IAACjJ,EAAYF,KkJM/C41B,CAAiC/wB,KAChC,IAEH,IA6BMgxB,EAAkB,kBAAMzuC,aAAiBwoB,GAAqB,yBAAKtB,MAAOrH,GAAOstB,gBACzE,yBAAKjmB,MAAOrH,GAAOutB,WAAYptC,EAAMqe,QACrC,uBAAG6I,MAAOrH,GAAOwtB,YAAartC,EAAMgF,OACpC,uBAAGkiB,MAAOrH,GAAO2tB,kBAAmBxtC,EAAMyoB,cACrC,yBAAKvB,MAAOrH,GAAOstB,gBACxB,yBAAKjmB,MAAOrH,GAAOutB,WAAY/kB,MAC/B,uBAAGnB,MAAOrH,GAAOwtB,YACZnrC,KAAKmG,EAAE,yBAEZ,uBAAG6e,MAAOrH,GAAO2tB,kBAAmBxtC,EAAMge,SAAWhe,KAGnE,OAAO,yBAAKknB,MAAOrH,GAAOktB,OAChB,yBAAK7lB,MAAOrH,GAAOmtB,OA1CJhtC,EAAQyuC,IAAoB,6BACvC,yBAAKvnB,MAAOrH,GAAOmmB,SACf,wBAAI9e,MAAOrH,GAAO7a,OAAlB,mBACA,wBAAIkiB,MAAOrH,GAAO4tB,OACd,wBAAIvmB,MAAOrH,GAAO8tB,WAAlB,yFAIA,wBAAIzmB,MAAOrH,GAAO8tB,WAAlB,sCAGA,wBAAIzmB,MAAOrH,GAAO8tB,WAAlB,qDAKPM,EAAyBpkC,OAAS,GAAK,yBAAKqd,MAAOrH,GAAOmmB,SACnD,wBAAI9e,MAAOrH,GAAO7a,OAAlB,iCAGCipC,EAAyBhnC,KAAI,SAAC/D,EAAe0N,GAAhB,OAA0B,uBAAG7E,IAAK6E,EAAOoP,UAAWF,EAAQ5c,cAAe+c,QAAS,kBAAM1d,EAAQoJ,KAAR,WAAiBzI,EAAcgG,OAC3I,0BAAM8W,UAAWF,EAAQ+tB,SACpBa,eAAaxrC,EAAcF,OAEhC,8BAAOE,EAAckF,kB,qBChC1CwX,6BA1BA,SAAA0H,GAAK,MAAK,CACvBqnB,SAAU,CACRxV,OAA6B,EAArB7R,EAAMC,QAAQC,KACtB0V,SAAU,IACVS,UAAW,SACXiR,UAAW,UAEb7B,MAAO,CACL5uB,QAAS,OACT6a,eAAgB,SAChBta,OAAQ,WAgBGkB,EAZf,SAA+BzY,GAAQ,IAEnC2Y,EACE3Y,EADF2Y,QAEF,OAAO,yBAAKE,UAAWF,EAAQitB,OACrB,kBAAC,KAAD,CAAkB/sB,UAAWF,EAAQ6uB,eCPpCE,GAAb,YACE,WAAY1nC,GAAQ,IAAD,+BACjB,8CAAMA,KAMRpH,QAAU,SAAA2d,GACR,IAAI1d,EAIAA,EAFA0d,EACyB,UAAvBA,EAASoxB,UACH,IAAIxlB,GACoB,UAAvB5L,EAASoxB,UACV,IAAIvlB,GAEJ7L,EAGF,IAAI2L,GAGd,EAAKliB,MAAM4nC,aAAa/uC,IAtBP,EAwBnB8rC,iBAAmB,SAAAkD,GAAG,OAAI,EAAK7nC,MAAM8nC,SAASD,IAxB3B,EAyBnBnD,oBAAsB,SAAAb,GACpB,IAAM7J,EAAc,GACpB6J,EAAUpjC,SAAQ,SAAA8V,GAChB,IAAKA,EAASvR,OAASuR,EAASvR,KAAKtC,OACnC,MAAM,IAAI6e,GAGZ5hB,OAAOC,QAAQ2W,EAASwxB,SAASp8B,OAAOlL,SAAQ,YAAiB,IAAD,mBAAdsB,EAAc,KAAVoE,EAAU,KAC9D6zB,EAAYj4B,GAAM,CAChBA,KACAd,KAAMkF,EAAKlF,MAAQkF,EAAKqhB,YACxBA,YAAarhB,EAAKqhB,mBAIxB,EAAKxnB,MAAMm6B,YAAYH,IAxCN,EA0CnBgO,eAAiB,kBAAM,EAAKvpB,SAAS,CACnCwpB,SAAyC,kBAAxB,EAAKtsC,MAAMssC,SAAwB,EAAKtsC,MAAMssC,SAAW,EAAI,KA3C7D,EA6CnBC,iBAAmB,WACjB1uB,OAAO2uB,iBAAiB,SAAUxO,cAAS,WACzC,EAAKqO,mBACJ,OA9CH,EAAKrsC,MAAQ,CACXssC,SAAU,MAHK,EADrB,mFAqDIhtB,KAAKitB,qBArDT,yCAwDqB7O,GAEbpe,KAAKjb,MAAMiJ,mBAAqBowB,EAAUpwB,kBAC5CgS,KAAK+sB,mBA3DX,+BA+DY,IAAD,EAKH/sB,KAAKjb,MAHPooC,EAFK,EAELA,UACAC,EAHK,EAGLA,WACAxvC,EAJK,EAILA,MAGAovC,EACEhtB,KAAKtf,MADPssC,SAEF,OAAQG,GAAavvC,EAAQ,kBAAC,GAAD,MAAkB,kBAAC,WAAD,KAClCoiB,KAAKjb,MAAMwV,UAAY,yBAAKuK,MAAOrH,GAAOkqB,cACnC,kBAAC0F,GAAD,OACK,KACb,kBAAC,GAAD,CAAqBvmC,GAAIkmC,EAAU5uC,GAAI4hB,KAAKqU,QAAQj2B,GAAIisC,OAAQ8C,EAAWx/B,QAASy/B,EAAY1D,iBAAkB1pB,KAAK0pB,iBAAkBC,kBAAmB3pB,KAAKjb,MAAM4kC,kBAAmBF,oBAAqBzpB,KAAKypB,oBAAqB9rC,QAASqiB,KAAKriB,QAASmnB,MAAOrH,GAAOiqB,mBA5E9R,GAAmCznB,aAiFnCwsB,GAAcxX,aAAe,CAC3B72B,GAAI82B,KAAUhjB,QAaT,IAAMo7B,GAAoBtoB,aAAe,CAACtR,GAAa7S,EAAmBiP,KAAuB,SAAC5G,EAASpI,EAAemN,GAAzB,OAA4CA,EAAenH,GAAKhG,EAAgBoI,KAC3KqkC,GAAqBvoB,aAAe,CAAClV,KAAuB,SAAA7B,GAAc,OAAIA,EAAegX,QAAU,CAClHtD,mBAAoB1T,EAAegX,SACjC,MAiBWjI,sBAfS,SAAAtc,GAAK,MAAK,CAChCysC,UAAWG,GAAkB5sC,GAC7B0sC,WAAYG,GAAmB7sC,GAC/BsN,iBAAkB6B,GAAuBnP,GACzC9C,MAAO8c,GAAcha,GACrB6Z,UAAWK,GAAoBla,OAGN,SAAA8W,GAAQ,MAAK,CACtCmyB,kBAAmB,kBAAMnyB,EAASuD,IAAmB,KACrDmkB,YAAa,SAAAhzB,GAAQ,OAAIsL,EAAS+B,GAAcrN,KAChD2gC,SAAU,SAAA1kC,GAAK,OAAIqP,EC/He,CAClC5W,K5IFuB,Y4IGvBrE,MD6HuC4L,KACvCwkC,aAAc,SAAA/uC,GAAK,OAAI4Z,EAASqD,GAAejd,QAGlCof,CAA6CyvB,I,gEEpH7Ce,GAbY,SAAC,GAErB,IADL1oB,EACI,EADJA,MAEA,OAAO,yBAAKA,MAAK,eAAOA,GACrBY,MAAM,6BAA6BrJ,MAAM,KAAKC,OAAO,KAAK4J,QAAQ,aAC3D,0BAAMrO,EAAE,gBAAgB8N,KAAK,SAC7B,0BAAM9N,EAAE,0JCRP4F,GAAS,CACpBxB,KAAM,CACJI,MAAO,GACPC,OAAQ,GACRqZ,WAAY,OACZ/Y,MAAOF,UAAOG,MACd+Y,QAAS,ICIP6X,G,8MACJ/sC,MAAQ,CACN+iB,SAAU,M,EAEZiqB,YAAc,SAAAnpB,GACZA,EAAMiiB,kBACN,EAAKhjB,SAAS,CACZC,SAAUc,EAAMC,iB,EAGpBsX,YAAc,WAEZ,EAAKtY,SAAS,CACZC,SAAU,Q,EAGdkqB,UAAY,oCAAkB,EAAK5oC,MAAM+B,K,0EAE/B,IAAD,OACP,OAAO,kBAAC,IAAM8mC,SAAP,KACK,kBAAC,KAAD,CAAYC,YAAW7tB,KAAKtf,MAAM+iB,SAAWzD,KAAK2tB,YAAc,KAAMG,gBAAc,OAAOjwB,QAASmC,KAAK0tB,YAAa5oB,MAAOrH,GAAOxB,MAChI,kBAAC,GAAD,CAAoB6I,MAAOrH,GAAOxB,QAEtC,kBAAC,gBAAD,CAAe1N,YAAayR,KAAKjb,MAAMwJ,YAAao4B,cAAe3mB,KAAKjb,MAAM4hC,cAAe1/B,QAAS+Y,KAAKjb,MAAMkC,QAAS4/B,uBAAwB7mB,KAAKjb,MAAM8hC,uBAAwBC,oBAAqB9mB,KAAKjb,MAAM+hC,oBAAqBC,6BAA8B/mB,KAAKjb,MAAMiiC,4BAA6BC,8BAA+B,SAAApnB,GAAW,OAAI,EAAK9a,MAAMkiC,8BAA8B,EAAKliC,MAAMiiC,4BAA6BnnB,IAAcqnB,gBAAiBlnB,KAAKjb,MAAMmiC,gBAAiBC,kBAAmBnnB,KAAKjb,MAAMoiC,kBAAmB1jB,SAAUzD,KAAKtf,MAAM+iB,SAAUpG,QAAS2C,KAAK8b,mB,GAvBjkBxM,IAAMrP,WAqEdjD,sBA3BS,SAAAtc,GACtB,MAAO,CACLsmC,4BAA6BhD,EAAoBzzB,6BAA6B7P,OAIvD,SAAA8W,GAAQ,MAAK,CACtCsvB,oBAAqB,kBAAMtvB,EAASyB,GpBrCF,eoBsClCiuB,gBAAiB,SAAC34B,EAAazI,GAC7B0R,EAASgB,GAAwB,eAC9BjK,EAAc,CACbzI,cAINqhC,kBAAmB,SAAA54B,GACjBiJ,EAASiB,GAA2BlK,KAEtC04B,8BAA+B,SAACD,EAA6BlhC,GAC3D0R,EAASwvB,EAA8BvuB,GAA2BjI,oCAAoCgI,GAAwB,eAC3HhI,mCAAmC,CAClC1K,iBAMOkX,CAA6CywB,I,0CC/E/ChwB,GAAS,CACpBswB,QAAS,CACPC,WAAY,SACZpY,QAAS,UACThZ,MAAOF,UAAOK,MACdpZ,SAAU,OACV8Y,gBAAiBC,UAAOqN,QACxBkkB,UAAW,OACXnX,aAAc,MACdsQ,SAAU,WACVS,IAAK,MACL/M,SAAU,SAEZgJ,KAAM,CACJoK,cAAe,OACfnX,OAAQ,MACRsE,aAAc,OACdzF,QAAS,OAEX1qB,KAAM,CACJmwB,aAAc,MACdC,WAAY,SACZ6S,SAAU,SACVC,aAAc,YAEhBnyB,KAAM,CACJtY,SAAU,OACVuY,YAAa,OAEfmyB,YAAa,CACXtyB,QAAS,OACTC,WAAY,SACZqf,aAAc,OAEhBiT,aAAc,CACZhT,WAAY,WC1BViT,GAAS,CACbC,aAAc1uC,KAAKmG,EAAE,iBACrBwoC,aAAc,SAAAzoC,GAAI,OAAIlG,KAAKmG,EAAE,2BAA4B,CACvDD,UAEF0oC,uBAAwB,SAAAC,GAAM,OAAI7uC,KAAKmG,EAAE,2BAA4B,CACnE0oC,aAGSC,GAAb,8MACEC,gBAAkB,WAAO,IAAD,EAKlB,EAAK9pC,MAHP4J,EAFoB,EAEpBA,QACAzC,EAHoB,EAGpBA,SACA4iC,EAJoB,EAIpBA,qBAEIR,EAAkC,IAAnB3/B,EAAQlH,OAAe8mC,GAAOE,aAAaviC,EAASyC,EAAQ,IAAMzC,EAASyC,EAAQ,IAAI3I,KAAO2I,EAAQ,IAAM4/B,GAAOG,uBAAuB//B,EAAQlH,QACvK,OAAOqnC,EAAuBR,EAAe,MARjD,EAUES,oBAAsB,WAAO,IAAD,EAKtB,EAAKhqC,MAHP4J,EAFwB,EAExBA,QACAzC,EAHwB,EAGxBA,SACA4iC,EAJwB,EAIxBA,qBAEF,OAAOngC,EAAQlH,SAAWqnC,EAAuBngC,EAAQ9J,KAAI,SAAAiC,GAAE,OAAIoF,EAASpF,GAAMoF,EAASpF,GAAId,KAAOc,KAAM,IAhBhH,EAkBEkoC,mBAAqB,SAAAV,GAAY,OAAI,wBAAIxpB,MAAOrH,GAAOvS,MAC7C,yBAAK4Z,MAAOrH,GAAO4wB,aACf,kBAAC,KAAD,CAAavpB,MAAOrH,GAAOxB,OAC3B,0BAAM6I,MAAOrH,GAAO6wB,cAAeA,MArBnD,EAwBEW,YAAc,SAAAC,GAAgB,OAAIA,EAAiBrqC,KAAI,SAAAmB,GAAI,OAAI,wBAAI2D,IAAG,UAAK,EAAK5E,MAAMwJ,YAAhB,YAA+BvI,GAAQ8e,MAAOrH,GAAOvS,MAC5GlF,OAzBjB,EA2BEmpC,kBAAoB,kBAAM,wBAAIrqB,MAAOrH,GAAOvS,MAClC,yBAAK4Z,MAAOrH,GAAO4wB,aACf,kBAAC,KAAD,CAAUvpB,MAAOrH,GAAOxB,OACxB,8BAAO,EAAKlX,MAAMqqC,gBA9BlC,EAiCEC,mBAAqB,kBAAM,wBAAI1lC,IAAG,UAAK,EAAK5E,MAAMwJ,YAAhB,YAA+BggC,GAAOC,cAAgB1pB,MAAOrH,GAAOvS,MAC3FqjC,GAAOC,eAlCpB,0EAsCI,IAAMU,EAAmBlvB,KAAK+uB,sBACxBT,EAAetuB,KAAK6uB,kBACpBS,GAAmBJ,EAAiBznC,SAAW6mC,EACrD,OAAO,kBAAC,KAAD,CAAQ7qB,SAAUzD,KAAKjb,MAAM0e,SAAUrG,KAAM4C,KAAKjb,MAAMqY,KAAMmyB,UAAU,gBACnE,kBAAC,KAAD,CAAOzqB,MAAOrH,GAAOswB,SAChB,wBAAIjpB,MAAOrH,GAAOqmB,MACVwK,GAAgBtuB,KAAKgvB,mBAAmBV,GACxCtuB,KAAKjb,MAAMqqC,aAAepvB,KAAKmvB,oBAC/BD,GAAoBlvB,KAAKivB,YAAYC,GACrCI,GAAmBtvB,KAAKqvB,4BA/CrD,GAA6B/f,IAAMrP,WAoEpBjD,sBAJS,SAAAtc,GAAK,MAAK,CAChCwL,SAAUqI,GAAa7T,MAGVsc,CAAyB4xB,ICtF3BY,GAAkB,SAACC,EAAG7vB,GACjC6vB,EAAEC,aAAajF,QAFM,OAEkBkF,KAAKC,UAAU,CACpDrhC,YAAakhC,EAAElsB,OAAOssB,QAAQC,YAC9BlwB,aCgBWmwB,GAlBc,WAC3B,OAAO,yBAAK1zB,MAAM,OAAOC,OAAO,OAAO4J,QAAQ,YAAY+P,QAAQ,MAAMvQ,MAAM,8BACrE,uBAAG5e,GAAG,MAAMovB,OAAO,OAAOC,YAAY,IAAIxQ,KAAK,OAAOC,SAAS,WAC3D,uBAAG9e,GAAG,WAAWqf,UAAU,oCACvB,uBAAGrf,GAAG,qBAAqBqf,UAAU,kCACjC,0BAAMrf,GAAG,QAAQsvB,EAAE,IAAIC,EAAE,IAAIha,MAAM,KAAKC,OAAO,OAC/C,uBAAGxV,GAAG,SAASqf,UAAU,gCAAgC+P,OAAO,UAAUM,cAAc,QAAQC,eAAe,SAC3G,0BAAM5e,EAAE,4kBAA4kB/Q,GAAG,UACvlB,0BAAM+Q,EAAE,oCAAoC/Q,GAAG,UAC/C,0BAAM+Q,EAAE,oCAAoC/Q,GAAG,UAC/C,0BAAM+Q,EAAE,+BAA+B/Q,GAAG,gBCNzDkpC,GAAoBtzB,UAAOiN,QAG3BsmB,GAAwBvzB,UAAOK,MCPtCmzB,GAAW,CACfta,QDc0B,UCb1BjyB,SDS4B,OCR5BkyB,WDO8B,ICN9BjZ,MDKwBF,UAAOqN,QCJ/BxN,OAAQ,UACR4zB,UAAW,GACXC,WAAY,QAED3yB,GAAS,CACpB4yB,YAAa,CACXt0B,QAAS,OACTgb,ODEuB,MCDvBta,gBDDiCyI,SAAMorB,aCEvCxZ,aDE8B,MCD9B9a,WAAY,SACZ8e,SAAU,SAEZyV,KAAK,eAAML,GAAP,CACF5U,WAAY,SACZ6S,SAAU,SACVC,aAAc,aAEhBoC,UAAW,CACT/zB,gBAAiBC,UAAOiN,SAE1B8mB,mBAAoB,CAClB3X,aAAc,OAEhBuV,YAAa,CACXvV,aAAc,MACd/c,QAAS,OACTC,WAAY,UAEd00B,YAAa,CACX/sC,SDxB0B,QC0B5BgtC,mBAAoB,CAClB1Z,YAAa,MACblb,QAAS,OACTC,WAAY,UAEd40B,SAAU,CACRjtC,SDhC0B,QCkC5BktC,gBAAiB,CACf5Z,YAAa,MACblb,QAAS,OACTC,WAAY,UAEdyO,MAAO,CACL6Q,WAAY,SACZ6S,SAAU,SACVC,aAAc,aAGlB3wB,GAAOqzB,SAAP,eAAuBZ,GAAvB,CACE5U,WAAY,SACZ6S,SAAU,SACVC,aAAc,WACdryB,QAAS,OACTg1B,qBAAsB,MACtBC,wBAAyB,MACzBh1B,WAAY,WAEdyB,GAAOwzB,UAAP,eAAwBf,GAAxB,CACEjZ,YAAa,MACbia,oBAAqB,MACrBC,uBAAwB,QCtD1B,IACMC,GAAkB,yBAAKtsB,MAAOrH,GAAOozB,iBACnC,kBAAC,KAAD,CAAU/rB,MAAOrH,GAAOmzB,YAE1BS,GAAqB,yBAAKvsB,MAAOrH,GAAOkzB,oBACtC,kBAAC,KAAD,CAAa7rB,MAAOrH,GAAOizB,eAG7BY,G,8MACJ5wC,MAAQ,CACN6wC,aAAa,G,EAEfzqC,GAAK0qC,KAAKC,SAASC,SAAS,I,EAC5BC,QAAU,K,EACVxQ,SAAW,kBAAMyQ,4BAAkB,EAAK7sC,MAAMnE,KAAM,EAAKmE,MAAMwJ,c,EAC/DsjC,oBAAsB,kBAAM1R,kCAAwB,EAAKp7B,MAAMnE,KAAM,EAAKmE,MAAMe,S,EAChFgsC,gBAAkB,WACK,OAAjB,EAAKH,UACP,EAAKA,QAAUp0B,YAAW,kBAAM,EAAKiG,SAAS,CAC5C+tB,aAAa,MAnBO,O,EAuB1BQ,eAAiB,WACa,kBAAjB,EAAKJ,UACdK,aAAa,EAAKL,SAClB,EAAKA,QAAU,KACf,EAAKnuB,SAAS,CACZ+tB,aAAa,M,EAInB7D,YAAc,WACPv7B,qCAA2B,EAAKpN,MAAMwJ,YAAa6D,4BACtD,EAAKrN,MAAMktC,eAAe,EAAKltC,MAAMwJ,aAGvC,EAAKwjC,kB,EAEPG,oBAAsB,kBAAM,SAAA3tB,GAC1B,EAAKwtB,iBACLvC,GAAgBjrB,EAAO,EAAKxf,MAAMe,U,EAEpCqsC,YAAc,kBAAMC,SAASC,eAAe,EAAKvrC,K,EACjDwrC,iBAAmB,iCAAY70B,GAAO4yB,YAAnB,GACZl+B,qCAA2B,EAAKpN,MAAMwJ,YAAa6D,4BAA6B,EAAKrN,MAAM2L,MAAMjJ,OAA4B,GAAnBgW,GAAO+yB,Y,EAExH+B,sBAAwB,WACtB,IAAMtS,EAAgB,EAAKl7B,MAAM2L,MAAMjJ,OACjC+qC,EAAkB,EAAKX,uBAAyB5R,EAAgB,EAAK4R,sBAAwB/xC,KAAKmG,EAAL,iDAAyD,CAC1JwsC,MAAOxS,EACPC,qBAAsB,EAAK2R,wBACxB/xC,KAAKmG,EAAE,qBAAsB,CAChCwsC,MAAOxS,IAET,MAAM,GAAN,OAAU,EAAKl7B,MAAM2L,MAAMjJ,OAAS,EAA1B,YAAmC+qC,GAAkB,K,EAEjEE,eAAiB,WACf,IAAMC,EAAOxgC,qCAA2B,EAAKpN,MAAMwJ,YAAa,QAChE,OAAOokC,EAAO,kBAACA,EAAD,CAAM7tB,MAAOrH,GAAOgzB,qBAAyB,kBAAC,GAAD,CAAsB3rB,MAAOrH,GAAOm1B,wB,EAEjGC,WAAa,kBAAM,yBAAK/tB,MAAOrH,GAAOwzB,WAC5B,kBAAC,GAAD,CAAM1iC,YAAa,EAAKxJ,MAAMwJ,YAAao4B,cAAe,EAAK5hC,MAAMe,OAAQmB,QAAS,EAAKlC,MAAMnE,KAAMimC,uBAAwB,EAAK9hC,MAAM2L,MAAMjJ,W,EAE1JqrC,cAAgB,WACd,GAAI,EAAK/tC,MAAMwJ,cAAgBiC,mCAAkC,CAC/D,IAAMuiC,EAAgB,EAAKlB,sBAAwB,EAAK9sC,MAAM2L,MAAMrH,MAAM,EAAG,EAAKwoC,uBAAyB,EAAK9sC,MAAM2L,MAChH0+B,EAAc,EAAKjO,WAAarhC,KAAKmG,EAAL,kEAA0E,CAC9G+sC,cAAe,EAAKjuC,MAAMiuC,cAC1BC,SAAUlsB,sBAAY,EAAKhiB,MAAMe,QACjCotC,YAAaxsB,kCAAwB,EAAK3hB,MAAMnE,QAC7C,KACL,OAAO,kBAAC,GAAD,CAAS2N,YAAa,EAAKxJ,MAAMwJ,YAAaI,QAASokC,EAAe3D,YAAaA,EAAaN,qBAAsB,EAAK/pC,MAAM2L,MAAMjJ,OAASsrC,EAActrC,OAAQ2V,KAAM,EAAK1c,MAAM6wC,YAAa9tB,SAAU,EAAK0uB,kB,EAG9NjR,OAAS,kBAAM,yBAAKpc,MAAO,EAAKwtB,mBAAoBa,mBAAkB,EAAKpuC,MAAMwJ,YAAa6kC,WAAY,EAAKjS,WAAYkS,YAAa,EAAKnB,uBACnI,yBAAKprC,GAAI,EAAKA,GAAIge,MAAOrH,GAAOqzB,SAAUjzB,QAAS,EAAK6vB,YAAa4F,YAAa,EAAKxB,gBAAiByB,WAAY,EAAKxB,gBACrH,yBAAKjtB,MAAOrH,GAAO4wB,aAAc,EAAKqE,kBACtC,0BAAM5tB,MAAOrH,GAAOgN,OAAQ,EAAK1lB,MAAMiuC,eACvC,8BAAO,EAAKT,yBACXiB,8BAAoB,EAAKzuC,MAAMnE,KAAM,EAAKmE,MAAMe,OAAQ,EAAKf,MAAM2L,MAAMjJ,SAAW4pC,GACpF,EAAKlQ,YAAciQ,KAEtB,EAAKjQ,YAAc,EAAK0R,aACzB,EAAKV,eAAiB,EAAKW,kB,8BA5ErBxjB,IAAMrP,WAwFzBqxB,GAAK3jB,aAAe,CAClBjd,MAAO,IAGT,IAUesM,sBAVS,SAACtc,EAAO6pB,GAAR,MAAsB,CAC5CyoB,eAAgBh/B,GAAetT,GAAO6pB,EAAShc,cAAgB,IAAIvI,KACnE0K,MAAOT,GAAuBvP,EAAO6pB,EAAShc,cAAgB,GAC9D3N,KAAMyO,GAAW3O,OAGQ,SAAA8W,GAAQ,MAAK,CACtCy6B,eAAgB,SAAA1jC,GAAW,OAAIiJ,EAASyB,GAAyB1K,QAGpDyO,CAA6Cs0B,IC5H7C,IACbmC,cAAe,CACb13B,QAAS,OACTU,gBAAiBi3B,GACjBxY,YAAawY,GACbC,YHA6B,QGC7BC,YHA6B,kBGC7Bhe,QHLwB,mBGO1Bie,kBAAmB,CACjBC,gBAAiB,GAEnBrpB,MAAO,CACL+R,SAAU,GACV1B,SAAU,GACVlF,QAAS,kBACTjyB,SAAU,GACViZ,MAAOF,UAAOwa,QACdkZ,WAAY,OACZjF,cAAe,SAEjB9b,QAAS,CACPhT,MAAO,OACPN,QAAS,OACTC,WAAY,aACZ+3B,aAAc,aACd/V,SAAU,OACVmS,UAAW,GACX,UAAW,CACT5zB,OAAQ,aCpBRy3B,G,8MACJC,WAAa,SAAAxE,GACXA,EAAEyE,kB,0EAGM,IAAD,SAOHl0B,KAAKjb,MALPe,EAFK,EAELA,OACAgC,EAHK,EAGLA,KACAgd,EAJK,EAILA,MACAlkB,EALK,EAKLA,KACAqxC,EANK,EAMLA,eAEF,OAAO,yBAAKnrC,GAAIhB,EAAQgf,MAAK,eAAOrH,GAAOg2B,cAAd,GACxB3uB,GACFmvB,WAAYj0B,KAAKi0B,YACR,yBAAKnvB,MAAOrH,GAAOgN,OACdzK,KAAKjb,MAAM0lB,OAAS1D,sBAAYjhB,IAErC,kBAAC,KAAD,CAAWia,YAAaja,EAAQquC,UAAU,eACrC,SAAA1S,GAAQ,OAAI,uCAAK7jB,UAAW,EAAK7Y,MAAM2Y,QAAQ2R,QAASyO,IAAK2D,EAASE,UAAcF,EAASiC,gBACrF57B,EAAKjD,KAAI,SAAC0J,EAAaC,GACxC,IAAM7E,EAAG,UAAM7D,EAAN,YAAgByI,GACzB,OAAO,kBAAC,KAAD,CAAW5E,IAAKA,EAAKmW,YAAanW,EAAK6E,MAAOA,EAAOgzB,eAAgBoQ,4BAAkBhxC,EAAM2N,KACvE,SAAAkzB,GAAQ,OAAI,uCAAK3D,IAAK2D,EAASE,UAAcF,EAASG,eAAoBH,EAASI,iBAC5E,kBAAC,GAAD,CAAMhkB,QAASo0B,EAAe1jC,GAAczI,OAAQA,EAAQyI,YAAaA,WAI5FkzB,EAASjV,qB,GA7BnB8C,IAAMrP,WAsEVjD,sBAlBS,SAAAtc,GAAK,MAAK,CAChC0O,GAAID,GAAOzO,GACXE,KAAMyO,GAAW3O,GACjB2F,OAAQkJ,GAAa7O,OAGI,SAAA8W,GAAQ,MAAK,CACtCy6B,eAAgB,SAAA1jC,GAAW,OAAI,kBAAMiJ,EAASyB,GAAyB1K,UAGtD,SAACupB,EAAYC,EAAexN,GAC7C,OAAO,eAAKuN,EAAZ,GACKC,EADL,GAEKxN,EAFL,CAGEziB,KAAMgwB,EAAW1oB,GAAG/I,OAAOkkB,EAASzkB,YAIzBkX,CAAyDQ,qBAAWC,GAAXD,CAAmBw2B,KC3E5E,IACbI,GAAI,CACFr4B,QAAS,OACTo0B,ULPyB,QKS3BkE,UAAW,CACTt4B,QAAS,OACTof,cAAe,UAEjBmZ,cAAe,CACbC,UAX6B,UAAM,IAAM7pC,SAHZ,MAGwC,IAAxC,MAa/B8pC,eAAgB,CACdD,UAjB6B,OAmB/BzqC,QAAS,CACPyqC,UAAW,OAEbxqC,KAAM,CACJwqC,UAAW,OAEb5mC,QAAS,CACP4mC,UAAW,SCvBTE,GAAS,kBAAM,yBAAK3tC,GAAG,YAAYge,MAAOrH,GAAO22B,IAC/C,yBAAKttC,GAAG,eAAege,MAAK,eAAOrH,GAAO42B,UAAd,GAC7B52B,GAAO62B,gBAEF,kBAACI,GAAD,CAAa5uC,OAAO,UAAUgf,MAAK,eAAOrH,GAAO3T,QAAd,GACtC6qC,GAAkBd,qBAEf,kBAACa,GAAD,CAAa5uC,OAAO,OAAOgf,MAAK,eAAOrH,GAAO1T,KAAd,GACnC4qC,GAAkBd,sBAGnB,yBAAK/sC,GAAG,eAAege,MAAK,eAAOrH,GAAO42B,UAAd,GAC7B52B,GAAO+2B,iBAEF,kBAACE,GAAD,CAAa5uC,OAAO,UAAUgf,MAAOrH,GAAO9P,aAIxD8mC,GAAOloB,YAAc,SACNkoB,UCxBA,GACJ,CACP1e,KAAM,UC8BK/Y,sBALS,SAAAtc,GAAK,MAAK,CAChCmN,mBAAoB4B,GAAyB/O,GAC7CoN,qBAAsB4B,GAA2BhP,MAGpCsc,EAxBU,SAAAjY,GAAK,OAAI,yBAAK+B,GAAI/B,EAAMe,OAAQgf,MAAK,eAAO6vB,GAAkBlB,cAAzB,GACzD1uC,EAAM+f,QAEH,yBAAKlH,UAAU,QAAQkH,MAAO6vB,GAAkBlqB,OAC3C1D,sBAAYhiB,EAAMe,SAEvB,yBAAK8X,UAAU,UAAUkH,MAAK,eAAO6vB,GAAkBtlB,QAAzB,GAC/BulB,KAEM7vC,EAAMjG,c,qBCjBJ,IACb+1C,aAAc,CACZlf,WAAY,cACZvZ,WAAY,QCoCD04B,G,8MAhCbp0C,MAAQ,CACN0c,MAAM,G,EAER0e,YAAc,WACZ,EAAKtY,SAAS,CACZpG,MAAM,K,EAGV23B,WAAa,WACX,EAAKvxB,SAAS,CACZpG,MAAM,K,0EAKR,OAAO,kBAAC,KAAD,CAAQqnB,kBAAgB,EAACuQ,SAAU7vC,QAAQ6a,KAAKjb,MAAMiwC,UAAW53B,KAAM4C,KAAKtf,MAAM0c,KAAMoN,SAAUxK,KAAKjb,MAAMylB,SAAUnN,QAAS2C,KAAK8b,YAAarI,OAAQzT,KAAK+0B,WAAYx4C,MAAOyjB,KAAKjb,MAAMxI,MAAO04C,mBAAoB,CAC7NnwB,MAAOrH,GAAOo3B,eAEH70B,KAAKjb,MAAM9D,QAAQ4D,KAAI,SAAAC,GAAM,OAAI,kBAAC,KAAD,CAAU6E,IAAK7E,EAAOgC,GAAIvK,MAAOuI,EAAOgC,IACjEhC,EAAOkB,c,GApBCspB,IAAMrP,WCHxB,IACbq0B,cAAe,CACbC,UAH6B,UAAM,IAAM7pC,SNAZ,MMAwC,IAAxC,MAK/B8pC,eAAgB,CACdD,UNN6B,QOSpBW,GAAa,CAAI,CAC5BpuC,GAAI,YACJd,KAAMlG,KAAKmG,EAAE,cACZ,CACDa,GAAI,YACJd,KAAMlG,KAAKmG,EAAE,cACZ,CACDa,GAAI,eACJd,KAAMlG,KAAKmG,EAAE,kBARW,mBATJ,SAAAkvC,GACpB,IAAIv4C,GAAO,IAAII,MAAOo4C,cACtB,OAAO,IAAI5uC,MAAM2uC,GAAKxvB,KAAK,MAAM9gB,KAAI,iBAAO,CAC1CiC,GAAIlB,OAAOhJ,GACXoJ,KAAMpJ,QAcJy4C,CAAc,MAEPC,GAAkB,CAAC,CAC9BxuC,GAAI,cACJd,KAAMlG,KAAKmG,EAAE,gBACZ,CACDa,GAAI,cACJd,KAAMlG,KAAKmG,EAAE,gBACZ,CACDa,GAAI,eACJd,KAAMlG,KAAKmG,EAAE,iBACZ,CACDa,GAAI,eACJd,KAAMlG,KAAKmG,EAAE,iBACZ,CACDa,GAAI,gBACJd,KAAMlG,KAAKmG,EAAE,kBACZ,CACDa,GAAI,gBACJd,KAAMlG,KAAKmG,EAAE,kBACZ,CACDa,GAAI,kBACJd,KAAMlG,KAAKmG,EAAE,mBACZ,CACDa,GAAI,gBACJd,KAAMlG,KAAKmG,EAAE,kBACZ,CACDa,GAAI,gBACJd,KAAMlG,KAAKmG,EAAE,kBACZ,CACDa,GAAI,iBACJd,KAAMlG,KAAKmG,EAAE,mBACZ,CACDa,GAAI,mBACJd,KAAMlG,KAAKmG,EAAE,oBACZ,CACDa,GAAI,kBACJd,KAAMlG,KAAKmG,EAAE,oBACZ,CACDa,GAAI,qBACJd,KAAMlG,KAAKmG,EAAE,sBACZ,CACDa,GAAI,kBACJd,KAAMlG,KAAKmG,EAAE,oBACZ,CACDa,GAAI,qBACJd,KAAMlG,KAAKmG,EAAE,sBACZ,CACDa,GAAI,mBACJd,KAAMlG,KAAKmG,EAAE,uBCvDTwuC,GAAS,SAAA1vC,GAAK,OAAI,yBAAK+B,GAAG,YAAYge,MAAOywB,GAAoBnB,IAC/D,yBAAKttC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BmB,GAAyBlB,gBAEpB,kBAAC,GAAD,CAAkBxuC,OAAO,qBAAqBgf,MAAK,eAAOywB,GAAoBzrC,QAA3B,GACtD6qC,GAAkBd,oBAEX,kBAAC,GAAD,CAAoBmB,SAAS,OAAOz4C,MAAOwI,EAAM8I,mBAAoB2c,SAAUzlB,EAAM0wC,eAAgBx0C,QAASi0C,MAElH,kBAAC,GAAD,CAAkBpvC,OAAO,uBAAuBgf,MAAK,eAAOywB,GAAoBxrC,KAA3B,GACxD4qC,GAAkBd,oBAEX,kBAAC,GAAD,CAAoBt3C,MAAOwI,EAAM+I,qBAAqB,GAAI0c,SAAUzlB,EAAM2wC,iBAAkBz0C,QAASq0C,OAG7G,yBAAKxuC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BmB,GAAyBhB,iBAEpB,kBAACE,GAAD,CAAa5uC,OAAQK,kBAAiB2e,MAAOywB,GAAoB5nC,aAI7E8mC,GAAOloB,YAAc,SAQrB,IAcevP,sBAdS,SAAAtc,GAAK,MAAK,CAChCmN,mBAAoB4B,GAAyB/O,GAC7CoN,qBAAsB4B,GAA2BhP,OAGxB,SAAA8W,GAAQ,MAAK,CACtCi+B,eAAgB,SAAAlxB,GACVA,EAAMhB,OAAOhnB,MAAMkL,QACrB+P,EAASqB,GAA0B0L,EAAMhB,OAAOhnB,SAGpDm5C,iBAAkB,SAAAnxB,GAAK,OAAI/M,EAASsB,GAA4ByL,EAAMhB,OAAOhnB,YAGhEygB,CAA6Cy3B,ICrC7CA,GAfA,kBAAM,yBAAK3tC,GAAG,YAAYge,MAAOywB,GAAoBnB,IAC5D,yBAAKttC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BkB,GAAoBjB,gBAEf,kBAACI,GAAD,CAAa5uC,OAAQC,kBAAiB+e,MAAK,eAAOywB,GAAoB5nC,QAA3B,GAC9CgnC,GAAkBd,sBAGnB,yBAAK/sC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BkB,GAAoBf,iBAEf,kBAACE,GAAD,CAAa5uC,OAAQK,kBAAiB2e,MAAOywB,GAAoB5nC,aCb9D,IACb2mC,cAAe,CACbC,UAH6B,UAAM,IAAM7pC,SAFZ,MAEwC,IAAxC,MAK/B8pC,eAAgB,CACdD,UAR6B,QCO3BE,GAAS,kBAAM,yBAAK3tC,GAAG,YAAYge,MAAOywB,GAAoBnB,IAC5D,yBAAKttC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BsB,GAAuBrB,gBAElB,kBAACI,GAAD,CAAa5uC,OAAQC,kBAAiB0kB,MAAO3qB,KAAKmG,EAAE,WAAY6e,MAAK,eAAOywB,GAAoBzrC,QAA3B,GACxE6qC,GAAkBd,qBAEf,kBAACa,GAAD,CAAa5uC,OAAQI,eAAcukB,MAAO3qB,KAAKmG,EAAE,QAAS6e,MAAK,eAAOywB,GAAoBxrC,KAA3B,GAClE4qC,GAAkBd,sBAGnB,yBAAK/sC,GAAG,eAAege,MAAK,eAAOywB,GAAoBlB,UAA3B,GAC7BsB,GAAuBnB,iBAElB,kBAACE,GAAD,CAAa5uC,OAAQK,kBAAiB2e,MAAOywB,GAAoB5nC,aAI7E8mC,GAAOloB,YAAc,SACNkoB,I,GAAAA,MClBTmB,IAAY,qBACfC,sBAAsBC,IADP,eAEfC,kBAAkBC,IAFH,eAGfC,6BAA6BC,IAHd,eAIfC,0BAA0BC,IAJX,IAuBHp5B,sBAJS,SAAAtc,GAAK,MAAK,CAChCuG,QAASoI,GAAW3O,MAGkB,KAAzBsc,EAhBA,SAAC,GAET,IADL/V,EACI,EADJA,QAEMovC,EAAaC,iCAAuBrvC,GACpCsvC,EAAkBX,GAAaS,GACrC,OAAO,kBAACE,EAAD,CAAiBtvC,QAASA,OCpBtBuvC,GAAkB,CAC7BC,MAAO32C,KAAKmG,EAAE,SACdywC,UAAW52C,KAAKmG,EAAE,aAClB0wC,YAAa72C,KAAKmG,EAAE,eACpB2wC,YAAa92C,KAAKmG,EAAE,eACpB4wC,aAAc/2C,KAAKmG,EAAE,gBACrB6wC,UAAWh3C,KAAKmG,EAAE,aAClB8wC,UAAWj3C,KAAKmG,EAAE,aAClB+wC,aAAcl3C,KAAKmG,EAAE,gBACrBgxC,cAAen3C,KAAKmG,EAAE,iBACtBixC,cAAep3C,KAAKmG,EAAE,iBACtBkxC,gBAAiBr3C,KAAKmG,EAAE,mBACxBmxC,WAAYt3C,KAAKmG,EAAE,cACnBoxC,WAAYv3C,KAAKmG,EAAE,cACnBqxC,cAAex3C,KAAKmG,EAAE,iBACtBsxC,cAAez3C,KAAKmG,EAAE,iBACtBuxC,eAAgB13C,KAAKmG,EAAE,kBACvBwxC,iBAAkB33C,KAAKmG,EAAE,oBACzByxC,aAAc53C,KAAKmG,EAAE,gBACrB0xC,aAAc73C,KAAKmG,EAAE,gBACrB2xC,gBAAiB93C,KAAKmG,EAAE,mBACxB4xC,mBAAoB/3C,KAAKmG,EAAE,sBAC3B6xC,aAAch4C,KAAKmG,EAAE,gBACrB8xC,aAAcj4C,KAAKmG,EAAE,gBACrB+xC,gBAAiBl4C,KAAKmG,EAAE,mBACxBgyC,mBAAoBn4C,KAAKmG,EAAE,sBAC3BiyC,eAAgBp4C,KAAKmG,EAAE,kBACvBkyC,eAAgBr4C,KAAKmG,EAAE,kBACvBmyC,iBAAkBt4C,KAAKmG,EAAE,qBACzBoyC,oBAAqBv4C,KAAKmG,EAAE,uBAC5BqyC,oBAAqBx4C,KAAKmG,EAAE,uBAC5BsyC,uBAAwBz4C,KAAKmG,EAAE,0BAC/BuyC,UAAW14C,KAAKmG,EAAE,aAClBwyC,UAAW34C,KAAKmG,EAAE,aAClByyC,aAAc54C,KAAKmG,EAAE,iBAEVzH,GAAoB,CAC/Bm6C,aAAc74C,KAAKmG,EAAE,iBACrB2yC,sBAAuB94C,KAAKmG,EAAE,0BAC9B4yC,2BAA4B/4C,KAAKmG,EAAE,iCAGtB,GACNvB,OAAOC,QAAPD,OAAA,IAAAA,CAAA,GAAoB8xC,GAApB,GACFh4C,KACFoG,QAAO,SAACsZ,EAAD,0BAAOvU,EAAP,KAAYpN,EAAZ,2BAA6B2hB,EAA7B,eACPvU,EAAM,CACL3D,KAAMzJ,OAEN,IC3BOu8C,I,gBAAb,8MACEC,SAAW,KADb,EAEEpkB,cAAgB,gBAFlB,EAGEj0B,MAAQ,CACNs4C,iBAAkB,KAClBC,uBAAuB,GAL3B,EAcEC,QAAU,SAAAh5C,GACR,OAAK,EAAKQ,MAAMs4C,mBAIL94C,EAASyiB,SAAStZ,MAAM,GAAGslB,MAAM,KAAK,KAClC,EAAKjuB,MAAMs4C,iBAAiB3vC,MAAM,GAAGslB,MAAM,KAAK,IAE1C,EAAKjuB,MAAMs4C,mBAAqB94C,EAASyiB,WAtBlE,EA4BEw2B,kBAAoB,SAAMj5C,GAAN,yBAAAZ,EAAAC,OAAA,mDAEhB65C,EACE,EAAK/kB,QADP+kB,QAGEl5C,EAASyiB,SAASlb,OAAS,GALb,oBASV4xC,EAAYn5C,EAASyiB,SAAStZ,MAAM,GAAGslB,MAAM,KAC7C7nB,EAAKuyC,EAAU,GACfj+B,EAAmBi+B,EAAU,KAC7BhwB,EAA0BviB,IAAOmhB,IAZvB,mCAAA3oB,EAAA,MAeGupB,MAfH,OAeRywB,EAfQ,OAgBd,EAAKv0C,MAAMo6B,kBAAkBjuB,GAAmCooC,IAChE,EAAKv0C,MAAMylC,iBAAiB8O,GAC5B,EAAKv0C,MAAMw0C,uBAAuBD,GAClC,EAAKv0C,MAAMy0C,iBAAiB,EAAKz0C,MAAMqK,IAnBzB,WAsBXia,IAA2B,EAAK6vB,QAAQh5C,GAtB7B,oCAAAZ,EAAA,MAuBR85C,EAAM5hC,SAAS0R,GAAiC,CACpDpiB,KACAsU,mBACAnb,SAAU,EAAK8E,MAAM9E,aA1BT,QA8BXmb,GACHg+B,EAAM5hC,SAAS0R,EAAmB7P,2BA/BpB,wBAkChB6P,GAA+BkwB,EAAM5hC,SAAU4hC,EAAM3hC,UACrDyR,EAAmB7P,wBAAwB+/B,EAAM5hC,UAnCjC,QAsClB,EAAKgM,SAAS,CACZy1B,uBAAuB,IAEzB,EAAKz1B,SAAS,CACZw1B,iBAAkB94C,EAASyiB,WA1CX,uCA5BtB,EAyEE82B,kBAAoB,kCAAAn6C,EAAAC,OAAA,uDAEhB65C,EACE,EAAK/kB,QADP+kB,MAFgB,EAOd,EAAKr0C,MAFP3G,EALgB,EAKhBA,GACAwB,EANgB,EAMhBA,aANgB,WAAAN,EAAA,MAQZ85C,EAAM5hC,SAAS0R,EAAyBtP,aAAaha,KARzC,OASlBw5C,EAAM5hC,SAAS0R,EAAqBlP,eAAe5b,EAAG+pB,cACtDixB,EAAM5hC,SAAS0R,EAA2BnR,eAAe3Z,IACnDs7C,EAAc,EAAK30C,MAAMxH,SAAS0R,qBACxCmqC,EAAM5hC,SAAS0R,EAAyB3P,cAAzB,eAA4CogC,GAA5C,eACZD,EAAY5yC,GADA,eACU4yC,EADV,CAEX5tC,KAAK,IAAD,OAAM4tC,EAAY5yC,UAG1B,EAAKqyC,kBAAkB,EAAKp0C,MAAM7E,UAClC,EAAK64C,SAAW54C,EAAQy5C,QAAO,SAAA15C,GAC7B,EAAKi5C,kBAAkBj5C,MAEzBkyC,SAASrxB,KAAKmsB,iBAAiB,SAAS,SAAAuC,GAAC,MAAc,UAAVA,EAAE9lC,MAAiC,IAAd8lC,EAAEoK,SAAoB,EAAK90C,MAAMy0C,iBAAiB,EAAKz0C,MAAMqK,OArB7G,uCAzEtB,wFAkGQ4Q,KAAK+4B,UACP/4B,KAAK+4B,aAnGX,wCAwGI,MAAO,CACLv5C,QAASwgB,KAAKjb,MAAMvF,QACpBM,UACA1B,GAAI4hB,KAAKjb,MAAM3G,MA3GrB,+BAgHI,OAAO,oCACK,kBAAC,GAAD,MACA,yBAAKwf,UAAU,4CACX,yBAAKA,UAAU,2BACX,yBAAKA,UAAU,gBACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,+BACX,kBAAC,GAAD,CAAS+W,cAAe3U,KAAK2U,kBAGrC,yBAAK/W,UAAU,oCACX,kBAAC,GAAD,KACI,yBAAKA,UAAU,aACX,kBAACk8B,GAAD,OAEJ,yBAAKl8B,UAAU,6DACX,yBAAKA,UAAU,sBACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,wBACX,kBAAC,GAAD,OAEJ,yBAAKA,UAAU,kCACVoC,KAAKtf,MAAMu4C,uBAAyB,kBAAC,GAAD,SAIhDj5B,KAAKjb,MAAMqK,GAAGpB,kBAAoBgS,KAAKjb,MAAMmE,SAAW,yBAAK0U,UAAU,cAChE,kBAAC,GAAD,CAAiBhd,KAAMof,KAAK2U,cAAe7tB,GAAIkZ,KAAKjb,MAAMmE,QAAQpC,QAIlF,kBAAC,GAAD,MACA,kBAACizC,GAAA,EAAD,CAAcr9B,QAAM,EAAC+M,SAAO,SAlJ5C,GAAyBxJ,cAsKzB64B,GAAI7jB,aAAe,CACjBmkB,MAAOlkB,KAAUhjB,QAEnB4mC,GAAIkB,kBAAoB,CACtB57C,GAAI82B,KAAUhjB,OACd1S,QAAS01B,KAAUoH,OACnBx8B,KAAMo1B,KAAUhjB,QAgBH8K,0BApCS,SAAAtc,GAAK,MAAK,CAChCnD,SAAUymC,EAA0BlvB,aAAapU,GACjDwI,QAAS86B,EAAyBtwB,YAAYhT,GAC9CM,gBAAiBgjC,EAA+BjjC,oBAAoBL,GACpE0O,GAAI40B,EAAoB70B,OAAOzO,OAGN,SAAA8W,GAAQ,MAAK,CACtCgiC,iBAAkB,SAAApqC,GAAE,OAAIoI,EAAS0R,EAAwB5R,mBAAmBlI,KAC5Eo7B,iBAAkB,SAAA1pC,GAAa,OAAI0W,EAAS0R,EAA8B/R,mBAAmBrW,KAC7Fy4C,uBAAwB,SAAAz4C,GAAa,OAAI0W,EAAS0R,EAAmB9Q,yBAAyBtX,KAC9Fq+B,kBAAmB,SAAAhzB,GAAc,OAAIqL,EAAS0R,EAAmBnQ,oBAAoB5M,QAyBxE6Q,CAA6C87B,I,sBCjN/C5zB,GAAK,eAAQ+0B,MAEXC,4BAAeh1B,ICyBfi1B,UAlBI,WACjB,IAAM9+B,EAASsR,cACTysB,EAAQh7B,GAAe,CAACg8B,UAAMC,kBAAkBh/B,GAASi/B,KAE3D/7B,OAAOg8B,UACTh8B,OAAO66B,MAAQA,GAIjB,OAAO,kBAAC,WAAD,CAAUA,MAAOA,GACd,kBAAC,mBAAD,CAAkBl0B,MAAOs1B,IACrB,kBAAC,EAAD,CAAQC,QAHN,CAAC,gBAAiB,mBAAoB,eAInC,SAAAt7C,GAAM,OAAI,kBAAC,GAAQA","file":"static/js/app.9499cad2.chunk.js","sourcesContent":["/**\n *\n * @param {Date} value Javascript date\n * @param {String} uiLocale\n * @returns {String}\n */\nconst formatDate = (value = '', uiLocale = 'en') => {\n  if (typeof global.Intl !== 'undefined' && Intl.DateTimeFormat) {\n    return new Intl.DateTimeFormat(uiLocale, {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    }).format(new Date(value));\n  }\n\n  return value.substr(0, 19).replace('T', ' ');\n};\n\nexport default formatDate;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notDragging\":\"DndDimensionItem_notDragging__3jgQJ\",\"dragging\":\"DndDimensionItem_dragging__1uXIT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionList_container__DCFRx\",\"wrapper\":\"DndDimensionList_wrapper__1gYqU\",\"list\":\"DndDimensionList_list__1sErz\",\"header\":\"DndDimensionList_header__Ugsfp\",\"section\":\"DndDimensionList_section__1KL69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"DndDimensionsPanel_container__1gaeS\"};","export const SYSTEM_SETTINGS = ['keyDateFormat', 'keyAnalysisRelativePeriod', 'keyAnalysisDigitGroupSeparator'];\nexport const extractUserSettings = settings => {\n  const nameProp = settings.keyAnalysisDisplayProperty;\n  return {\n    displayNameProperty: nameProp === 'name' ? 'displayName' : 'displayShortName',\n    uiLocale: settings.keyUiLocale\n  };\n};","// Helper functions\nexport const onError = error => console.log('Error: ', error);","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const apiFetchOrganisationUnitRoot = () => {\n  const endPoint = '/organisationUnits';\n  const fields = ['id', 'displayName', 'name'];\n  const url = `${endPoint}?paging=false&userDataViewFallback=true&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnits\n  }) => organisationUnits[0]).catch(onError);\n};\n/**\n * Fetch organisation unit levels\n * @returns {Promise}\n */\n\nexport const apiFetchOrganisationUnitLevels = () => {\n  const endPoint = '/organisationUnitLevels';\n  const fields = ['id', 'name', 'displayName', 'level'];\n  const url = `${endPoint}?paging=false&fields=${fields.join(',')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).then(({\n    organisationUnitLevels\n  }) => organisationUnitLevels).catch(onError);\n};","import { createHashHistory } from 'history';\nexport default createHashHistory();","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useConfig } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nimport { init as d2Init, config as d2Config, getUserSettings } from 'd2';\nimport { extractUserSettings } from './modules/settings';\nimport { apiFetchOrganisationUnitLevels } from './api/organisationUnits';\nimport history from './modules/history';\nimport { ScreenCover, CircularLoader } from '@dhis2/ui-core';\n\nconst configI18n = async () => {\n  // TODO: Remove and port to modern i18n\n  // if (uiLocale && uiLocale !== 'en') {\n  //     config.i18n.sources.add(\n  //         `./i18n_old/i18n_module_${uiLocale}.properties`\n  //     );\n  // }\n  d2Config.i18n.sources.add('./i18n_old/i18n_module_en.properties');\n};\n\nconst initD2 = async ({\n  baseUrl,\n  apiVersion\n}, initConfig) => {\n  const d2 = await d2Init({ ...initConfig,\n    baseUrl: `${baseUrl}/api/${apiVersion}`\n  });\n  const userSettings = extractUserSettings((await getUserSettings()));\n  await configI18n(userSettings);\n  const ouLevels = await apiFetchOrganisationUnitLevels();\n  return {\n    location: history.location,\n    baseUrl,\n    d2,\n    userSettings,\n    ouLevels\n  };\n};\n\nexport const D2Shim = ({\n  children,\n  ...initConfig\n}) => {\n  const appConfig = useConfig();\n  const [params, setParams] = useState(null);\n  useEffect(() => {\n    initD2(appConfig, initConfig).then(setParams);\n  }, []);\n  /* eslint-disable-line react-hooks/exhaustive-deps */\n\n  if (!params) {\n    return <ScreenCover>\n                <CircularLoader />\n            </ScreenCover>;\n  }\n\n  return children(params);\n};\nD2Shim.propTypes = {\n  children: PropTypes.func\n};","export const SET_VISUALIZATION = 'SET_VISUALIZATION';\nexport const CLEAR_VISUALIZATION = 'CLEAR_VISUALIZATION';\nexport const DEFAULT_VISUALIZATION = null;\nexport default ((state = DEFAULT_VISUALIZATION, action) => {\n  switch (action.type) {\n    case SET_VISUALIZATION:\n      {\n        return action.value;\n      }\n\n    case CLEAR_VISUALIZATION:\n      {\n        return DEFAULT_VISUALIZATION;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetVisualization = state => state.visualization;\nexport const sGetInterpretations = state => state.visualization ? state.visualization.interpretations : [];","import pick from 'lodash-es/pick';\nexport const options = {\n  baseLineLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  baseLineValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  // colorSet:\n  cumulativeValues: {\n    defaultValue: false,\n    requestable: false\n  },\n  domainAxisLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  hideEmptyRowItems: {\n    defaultValue: 'NONE',\n    requestable: false\n  },\n  hideLegend: {\n    defaultValue: false,\n    requestable: false\n  },\n  noSpaceBetweenColumns: {\n    defaultValue: false,\n    requestable: false\n  },\n  percentStackedValues: {\n    defaultValue: false,\n    requestable: false\n  },\n  rangeAxisDecimals: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisMaxValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisMinValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  rangeAxisSteps: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  regressionType: {\n    defaultValue: 'NONE',\n    requestable: false\n  },\n  showData: {\n    defaultValue: true,\n    requestable: false\n  },\n  targetLineLabel: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  targetLineValue: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  aggregationType: {\n    defaultValue: 'DEFAULT',\n    requestable: true\n  },\n  completedOnly: {\n    defaultValue: false,\n    requestable: true\n  },\n  hideSubtitle: {\n    defaultValue: false,\n    requestable: false\n  },\n  hideTitle: {\n    defaultValue: false,\n    requestable: false\n  },\n  sortOrder: {\n    defaultValue: '0',\n    requestable: false\n  },\n  subtitle: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  title: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  // only for PT XXX\n  colTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  colSubTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  rowTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  rowSubTotals: {\n    defaultValue: false,\n    requestable: false\n  },\n  showDimensionLabels: {\n    defaultValue: false,\n    requestable: false\n  },\n  hideEmptyColumns: {\n    defaultValue: false,\n    requestable: true\n  },\n  hideEmptyRows: {\n    defaultValue: false,\n    requestable: true\n  },\n  skipRounding: {\n    defaultValue: false,\n    requestable: true\n  },\n  numberType: {\n    defaultValue: 'VALUE',\n    requestable: false\n  },\n  showHierarchy: {\n    defaultValue: false,\n    requestable: true\n  },\n  legendSet: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  legendDisplayStrategy: {\n    defaultValue: undefined,\n    requestable: false\n  },\n  legendDisplayStyle: {\n    defaultValue: 'FILL',\n    requestable: false\n  },\n  displayDensity: {\n    defaultValue: 'NORMAL',\n    requestable: false\n  },\n  fontSize: {\n    defaultValue: 'NORMAL',\n    requestable: false\n  },\n  digitGroupSeparator: {\n    defaultValue: 'SPACE',\n    requestable: false\n  },\n  // these are stored in the AO under reportingParams\n  reportingPeriod: {\n    defaultValue: false,\n    requestable: false\n  },\n  organisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  parentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  // not exposed in UI\n  grandParentOrganisationUnit: {\n    defaultValue: false,\n    requestable: false\n  },\n  regression: {\n    defaultValue: false,\n    requestable: false\n  },\n  cumulative: {\n    defaultValue: false,\n    requestable: false\n  },\n  measureCriteria: {\n    defaultValue: undefined,\n    requestable: true\n  },\n  topLimit: {\n    defaultValue: '0',\n    requestable: false\n  }\n};\nexport const computedOptions = {\n  baseLine: {\n    defaultValue: false,\n    requestable: false\n  },\n  targetLine: {\n    defaultValue: false,\n    requestable: false\n  },\n  axisRange: {\n    defaultValue: undefined,\n    requestable: false\n  }\n};\nexport default options;\nexport const getOptionsForUi = () => {\n  return Object.entries({ ...options,\n    ...computedOptions\n  }).reduce((map, [option, props]) => {\n    map[option] = props.defaultValue;\n    return map;\n  }, {});\n};\nexport const getOptionsForRequest = () => {\n  return Object.entries(options).filter(entry => entry[1].requestable // entry = [option, props]\n  );\n};\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n  return Boolean(optionsFromVisualization[prop] && optionsFromVisualization[prop] !== options[prop].defaultValue);\n};\n\nexport const getOptionsFromVisualization = visualization => {\n  const optionsFromVisualization = { ...getOptionsForUi(),\n    ...pick(visualization, Object.keys(options))\n  };\n  optionsFromVisualization.baseLine = isNotDefault(optionsFromVisualization, 'baseLineLabel') || isNotDefault(optionsFromVisualization, 'baseLineValue');\n  optionsFromVisualization.targetLine = isNotDefault(optionsFromVisualization, 'targetLineLabel') || isNotDefault(optionsFromVisualization, 'targetLineValue'); // nested options under reportingParams\n\n  if (visualization.reportingParams) {\n    optionsFromVisualization.organisationUnit = visualization.reportingParams.organisationUnit;\n    optionsFromVisualization.reportingPeriod = visualization.reportingParams.reportingPeriod;\n    optionsFromVisualization.parentOrganisationUnit = visualization.reportingParams.parentOrganisationUnit;\n    optionsFromVisualization.grandParentOrganisationUnit = visualization.reportingParams.grandParentOrganisationUnit;\n  } // cast option values from Number for some options\n\n\n  ;\n  ['sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n      optionsFromVisualization[option] = String(visualization[option]);\n    }\n  });\n  return optionsFromVisualization;\n};","import i18n from '@dhis2/d2-i18n';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, getAxisMaxNumberOfDimensions, getAvailableAxes, isAxisFull, getTransferableDimension } from '@dhis2/analytics'; // Names for dnd sources\n\nexport const SOURCE_DIMENSIONS = 'dimensions'; // Keys and displayName for adding dimensions to layout\n\nexport const ADD_TO_LAYOUT_OPTIONS = [{\n  axisId: AXIS_ID_COLUMNS,\n  name: i18n.t('Add to series')\n}, {\n  axisId: AXIS_ID_ROWS,\n  name: i18n.t('Add to category')\n}, {\n  axisId: AXIS_ID_FILTERS,\n  name: i18n.t('Add to filter')\n}];\nexport const menuLabels = {\n  columns: i18n.t('series'),\n  rows: i18n.t('category'),\n  filters: i18n.t('filter')\n}; // Layout utility functions\n// Exclude one or many dimensions from layout\n\nexport const getFilteredLayout = (layout, excludedIds) => {\n  const ids = Array.isArray(excludedIds) ? excludedIds : [excludedIds];\n  return {\n    [AXIS_ID_COLUMNS]: layout[AXIS_ID_COLUMNS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_ROWS]: layout[AXIS_ID_ROWS].filter(dim => !ids.includes(dim)),\n    [AXIS_ID_FILTERS]: layout[AXIS_ID_FILTERS].filter(dim => !ids.includes(dim))\n  };\n}; // Accepts layout: { columns: ['dx'] }\n// Returns inverse layout: { dx: 'columns' }\n\nexport const getInverseLayout = layout => {\n  const entries = Object.entries(layout);\n  const map = {};\n  entries.forEach(([axisId, dimensionIds]) => {\n    dimensionIds.forEach(id => {\n      map[id] = axisId;\n    });\n  });\n  return map;\n}; // Accepts layout and transfer object\n// Returns transfer with possible retransfers\n\nexport const getRetransfer = (layout, transfer, visType) => {\n  const inverseLayout = getInverseLayout(layout);\n  const dimensionIds = Object.keys(transfer);\n  const retransfer = {};\n  dimensionIds.forEach(id => {\n    const sourceAxis = inverseLayout[id] || null;\n    const destinationAxisId = transfer[id].axisId;\n    const dimensionsAtDestination = layout[destinationAxisId] || [];\n\n    if (isAxisFull(visType, destinationAxisId, dimensionsAtDestination.length)) {\n      const transferableDimension = getTransferableDimension(visType, destinationAxisId, layout[destinationAxisId]);\n\n      if (transferableDimension) {\n        const axisId = sourceAxis ? sourceAxis : getAvailableAxes(visType).find(axis => !getAxisMaxNumberOfDimensions(visType, axis));\n        retransfer[transferableDimension] = {\n          axisId\n        };\n      }\n    }\n  });\n  return retransfer;\n};","export const BASE_FIELD_NAME = 'name';\nexport const BASE_FIELD_TYPE = 'type';\nexport const BASE_FIELD_YEARLY_SERIES = 'yearlySeries';\n\nconst getFieldObject = (name, props = {}) => ({\n  [BASE_FIELD_NAME]: name,\n  ...props\n}); // fields by type\n\n\nexport const fieldsByType = {\n  reportTable: [getFieldObject('cumulative', {\n    option: true\n  }), getFieldObject('hideEmptyColumns', {\n    option: true\n  }), getFieldObject('legendDisplayStyle', {\n    option: true\n  }), getFieldObject('measureCriteria', {\n    option: true\n  }), getFieldObject('numberType', {\n    option: true\n  }), getFieldObject('regression', {\n    option: true\n  }), getFieldObject('reportingParams', {\n    option: true\n  }), getFieldObject('skipRounding', {\n    option: true\n  })],\n  chart: [getFieldObject('category', {\n    excluded: true\n  }), getFieldObject('series', {\n    excluded: true\n  }), getFieldObject(BASE_FIELD_YEARLY_SERIES)],\n  eventReport: [getFieldObject('dataType')],\n  reportTable_eventReport: [getFieldObject('colSubTotals', {\n    option: true\n  }), getFieldObject('colTotals', {\n    option: true\n  }), getFieldObject('displayDensity', {\n    option: true\n  }), getFieldObject('fontSize', {\n    option: true\n  }), getFieldObject('hideEmptyRows', {\n    option: true\n  }), getFieldObject('rowSubTotals', {\n    option: true\n  }), getFieldObject('rowTotals', {\n    option: true\n  }), getFieldObject('showDimensionLabels', {\n    option: true\n  }), getFieldObject('showHierarchy', {\n    option: true\n  })],\n  chart_eventChart: [getFieldObject('baseLineLabel', {\n    option: true\n  }), getFieldObject('baseLineValue', {\n    option: true\n  }), getFieldObject('colorSet', {\n    option: true\n  }), getFieldObject('cumulativeValues', {\n    option: true\n  }), getFieldObject('domainAxisLabel', {\n    option: true\n  }), getFieldObject('hideEmptyRowItems', {\n    option: true\n  }), getFieldObject('hideLegend', {\n    option: true\n  }), getFieldObject('noSpaceBetweenColumns', {\n    option: true\n  }), getFieldObject('percentStackedValues', {\n    option: true\n  }), getFieldObject('rangeAxisDecimals', {\n    option: true\n  }), getFieldObject('rangeAxisLabel', {\n    option: true\n  }), getFieldObject('rangeAxisMaxValue', {\n    option: true\n  }), getFieldObject('rangeAxisMinValue', {\n    option: true\n  }), getFieldObject('rangeAxisSteps', {\n    option: true\n  }), getFieldObject('regressionType', {\n    option: true\n  }), getFieldObject('optionalAxes'), getFieldObject('showData', {\n    option: true\n  }), getFieldObject('targetLineLabel', {\n    option: true\n  }), getFieldObject('targetLineValue', {\n    option: true\n  }), getFieldObject(BASE_FIELD_TYPE, {\n    option: true\n  })],\n  eventReport_eventChart: [getFieldObject('attributeValueDimension'), getFieldObject('collapseDataDimensions'), getFieldObject('dataElementValueDimension'), getFieldObject('endDate'), getFieldObject('eventStatus', {\n    option: true\n  }), getFieldObject('hideNaData', {\n    option: true\n  }), getFieldObject('outputType', {\n    option: true\n  }), getFieldObject('program'), getFieldObject('programStage'), getFieldObject('programStatus', {\n    option: true\n  }), getFieldObject('startDate'), getFieldObject('value')],\n  reportTable_chart_eventReport: [getFieldObject('legendDisplayStrategy', {\n    option: true\n  }), getFieldObject('legendSet', {\n    option: true\n  })],\n  reportTable_eventReport_eventChart: [getFieldObject('columnDimensions', {\n    excluded: true\n  }), getFieldObject('rowDimensions', {\n    excluded: true\n  })],\n  reportTable_chart_eventReport_eventChart: [getFieldObject('access'), getFieldObject('aggregationType', {\n    option: true\n  }), getFieldObject('attributeDimensions', {\n    excluded: true\n  }), getFieldObject('attributeValues', {\n    excluded: true\n  }), getFieldObject('categoryDimensions', {\n    excluded: true\n  }), getFieldObject('categoryOptionGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('code', {\n    excluded: true\n  }), getFieldObject('columns'), getFieldObject('completedOnly', {\n    option: true\n  }), getFieldObject('created'), getFieldObject('dataDimensionItems', {\n    excluded: true\n  }), getFieldObject('dataElementDimensions', {\n    excluded: true\n  }), getFieldObject('dataElementGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('description'), getFieldObject('digitGroupSeparator'), getFieldObject('displayDescription'), getFieldObject('displayName'), getFieldObject('displayShortName'), getFieldObject('externalAccess', {\n    excluded: true\n  }), getFieldObject('favorite'), getFieldObject('favorites'), getFieldObject('filterDimensions', {\n    excluded: true\n  }), getFieldObject('filters'), getFieldObject('hideSubtitle', {\n    option: true\n  }), getFieldObject('hideTitle', {\n    option: true\n  }), getFieldObject('href', {\n    excluded: true\n  }), getFieldObject('id'), getFieldObject('interpretations'), getFieldObject('itemOrganisationUnitGroups', {\n    excluded: true\n  }), getFieldObject('lastUpdated'), getFieldObject('lastUpdatedBy'), getFieldObject('name'), getFieldObject('organisationUnitGroupSetDimensions', {\n    excluded: true\n  }), getFieldObject('organisationUnitLevels', {\n    excluded: true\n  }), getFieldObject('organisationUnits', {\n    excluded: true\n  }), getFieldObject('parentGraphMap'), getFieldObject('periods', {\n    excluded: true\n  }), getFieldObject('programIndicatorDimensions', {\n    excluded: true\n  }), getFieldObject('publicAccess'), getFieldObject('relativePeriods', {\n    excluded: true\n  }), getFieldObject('rows'), getFieldObject('shortName'), getFieldObject('sortOrder', {\n    option: true\n  }), getFieldObject('subscribed'), getFieldObject('subscribers'), getFieldObject('subtitle', {\n    option: true\n  }), getFieldObject('timeField'), getFieldObject('title', {\n    option: true\n  }), getFieldObject('topLimit', {\n    option: true\n  }), getFieldObject('translations'), getFieldObject('user'), getFieldObject('userAccesses'), getFieldObject('userGroupAccesses'), getFieldObject('userOrganisationUnit', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitChildren', {\n    excluded: true\n  }), getFieldObject('userOrganisationUnitGrandChildren', {\n    excluded: true\n  })]\n};\nfieldsByType.visualization = [...fieldsByType.reportTable, ...fieldsByType.chart, ...fieldsByType.reportTable_eventReport, ...fieldsByType.chart_eventChart, ...fieldsByType.reportTable_chart_eventReport, ...fieldsByType.reportTable_eventReport_eventChart, ...fieldsByType.reportTable_chart_eventReport_eventChart]; // actions\n\nexport const extractName = propObj => propObj[BASE_FIELD_NAME];\nexport const markExcluded = fieldObj => fieldObj.excluded === true ? { ...fieldObj,\n  [BASE_FIELD_NAME]: `!${fieldObj[BASE_FIELD_NAME]}`\n} : fieldObj;\n/* eslint-disable-next-line max-params */\n\nexport const moveExcludedToEnd = (acc, current, curIndex, array) => {\n  !acc && (acc = array.slice());\n  current.charAt(0) === '!' && acc.push(acc.shift());\n  return acc;\n}; // getters\n\nexport const getAllFieldObjectsByType = type => Object.entries(fieldsByType).reduce((fields, [key, value]) => key.includes(type) ? fields.concat(value) : fields, []);","import { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD } from '@dhis2/analytics'; // Transform from ui.layout to default layout format\n\nexport const defaultLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: columns.length ? [columns.shift()] : [],\n    [AXIS_ID_ROWS]: rows.length ? [rows.shift()] : [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows]\n  };\n}; // Transform from ui.layout to pie layout format\n\nexport const pieLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: columns.length || rows.length ? [columns.shift() || rows.shift()] : [],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows]\n  };\n}; // Transform from ui.layout to year on year layout format\n\nexport const yearOverYearLayoutAdapter = layout => ({\n  [AXIS_ID_COLUMNS]: [],\n  [AXIS_ID_ROWS]: [],\n  [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...layout[AXIS_ID_COLUMNS], ...layout[AXIS_ID_ROWS]].filter(dim => dim !== DIMENSION_ID_PERIOD)\n}); // Transform from ui.layout to single value layout format\n\nexport const singleValueLayoutAdapter = layout => {\n  const columns = layout[AXIS_ID_COLUMNS].slice();\n  const rows = layout[AXIS_ID_ROWS].slice();\n  return {\n    [AXIS_ID_COLUMNS]: [DIMENSION_ID_DATA],\n    [AXIS_ID_ROWS]: [],\n    [AXIS_ID_FILTERS]: [...layout[AXIS_ID_FILTERS], ...columns, ...rows].filter(dim => dim !== DIMENSION_ID_DATA)\n  };\n};","import { ouIdHelper, DIMENSION_ID_ORGUNIT, dimensionGetItems, layoutReplaceDimension, layoutGetDimension } from '@dhis2/analytics';\n\nconst isOuLevelIntId = id => ouIdHelper.hasLevelPrefix(id) ? Number.isInteger(parseInt(ouIdHelper.removePrefix(id), 10)) : false;\n\nconst replaceNumericOuLevelWithUid = ouLevels => item => {\n  if (!isOuLevelIntId(item.id)) {\n    return item;\n  }\n\n  const ouIntId = parseInt(ouIdHelper.removePrefix(item.id), 10);\n  const ouUid = ouLevels.find(l => parseInt(l.level, 10) === ouIntId).id;\n  return Object.assign({}, item, {\n    id: ouIdHelper.addLevelPrefix(ouUid)\n  });\n};\n\nexport const convertOuLevelsToUids = (ouLevels, layout) => {\n  const ouDimension = layoutGetDimension(layout, DIMENSION_ID_ORGUNIT);\n  const hasNumericOuLevels = ouDimension && dimensionGetItems(ouDimension).some(item => isOuLevelIntId(item.id));\n\n  if (hasNumericOuLevels) {\n    const replaceNumericOuLevel = replaceNumericOuLevelWithUid(ouLevels);\n    const updatedOuItems = dimensionGetItems(ouDimension).map(replaceNumericOuLevel);\n    return layoutReplaceDimension(layout, DIMENSION_ID_ORGUNIT, updatedOuItems);\n  }\n\n  return layout;\n};\nexport const removeLastPathSegment = path => {\n  // if root path, then return unprocessed path\n  if (path.match(/\\//g).length === 1) {\n    return path;\n  }\n\n  return path.substr(0, path.lastIndexOf('/'));\n};\n/**\n * Get org unit path by ou id\n * @param id\n * @param metadata\n * @param parentGraphMap\n * @returns {*}\n */\n\nexport const getOuPath = (id, metadata, parentGraphMap) => {\n  if (metadata[id] && metadata[id].path) {\n    return metadata[id].path;\n  } // for root org units\n\n\n  if (parentGraphMap[id] === id || parentGraphMap[id] === '') {\n    return `/${id}`;\n  }\n\n  return parentGraphMap[id] ? `/${parentGraphMap[id]}/${id}` : undefined;\n};","import castArray from 'lodash-es/castArray';\nimport { DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, VIS_TYPE_COLUMN, DIMENSION_ID_ASSIGNED_CATEGORIES, canDimensionBeAddedToAxis } from '@dhis2/analytics';\nimport { getFilteredLayout, getInverseLayout, getRetransfer } from '../modules/layout';\nimport { getOptionsForUi } from '../modules/options';\nimport { getAdaptedUiByType, getUiFromVisualization } from '../modules/ui';\nexport const SET_UI = 'SET_UI';\nexport const SET_UI_FROM_VISUALIZATION = 'SET_UI_FROM_VISUALIZATION';\nexport const SET_UI_TYPE = 'SET_UI_TYPE';\nexport const SET_UI_OPTIONS = 'SET_UI_OPTIONS';\nexport const SET_UI_LAYOUT = 'SET_UI_LAYOUT';\nexport const ADD_UI_LAYOUT_DIMENSIONS = 'ADD_UI_LAYOUT_DIMENSIONS';\nexport const REMOVE_UI_LAYOUT_DIMENSIONS = 'REMOVE_UI_LAYOUT_DIMENSIONS';\nexport const SET_UI_ITEMS = 'SET_UI_ITEMS';\nexport const ADD_UI_ITEMS = 'ADD_UI_ITEMS';\nexport const REMOVE_UI_ITEMS = 'REMOVE_UI_ITEMS';\nexport const SET_UI_PARENT_GRAPH_MAP = 'SET_UI_PARENT_GRAPH_MAP';\nexport const ADD_UI_PARENT_GRAPH_MAP = 'ADD_UI_PARENT_GRAPH_MAP';\nexport const SET_UI_ACTIVE_MODAL_DIALOG = 'SET_UI_ACTIVE_MODAL_DIALOG';\nexport const SET_UI_YEAR_ON_YEAR_SERIES = 'SET_UI_YEAR_ON_YEAR_SERIES';\nexport const SET_UI_YEAR_ON_YEAR_CATEGORY = 'SET_UI_YEAR_ON_YEAR_CATEGORY';\nexport const CLEAR_UI = 'CLEAR_UI';\nexport const TOGGLE_UI_RIGHT_SIDEBAR_OPEN = 'TOGGLE_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_RIGHT_SIDEBAR_OPEN = 'SET_UI_RIGHT_SIDEBAR_OPEN';\nexport const SET_UI_INTERPRETATION = 'SET_UI_INTERPRETATION';\nexport const CLEAR_UI_INTERPRETATION = 'CLEAR_UI_INTERPRETATION';\nexport const SET_AXES = 'SET_AXES';\nexport const DEFAULT_UI = {\n  type: VIS_TYPE_COLUMN,\n  options: getOptionsForUi(),\n  layout: {\n    columns: [DIMENSION_ID_DATA],\n    rows: [DIMENSION_ID_PERIOD],\n    filters: [DIMENSION_ID_ORGUNIT]\n  },\n  itemsByDimension: {\n    [DIMENSION_ID_ORGUNIT]: [],\n    [DIMENSION_ID_PERIOD]: []\n  },\n  yearOverYearSeries: ['THIS_YEAR', 'LAST_YEAR'],\n  yearOverYearCategory: ['MONTHS_THIS_YEAR'],\n  parentGraphMap: {},\n  activeModalDialog: null,\n  rightSidebarOpen: false,\n  interpretation: {},\n  axes: null\n};\nexport default ((state = DEFAULT_UI, action) => {\n  switch (action.type) {\n    case SET_UI:\n      {\n        return { ...action.value\n        };\n      }\n\n    case SET_UI_FROM_VISUALIZATION:\n      {\n        return getAdaptedUiByType(getUiFromVisualization(action.value, state));\n      }\n\n    case SET_UI_TYPE:\n      {\n        return { ...state,\n          type: action.value\n        };\n      }\n\n    case SET_UI_OPTIONS:\n      {\n        return { ...state,\n          options: { ...state.options,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_LAYOUT:\n      {\n        return { ...state,\n          layout: { ...action.value\n          }\n        };\n      }\n    // action.value: transfer object (dimensionId:axisId) saying what to add where: { ou: 'rows' }\n    // Reducer takes care of swapping (retransfer) if dimension already exists in layout\n\n    case ADD_UI_LAYOUT_DIMENSIONS:\n      {\n        const transfers = { ...action.value,\n          ...getRetransfer(state.layout, action.value, state.type)\n        };\n        let newLayout = state.layout; // Add dimension ids to destination (axisId === null means remove from layout)\n\n        Object.entries(transfers).forEach(([dimensionId, {\n          axisId,\n          index\n        }]) => {\n          if (newLayout[axisId] && canDimensionBeAddedToAxis(state.type, newLayout[axisId], axisId)) {\n            // Filter out transferred dimension id (remove from source)\n            newLayout = getFilteredLayout(newLayout, [dimensionId]);\n\n            if (index === null || index === undefined) {\n              newLayout[axisId].push(dimensionId);\n            } else {\n              newLayout[axisId].splice(index, 0, dimensionId);\n            }\n          }\n        });\n        return { ...state,\n          layout: newLayout\n        };\n      }\n\n    case REMOVE_UI_LAYOUT_DIMENSIONS:\n      {\n        return { ...state,\n          layout: getFilteredLayout(state.layout, action.value)\n        };\n      }\n\n    case SET_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: itemIds\n          }\n        };\n      }\n\n    case ADD_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIds\n        } = action.value;\n        const currentItemIds = state.itemsByDimension[dimensionId] || [];\n        const dxItems = [...new Set([...currentItemIds, ...itemIds])];\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case REMOVE_UI_ITEMS:\n      {\n        const {\n          dimensionId,\n          itemIdsToRemove\n        } = action.value;\n        const dxItems = (state.itemsByDimension[dimensionId] || []).filter(id => !itemIdsToRemove.includes(id));\n        return { ...state,\n          itemsByDimension: { ...state.itemsByDimension,\n            [dimensionId]: dxItems\n          }\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_SERIES:\n      {\n        return { ...state,\n          yearOverYearSeries: action.value || DEFAULT_UI.yearOverYearSeries\n        };\n      }\n\n    case SET_UI_YEAR_ON_YEAR_CATEGORY:\n      {\n        return { ...state,\n          yearOverYearCategory: action.value ? castArray(action.value) : DEFAULT_UI.yearOverYearCategory\n        };\n      }\n\n    case SET_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: action.value\n        };\n      }\n\n    case ADD_UI_PARENT_GRAPH_MAP:\n      {\n        return { ...state,\n          parentGraphMap: { ...state.parentGraphMap,\n            ...action.value\n          }\n        };\n      }\n\n    case SET_UI_ACTIVE_MODAL_DIALOG:\n      {\n        return { ...state,\n          activeModalDialog: action.value || DEFAULT_UI.activeModalDialog\n        };\n      }\n\n    case CLEAR_UI:\n      {\n        const {\n          rootOrganisationUnit,\n          relativePeriod\n        } = action.value;\n        return { ...DEFAULT_UI,\n          itemsByDimension: { ...DEFAULT_UI.itemsByDimension,\n            [DIMENSION_ID_ORGUNIT]: [rootOrganisationUnit.id],\n            [DIMENSION_ID_PERIOD]: [relativePeriod]\n          },\n          parentGraphMap: { ...DEFAULT_UI.parentGraphMap,\n            [rootOrganisationUnit.id]: ''\n          }\n        };\n      }\n\n    case TOGGLE_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: !state.rightSidebarOpen\n      };\n\n    case SET_UI_RIGHT_SIDEBAR_OPEN:\n      return { ...state,\n        rightSidebarOpen: true\n      };\n\n    case SET_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: action.value\n      };\n\n    case CLEAR_UI_INTERPRETATION:\n      return { ...state,\n        interpretation: DEFAULT_UI.interpretation\n      };\n\n    case SET_AXES:\n      return { ...state,\n        axes: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetUi = state => state.ui;\nexport const sGetUiType = state => sGetUi(state).type;\nexport const sGetUiOptions = state => sGetUi(state).options;\nexport const sGetUiLayout = state => sGetUi(state).layout;\nexport const sGetUiItems = state => sGetUi(state).itemsByDimension;\nexport const sGetUiYearOverYearSeries = state => sGetUi(state).yearOverYearSeries;\nexport const sGetUiYearOverYearCategory = state => sGetUi(state).yearOverYearCategory;\nexport const sGetUiParentGraphMap = state => sGetUi(state).parentGraphMap;\nexport const sGetUiActiveModalDialog = state => sGetUi(state).activeModalDialog;\nexport const sGetUiRightSidebarOpen = state => sGetUi(state).rightSidebarOpen;\nexport const sGetUiInterpretation = state => sGetUi(state).interpretation;\nexport const sGetAxes = state => sGetUi(state).axes; // Selectors level 2\n\nexport const getAxisIdByDimensionId = (state, dimensionId) => (getInverseLayout(sGetUiLayout(state)) || {})[dimensionId];\nexport const sGetUiItemsByDimension = (state, dimension) => sGetUiItems(state)[dimension] || DEFAULT_UI.itemsByDimension[dimension];\nexport const sGetDimensionIdsFromLayout = state => Object.values(sGetUiLayout(state)).reduce((ids, axisDimensionIds) => ids.concat(axisDimensionIds), []);\nexport const sLayoutHasDimension = (state, dimension) => sGetDimensionIdsFromLayout(state).includes(dimension);\nexport const sLayoutHasAssignedCategories = state => sLayoutHasDimension(state, DIMENSION_ID_ASSIGNED_CATEGORIES);\nexport const sGetAxisSetup = state => {\n  const columns = sGetUiLayout(state).columns;\n  const items = sGetUiItems(state);\n  const axes = sGetAxes(state) || {};\n  return Array.isArray(items[columns[0]]) && items[columns[0]].length ? items[columns[0]].map(id => ({\n    id,\n    axis: id in axes ? axes[id] : 0\n  })) : [];\n};","import { DEFAULT_UI } from '../reducers/ui';\nexport const OPTIONAL_AXES_DIMENSIONAL_ITEM = 'dimensionalItem';\nexport const OPTIONAL_AXES_AXIS = 'axis';\nexport const getIdAxisMap = optionalAxes => {\n  if (!(Array.isArray(optionalAxes) && optionalAxes.length)) {\n    return DEFAULT_UI.axes;\n  }\n\n  return optionalAxes.filter(item => typeof item[OPTIONAL_AXES_AXIS] === 'number').reduce((map, item) => {\n    map[item[OPTIONAL_AXES_DIMENSIONAL_ITEM]] = item[OPTIONAL_AXES_AXIS];\n    return map;\n  }, {});\n};","import { DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject, layoutGetDimensionIdItemIdsObject, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE, defaultVisType, isYearOverYear } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nimport { getOptionsFromVisualization } from './options';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { defaultLayoutAdapter, pieLayoutAdapter, yearOverYearLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\nimport { removeLastPathSegment } from './orgUnit';\nimport { getIdAxisMap } from './optionalAxes'; // Transform from backend model to store.ui format\n\nexport const getUiFromVisualization = (vis, currentState = {}) => ({ ...currentState,\n  type: vis.type || defaultVisType,\n  options: getOptionsFromVisualization(vis),\n  layout: layoutGetAxisIdDimensionIdsObject(vis),\n  itemsByDimension: layoutGetDimensionIdItemIdsObject(vis),\n  parentGraphMap: vis.parentGraphMap || getParentGraphMapFromVisualization(vis) || currentState.parentGraphMap,\n  yearOverYearSeries: isYearOverYear(vis.type) && vis[BASE_FIELD_YEARLY_SERIES] ? vis[BASE_FIELD_YEARLY_SERIES] : currentState.yearOverYearSeries,\n  yearOverYearCategory: isYearOverYear(vis.type) ? vis.rows[0].items.map(item => item.id) : currentState.yearOverYearCategory,\n  axes: getIdAxisMap(vis.optionalAxes)\n}); // Transform from store.ui to default format\n\nexport const defaultUiAdapter = ui => ({ ...ui,\n  layout: defaultLayoutAdapter(ui.layout)\n}); // Transform from store.ui to pie format\n\nexport const pieUiAdapter = ui => ({ ...ui,\n  layout: pieLayoutAdapter(ui.layout)\n}); // Transform from store.ui to year on year format\n\nexport const yearOverYearUiAdapter = ui => {\n  const state = Object.assign({}, ui);\n  const items = Object.assign({}, state.itemsByDimension);\n  delete items[DIMENSION_ID_PERIOD];\n  return { ...state,\n    layout: yearOverYearLayoutAdapter(ui.layout),\n    itemsByDimension: items\n  };\n};\nexport const singleValueUiAdapter = ui => ({ ...ui,\n  layout: singleValueLayoutAdapter(ui.layout)\n});\nexport const getAdaptedUiByType = ui => {\n  switch (ui.type) {\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      {\n        return yearOverYearUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIE:\n      {\n        return pieUiAdapter(ui);\n      }\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      {\n        return singleValueUiAdapter(ui);\n      }\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return ui;\n\n    default:\n      return defaultUiAdapter(ui);\n  }\n};\nexport const getParentGraphMapFromVisualization = vis => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(vis);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n\n  if (!ouAxis) {\n    return {};\n  }\n\n  const parentGraphMap = {};\n  const ouDimension = vis[ouAxis].find(dimension => dimension.dimension === DIMENSION_ID_ORGUNIT);\n  ouDimension.items.filter(orgUnit => orgUnit.path).forEach(orgUnit => {\n    if ('/' + orgUnit.id === orgUnit.path) {\n      // root org unit case\n      parentGraphMap[orgUnit.id] = '';\n    } else {\n      const path = removeLastPathSegment(orgUnit.path);\n      parentGraphMap[orgUnit.id] = path[0] === '/' ? path.substr(1) : path;\n    }\n  });\n  return parentGraphMap;\n};\nexport const mergeUiMaps = (destinationMap, sourceMap, propName) => {\n  Object.keys(sourceMap || {}).forEach(key => {\n    if (!(key in destinationMap)) {\n      destinationMap[key] = {};\n    }\n\n    destinationMap[key][propName] = sourceMap[key];\n  });\n};","import pick from 'lodash-es/pick';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, dimensionCreate, layoutGetDimensionItems, layoutReplaceDimension, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport options from './options';\nimport './layout';\nimport { BASE_FIELD_TYPE, BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { pieLayoutAdapter, singleValueLayoutAdapter } from './layoutAdapters';\nimport { mergeUiMaps } from './ui';\nimport { OPTIONAL_AXES_DIMENSIONAL_ITEM } from './optionalAxes';\n\nconst hasItems = (object, id) => Array.isArray(object[id]) && object[id].length;\n\nexport const getAxesFromUi = ui => Object.entries(ui.layout).reduce((layout, [axisId, dimensionIds]) => ({ ...layout,\n  [axisId]: dimensionIds.map(dimensionId => hasItems(ui.itemsByDimension, dimensionId) || getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS) ? dimensionCreate(dimensionId, ui.itemsByDimension[dimensionId]) : null).filter(dim => dim !== null)\n}), {});\nexport const getOptionsFromUi = ui => {\n  const optionsFromUi = pick(ui.options, Object.keys(options));\n\n  if (ui.options.targetLine === false) {\n    optionsFromUi.targetLineLabel = options.targetLineLabel.defaultValue;\n    optionsFromUi.targetLineValue = options.targetLineValue.defaultValue;\n  }\n\n  if (ui.options.baseLine === false) {\n    optionsFromUi.baseLineLabel = options.baseLineLabel.defaultValue;\n    optionsFromUi.baseLineValue = options.baseLineValue.defaultValue;\n  } // nested options under reportingParams\n\n\n  optionsFromUi.reportingParams = {};\n  ['organisationUnit', 'reportingPeriod', 'parentOrganisationUnit', 'grandParentOrganisationUnit'].forEach(option => {\n    optionsFromUi.reportingParams[option] = optionsFromUi[option];\n    delete optionsFromUi[option];\n  }) // cast option values to Number for some options\n  ;\n  ['sortOrder', 'topLimit'].forEach(option => {\n    if (Object.prototype.hasOwnProperty.call(optionsFromUi, option)) {\n      optionsFromUi[option] = Number(optionsFromUi[option]);\n    }\n  });\n  return optionsFromUi;\n}; // expand to support series types later\n\nexport const getOptionalAxesFromUi = ui => {\n  const optionalAxes = {}; // axes\n\n  mergeUiMaps(optionalAxes, ui.axes, 'axis');\n  return Object.entries(optionalAxes).reduce((arr, [key, value]) => {\n    value[OPTIONAL_AXES_DIMENSIONAL_ITEM] = key;\n    arr.push(value);\n    return arr;\n  }, []);\n};\nexport const getSingleValueCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...singleValueLayoutAdapter(action.value.layout)\n    }\n  };\n  const axesFromUi = getAxesFromUi(ui); // only save the first dx item\n\n  const dxItems = layoutGetDimensionItems(axesFromUi, DIMENSION_ID_DATA);\n  const singleValueAxesFromUi = layoutReplaceDimension(axesFromUi, DIMENSION_ID_DATA, [dxItems[0]]);\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...singleValueAxesFromUi,\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getPieCurrentFromUi = (state, action) => {\n  const ui = { ...action.value,\n    layout: { ...pieLayoutAdapter(action.value.layout)\n    }\n  };\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    ...getAxesFromUi(ui),\n    ...getOptionsFromUi(ui)\n  };\n};\nexport const getYearOverYearCurrentFromUi = (state, action) => {\n  const ui = action.value;\n  const dxItem = ui.itemsByDimension[DIMENSION_ID_DATA] ? [ui.itemsByDimension[DIMENSION_ID_DATA][0]] : [];\n  return { ...state,\n    [BASE_FIELD_TYPE]: ui.type,\n    [AXIS_ID_COLUMNS]: [dimensionCreate(DIMENSION_ID_DATA, dxItem)],\n    [AXIS_ID_ROWS]: [dimensionCreate(DIMENSION_ID_PERIOD, ui.yearOverYearCategory)],\n    [AXIS_ID_FILTERS]: getAxesFromUi(ui).filters.filter(f => ![DIMENSION_ID_DATA, DIMENSION_ID_PERIOD].includes(f.dimension)),\n    [[BASE_FIELD_YEARLY_SERIES]]: ui.yearOverYearSeries,\n    ...getOptionsFromUi(ui)\n  };\n};","import { VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport { getAxesFromUi, getOptionsFromUi, getPieCurrentFromUi, getYearOverYearCurrentFromUi, getSingleValueCurrentFromUi, getOptionalAxesFromUi } from '../modules/current';\nimport { BASE_FIELD_TYPE } from '../modules/fields/baseFields';\nexport const SET_CURRENT = 'SET_CURRENT';\nexport const SET_CURRENT_FROM_UI = 'SET_CURRENT_FROM_UI';\nexport const CLEAR_CURRENT = 'CLEAR_CURRENT';\nexport const DEFAULT_CURRENT = null;\n\nconst getDefaultFromUi = (state, action) => {\n  const axesFromUi = getAxesFromUi(action.value);\n  const optionsFromUi = getOptionsFromUi(action.value);\n  const optionalAxes = getOptionalAxesFromUi(action.value);\n  return { ...state,\n    [BASE_FIELD_TYPE]: action.value.type,\n    ...axesFromUi,\n    ...optionsFromUi,\n    optionalAxes\n  };\n};\n\nexport default ((state = DEFAULT_CURRENT, action) => {\n  switch (action.type) {\n    case SET_CURRENT:\n      {\n        return action.value;\n      }\n\n    case SET_CURRENT_FROM_UI:\n      {\n        switch (action.value.type) {\n          case VIS_TYPE_PIE:\n            return getPieCurrentFromUi(state, action);\n\n          case VIS_TYPE_SINGLE_VALUE:\n          case VIS_TYPE_GAUGE:\n            return getSingleValueCurrentFromUi(state, action);\n\n          case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n          case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n            return getYearOverYearCurrentFromUi(state, action);\n\n          default:\n            {\n              return getDefaultFromUi(state, action);\n            }\n        }\n      }\n\n    case CLEAR_CURRENT:\n      return DEFAULT_CURRENT;\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetCurrent = state => state.current;\nexport const sGetCurrentFromUi = state => {\n  const ui = state.ui;\n\n  switch (ui.type) {\n    case VIS_TYPE_PIE:\n      return getPieCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return getSingleValueCurrentFromUi(state, {\n        value: ui\n      });\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return getYearOverYearCurrentFromUi(state, {\n        value: ui\n      });\n\n    default:\n      {\n        return getDefaultFromUi(state, {\n          value: ui\n        });\n      }\n  }\n};","import { getPredefinedDimensions } from '@dhis2/analytics';\nexport const SET_DIMENSIONS = 'SET_DIMENSIONS';\nexport const SET_SELECTED_DIMENSION = 'SET_SELECTED_DIMENSION';\nconst DEFAULT_DIMENSIONS = getPredefinedDimensions();\nexport default ((state = DEFAULT_DIMENSIONS, action) => {\n  switch (action.type) {\n    case SET_DIMENSIONS:\n      {\n        return { ...DEFAULT_DIMENSIONS,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\n/**\n * Selector which returns dimensions from the state object\n * If state.dimensions is null, then the dimensions api request\n * has not yet completed. If state.dimensions is an empty object\n * then the dimensions api request is complete, and there are no\n * dimensions\n *\n * @function\n * @param {Object} state The current state\n * @returns {Array}\n */\n\nexport const sGetDimensions = state => state.dimensions;","export const SET_RECOMMENDED_IDS = 'SET_RECOMMENDED_IDS';\nexport const DEFAULT_RECOMMENDED_IDS = [];\nexport default ((state = DEFAULT_RECOMMENDED_IDS, action) => {\n  switch (action.type) {\n    case SET_RECOMMENDED_IDS:\n      {\n        return action.value || DEFAULT_RECOMMENDED_IDS;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetRecommendedIds = state => state.recommendedIds;","export const ADD_METADATA = 'ADD_METADATA';\nexport const DEFAULT_METADATA = {};\nexport default ((state = DEFAULT_METADATA, action) => {\n  switch (action.type) {\n    case ADD_METADATA:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetMetadata = state => state.metadata;","export const SET_SETTINGS = 'SET_SETTINGS';\nexport const ADD_SETTINGS = 'ADD_SETTINGS';\nexport const DEFAULT_SETTINGS = {\n  keyDateFormat: 'yyyy-MM-dd',\n  keyAnalysisRelativePeriod: 'LAST_12_MONTHS',\n  keyAnalysisDigitGroupSeparator: 'SPACE',\n  displayNameProperty: 'displayName',\n  uiLocale: 'en',\n  rootOrganisationUnit: {}\n};\nexport default ((state = DEFAULT_SETTINGS, action) => {\n  switch (action.type) {\n    case SET_SETTINGS:\n      {\n        return Object.assign({}, action.value);\n      }\n\n    case ADD_SETTINGS:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSettings = state => state.settings;\nexport const sGetSettingsDisplayNameProperty = state => sGetSettings(state).displayNameProperty;\nexport const sGetRootOrgUnit = state => sGetSettings(state).rootOrganisationUnit;\nexport const sGetRelativePeriod = state => sGetSettings(state).keyAnalysisRelativePeriod;\nexport const sGetUiLocale = state => sGetSettings(state).uiLocale;","export const RECEIVED_USER = 'RECEIVED_USER';\nexport const DEFAULT_USER = {\n  id: '',\n  username: '',\n  uiLocale: '',\n  isSuperuser: false\n};\nexport default ((state = DEFAULT_USER, action) => {\n  switch (action.type) {\n    case RECEIVED_USER:\n      {\n        return fromD2ToUserObj(action.value);\n      }\n\n    default:\n      return state;\n  }\n});\n\nfunction fromD2ToUserObj(d2Object) {\n  return {\n    id: d2Object.id,\n    username: d2Object.username,\n    uiLocale: d2Object.settings.keyUiLocale,\n    isSuperuser: d2Object.authorities.has('ALL')\n  };\n} // Selectors\n\n\nexport const sGetUser = state => state.user;\nexport const sGetUserId = state => sGetUser(state).id;\nexport const sGetUsername = state => sGetUser(state).username;\nexport const sGetIsSuperuser = state => sGetUser(state).isSuperuser;\nexport const sGetUiLocale = state => sGetUser(state).uiLocale;","import { getAllFieldObjectsByType, extractName, markExcluded, moveExcludedToEnd } from './baseFields';\nimport { extendFields } from './nestedFields';\nexport { getAllFieldObjectsByType };\nexport const getOptionsByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.option === true);\nexport const getIncludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => !fieldObj.excluded);\nexport const getExcludedByType = type => getAllFieldObjectsByType(type).filter(fieldObj => fieldObj.excluded === true);\nexport const getFieldsStringByType = type => getAllFieldObjectsByType(type).map(markExcluded).map(extractName).sort().reduce(moveExcludedToEnd, null).map(extendFields).join(',');","// constants\nconst ID = 'id';\nconst NAME = 'name,displayName,displayShortName';\nconst DIMENSION_ITEM = `dimensionItem~rename(${ID})`;\nconst LEGEND_SET = `${ID},${NAME}`;\nconst USER = `${NAME},userCredentials[username]`;\nconst ITEMS = `${DIMENSION_ITEM},${NAME},dimensionItemType`;\nconst AXIS = `dimension,filter,legendSet[${LEGEND_SET}],items[${ITEMS}]`;\nconst INTERPRETATIONS = 'id,created'; // nested fields map\n\nexport const nestedFields = {\n  columns: AXIS,\n  rows: AXIS,\n  filters: AXIS,\n  user: USER,\n  interpretations: INTERPRETATIONS,\n  legendSet: LEGEND_SET\n};\nexport const extendFields = field => `${field}${nestedFields[field] ? `[${nestedFields[field]}]` : ''}`;","import { getFieldsStringByType } from '../modules/fields';\nconst visualizationQuery = {\n  visualization: {\n    resource: 'visualizations',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: getFieldsStringByType('visualization')\n    }\n  }\n};\nconst visualizationsQuery = {\n  visualization: {\n    resource: 'visualizations',\n    params: ({\n      visualizationIds\n    }) => ({\n      filter: `id:in:[${visualizationIds}]`,\n      fields: ['id', 'type']\n    })\n  }\n};\nexport const apiFetchVisualization = (dataEngine, id) => {\n  return dataEngine.query(visualizationQuery, {\n    variables: {\n      id\n    }\n  });\n};\nexport const apiFetchVisualizations = (dataEngine, visualizationIds) => {\n  return dataEngine.query(visualizationsQuery, {\n    variables: {\n      visualizationIds\n    }\n  });\n};\nexport const apiSaveVisualization = (dataEngine, visualization) => {\n  const mutation = {\n    type: 'create',\n    resource: 'visualizations',\n    data: visualization,\n    params: {\n      skipTranslations: 'true',\n      skipSharing: 'true'\n    }\n  };\n\n  if (visualization.id) {\n    mutation.type = 'update';\n    mutation.id = visualization.id;\n  }\n\n  return dataEngine.mutate(mutation);\n};","import { SET_VISUALIZATION, CLEAR_VISUALIZATION } from '../reducers/visualization';\nexport const acSetVisualization = visualization => ({\n  type: SET_VISUALIZATION,\n  value: visualization\n});\nexport const acClear = () => ({\n  type: CLEAR_VISUALIZATION\n});","import { SET_CURRENT, SET_CURRENT_FROM_UI, CLEAR_CURRENT } from '../reducers/current';\nimport { sGetUi } from '../reducers/ui';\nexport const acSetCurrent = value => ({\n  type: SET_CURRENT,\n  value\n});\nexport const acClear = () => ({\n  type: CLEAR_CURRENT\n});\nexport const acSetCurrentFromUi = value => ({\n  type: SET_CURRENT_FROM_UI,\n  value\n});\nexport const tSetCurrentFromUi = () => async (dispatch, getState) => {\n  dispatch(acSetCurrentFromUi(sGetUi(getState())));\n};","import keyBy from 'lodash-es/keyBy';\nimport sortBy from 'lodash-es/sortBy';\nimport { SET_DIMENSIONS } from '../reducers/dimensions';\nimport { apiFetchDimensions } from '@dhis2/analytics';\nimport { sGetSettingsDisplayNameProperty } from '../reducers/settings';\nexport const acSetDimensions = dimensions => ({\n  type: SET_DIMENSIONS,\n  value: keyBy(sortBy(dimensions, [d => d.name.toLowerCase()]), 'id')\n});\nexport const tSetDimensions = d2 => async (dispatch, getState) => {\n  const onSuccess = dimensions => {\n    dispatch(acSetDimensions(dimensions));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchDimensions): ', error);\n    return error;\n  };\n\n  try {\n    const displayNameProp = sGetSettingsDisplayNameProperty(getState());\n    const dimensions = await apiFetchDimensions(d2, displayNameProp);\n    return onSuccess(dimensions);\n  } catch (err) {\n    return onError(err);\n  }\n};","import { SET_UI, CLEAR_UI, SET_UI_FROM_VISUALIZATION, SET_UI_TYPE, SET_UI_OPTIONS, SET_UI_LAYOUT, ADD_UI_LAYOUT_DIMENSIONS, REMOVE_UI_LAYOUT_DIMENSIONS, SET_UI_ITEMS, ADD_UI_ITEMS, REMOVE_UI_ITEMS, ADD_UI_PARENT_GRAPH_MAP, SET_UI_PARENT_GRAPH_MAP, SET_UI_ACTIVE_MODAL_DIALOG, SET_UI_YEAR_ON_YEAR_SERIES, SET_UI_YEAR_ON_YEAR_CATEGORY, TOGGLE_UI_RIGHT_SIDEBAR_OPEN, SET_UI_RIGHT_SIDEBAR_OPEN, SET_UI_INTERPRETATION, CLEAR_UI_INTERPRETATION, SET_AXES } from '../reducers/ui';\nexport const acSetUi = value => ({\n  type: SET_UI,\n  value\n});\nexport const acClear = value => ({\n  type: CLEAR_UI,\n  value\n});\nexport const acSetUiFromVisualization = value => ({\n  type: SET_UI_FROM_VISUALIZATION,\n  value\n});\nexport const acSetUiType = value => ({\n  type: SET_UI_TYPE,\n  value\n});\nexport const acSetUiOptions = value => ({\n  type: SET_UI_OPTIONS,\n  value\n});\nexport const acSetUiLayout = value => ({\n  type: SET_UI_LAYOUT,\n  value\n});\nexport const acAddUiLayoutDimensions = value => ({\n  type: ADD_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acRemoveUiLayoutDimensions = value => ({\n  type: REMOVE_UI_LAYOUT_DIMENSIONS,\n  value\n});\nexport const acSetUiItems = value => ({\n  type: SET_UI_ITEMS,\n  value\n});\nexport const acAddUiItems = value => ({\n  type: ADD_UI_ITEMS,\n  value\n});\nexport const acRemoveUiItems = value => ({\n  type: REMOVE_UI_ITEMS,\n  value\n});\nexport const acSetUiYearOverYearSeries = value => ({\n  type: SET_UI_YEAR_ON_YEAR_SERIES,\n  value\n});\nexport const acSetUiYearOverYearCategory = value => ({\n  type: SET_UI_YEAR_ON_YEAR_CATEGORY,\n  value\n});\nexport const acAddParentGraphMap = value => ({\n  type: ADD_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetParentGraphMap = value => ({\n  type: SET_UI_PARENT_GRAPH_MAP,\n  value\n});\nexport const acSetUiActiveModalDialog = value => ({\n  type: SET_UI_ACTIVE_MODAL_DIALOG,\n  value\n});\nexport const acToggleUiRightSidebarOpen = () => ({\n  type: TOGGLE_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiRightSidebarOpen = () => ({\n  type: SET_UI_RIGHT_SIDEBAR_OPEN\n});\nexport const acSetUiInterpretation = value => ({\n  type: SET_UI_INTERPRETATION,\n  value\n});\nexport const acClearUiInterpretation = () => ({\n  type: CLEAR_UI_INTERPRETATION\n});\nexport const acSetAxes = value => ({\n  type: SET_AXES,\n  value\n});","import { ADD_METADATA } from '../reducers/metadata';\nexport const acAddMetadata = value => ({\n  type: ADD_METADATA,\n  value\n});","import { getInstance } from 'd2';\nimport { onError } from './index';\nimport { SYSTEM_SETTINGS } from '../modules/settings';\nexport const apiFetchSystemSettings = () => {\n  const endPoint = '/systemSettings';\n  const url = `${endPoint}?${SYSTEM_SETTINGS.map(s => `key=${s}`).join('&')}`;\n  return getInstance().then(d2 => d2.Api.getApi().get(url)).catch(onError);\n};\nexport const apiFetchUserSettings = () => {\n  // \"key\" params not supported in the backend yet\n  // update: now it is, should be used here\n  const endPoint = '/userSettings';\n  return getInstance().then(d2 => d2.Api.getApi().get(endPoint)).catch(onError);\n};","import { SET_SETTINGS, ADD_SETTINGS } from '../reducers/settings';\nimport { apiFetchSystemSettings } from '../api/settings';\nimport { apiFetchOrganisationUnitRoot } from '../api/organisationUnits';\nexport const acSetSettings = value => ({\n  type: SET_SETTINGS,\n  value\n});\nexport const acAddSettings = value => ({\n  type: ADD_SETTINGS,\n  value\n});\nexport const tAddSettings = (...extraSettings) => async dispatch => {\n  const onSuccess = fetchedSettings => {\n    dispatch(acAddSettings(Object.assign({}, fetchedSettings, ...extraSettings)));\n  };\n\n  const onError = error => {\n    console.log('Error (apiFetchSystemSettings): ', error);\n    return error;\n  };\n\n  try {\n    const systemSettings = await apiFetchSystemSettings();\n    const rootOrganisationUnit = await apiFetchOrganisationUnitRoot();\n    return onSuccess({ ...systemSettings,\n      rootOrganisationUnit\n    });\n  } catch (err) {\n    return onError(err);\n  }\n};","import { RECEIVED_USER } from '../reducers/user';\nexport const acReceivedUser = value => ({\n  type: RECEIVED_USER,\n  value\n});","export const SET_CHART = 'SET_CHART';\nexport const DEFAULT_CHART = null;\nexport default ((state = DEFAULT_CHART, action) => {\n  switch (action.type) {\n    case SET_CHART:\n      {\n        return action.value;\n      }\n\n    default:\n      return state;\n  }\n});\nexport const sGetChart = state => state.chart;","import { RECEIVED_SNACKBAR_MESSAGE, CLOSE_SNACKBAR } from '../reducers/snackbar';\nexport const acReceivedSnackbarMessage = value => ({\n  type: RECEIVED_SNACKBAR_MESSAGE,\n  value\n});\nexport const acCloseSnackbar = () => ({\n  type: CLOSE_SNACKBAR\n});","export const SET_LOAD_ERROR = 'SET_LOAD_ERROR';\nexport const CLEAR_LOAD_ERROR = 'CLEAR_LOAD_ERROR';\nexport const SET_LOADING = 'SET_LOADING';\nexport const SET_PLUGIN_LOADING = 'SET_PLUGIN_LOADING';\nexport const DEFAULT_LOADING = {\n  isLoading: false,\n  loadingError: null,\n  isPluginLoading: true\n};\nexport default ((state = DEFAULT_LOADING, action) => {\n  switch (action.type) {\n    case SET_LOAD_ERROR:\n      {\n        return { ...state,\n          loadingError: action.value\n        };\n      }\n\n    case CLEAR_LOAD_ERROR:\n      return { ...state,\n        loadingError: DEFAULT_LOADING.loadingError\n      };\n\n    case SET_LOADING:\n      return { ...state,\n        isLoading: action.value\n      };\n\n    case SET_PLUGIN_LOADING:\n      return { ...state,\n        isPluginLoading: action.value\n      };\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetLoadError = state => state.loader.loadingError;\nexport const sGetIsLoading = state => state.loader.isLoading;\nexport const sGetIsPluginLoading = state => state.loader.isPluginLoading;","import { SET_LOAD_ERROR, CLEAR_LOAD_ERROR, SET_LOADING, SET_PLUGIN_LOADING } from '../reducers/loader';\nexport const acSetLoadError = value => ({\n  type: SET_LOAD_ERROR,\n  value\n});\nexport const acClearLoadError = () => ({\n  type: CLEAR_LOAD_ERROR\n});\nexport const acSetLoading = value => ({\n  type: SET_LOADING,\n  value\n});\nexport const acSetPluginLoading = value => ({\n  type: SET_PLUGIN_LOADING,\n  value\n});","import { getInstance } from 'd2';\nconst EVENT_TYPE_CHART_VIEW = 'CHART_VIEW';\nexport const apiPostDataStatistics = async id => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `/dataStatistics?eventType=${EVENT_TYPE_CHART_VIEW}&favorite=${id}`;\n  return api.post(url);\n};","import i18n from '@dhis2/d2-i18n';\nimport { apiFetchVisualization, apiSaveVisualization } from '../api/visualization';\nimport * as fromVisualization from './visualization';\nimport * as fromCurrent from './current';\nimport * as fromDimensions from './dimensions';\nimport * as fromRecommended from './recommendedIds';\nimport * as fromUi from './ui';\nimport * as fromMetadata from './metadata';\nimport * as fromSettings from './settings';\nimport * as fromUser from './user';\nimport * as fromChart from './chart';\nimport * as fromSnackbar from './snackbar';\nimport * as fromLoader from './loader';\nimport { sGetCurrent } from '../reducers/current';\nimport { sGetVisualization } from '../reducers/visualization';\nimport { sGetRootOrgUnit, sGetRelativePeriod } from '../reducers/settings';\nimport history from '../modules/history';\nimport { convertOuLevelsToUids } from '../modules/orgUnit';\nimport { apiPostDataStatistics } from '../api/dataStatistics';\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommended, fromUi, fromMetadata, fromSettings, fromUser, fromChart, fromSnackbar, fromLoader };\nexport const onError = (action, error) => {\n  console.log(`Error in action ${action}: ${error}`);\n  return error;\n}; // visualization, current, ui\n\nexport const tDoLoadVisualization = ({\n  id,\n  interpretationId,\n  ouLevels\n}) => async (dispatch, getState, engine) => {\n  const onSuccess = async response => {\n    dispatch(fromLoader.acSetPluginLoading(true));\n    const visualization = convertOuLevelsToUids(ouLevels, response.visualization);\n\n    if (interpretationId) {\n      const interpretation = visualization.interpretations.find(i => i.id === interpretationId);\n\n      if (interpretation) {\n        dispatch(fromUi.acSetUiInterpretation(interpretation));\n        dispatch(fromUi.acSetUiRightSidebarOpen());\n      }\n    }\n\n    apiPostDataStatistics(visualization.id);\n    dispatch(fromVisualization.acSetVisualization(visualization));\n    dispatch(fromCurrent.acSetCurrent(visualization));\n    dispatch(fromUi.acSetUiFromVisualization(visualization));\n    dispatch(fromLoader.acClearLoadError());\n  };\n\n  try {\n    return onSuccess((await apiFetchVisualization(engine, id)));\n  } catch (err) {\n    let error = err;\n\n    if (err && err.message) {\n      error = err.message;\n    }\n\n    clearVisualization(dispatch, getState, error);\n    return onError('tDoLoadVisualization', error);\n  }\n};\nexport const clearVisualization = (dispatch, getState, error = null) => {\n  if (error) {\n    dispatch(fromLoader.acSetLoadError(error));\n  } else {\n    dispatch(fromLoader.acClearLoadError());\n  }\n\n  dispatch(fromVisualization.acClear());\n  dispatch(fromCurrent.acClear());\n  const rootOrganisationUnit = sGetRootOrgUnit(getState());\n  const relativePeriod = sGetRelativePeriod(getState());\n  dispatch(fromUi.acClear({\n    rootOrganisationUnit,\n    relativePeriod\n  }));\n};\nexport const tDoRenameVisualization = ({\n  name,\n  description\n}) => (dispatch, getState) => {\n  const state = getState();\n  const visualization = sGetVisualization(state);\n  const current = sGetCurrent(state);\n  const updatedVisualization = { ...visualization\n  };\n  const updatedCurrent = { ...current\n  };\n\n  if (name) {\n    updatedVisualization.name = updatedCurrent.name = name;\n  }\n\n  if (description) {\n    updatedVisualization.description = updatedCurrent.description = description;\n  }\n\n  dispatch(fromVisualization.acSetVisualization(updatedVisualization)); // keep the same reference for current if there are no changes\n  // other than the name/description\n\n  if (visualization === current) {\n    dispatch(fromCurrent.acSetCurrent(updatedVisualization));\n  } else {\n    dispatch(fromCurrent.acSetCurrent(updatedCurrent));\n  }\n\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    message: i18n.t('Rename successful'),\n    open: true,\n    duration: 2000\n  }));\n};\nexport const tDoSaveVisualization = ({\n  name,\n  description\n}, copy) => async (dispatch, getState, engine) => {\n  const onSuccess = res => {\n    if (res.status === 'OK' && res.response.uid) {\n      if (copy) {\n        history.push(`/${res.response.uid}`);\n      } else {\n        history.replace(`/${res.response.uid}`);\n      }\n    }\n  };\n\n  try {\n    const visualization = { ...sGetCurrent(getState())\n    }; // remove the id to trigger a POST request and save a new AO\n\n    if (copy) {\n      delete visualization.id;\n    }\n\n    if (name) {\n      visualization.name = name;\n    }\n\n    if (description) {\n      visualization.description = description;\n    }\n\n    return onSuccess((await apiSaveVisualization(engine, visualization)));\n  } catch (error) {\n    return onError('tDoSaveVisualization', error);\n  }\n};\nexport const tDoDeleteVisualization = () => (dispatch, getState) => {\n  const current = sGetCurrent(getState());\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    message: i18n.t('\"{{what}}\" successfully deleted.', {\n      what: current.name\n    }),\n    open: true,\n    duration: 2000\n  }));\n  history.push('/');\n}; // snackbar\n\nexport const tDoCloseSnackbar = () => dispatch => {\n  dispatch(fromSnackbar.acReceivedSnackbarMessage({\n    open: false\n  })); // wait for the animation to complete to avoid\n  // \"flashing\" of the snackbar\n\n  setTimeout(() => dispatch(fromSnackbar.acCloseSnackbar()), 250);\n};","import { colors } from '@dhis2/ui-core';\nexport default {\n  container: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    marginRight: 8\n  },\n  closeIcon: {\n    marginLeft: 8,\n    width: 18,\n    height: 18,\n    cursor: 'pointer'\n  },\n  warning: {\n    backgroundColor: colors.yellow500,\n    color: colors.black\n  },\n  error: {\n    backgroundColor: colors.red500,\n    color: colors.white\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport MUISnackbar from '@material-ui/core/Snackbar';\nimport MUISnackbarContent from '@material-ui/core/SnackbarContent';\nimport { withStyles } from '@material-ui/core/styles';\nimport InfoIcon from '@material-ui/icons/InfoOutlined';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { sGetSnackbar } from '../../reducers/snackbar';\nimport { tDoCloseSnackbar } from '../../actions';\nimport styles from './styles/Snackbar.style';\nexport const VARIANT_INFORMATION = 'information';\nexport const VARIANT_WARNING = 'warning';\nexport const VARIANT_ERROR = 'error';\nexport const Snackbar = ({\n  classes,\n  variant,\n  open,\n  message,\n  duration,\n  onClose\n}) => <MUISnackbar open={open} autoHideDuration={duration} onClose={onClose}>\n        <MUISnackbarContent className={classes[variant]} message={<span className={classes.container}>\n                    {variant === VARIANT_ERROR ? <InfoIcon className={classes.icon} /> : null}\n                    {message}\n                    {variant === VARIANT_WARNING ? <CloseIcon className={classes.closeIcon} onClick={onClose} /> : null}\n                </span>} />\n    </MUISnackbar>;\nSnackbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  variant: PropTypes.oneOf([VARIANT_INFORMATION, VARIANT_WARNING, VARIANT_ERROR]).isRequired,\n  duration: PropTypes.number,\n  message: PropTypes.string,\n  open: PropTypes.bool,\n  onClose: PropTypes.func\n};\n\nconst mapStateToProps = state => {\n  const {\n    variant,\n    message,\n    duration,\n    open\n  } = sGetSnackbar(state);\n  return {\n    variant,\n    open,\n    message,\n    duration\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onClose: () => dispatch(tDoCloseSnackbar())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(Snackbar));","import { VARIANT_INFORMATION } from '../components/Snackbar/Snackbar';\nexport const RECEIVED_SNACKBAR_MESSAGE = 'RECEIVED_SNACKBAR_MESSAGE';\nexport const CLOSE_SNACKBAR = 'CLOSE_SNACKBAR';\nexport const DEFAULT_SNACKBAR = {\n  message: null,\n  duration: null,\n  open: false,\n  variant: VARIANT_INFORMATION\n};\nexport default ((state = DEFAULT_SNACKBAR, action) => {\n  switch (action.type) {\n    case RECEIVED_SNACKBAR_MESSAGE:\n      {\n        return { ...state,\n          ...action.value\n        };\n      }\n\n    case CLOSE_SNACKBAR:\n      {\n        return DEFAULT_SNACKBAR;\n      }\n\n    default:\n      return state;\n  }\n}); // Selectors\n\nexport const sGetSnackbar = state => state.snackbar;","import { combineReducers } from 'redux';\nimport visualization, * as fromVisualization from './visualization';\nimport current, * as fromCurrent from './current';\nimport dimensions, * as fromDimensions from './dimensions';\nimport recommendedIds, * as fromRecommendedIds from './recommendedIds';\nimport ui, * as fromUi from './ui';\nimport metadata, * as fromMetadata from './metadata';\nimport settings, * as fromSettings from './settings';\nimport user, * as fromUser from './user';\nimport snackbar, * as fromSnackbar from './snackbar';\nimport loader, * as fromLoader from './loader';\nimport chart, * as fromChart from './chart'; // Reducers\n\nexport default combineReducers({\n  visualization,\n  current,\n  dimensions,\n  recommendedIds,\n  ui,\n  metadata,\n  settings,\n  user,\n  snackbar,\n  loader,\n  chart\n}); // Selectors\n\nexport { fromVisualization, fromCurrent, fromDimensions, fromRecommendedIds, fromUi, fromMetadata, fromSettings, fromUser, fromSnackbar, fromLoader, fromChart };\nexport const sGetAxisSetupItems = state => fromUi.sGetAxisSetup(state).map(obj => {\n  const metadata = fromMetadata.sGetMetadata(state)[obj.id];\n  return { ...obj,\n    name: metadata ? metadata.name : ''\n  };\n});","import { createStore, applyMiddleware, compose } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport reducer from './reducers';\n\nconst configureStore = middleware => {\n  // Enable Redux devtools if extension is installed instead of redux-logger\n  // const composeEnhancers =\n  //     window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const composeEnhancers = typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    name: 'data-visualizer-app'\n  }) : compose;\n\n  if (!window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ && process.env.NODE_ENV !== 'production') {\n    middleware.push(createLogger());\n  }\n\n  return createStore(reducer, composeEnhancers(applyMiddleware(...middleware)));\n};\n\nexport default configureStore;","import { acAddMetadata } from '../actions/metadata';\nexport default (({\n  dispatch\n}) => next => action => {\n  typeof action.metadata === 'object' && !Array.isArray(action.metadata) && dispatch(acAddMetadata(action.metadata));\n  next(action);\n});","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport { canDimensionBeAddedToAxis, getPredefinedDimensionProp, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport { sGetUiLayout, sGetUiItems, sGetUiType } from '../reducers/ui';\nimport { acAddUiLayoutDimensions, acSetUiActiveModalDialog, acSetUiLayout } from '../actions/ui';\nimport { SOURCE_DIMENSIONS } from '../modules/layout';\n\nclass DndContext extends Component {\n  rearrangeLayoutDimensions = ({\n    sourceAxisId,\n    sourceIndex,\n    destinationAxisId,\n    destinationIndex\n  }) => {\n    const layout = this.props.layout;\n    const sourceList = Array.from(layout[sourceAxisId]);\n    const [moved] = sourceList.splice(sourceIndex, 1);\n\n    if (sourceAxisId === destinationAxisId) {\n      sourceList.splice(destinationIndex, 0, moved);\n      this.props.onReorderDimensions({ ...layout,\n        [sourceAxisId]: sourceList\n      });\n    } else {\n      if (canDimensionBeAddedToAxis(this.props.type, layout[destinationAxisId], destinationAxisId)) {\n        this.props.onAddDimensions({\n          [moved]: {\n            axisId: destinationAxisId,\n            index: destinationIndex\n          }\n        });\n      }\n    }\n  };\n  addDimensionToLayout = ({\n    axisId,\n    index,\n    dimensionId\n  }) => {\n    const {\n      layout,\n      type\n    } = this.props;\n\n    if (!canDimensionBeAddedToAxis(type, layout[axisId], axisId)) {\n      return;\n    }\n\n    this.props.onAddDimensions({\n      [dimensionId]: {\n        axisId,\n        index\n      }\n    });\n    const items = this.props.itemsByDimension[dimensionId];\n    const hasNoItems = Boolean(!items || !items.length);\n\n    if (hasNoItems && !getPredefinedDimensionProp(dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n      this.props.onDropWithoutItems(dimensionId);\n    }\n  };\n  onDragEnd = result => {\n    const {\n      source,\n      destination,\n      draggableId\n    } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (source.droppableId === SOURCE_DIMENSIONS) {\n      this.addDimensionToLayout({\n        axisId: destination.droppableId,\n        index: destination.index,\n        dimensionId: draggableId\n      });\n    } else {\n      this.rearrangeLayoutDimensions({\n        sourceAxisId: source.droppableId,\n        sourceIndex: source.index,\n        destinationAxisId: destination.droppableId,\n        destinationIndex: destination.index\n      });\n    }\n  };\n\n  render() {\n    return <DragDropContext onDragEnd={this.onDragEnd}>\n                {this.props.children}\n            </DragDropContext>;\n  }\n\n}\n\nDndContext.propTypes = {\n  children: PropTypes.node,\n  itemsByDimension: PropTypes.object,\n  layout: PropTypes.object,\n  type: PropTypes.string,\n  onAddDimensions: PropTypes.func,\n  onDropWithoutItems: PropTypes.func,\n  onReorderDimensions: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  layout: sGetUiLayout(state),\n  type: sGetUiType(state),\n  itemsByDimension: sGetUiItems(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onAddDimensions: map => dispatch(acAddUiLayoutDimensions(map)),\n  onDropWithoutItems: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId)),\n  onReorderDimensions: layout => dispatch(acSetUiLayout(layout))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DndContext);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui-core';\n\nconst UpdateButton = ({\n  onClick,\n  ...props\n}) => {\n  return <Button data-test=\"update-button\" {...props} onClick={onClick} type=\"button\" primary>\n            {i18n.t('Update')}\n        </Button>;\n};\n\nUpdateButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default UpdateButton;","export const styles = {\n  arrowIcon: {\n    marginLeft: 'auto'\n  },\n  menuAnchorOrigin: {\n    vertical: 'bottom',\n    horizontal: 'left'\n  },\n  submenuAnchorOrigin: {\n    vertical: 'top',\n    horizontal: 'right'\n  }\n};","import { DIMENSION_ID_PERIOD } from '@dhis2/analytics';\nimport { getInstance } from 'd2';\nexport const apiDownloadImage = async (type, formData) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  const url = `${api.baseUrl}/svg.${type}`;\n  return api.fetch(url, {\n    method: 'POST',\n    body: formData,\n    headers: new Headers(api.defaultHeaders)\n  }).then(res => res.blob());\n};\n\nconst addCommonParameters = (req, current, options) => {\n  req = req.withSkipRounding(current.skipRounding).withAggregationType(current.aggregationType); //        .withUserOrgUnit(?) TODO\n\n  if (current.displayProperty) {\n    req = req.withDisplayProperty(current.displayProperty);\n  }\n\n  if (options.relativePeriodDate) {\n    req = req.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  return req;\n};\n\nexport const apiDownloadTable = async ({\n  current,\n  format,\n  options,\n  rows,\n  columns\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  let req = new d2.analytics.request().fromModel(current).withFormat(format).withTableLayout().withRows(rows.join(';')).withColumns(columns.join(';'));\n  req = addCommonParameters(req, current, options);\n\n  if (current.hideEmptyColumns) {\n    req = req.withHideEmptyColumns();\n  }\n\n  if (current.hideEmptyRows) {\n    req = req.withHideEmptyRows();\n  }\n\n  if (current.showHierarchy) {\n    req = req.withShowHierarchy();\n  }\n\n  const url = new URL(`${api.baseUrl}/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};\nexport const apiDownloadData = async ({\n  current,\n  format,\n  options,\n  idScheme,\n  path\n}) => {\n  const d2 = await getInstance();\n  const api = d2.Api.getApi();\n  let req = new d2.analytics.request().fromModel(current, path === 'dataValueSet').withFormat(format).withHierarchyMeta(current.showHierarchy).withMeasureCriteria(current.measureCriteria); //.withApprovalLevel(current.?) TODO\n\n  req = addCommonParameters(req, current, options);\n\n  if (path) {\n    req = req.withPath(path);\n  }\n\n  if (idScheme) {\n    req = req.withOutputIdScheme(idScheme);\n  }\n\n  const url = new URL(`${api.baseUrl}/${req.buildUrl()}`, `${window.location.origin}${window.location.pathname}`);\n  Object.entries(req.buildQuery()).forEach(([key, value]) => url.searchParams.append(key, value));\n  return url;\n};\nexport const apiFetchAnalytics = async (current, options) => {\n  const d2 = await getInstance();\n  const req = new d2.analytics.request().fromModel(current).withParameters(options);\n  const rawResponse = await d2.analytics.aggregate.get(req);\n  return [new d2.analytics.response(rawResponse)];\n};\nexport const apiFetchAnalyticsForYearOverYear = async (current, options) => {\n  const d2 = await getInstance();\n  let yearlySeriesReq = new d2.analytics.request().addPeriodDimension(current.yearlySeries).withSkipData(true).withSkipMeta(false).withIncludeMetadataDetails(true);\n\n  if (options.relativePeriodDate) {\n    yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(options.relativePeriodDate);\n  }\n\n  const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq);\n  const requests = [];\n  const yearlySeriesLabels = [];\n  const now = new Date();\n  const currentDay = ('' + now.getDate()).padStart(2, 0);\n  const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0);\n  yearlySeriesRes.metaData.dimensions[DIMENSION_ID_PERIOD].forEach(period => {\n    yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name);\n    const startDate = `${period}-${currentMonth}-${currentDay}`;\n    const req = new d2.analytics.request().fromModel(current).withParameters(options).withRelativePeriodDate(startDate);\n    requests.push(d2.analytics.aggregate.get(req));\n  });\n  return Promise.all(requests).then(responses => ({\n    responses: responses.map(res => new d2.analytics.response(res)),\n    yearlySeriesLabels\n  }));\n};","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport ImageIcon from '@material-ui/icons/Image';\nimport PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport ListIcon from '@material-ui/icons/List';\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\nimport i18n from '@dhis2/d2-i18n';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { styles } from './styles/DownloadMenu.style';\nimport { sGetUiType, sGetUiLayout, sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetChart } from '../../reducers/chart';\nimport { apiDownloadImage, apiDownloadData, apiDownloadTable } from '../../api/analytics';\nexport class DownloadMenu extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anchorEl: null,\n      schemeSubmenu: {\n        anchorEl: null,\n        dataType: null\n      },\n      advancedSubmenu: {\n        anchorEl: null\n      }\n    };\n  }\n\n  toggleMenu = target => this.setState({\n    anchorEl: target || null\n  });\n  toggleSubmenu = (id, target, dataType) => {\n    const key = `${id}Submenu`;\n    const payload = {\n      anchorEl: target || null\n    };\n\n    if (id === 'scheme') {\n      payload.dataType = dataType || null;\n    }\n\n    this.setState({\n      [key]: payload\n    });\n  };\n  downloadImage = format => async () => {\n    const {\n      current,\n      chart\n    } = this.props;\n    const formData = new URLSearchParams();\n    formData.append('filename', current.name);\n\n    if (chart) {\n      formData.append('svg', chart);\n    }\n\n    const blob = await apiDownloadImage(format, formData);\n    const url = URL.createObjectURL(blob);\n    this.toggleMenu();\n    window.open(url, '_blank');\n  };\n  downloadData = (format, idScheme, path) => async () => {\n    const {\n      current,\n      relativePeriodDate\n    } = this.props;\n    const url = await apiDownloadData({\n      current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      idScheme,\n      path\n    });\n\n    if (idScheme) {\n      this.toggleSubmenu('scheme');\n    } else {\n      this.toggleSubmenu('advanced');\n    }\n\n    this.toggleMenu();\n    window.open(url, format.match(/(xls|csv)/) ? '_top' : '_blank');\n  };\n  downloadTable = format => async () => {\n    const {\n      current,\n      rows,\n      columns,\n      relativePeriodDate\n    } = this.props;\n    const url = await apiDownloadTable({\n      current,\n      format,\n      options: {\n        relativePeriodDate\n      },\n      rows,\n      columns\n    });\n    window.open(url, format === 'html' ? '_blank' : '_top');\n  };\n  graphicsMenuSection = () => <div>\n            <ListSubheader component=\"div\">{i18n.t('Graphics')}</ListSubheader>\n            <MenuItem onClick={this.downloadImage('png')}>\n                <ListItemIcon>\n                    <ImageIcon />\n                </ListItemIcon>\n                <ListItemText>{i18n.t('Image (.png)')}</ListItemText>\n            </MenuItem>\n            <MenuItem onClick={this.downloadImage('pdf')}>\n                <ListItemIcon>\n                    <PictureAsPdfIcon />\n                </ListItemIcon>\n                <ListItemText>{i18n.t('PDF (.pdf)')}</ListItemText>\n            </MenuItem>\n        </div>;\n  tableMenuSection = () => <div>\n            <ListSubheader component=\"div\">{i18n.t('Table')}</ListSubheader>\n            <MenuItem onClick={this.downloadTable('xls')}>\n                <ListItemIcon>\n                    <ImageIcon />\n                </ListItemIcon>\n                <ListItemText>{i18n.t('Excel (.xls)')}</ListItemText>\n            </MenuItem>\n            <MenuItem onClick={this.downloadTable('csv')}>\n                <ListItemIcon>\n                    <ImageIcon />\n                </ListItemIcon>\n                <ListItemText>{i18n.t('CSV (.csv)')}</ListItemText>\n            </MenuItem>\n            <MenuItem onClick={this.downloadTable('html')}>\n                <ListItemIcon>\n                    <ImageIcon />\n                </ListItemIcon>\n                <ListItemText>{i18n.t('HTML (.html)')}</ListItemText>\n            </MenuItem>\n        </div>;\n\n  render() {\n    return <Fragment>\n                <Button className={this.props.className} onClick={event => this.toggleMenu(event.currentTarget)} disableRipple={true} disableFocusRipple={true} disabled={!this.props.current}>\n                    {i18n.t('Download')}\n                </Button>\n                <Menu open={Boolean(this.state.anchorEl)} anchorEl={this.state.anchorEl} anchorOrigin={styles.menuAnchorOrigin} getContentAnchorEl={null} onClose={() => this.toggleMenu()}>\n                    {this.props.visType === VIS_TYPE_PIVOT_TABLE ? this.tableMenuSection() : this.graphicsMenuSection()}\n                    <Divider />\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Plain data source')}\n                    </ListSubheader>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'json')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>JSON</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'xml')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>XML</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'xls')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>Excel</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('scheme', event.currentTarget, 'csv')}>\n                        <ListItemIcon>\n                            <ListIcon />\n                        </ListItemIcon>\n                        <ListItemText>CSV</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                    <MenuItem onClick={event => this.toggleSubmenu('advanced', event.currentTarget)}>\n                        <ListItemIcon>\n                            <MoreHorizIcon />\n                        </ListItemIcon>\n                        <ListItemText>{i18n.t('Advanced')}</ListItemText>\n                        <ArrowRightIcon style={styles.arrowIcon} />\n                    </MenuItem>\n                </Menu>\n                <Menu open={Boolean(this.state.schemeSubmenu.anchorEl)} anchorEl={this.state.schemeSubmenu.anchorEl} anchorOrigin={styles.submenuAnchorOrigin} onClose={() => this.toggleSubmenu('scheme')}>\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Metadata ID scheme')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'UID')}>\n                        ID\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'CODE')}>\n                        Code\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData(this.state.schemeSubmenu.dataType, 'NAME')}>\n                        Name\n                    </MenuItem>\n                </Menu>\n                <Menu open={Boolean(this.state.advancedSubmenu.anchorEl)} anchorEl={this.state.advancedSubmenu.anchorEl} anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'right'\n      }} onClose={() => this.toggleSubmenu('advanced')}>\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Data value set')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData('json', null, 'dataValueSet')}>\n                        JSON\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData('xml', null, 'dataValueSet')}>\n                        XML\n                    </MenuItem>\n                    <Divider />\n                    <ListSubheader component=\"div\">\n                        {i18n.t('Other formats')}\n                    </ListSubheader>\n                    <MenuItem onClick={this.downloadData('jrxml')}>\n                        JRXML\n                    </MenuItem>\n                    <MenuItem onClick={this.downloadData('sql', null, 'debug/sql')}>\n                        Raw data SQL\n                    </MenuItem>\n                </Menu>\n            </Fragment>;\n  }\n\n}\nconst relativePeriodDateSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created || undefined);\nDownloadMenu.propTypes = {\n  chart: PropTypes.string,\n  className: PropTypes.string,\n  columns: PropTypes.array,\n  current: PropTypes.object,\n  relativePeriodDate: PropTypes.string,\n  rows: PropTypes.array,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  current: sGetCurrent(state),\n  relativePeriodDate: relativePeriodDateSelector(state),\n  rows: sGetUiLayout(state).rows,\n  columns: sGetUiLayout(state).columns,\n  chart: sGetChart(state),\n  visType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps, {})(DownloadMenu);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport KeyboardArrowLeftIcon from '@material-ui/icons/KeyboardArrowLeft';\nimport KeyboardArrowRightIcon from '@material-ui/icons/KeyboardArrowRight';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetUiRightSidebarOpen } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { acToggleUiRightSidebarOpen } from '../../actions/ui';\n\nconst styles = theme => ({\n  icon: {\n    marginRight: theme.spacing.unit,\n    marginTop: 2\n  }\n});\n\nexport const InterpretationsButton = props => <Button className={props.className} size=\"small\" disabled={!props.id} disableRipple={true} disableFocusRipple={true} onClick={props.onClick}>\n        {props.rightSidebarOpen ? <KeyboardArrowRightIcon className={props.classes.icon} /> : <KeyboardArrowLeftIcon className={props.classes.icon} />}\n        {i18n.t('Interpretations')}\n    </Button>;\nInterpretationsButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  className: PropTypes.string,\n  id: PropTypes.string,\n  rightSidebarOpen: PropTypes.bool,\n  onClick: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onClick: () => dispatch(acToggleUiRightSidebarOpen())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(InterpretationsButton));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button } from '@dhis2/ui-core';\n\nconst HideButton = ({\n  onClick,\n  ...props\n}) => <Button {...props} type=\"button\" secondary onClick={onClick}>\n        {i18n.t('Hide')}\n    </Button>;\n\nHideButton.propTypes = {\n  onClick: PropTypes.func.isRequired\n};\nexport default HideButton;","import React from 'react';\nexport const EmptyBox = () => <svg width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M96.4184693 4.6480742l-2.9759268 2.6728C91.5558812 5.2202435 88.8786031 4 86 4V0c4.0260387 0 7.7809122 1.7113874 10.4184693 4.6480742zM100 19.269042h-4l-.0000544-5.3024514c-.0043849-1.346405-.2739964-2.6517927-.7866406-3.8623659l3.6833463-1.559795c.7189815 1.6978243 1.0971493 3.5288134 1.1032837 5.4156229L100 19.269042zm0 13.9999755h-4v-10h4v10zm0 14h-4v-10h4v10zm0 14h-4v-10h4v10zm0 13.9999995h-4v-9.9999995h4v9.9999995zm-.516108 14.50858l-3.8521996-1.077292C95.8751624 87.829701 96 86.924153 96 86v-6.730983h4V86c0 1.289184-.1747984 2.557136-.516108 3.777597zM87.7213345 99.895024l-.4874961-3.970182c2.8302961-.34753 5.3578432-1.892491 6.9762006-4.213767l3.2812621 2.287645c-2.2629208 3.245799-5.802045 5.409086-9.7699666 5.896304zM73.461965 100v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zM3.17264828 94.875717l3.09219912-2.537382c1.79303608 2.185097 4.4211055 3.525451 7.2855127 3.651773l-.176231 3.996116c-4.01094422-.176885-7.69477669-2.055693-10.20148082-5.110507zM0 80.192922h4l.00006331 5.84312c.00418159 1.190127.21554574 2.348454.61951638 3.438567L.86883696 90.864547C.3022517 89.335619.0059261 87.711683.00007566 86.043095L0 80.192922zm0-13.999974h4v10H0v-10zm0-14.0000005h4v10H0v-10zm0-14h4v10H0v-10zm0-14h4v10H0v-10zM.701349 9.6140131l3.79891292 1.2523021C4.17021443 11.8675286 4 12.9209553 4 14v6.1929475H0V14c0-1.5058511.2385093-2.9819426.701349-4.3859869zM12.9113947.0417954l.3073341 3.9881757c-2.8514503.2197365-5.43930476 1.6474003-7.16021518 3.8917822l-3.1742768-2.4339201C5.29022999 2.3499781 8.91606935.3496804 12.9113947.0417954zM27.07607 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10z\" fill=\"#A0ADBA\" fillRule=\"nonzero\" />\n    </svg>;\nexport const PeriodError = () => <svg width=\"100\" height=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#A0ADBA\" fillRule=\"nonzero\">\n            <path d=\"M72.9999996 82.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM72.9999996 60.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\" />\n            <path d=\"M72.9999996 45.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L82.0312812 51.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\" />\n            <path d=\"M49.9999996-3.4e-7c27.6142375 0 50 22.38576254 50 50.00000004 0 3.4254464-.3449043 6.8082851-1.0236569 10.111998-.3334386 1.6229556-1.9194094 2.6683156-3.542365 2.334877-1.6229555-.3334386-2.6683156-1.9194094-2.334877-3.5423649.5972413-2.9069705.9008989-5.8852591.9008989-8.9045101 0-24.300529-19.699471-44.00000004-44-44.00000004S5.99999963 25.6994707 5.99999963 49.9999997c0 20.0457004 13.52123857 37.4107541 32.60787227 42.5117075 1.6006767.4277851 2.5514932 2.0721783 2.1237081 3.672855-.4277851 1.6006767-2.0721782 2.5514932-3.672855 2.1237082C15.3630605 92.5100466-3.7e-7 72.7795776-3.7e-7 49.9999997-3.7e-7 22.3857622 22.3857621-3.4e-7 49.9999996-3.4e-7z\" />\n            <path d=\"M31.9999996 52.4999997c-1.3807118 0-2.5-1.1192882-2.5-2.5 0-1.3254834 1.031536-2.4100387 2.3356243-2.4946824l.1643757-.0053176 15.4995614-.0008627.0004386-24.4991373c0-1.3807119 1.1192882-2.5 2.5-2.5 1.3254834 0 2.4100387 1.0315359 2.4946823 2.3356243l.0053177.1643757v27c0 1.3254834-1.0315359 2.4100386-2.3356243 2.4946823l-.1643757.0053177h-18z\" />\n        </g>\n    </svg>;\nexport const DataError = () => <svg width=\"98\" height=\"97\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#A0ADBA\" fillRule=\"nonzero\">\n            <path d=\"M47.9999996-3.4e-7c26.375131 0 48 8.64933258 48 21.00093054 0 6.7822228-6.3726775 12.3999932-16.8111022 16.1776421-1.5579685.5638263-3.2780231-.2420853-3.8418493-1.8000538-.5638263-1.5579685.2420852-3.2780231 1.8000537-3.8418493 8.3196582-3.0108708 12.8528978-7.007103 12.8528978-10.535739 0-7.5352197-18.6656043-15.00093054-42-15.00093054-23.3343956 0-41.99999997 7.46571084-41.99999997 15.00093054 0 8.3458435 22.23414277 16.1998284 47.97788217 14.8410919 1.6545514-.087326 3.066622 1.1831611 3.1539481 2.8377124.087326 1.6545514-1.1831611 3.066622-2.8377125 3.1539481C25.4193432 43.3576729-3.7e-7 34.3785482-3.7e-7 21.0009302-3.7e-7 8.64933224 21.6248687-3.4e-7 47.9999996-3.4e-7z\" />\n            <path d=\"M92.9999996 17.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v24c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-24c0-1.6568543 1.3431458-3 3-3zM2.99999963 17.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.0917782c0 6.7884007 15.40674827 13.7997289 36.16062537 14.9125249 1.6544777.088711 2.9237824 1.5018446 2.8350715 3.1563223-.088711 1.6544776-1.5018446 2.9237823-3.1563223 2.8350714C18.3983599 64.7388196.36378289 56.6257218.00543546 45.431923L-3.7e-7 45.0917779V20.9999997c0-1.6568543 1.34314575-3 3-3z\" />\n            <path d=\"M2.99999963 41.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.011713c0 5.6006467 10.94212037 11.6895243 27.41972777 14.017794 1.6405579.2318092 2.7825744 1.7496627 2.5507652 3.3902207-.2318092 1.640558-1.7496627 2.7825745-3.3902207 2.5507653l-1.1438963-.168296C13.057544 85.989973.26320686 78.7580311.00401161 69.3047869L-3.7e-7 69.0117127v-24.011713c0-1.6568543 1.34314575-3 3-3zM70.9999996 79.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM70.9999996 57.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z\" />\n            <path d=\"M70.9999996 42.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L80.0312812 48.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z\" />\n        </g>\n    </svg>;\nexport const EmptySeries = () => <svg height=\"100\" width=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\">\n            <path d=\"M92 52c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V60c0-4.418278 3.581722-8 8-8zm0 4H8c-2.209139 0-4 1.790861-4 4v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V60c0-2.209139-1.790861-4-4-4z\" fill=\"#e8edf2\" />\n            <path d=\"M99.5567844 7.04865205l-3.8222065 1.17929519C94.9653901 5.7349373 92.6508139 4 90 4V0c4.4179248 0 8.2737479 2.89021004 9.5567844 7.04865205zM100 21.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 48v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 43.8539409 9.22479438 44 10 44h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 33.461965h4V38c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 42.558667 0 40.3386428 0 38zm0-14h4v10H0zM1.6090385 4.55843779L4.96347541 6.7373717C4.33751189 7.70103338 4 8.82295605 4 10v5.461965H0V10c0-1.95639059.56487346-3.8340854 1.6090385-5.44156221zM16.0507133 0v4H10c-1.00213211 0-1.96454891.24434864-2.82591887.70537441L5.28653945 1.17873487C6.72503094.40881989 8.33525118 0 10 0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0z\" fill=\"#a0adba\" />\n        </g>\n    </svg>;\nexport const EmptyCategory = () => <svg height=\"100\" width=\"100\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"none\">\n            <path d=\"M92 0c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V8c0-4.418278 3.581722-8 8-8zm0 4H8C5.790861 4 4 5.790861 4 8v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V8c0-2.209139-1.790861-4-4-4z\" fill=\"#e8edf2\" />\n            <path d=\"M99.5567844 59.048652l-3.8222065 1.1792952C94.9653901 57.7349373 92.6508139 56 90 56v-4c4.4179248 0 8.2737479 2.89021 9.5567844 7.048652zM100 73.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 100v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 95.8539409 9.22479438 96 10 96h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 85.461965h4V90c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 94.558667 0 92.3386428 0 90zm0-14h4v10H0zm1.6090385-14.9035272l3.35443691 2.1789339C4.33751189 59.7010334 4 60.822956 4 62v5.461965H0V62c0-1.9563906.56487346-3.8340854 1.6090385-5.4415622zM16.0507133 52v4H10c-1.00213211 0-1.96454891.2443486-2.82591887.7053744l-1.88754168-3.5266395C6.72503094 52.4088199 8.33525118 52 10 52zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4z\" fill=\"#a0adba\" />\n        </g>\n    </svg>;\nexport const GenericError = () => <svg height=\"96\" viewBox=\"0 0 96 96\" width=\"96\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g fill=\"#a0adba\" transform=\"translate(3 3)\">\n            <path d=\"m40.5 73.5000001c0 2.4852813 2.0147186 4.5 4.5 4.5s4.5-2.0147187 4.5-4.5c0-2.4142734-1.9012365-4.3844892-4.2881643-4.4951021l-.2128322-.0048979c-2.4848234.0005384-4.4990035 2.0150507-4.4990035 4.5z\" />\n            <path d=\"m48 60v-30c0-1.6568542-1.3431458-3-3-3s-3 1.3431458-3 3v30c0 1.6568542 1.3431458 3 3 3s3-1.3431458 3-3z\" />\n            <path d=\"m45-2.99904788c3.8985931 0 7.4578604 2.21715778 9.1770339 5.71709169l37.8912554 77.19048409c1.3845546 2.8165473 1.2171646 6.1482722-.4427191 8.811863-1.6598833 2.6635901-4.5771005 4.2816904-7.7135702 4.2796124h-77.82201115c-3.13845856.002078-6.05567574-1.6160223-7.71555901-4.2796124-1.65988369-2.6635908-1.82727377-5.9953157-.44346379-8.8103471l37.89234295-77.19269833c1.7188306-3.49923557 5.2780979-5.71639335 9.176691-5.71639335zm0 6c-1.6106864 0-3.0811818.91600885-3.7909661 2.36100407l-37.89274459 77.19351591c-.47005356.9562122-.41322496 2.0873262.15030227 2.99161.56352731.9042839 1.5539177 1.4529206 2.62140842 1.4529206h77.8259889c1.0655018 0 2.0558922-.5486367 2.6194195-1.4529206.5635272-.9042838.6203558-2.0353978.1495577-2.9931259l-37.8916571-77.19130167c-.7101272-1.44569356-2.1806226-2.36170241-3.791309-2.36170241z\" />\n        </g>\n    </svg>;","import i18n from '@dhis2/d2-i18n';\nimport { getDisplayNameByVisType, getAvailableAxes, getAxisName, getAxisPerLockedDimension, DIMENSION_ID_DATA } from '@dhis2/analytics';\nimport { EmptySeries, EmptyCategory, PeriodError, DataError, GenericError, EmptyBox } from '../assets/ErrorIcons';\nexport class VisualizationError {\n  constructor(icon, title, description) {\n    this.icon = icon;\n    this.title = title;\n    this.description = description;\n  }\n\n}\nexport class EmptyResponseError extends VisualizationError {\n  constructor() {\n    super(EmptyBox, i18n.t('No data available'), i18n.t('The selected dimensions didn’t return any data. There may be no data, or you may not have access to it.'));\n  }\n\n}\nexport class NoSeriesError extends VisualizationError {\n  constructor() {\n    super(EmptySeries, i18n.t('Series is empty'), i18n.t('Add at least one item to Series.'));\n  }\n\n}\nexport class NoCategoryError extends VisualizationError {\n  constructor() {\n    super(EmptyCategory, i18n.t('Category is empty'), i18n.t('Add at least one item to Category.'));\n  }\n\n}\nexport class NoPeriodError extends VisualizationError {\n  constructor(visType) {\n    super(PeriodError, i18n.t('No period set'), i18n.t('{{visType}} must have at least one period set in {{axes}}.', {\n      visType: getDisplayNameByVisType(visType),\n      axes: getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class NoDataError extends VisualizationError {\n  constructor(visType) {\n    const lockedAxis = getAxisPerLockedDimension(visType, DIMENSION_ID_DATA);\n    super(DataError, i18n.t('No data set'), i18n.t('{{visType}} must have at least one data item in {{axes}}.', {\n      visType: getDisplayNameByVisType(visType),\n      axes: lockedAxis ? getAxisName(lockedAxis) : getAvailableAxesDescription(visType)\n    }));\n  }\n\n}\nexport class GenericClientError extends VisualizationError {\n  constructor(visType) {\n    super(GenericError, i18n.t('Something went wrong'), i18n.t('There is a problem with this {{visType}} visualization.', {\n      visType: getDisplayNameByVisType(visType)\n    }));\n  }\n\n}\nexport class GenericServerError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Something went wrong'), i18n.t('There was a problem getting the data from the server.'));\n  }\n\n}\nexport class AssignedCategoriesDataElementsError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories can only be used with data elements'), i18n.t('Fix this problem by selecting data elements or removing Assigned Categories.'));\n  }\n\n}\nexport class AssignedCategoriesAsFilterError extends VisualizationError {\n  constructor() {\n    super(GenericError, i18n.t('Assigned Categories cannot be used as Filter'), i18n.t('Fix this problem by moving or removing Assigned Categories.'));\n  }\n\n}\n\nconst getAvailableAxesDescription = visType => {\n  const axes = getAvailableAxes(visType);\n  let axesDescription = '';\n\n  for (let index = 0; index < axes.length; index++) {\n    axesDescription += getAxisName(axes[index]);\n\n    if (index < axes.length - 2) {\n      axesDescription += ', ';\n    } else if (index < axes.length - 1) {\n      axesDescription += ` ${i18n.t('or')} `;\n    }\n  }\n\n  return axesDescription;\n};\n\nexport const parseError = ({\n  message,\n  httpStatusCode\n}) => ({\n  message,\n  type: String(httpStatusCode).match(/50\\d/) ? 'error' : 'warning'\n});","import { AXIS, DIMENSION_ID_PERIOD, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_SINGLE_VALUE, getPredefinedDimensionProp, dimensionIsValid, layoutGetDimension, DIMENSION_ID_DATA, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport { BASE_FIELD_YEARLY_SERIES } from './fields/baseFields';\nimport { NoSeriesError, NoCategoryError, NoPeriodError, NoDataError } from './error'; // Layout validation helper functions\n\nconst isAxisValid = axis => AXIS.isValid(axis) && axis.some(axisItem => dimensionIsValid(axisItem, {\n  requireItems: !getPredefinedDimensionProp(axisItem.dimension, DIMENSION_PROP_NO_ITEMS)\n}));\n\nconst validateDimension = (dimension, error) => {\n  if (!(dimension && dimensionIsValid(dimension, {\n    requireItems: true\n  }))) {\n    throw error;\n  }\n};\n\nconst validateAxis = (axis, error) => {\n  if (!isAxisValid(axis)) {\n    throw error;\n  }\n}; // Layout validation\n\n\nconst validateDefaultLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError());\n  validateAxis(layout.rows, new NoCategoryError());\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), // TODO: old validation rule, refactor\n  new NoPeriodError(layout.type));\n};\n\nconst validateYearOverYearLayout = layout => {\n  if (!(Array.isArray(layout[BASE_FIELD_YEARLY_SERIES]) && typeof layout[BASE_FIELD_YEARLY_SERIES][0] === 'string')) {\n    throw new NoSeriesError();\n  }\n\n  validateAxis(layout.rows, new NoCategoryError());\n};\n\nconst validatePieLayout = layout => {\n  validateAxis(layout.columns, new NoSeriesError());\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n};\n\nconst validateSingleValueLayout = layout => {\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_PERIOD), new NoPeriodError(layout.type));\n}; // TODO: Add validatePivotLayout\n\n\nexport const validateLayout = layout => {\n  validateDimension(layoutGetDimension(layout, DIMENSION_ID_DATA), new NoDataError(layout.type));\n\n  switch (layout.type) {\n    case VIS_TYPE_PIE:\n      return validatePieLayout(layout);\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return validateYearOverYearLayout(layout);\n\n    case VIS_TYPE_SINGLE_VALUE:\n    case VIS_TYPE_GAUGE:\n      return validateSingleValueLayout(layout);\n\n    default:\n      return validateDefaultLayout(layout);\n  }\n};","import { getInstance } from 'd2';\nimport { onError } from './index';\nexport const NAMESPACE = 'analytics';\nexport const CURRENT_AO_KEY = 'currentAnalyticalObject';\nexport const hasNamespace = async d2 => await d2.currentUser.dataStore.has(NAMESPACE);\nexport const getNamespace = async (d2, hasNamespace) => hasNamespace ? await d2.currentUser.dataStore.get(NAMESPACE) : await d2.currentUser.dataStore.create(NAMESPACE);\nexport const apiSave = async (data, key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, (await hasNamespace(d2))));\n    return ns.set(key, data);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiFetch = async (key, namespace) => {\n  try {\n    const d2 = await getInstance();\n    const ns = namespace || (await getNamespace(d2, (await hasNamespace(d2))));\n    return ns.get(key);\n  } catch (error) {\n    return onError(error);\n  }\n};\nexport const apiSaveAOInUserDataStore = (current, key = CURRENT_AO_KEY) => apiSave(current, key);\nexport const apiFetchAOFromUserDataStore = (key = CURRENT_AO_KEY) => apiFetch(key);","import { connect } from 'react-redux';\nimport { sGetCurrent, sGetCurrentFromUi } from '../../reducers/current';\nimport * as fromActions from '../../actions';\nimport { validateLayout } from '../../modules/layoutValidation';\nimport { acSetLoadError, acClearLoadError, acSetPluginLoading } from '../../actions/loader';\nimport history from '../../modules/history';\nimport { CURRENT_AO_KEY } from '../../api/userDataStore';\nimport { GenericClientError } from '../../modules/error';\n\nconst UpdateVisualizationContainer = ({\n  renderComponent,\n  getCurrent,\n  getCurrentFromUi,\n  onUpdate,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart\n}) => {\n  // validate layout on update\n  // validation error message will be shown without loading the plugin first\n  const onClick = () => {\n    try {\n      validateLayout(getCurrentFromUi());\n      acClearLoadError();\n    } catch (error) {\n      acSetLoadError(error || new GenericClientError());\n    }\n\n    onLoadingStart();\n    onUpdate();\n    const urlContainsCurrentAOKey = history.location.pathname === '/' + CURRENT_AO_KEY;\n    const current = getCurrent();\n    const pathWithoutInterpretation = current && current.id ? `/${current.id}` : '/';\n\n    if (!urlContainsCurrentAOKey && history.location.pathname !== pathWithoutInterpretation) {\n      history.push(pathWithoutInterpretation);\n    }\n  };\n\n  return renderComponent(onClick);\n};\n\nconst mapDispatchToProps = {\n  getCurrent: () => (dispatch, getState) => sGetCurrent(getState()),\n  getCurrentFromUi: () => (dispatch, getState) => sGetCurrentFromUi(getState()),\n  onUpdate: fromActions.fromCurrent.tSetCurrentFromUi,\n  acSetLoadError,\n  acClearLoadError,\n  onLoadingStart: () => acSetPluginLoading(true)\n};\nexport default connect(null, mapDispatchToProps)(UpdateVisualizationContainer);","import _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\n/* eslint-disable-line no-unused-vars */\n\nimport { colors, spacers } from '@dhis2/ui-core';\nexport const tabBar = {\n  styles: <_JSXStyle id={\"3577720839\"}>{[\"div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}\"]}</_JSXStyle>,\n  className: \"jsx-3577720839\"\n};\nexport const tabSection = {\n  styles: <_JSXStyle id={\"1427514941\"}>{[`div.jsx-1427514941{padding:${spacers.dp16} 0;}`, `div.jsx-1427514941:not(:last-child){border-bottom:1px solid ${colors.grey300};margin-bottom:${spacers.dp8};}`]}</_JSXStyle>,\n  className: \"jsx-1427514941\"\n};\nexport const tabSectionContent = {\n  styles: <_JSXStyle id={\"1655721637\"}>{[\"div.jsx-1655721637{overflow-y:auto;}\"]}</_JSXStyle>,\n  className: \"jsx-1655721637\"\n};\nexport const tabSectionTitle = {\n  styles: <_JSXStyle id={\"3115295887\"}>{[`span.jsx-3115295887{display:inline-block;padding-bottom:${spacers.dp12};font-size:15px;color:${colors.grey900};font-weight:500;-webkit-letter-spacing:0.2px;-moz-letter-spacing:0.2px;-ms-letter-spacing:0.2px;letter-spacing:0.2px;}`]}</_JSXStyle>,\n  className: \"jsx-3115295887\"\n};\nexport const tabSectionOption = {\n  styles: <_JSXStyle id={\"1665807213\"}>{[`div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-1665807213\"\n};\nexport const tabSectionOptionItem = {\n  styles: <_JSXStyle id={\"2983019948\"}>{[`div.jsx-2983019948:not(:last-child){padding-bottom:${spacers.dp8};}`]}</_JSXStyle>,\n  className: \"jsx-2983019948\"\n};\nexport const tabSectionOptionText = {\n  styles: <_JSXStyle id={\"3717686981\"}>{[`p.jsx-3717686981{font-size:${spacers.dp14};padding-bottom:${spacers.dp16};}`]}</_JSXStyle>,\n  className: \"jsx-3717686981\"\n};\nexport const tabSectionOptionToggleable = {\n  styles: <_JSXStyle id={\"684239008\"}>{[`div.jsx-684239008{margin:${spacers.dp4} 0 0 23px;}`]}</_JSXStyle>,\n  className: \"jsx-684239008\"\n};\nexport const tabSectionOptionComplexInline = {\n  styles: <_JSXStyle id={\"3576615552\"}>{[\"div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\"]}</_JSXStyle>,\n  className: \"jsx-3576615552\"\n};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, SingleSelectField, SingleSelectOption } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const SelectBaseOption = ({\n  option,\n  label,\n  helpText,\n  toggleable,\n  value,\n  onChange\n}) => {\n  const defaultValue = option.defaultValue;\n  const [enabled, setEnabled] = useState(value !== defaultValue);\n  const selected = option.items.find(item => item.value === value) || {};\n\n  const onToggle = checked => {\n    setEnabled(checked);\n    onChange(checked ? option.items[0].value : defaultValue);\n  };\n\n  return <div className={!toggleable || enabled ? '' : tabSectionOption.className}>\n            {toggleable ? <Checkbox checked={enabled} label={label} name={`${option.name}-toggle`} onChange={({\n      checked\n    }) => onToggle(checked)} dense /> : null}\n            {!toggleable || enabled ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                    <SingleSelectField name={`${option.name}-select`} label={toggleable ? '' : label} onChange={({\n        selected\n      }) => onChange(selected.value)} selected={selected} helpText={helpText} inputWidth=\"280px\" dense>\n                        {option.items.map(({\n          value,\n          label\n        }) => <SingleSelectOption key={value} value={value} label={label} />)}\n                    </SingleSelectField>\n                </div> : null}\n        </div>;\n};\nSelectBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  helpText: PropTypes.string,\n  label: PropTypes.string,\n  toggleable: PropTypes.bool\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst AggregationType = () => <SelectBaseOption label={i18n.t('Aggregation type')} helpText={i18n.t('Determines how the values in the pivot table are aggregated. Learn more')} option={{\n  name: 'aggregationType',\n  items: [{\n    value: 'DEFAULT',\n    label: i18n.t('By data element')\n  }, {\n    value: 'COUNT',\n    label: i18n.t('Count')\n  }, {\n    value: 'AVERAGE',\n    label: i18n.t('Average')\n  }, {\n    value: 'AVERAGE_SUM_ORG_UNIT',\n    label: i18n.t('Average (sum in org unit hierarchy)')\n  }, {\n    value: 'SUM',\n    label: i18n.t('Sum')\n  }, {\n    value: 'LAST',\n    label: i18n.t('Last value')\n  }, {\n    value: 'LAST_AVERAGE_ORG_UNIT',\n    label: i18n.t('Last value (average in org unit hierarchy)')\n  }, {\n    value: 'MIN',\n    label: i18n.t('Min')\n  }, {\n    value: 'MAX',\n    label: i18n.t('Max')\n  }, {\n    value: 'STDDEV',\n    label: i18n.t('Standard deviation')\n  }, {\n    value: 'VARIANCE',\n    label: i18n.t('Variance')\n  }]\n}} />;\n\nexport default AggregationType;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption } from '../styles/VisualizationOptions.style.js';\nexport const CheckboxBaseOption = ({\n  option,\n  label,\n  value,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={value} label={label} name={option.name} onChange={({\n    checked\n  }) => onChange(checked)} dense />\n    </div>;\nCheckboxBaseOption.propTypes = {\n  label: PropTypes.string,\n  option: PropTypes.object,\n  value: PropTypes.bool,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || false\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckboxBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowDimensionLabels = () => <CheckboxBaseOption label={i18n.t('Dimension labels')} option={{\n  name: 'showDimensionLabels'\n}} />;\n\nexport default ShowDimensionLabels;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst SkipRounding = () => <CheckboxBaseOption label={i18n.t('Skip rounding')} option={{\n  name: 'skipRounding'\n}} />;\n\nexport default SkipRounding;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColTotals = () => <CheckboxBaseOption label={i18n.t('Columns totals')} option={{\n  name: 'colTotals'\n}} />;\n\nexport default ColTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ColSubTotals = () => <CheckboxBaseOption label={i18n.t('Column sub-totals')} option={{\n  name: 'colSubTotals'\n}} />;\n\nexport default ColSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowTotals = () => <CheckboxBaseOption label={i18n.t('Row totals')} option={{\n  name: 'rowTotals'\n}} />;\n\nexport default RowTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst RowSubTotals = () => <CheckboxBaseOption label={i18n.t('Row sub-totals')} option={{\n  name: 'rowSubTotals'\n}} />;\n\nexport default RowSubTotals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyColumns = () => <CheckboxBaseOption label={i18n.t('Hide empty columns')} option={{\n  name: 'hideEmptyColumns'\n}} />;\n\nexport default HideEmptyColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideEmptyRows = () => <CheckboxBaseOption label={i18n.t('Hide empty rows')} option={{\n  name: 'hideEmptyRows'\n}} />;\n\nexport default HideEmptyRows;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst NumberType = () => <SelectBaseOption label={i18n.t('Number type')} helpText={i18n.t('Display the value of percentages of the total')} option={{\n  name: 'numberType',\n  items: [{\n    value: 'VALUE',\n    label: i18n.t('Value')\n  }, {\n    value: 'ROW_PERCENTAGE',\n    label: i18n.t('Percentage of row')\n  }, {\n    value: 'COLUMN_PERCENTAGE',\n    label: i18n.t('Percentage of column')\n  }]\n}} />;\n\nexport default NumberType;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Radio, RadioGroupField } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nexport const RadioBaseOption = ({\n  option,\n  label,\n  value,\n  onChange\n}) => <RadioGroupField name={option.name} value={value} onChange={({\n  value\n}) => onChange(value)} label={label} dense>\n        {option.items.map(({\n    id,\n    label\n  }) => <Radio key={id} label={label} value={id} />)}\n    </RadioGroupField>;\nRadioBaseOption.propTypes = {\n  option: PropTypes.object.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  onChange: PropTypes.func.isRequired,\n  label: PropTypes.string\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name]\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RadioBaseOption);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RadioBaseOption from './RadioBaseOption';\n\nconst LegendDisplayStyle = () => <RadioBaseOption option={{\n  name: 'legendDisplayStyle',\n  items: [{\n    id: 'FILL',\n    label: i18n.t('Legend changes background color')\n  }, {\n    id: 'TEXT',\n    label: i18n.t('Legend changes text color')\n  }]\n}} />;\n\nexport default LegendDisplayStyle;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport RadioBaseOption from './RadioBaseOption';\n\nconst LegendDisplayStrategy = () => <RadioBaseOption option={{\n  name: 'legendDisplayStrategy',\n  items: [{\n    id: 'FIXED',\n    label: i18n.t('Apply a legend to entire table')\n  }, {\n    id: 'BY_DATA_ITEM',\n    label: i18n.t('Assign a unique legend to data elements')\n  }]\n}} />;\n\nexport default LegendDisplayStrategy;","import React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox, FieldSet, Legend, SingleSelectField, SingleSelectOption } from '@dhis2/ui-core';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport LegendDisplayStyle from './LegendDisplayStyle';\nimport LegendDisplayStrategy from './LegendDisplayStrategy';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSection, tabSectionOption, tabSectionTitle } from '../styles/VisualizationOptions.style.js';\n\nconst LegendSelect = ({\n  value,\n  loading,\n  options,\n  onFocus,\n  onChange\n}) => {\n  const selected = value && value.id ? {\n    value: value.id,\n    label: value.displayName\n  } : {};\n  return <SingleSelectField name=\"legendSet-legendSelect\" label={i18n.t('Select a legend')} selected={selected} inputWidth=\"280px\" placeholder={i18n.t('Select from predefined legends')} loadingText={i18n.t('Loading legends')} loading={loading} dense onFocus={onFocus} onChange={({\n    selected\n  }) => onChange({\n    legendSet: {\n      id: selected.value,\n      displayName: selected.label\n    }\n  })}>\n            {options.map(({\n      value,\n      label\n    }) => <SingleSelectOption key={value} value={value} label={label} />)}\n        </SingleSelectField>;\n};\n\nLegendSelect.propTypes = {\n  loading: PropTypes.bool,\n  options: PropTypes.array,\n  value: PropTypes.object,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func\n};\n\nconst LegendSetup = ({\n  value,\n  onChange\n}) => {\n  const engine = useDataEngine();\n  const [options, setOptions] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  if (value && value.id) {\n    if (!options.find(option => option.value === value.id)) {\n      setOptions([...options, {\n        value: value.id,\n        label: value.displayName\n      }]);\n    }\n  }\n\n  const onSelectFocus = async () => {\n    if (!isLoaded) {\n      const query = {\n        legendSets: {\n          resource: 'legendSets.json',\n          params: () => ({\n            fields: 'id,displayName~rename(name),legends[id,displayName~rename(name),startValue,endValue,color]',\n            paging: false\n          })\n        }\n      };\n      const {\n        legendSets\n      } = await engine.query(query);\n\n      if (legendSets) {\n        const options = legendSets.legendSets.map(legendSet => ({\n          value: legendSet.id,\n          label: legendSet.name\n        }));\n        setOptions(options);\n      }\n\n      setIsLoaded(true);\n    }\n  };\n\n  return <LegendSelect loading={!isLoaded} value={value} options={options} onChange={onChange} onFocus={onSelectFocus} />;\n};\n\nLegendSetup.propTypes = {\n  value: PropTypes.object,\n  onChange: PropTypes.func\n};\n\nconst LegendSet = ({\n  value,\n  legendDisplayStrategy,\n  onChange\n}) => {\n  const [legendSetEnabled, setLegendSetEnabled] = useState(Boolean(value.id));\n\n  const onCheckboxChange = ({\n    checked\n  }) => {\n    setLegendSetEnabled(checked);\n\n    if (checked && !legendDisplayStrategy) {\n      onChange({\n        legendDisplayStrategy: 'FIXED'\n      });\n    } else {\n      onChange({\n        legendSet: undefined,\n        legendDisplayStrategy: undefined\n      });\n    }\n  };\n\n  return <Fragment>\n            <Checkbox checked={legendSetEnabled} label={i18n.t('Display legend')} onChange={onCheckboxChange} dense />\n            {legendSetEnabled ? <Fragment>\n                    <div className={tabSection.className}>\n                        <FieldSet>\n                            <Legend>\n                                <span className={tabSectionTitle.className}>\n                                    {i18n.t('Legend type')}\n                                </span>\n                            </Legend>\n                            <div className={tabSectionOption.className}>\n                                <LegendDisplayStrategy />\n                            </div>\n                        </FieldSet>\n                    </div>\n                    <div className={tabSection.className}>\n                        <FieldSet>\n                            <Legend>\n                                <span className={tabSectionTitle.className}>\n                                    {i18n.t('Legend setup')}\n                                </span>\n                            </Legend>\n                            {legendDisplayStrategy === 'FIXED' ? <div className={tabSectionOption.className}>\n                                    <LegendSetup value={value} onChange={onChange} />\n                                </div> : null}\n                            <LegendDisplayStyle />\n                        </FieldSet>\n                    </div>\n                </Fragment> : null}\n        </Fragment>;\n};\n\nLegendSet.propTypes = {\n  value: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  legendDisplayStrategy: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state).legendSet || {},\n  legendDisplayStrategy: sGetUiOptions(state).legendDisplayStrategy\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: legendSetOptions => dispatch(acSetUiOptions(legendSetOptions))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LegendSet);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Checkbox, Constrictor, Input, InputField } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\nexport const TextBaseOption = ({\n  type,\n  label,\n  placeholder,\n  helpText,\n  width,\n  option,\n  value,\n  onChange,\n  onToggle,\n  toggleable,\n  enabled,\n  inline\n}) => <div className={!toggleable || enabled || inline ? '' : tabSectionOption.className}>\n        {toggleable ? <Checkbox checked={enabled} label={label} name={`${option.name}-toggle`} onChange={({\n    checked\n  }) => onToggle(checked)} dense /> : null}\n        {!toggleable || enabled ? <div className={toggleable ? tabSectionOptionToggleable.className : ''}>\n                {inline ? <Constrictor width={width}>\n                        <Input type={type} onChange={({\n        value\n      }) => onChange(value)} name={option.name} value={value} placeholder={placeholder} dense />\n                    </Constrictor> : <InputField type={type} label={toggleable ? '' : label} onChange={({\n      value\n    }) => onChange(value)} name={option.name} value={value} helpText={helpText} placeholder={placeholder} inputWidth={width} dense />}\n            </div> : null}\n    </div>;\nTextBaseOption.propTypes = {\n  enabled: PropTypes.bool,\n  helpText: PropTypes.string,\n  inline: PropTypes.bool,\n  label: PropTypes.string,\n  option: PropTypes.object,\n  placeholder: PropTypes.string,\n  toggleable: PropTypes.bool,\n  type: PropTypes.string,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  width: PropTypes.string,\n  onChange: PropTypes.func,\n  onToggle: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  value: sGetUiOptions(state)[ownProps.option.name] || '',\n  enabled: sGetUiOptions(state)[ownProps.option.name] !== undefined\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onChange: value => dispatch(acSetUiOptions({\n    [ownProps.option.name]: value\n  })),\n  onToggle: checked => dispatch(acSetUiOptions({\n    [ownProps.option.name]: checked ? '' : undefined\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextBaseOption);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Title = ({\n  label,\n  inline\n}) => <TextBaseOption type=\"text\" width=\"280px\" label={label} placeholder={i18n.t('Add a title')} option={{\n  name: 'title'\n}} inline={inline} />;\n\nTitle.defaultProps = {\n  inline: false\n};\nTitle.propTypes = {\n  inline: PropTypes.bool,\n  label: PropTypes.string\n};\nexport default Title;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DisplayDensity = () => <SelectBaseOption label={i18n.t('Display density')} option={{\n  name: 'displayDensity',\n  items: [{\n    value: 'COMFORTABLE',\n    label: i18n.t('Comfortable')\n  }, {\n    value: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    value: 'COMPACT',\n    label: i18n.t('Compact')\n  }]\n}} />;\n\nexport default DisplayDensity;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst FontSize = () => <SelectBaseOption label={i18n.t('Font size')} option={{\n  name: 'fontSize',\n  items: [{\n    value: 'LARGE',\n    label: i18n.t('Large')\n  }, {\n    value: 'NORMAL',\n    label: i18n.t('Normal')\n  }, {\n    value: 'SMALL',\n    label: i18n.t('Small')\n  }]\n}} />;\n\nexport default FontSize;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst DigitGroupSeparator = () => <SelectBaseOption label={i18n.t('Digit group separator')} option={{\n  name: 'digitGroupSeparator',\n  items: [{\n    value: 'NONE',\n    label: i18n.t('None')\n  }, {\n    value: 'SPACE',\n    label: i18n.t('Space')\n  }, {\n    value: 'COMMA',\n    label: i18n.t('Comma')\n  }]\n}} />;\n\nexport default DigitGroupSeparator;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Button, Input, Label, SingleSelect, SingleSelectOption } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport { tabSectionOption, tabSectionOptionText, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst OperatorSelect = ({\n  name,\n  value,\n  onChange\n}) => {\n  const options = [{\n    id: 'EQ',\n    label: '='\n  }, {\n    id: 'GT',\n    label: '>'\n  }, {\n    id: 'GE',\n    label: '>='\n  }, {\n    id: 'LT',\n    label: '<'\n  }, {\n    id: 'LE',\n    label: '<='\n  }];\n  const selected = options.find(option => option.id === value);\n  return <div style={{\n    width: '112px'\n  }}>\n            <SingleSelect name={name} onChange={({\n      selected\n    }) => {\n      onChange(selected.value);\n    }} selected={selected ? {\n      value: selected.id,\n      label: selected.label\n    } : undefined} tabIndex=\"0\" inputMaxWidth=\"106px\" dense>\n                {options.map(({\n        id,\n        label\n      }) => <SingleSelectOption key={id} value={id} label={label} />)}\n            </SingleSelect>\n        </div>;\n};\n\nOperatorSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst ValueInput = ({\n  name,\n  value,\n  onChange\n}) => <Input name={name} value={value} type=\"number\" onChange={({\n  value\n}) => onChange(value)} width=\"72px\" dense />;\n\nValueInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nclass MeasureCriteria extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      op1: '',\n      v1: '',\n      op2: '',\n      v2: ''\n    };\n    const [op1 = '', v1 = '', op2 = '', v2 = ''] = props.value.split(/[;:]/);\n    this.state = {\n      op1,\n      v1,\n      op2,\n      v2\n    };\n  }\n\n  onClear = () => this.setState(this.defaultState, this.props.onChange(''));\n  onChange = name => value => {\n    this.setState({\n      [name]: value\n    }, () => {\n      const {\n        op1,\n        v1,\n        op2,\n        v2\n      } = this.state;\n      const value = [];\n\n      if (op1 && v1) {\n        value.push(`${op1}:${v1}`);\n      }\n\n      if (op2 && v2) {\n        value.push(`${op2}:${v2}`);\n      }\n\n      this.props.onChange(value.length > 0 ? value.join(';') : '');\n    });\n  };\n\n  render() {\n    const {\n      op1,\n      v1,\n      op2,\n      v2\n    } = this.state;\n    return <div className={tabSectionOption.className}>\n                <p className={tabSectionOptionText.className}>\n                    {i18n.t('You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed')}\n                </p>\n                <div className={tabSectionOptionComplexInline.className}>\n                    <div style={{\n          width: '250px'\n        }}>\n                        <Label>{i18n.t('Minimum data value')}</Label>\n                        <div className={tabSectionOptionComplexInline.className}>\n                            <OperatorSelect name=\"op1\" value={op1} onChange={this.onChange('op1')} />\n                            <ValueInput name=\"v1\" value={v1} onChange={this.onChange('v1')} />\n                        </div>\n                    </div>\n                    <div style={{\n          width: '250px'\n        }}>\n                        <Label>{i18n.t('Maximum data value')}</Label>\n                        <div className={tabSectionOptionComplexInline.className}>\n                            <OperatorSelect name=\"op2\" value={op2} onChange={this.onChange('op2')} />\n                            <ValueInput name=\"v2\" value={v2} onChange={this.onChange('v2')} />\n                        </div>\n                    </div>\n                </div>\n                <div style={{\n        paddingTop: '16px'\n      }}>\n                    <Button onClick={this.onClear}>\n                        {i18n.t('Clear min/max limits')}\n                    </Button>\n                </div>\n            </div>;\n  }\n\n}\n\nMeasureCriteria.propTypes = {\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  value: sGetUiOptions(state).measureCriteria || ''\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: value => dispatch(acSetUiOptions({\n    measureCriteria: value\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MeasureCriteria);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamReportingPeriod = () => <CheckboxBaseOption label={i18n.t('Reporting period')} option={{\n  name: 'reportingPeriod'\n}} />;\n\nexport default ParamReportingPeriod;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Organisation unit')} option={{\n  name: 'organisationUnit'\n}} />;\n\nexport default ParamOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ParamParentOrganisationUnit = () => <CheckboxBaseOption label={i18n.t('Parent organisation unit')} option={{\n  name: 'parentOrganisationUnit'\n}} />;\n\nexport default ParamParentOrganisationUnit;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Regression = () => <CheckboxBaseOption label={i18n.t('Include regression')} option={{\n  name: 'regression'\n}} />;\n\nexport default Regression;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst Cumulative = () => <CheckboxBaseOption label={i18n.t('Include cumulative')} option={{\n  name: 'cumulative'\n}} />;\n\nexport default Cumulative;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'sortOrder';\nconst defaultValue = options[optionName].defaultValue;\n\nconst SortOrder = () => <SelectBaseOption label={i18n.t('Custom sort order')} toggleable={true} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: '-1',\n    label: i18n.t('Low to high')\n  }, {\n    value: '1',\n    label: i18n.t('High to low')\n  }]\n}} />;\n\nexport default SortOrder;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\n\nconst TopLimit = () => <SelectBaseOption label={i18n.t('Top limit')} option={{\n  name: 'topLimit',\n  items: [{\n    value: '0',\n    label: i18n.t('None')\n  }, {\n    value: '5',\n    label: '5'\n  }, {\n    value: '10',\n    label: '10'\n  }, {\n    value: '20',\n    label: '20'\n  }, {\n    value: '50',\n    label: '50'\n  }, {\n    value: '100',\n    label: '100'\n  }]\n}} />;\n\nexport default TopLimit;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport ShowDimensionLabels from '../../components/VisualizationOptions/Options/ShowDimensionLabels';\nimport SkipRounding from '../../components/VisualizationOptions/Options/SkipRounding';\nimport ColTotals from '../../components/VisualizationOptions/Options/ColTotals';\nimport ColSubTotals from '../../components/VisualizationOptions/Options/ColSubTotals';\nimport RowTotals from '../../components/VisualizationOptions/Options/RowTotals';\nimport RowSubTotals from '../../components/VisualizationOptions/Options/RowSubTotals';\nimport HideEmptyColumns from '../../components/VisualizationOptions/Options/HideEmptyColumns';\nimport HideEmptyRows from '../../components/VisualizationOptions/Options/HideEmptyRows';\nimport NumberType from '../../components/VisualizationOptions/Options/NumberType';\nimport LegendSet from '../../components/VisualizationOptions/Options/LegendSet';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport DisplayDensity from '../../components/VisualizationOptions/Options/DisplayDensity';\nimport FontSize from '../../components/VisualizationOptions/Options/FontSize';\nimport DigitGroupSeparator from '../../components/VisualizationOptions/Options/DigitGroupSeparator';\nimport MeasureCriteria from '../../components/VisualizationOptions/Options/MeasureCriteria';\nimport ParamReportingPeriod from '../../components/VisualizationOptions/Options/ParamReportingPeriod';\nimport ParamOrganisationUnit from '../../components/VisualizationOptions/Options/ParamOrganisationUnit';\nimport ParamParentOrganisationUnit from '../../components/VisualizationOptions/Options/ParamParentOrganisationUnit';\nimport Regression from '../../components/VisualizationOptions/Options/Regression';\nimport Cumulative from '../../components/VisualizationOptions/Options/Cumulative';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport TopLimit from '../../components/VisualizationOptions/Options/TopLimit';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowDimensionLabels />, <SkipRounding />])\n  }, {\n    key: 'data-display-totals',\n    label: i18n.t('Display totals'),\n    content: React.Children.toArray([<ColTotals />, <ColSubTotals />, <RowTotals />, <RowSubTotals />])\n  }, {\n    key: 'data-display-empty-data',\n    label: i18n.t('Display empty data'),\n    content: React.Children.toArray([<HideEmptyColumns />, <HideEmptyRows />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />, <NumberType />])\n  }]\n}, {\n  key: 'legend-tab',\n  label: i18n.t('Legend'),\n  content: [{\n    key: 'legend-section-1',\n    content: React.Children.toArray([<LegendSet />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<Title label={i18n.t('Table title')} />, <DisplayDensity />, <FontSize />, <DigitGroupSeparator />])\n  }]\n}, {\n  key: 'limitValues-tab',\n  label: i18n.t('Limit values'),\n  content: [\n  /*\n  {\n      key: 'limitValues-limit-numbers',\n      label: i18n.t('Limit number of values'),\n      content: [<TopLimit />],\n  },*/\n  {\n    key: 'limitValues-limit-min-max',\n    label: i18n.t('Limit minimum/maximum values'),\n    content: React.Children.toArray([<MeasureCriteria />])\n  }]\n}, {\n  key: 'parameters-tab',\n  label: i18n.t('Parameters'),\n  content: [{\n    key: 'parameters-section-1',\n    content: React.Children.toArray([<ParamReportingPeriod />, <ParamOrganisationUnit />, <ParamParentOrganisationUnit />, <Regression />, <Cumulative />, <SortOrder />, <TopLimit />])\n  }]\n}];","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst CumulativeValues = () => <CheckboxBaseOption label={i18n.t('Cumulative values')} option={{\n  name: 'cumulativeValues'\n}} />;\n\nexport default CumulativeValues;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst ShowData = () => <CheckboxBaseOption label={i18n.t('Value labels')} option={{\n  name: 'showData'\n}} />;\n\nexport default ShowData;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'hideEmptyRowItems';\nconst defaultValue = options[optionName].defaultValue;\n\nconst HideEmptyRowItems = () => <SelectBaseOption label={i18n.t('Hide empty categories')} toggleable={true} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: 'BEFORE_FIRST',\n    label: i18n.t('Before first')\n  }, {\n    value: 'AFTER_LAST',\n    label: i18n.t('After last')\n  }, {\n    value: 'BEFORE_FIRST_AFTER_LAST',\n    label: i18n.t('Before first and after last')\n  }, {\n    value: 'ALL',\n    label: i18n.t('All')\n  }]\n}} />;\n\nexport default HideEmptyRowItems;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport SelectBaseOption from './SelectBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'regressionType';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RegressionType = () => <SelectBaseOption toggleable={true} label={i18n.t('Trend line')} option={{\n  name: optionName,\n  defaultValue: defaultValue,\n  items: [{\n    value: 'LINEAR',\n    label: i18n.t('Linear')\n  }, {\n    value: 'POLYNOMIAL',\n    label: i18n.t('Polynomial')\n  }, {\n    value: 'LOESS',\n    label: i18n.t('Loess')\n  }]\n}} />;\n\nexport default RegressionType;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineValue = () => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'targetLineValue'\n}} inline />;\n\nexport default TargetLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst TargetLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} option={{\n  name: 'targetLineLabel'\n}} inline />;\n\nexport default TargetLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport TargetLineValue from './TargetLineValue';\nimport TargetLineLabel from './TargetLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const TargetLine = ({\n  enabled,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={enabled} label={i18n.t('Target line')} onChange={({\n    checked\n  }) => onChange(checked)} dense />\n        {enabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <TargetLineValue />\n                <TargetLineLabel />\n            </div> : null}\n    </div>;\nTargetLine.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  enabled: sGetUiOptions(state).targetLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    targetLine: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TargetLine);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineValue = () => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Value')} placeholder={i18n.t('Number')} option={{\n  name: 'baseLineValue'\n}} inline />;\n\nexport default BaseLineValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst BaseLineLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Title')} option={{\n  name: 'baseLineLabel'\n}} inline />;\n\nexport default BaseLineLabel;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Checkbox } from '@dhis2/ui-core';\nimport { sGetUiOptions } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport BaseLineValue from './BaseLineValue';\nimport BaseLineLabel from './BaseLineLabel';\nimport { tabSectionOption, tabSectionOptionToggleable, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\nexport const BaseLine = ({\n  enabled,\n  onChange\n}) => <div className={tabSectionOption.className}>\n        <Checkbox checked={enabled} label={i18n.t('Base line')} name=\"baseLine-toggle\" onChange={({\n    checked\n  }) => onChange(checked)} dense />\n        {enabled ? <div className={`${tabSectionOptionToggleable.className} ${tabSectionOptionComplexInline.className}`}>\n                <BaseLineValue />\n                <BaseLineLabel />\n            </div> : null}\n    </div>;\nBaseLine.propTypes = {\n  enabled: PropTypes.bool.isRequired,\n  onChange: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  enabled: sGetUiOptions(state).baseLine\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    baseLine: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BaseLine);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMinValue = () => <TextBaseOption type=\"number\" width=\"100px\" placeholder={i18n.t('Min')} option={{\n  name: 'rangeAxisMinValue'\n}} inline />;\n\nexport default RangeAxisMinValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisMaxValue = () => <TextBaseOption type=\"number\" width=\"100px\" placeholder={i18n.t('Max')} option={{\n  name: 'rangeAxisMaxValue'\n}} inline />;\n\nexport default RangeAxisMaxValue;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Help } from '@dhis2/ui-core';\nimport RangeAxisMinValue from './RangeAxisMinValue';\nimport RangeAxisMaxValue from './RangeAxisMaxValue';\nimport { tabSectionOption, tabSectionOptionComplexInline } from '../styles/VisualizationOptions.style.js';\n\nconst AxisRange = () => <div className={tabSectionOption.className}>\n        <Label>{i18n.t('Axis range')}</Label>\n        <div className={tabSectionOptionComplexInline.className}>\n            <RangeAxisMinValue />\n            {'\\u00A0\\u2013\\u00A0'}\n            <RangeAxisMaxValue />\n        </div>\n        <Help>\n            {i18n.t('Values outside of the range will not be displayed')}\n        </Help>\n    </div>;\n\nexport default AxisRange;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nexport const RangeAxisSteps = () => <TextBaseOption type=\"number\" width=\"96px\" helpText={i18n.t('The number of axis steps between the min and max values')} label={i18n.t('Steps')} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisSteps'\n}} />;\nexport default RangeAxisSteps;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst RangeAxisDecimals = () => <TextBaseOption type=\"number\" width=\"96px\" label={i18n.t('Decimals')} placeholder={i18n.t('Auto')} option={{\n  name: 'rangeAxisDecimals'\n}} />;\n\nexport default RangeAxisDecimals;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'rangeAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst RangeAxisLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} />;\n\nexport default RangeAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\nimport { options } from '../../../modules/options';\nconst optionName = 'domainAxisLabel';\nconst defaultValue = options[optionName].defaultValue;\n\nconst DomainAxisLabel = () => <TextBaseOption type=\"text\" width=\"280px\" label={i18n.t('Axis title')} placeholder={i18n.t('Add a title')} option={{\n  name: optionName,\n  defaultValue: defaultValue\n}} toggleable={true} />;\n\nexport default DomainAxisLabel;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst NoSpaceBetweenColumns = () => <CheckboxBaseOption label={i18n.t('No space between bars/columns')} option={{\n  name: 'noSpaceBetweenColumns'\n}} />;\n\nexport default NoSpaceBetweenColumns;","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst HideLegend = () => <CheckboxBaseOption label={i18n.t('Legend key')} option={{\n  name: 'hideLegend'\n}} />;\n\nexport default HideLegend;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, RadioGroup } from '@dhis2/ui-core';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Title from './Title';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\n\nclass HideTitle extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      value: 'AUTO'\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  onChange = ({\n    value\n  }) => {\n    this.setState({\n      value\n    });\n    this.props.onChange(value === 'NONE');\n  };\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table title') : i18n.t('Chart title')}\n                </Label>\n                <RadioGroup name=\"hideTitle-selector\" onChange={this.onChange} value={value} dense>\n                    {[{\n          id: 'AUTO',\n          label: i18n.t('Auto generated')\n        }, {\n          id: 'NONE',\n          label: i18n.t('None')\n        }, {\n          id: 'CUSTOM',\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense />)}\n                </RadioGroup>\n                {value === 'CUSTOM' ? <div className={tabSectionOptionToggleable.className}>\n                        <Title inline />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideTitle.propTypes = {\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\nconst hideTitleSelector = createSelector([sGetUiOptions], uiOptions => uiOptions.hideTitle ? 'NONE' : uiOptions.title === undefined ? 'AUTO' : 'CUSTOM');\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: hideTitleSelector(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    hideTitle: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideTitle);","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport TextBaseOption from './TextBaseOption';\n\nconst Subtitle = () => <TextBaseOption type=\"text\" width=\"280px\" placeholder={i18n.t('Add a subtitle')} option={{\n  name: 'subtitle'\n}} />;\n\nexport default Subtitle;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { Label, Radio, RadioGroup } from '@dhis2/ui-core';\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport { sGetUiOptions, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiOptions } from '../../../actions/ui';\nimport Subtitle from './Subtitle';\nimport { tabSectionOption, tabSectionOptionToggleable } from '../styles/VisualizationOptions.style.js';\n\nclass HideSubtitle extends Component {\n  constructor(props) {\n    super(props);\n    this.defaultState = {\n      value: 'NONE'\n    };\n    this.state = props.value ? {\n      value: props.value\n    } : this.defaultState;\n  }\n\n  onChange = ({\n    value\n  }) => {\n    this.setState({\n      value\n    });\n    this.props.onChange(value === 'NONE');\n  };\n\n  render() {\n    const {\n      value\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <div className={tabSectionOption.className}>\n                <Label>\n                    {visualizationType === VIS_TYPE_PIVOT_TABLE ? i18n.t('Table subtitle') : i18n.t('Chart subtitle')}\n                </Label>\n                <RadioGroup name=\"hideSubtitle-selector\" onChange={this.onChange} value={value} dense>\n                    {[{\n          id: 'NONE',\n          label: i18n.t('None')\n        }, {\n          id: 'CUSTOM',\n          label: i18n.t('Custom')\n        }].map(({\n          id,\n          label\n        }) => <Radio key={id} label={label} value={id} dense />)}\n                </RadioGroup>\n                {value === 'CUSTOM' ? <div className={tabSectionOptionToggleable.className}>\n                        <Subtitle inline />\n                    </div> : null}\n            </div>;\n  }\n\n}\n\nHideSubtitle.propTypes = {\n  value: PropTypes.string,\n  visualizationType: PropTypes.string,\n  onChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  value: sGetUiOptions(state).hideSubtitle ? 'NONE' : 'CUSTOM'\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onChange: enabled => dispatch(acSetUiOptions({\n    hideSubtitle: enabled\n  }))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HideSubtitle);","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, {\n    key: 'data-lines',\n    label: i18n.t('Lines'),\n    content: React.Children.toArray([<RegressionType />, <TargetLine />, <BaseLine />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-vertical-axis',\n    label: i18n.t('Vertical (y) axis'),\n    content: React.Children.toArray([<RangeAxisLabel />, <AxisRange />, <RangeAxisSteps />, <RangeAxisDecimals />])\n  }, {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<ShowData />, <NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CheckboxBaseOption from './CheckboxBaseOption';\n\nconst PercentStackedValues = () => <CheckboxBaseOption label={i18n.t('Stacked values add up to 100%')} option={{\n  name: 'percentStackedValues'\n}} />;\n\nexport default PercentStackedValues;","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport AxisRange from '../../components/VisualizationOptions/Options/AxisRange';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport NoSpaceBetweenColumns from '../../components/VisualizationOptions/Options/NoSpaceBetweenColumns';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-display',\n    label: i18n.t('Display'),\n    content: React.Children.toArray([<ShowData />, <PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <SortOrder />])\n  }, {\n    key: 'data-lines',\n    label: i18n.t('Lines'),\n    content: React.Children.toArray([<RegressionType />, <TargetLine />, <BaseLine />])\n  }, {\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-vertical-axis',\n    label: i18n.t('Vertical (y) axis'),\n    content: React.Children.toArray([<RangeAxisLabel />, <AxisRange />, <RangeAxisSteps />, <RangeAxisDecimals />])\n  }, {\n    key: 'axes-horizontal-axis',\n    label: i18n.t('Horizontal (x) axis'),\n    content: React.Children.toArray([<DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-chart-style',\n    label: i18n.t('Chart style'),\n    content: React.Children.toArray([<NoSpaceBetweenColumns />, <HideLegend />\n    /* TODO new option <BackgroundLines /> */\n    ])\n  }, {\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport RangeAxisMinValue from '../../components/VisualizationOptions/Options/RangeAxisMinValue';\nimport RangeAxisMaxValue from '../../components/VisualizationOptions/Options/RangeAxisMaxValue';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport Subtitle from '../../components/VisualizationOptions/Options/Subtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowData />, <CumulativeValues />, <HideEmptyRowItems />, <RegressionType />, <TargetLine />, <BaseLine />, <SortOrder />, <AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-section-1',\n    content: React.Children.toArray([<RangeAxisMinValue />, <RangeAxisMaxValue />, <RangeAxisSteps />, <RangeAxisDecimals />, <RangeAxisLabel />, <DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<HideLegend />, <Title />, <HideTitle />, <Subtitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport CumulativeValues from '../../components/VisualizationOptions/Options/CumulativeValues';\nimport PercentStackedValues from '../../components/VisualizationOptions/Options/PercentStackedValues';\nimport ShowData from '../../components/VisualizationOptions/Options/ShowData';\nimport HideEmptyRowItems from '../../components/VisualizationOptions/Options/HideEmptyRowItems';\nimport RegressionType from '../../components/VisualizationOptions/Options/RegressionType';\nimport TargetLine from '../../components/VisualizationOptions/Options/TargetLine';\nimport BaseLine from '../../components/VisualizationOptions/Options/BaseLine';\nimport SortOrder from '../../components/VisualizationOptions/Options/SortOrder';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport RangeAxisMinValue from '../../components/VisualizationOptions/Options/RangeAxisMinValue';\nimport RangeAxisMaxValue from '../../components/VisualizationOptions/Options/RangeAxisMaxValue';\nimport RangeAxisSteps from '../../components/VisualizationOptions/Options/RangeAxisSteps';\nimport RangeAxisDecimals from '../../components/VisualizationOptions/Options/RangeAxisDecimals';\nimport RangeAxisLabel from '../../components/VisualizationOptions/Options/RangeAxisLabel';\nimport DomainAxisLabel from '../../components/VisualizationOptions/Options/DomainAxisLabel';\nimport HideLegend from '../../components/VisualizationOptions/Options/HideLegend';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport Title from '../../components/VisualizationOptions/Options/Title';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nimport Subtitle from '../../components/VisualizationOptions/Options/Subtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-section-1',\n    content: React.Children.toArray([<ShowData />, <PercentStackedValues />, <CumulativeValues />, <HideEmptyRowItems />, <RegressionType />, <TargetLine />, <BaseLine />, <SortOrder />, <AggregationType />])\n  }]\n}, {\n  key: 'axes-tab',\n  label: i18n.t('Axes'),\n  content: [{\n    key: 'axes-section-1',\n    content: React.Children.toArray([<RangeAxisMinValue />, <RangeAxisMaxValue />, <RangeAxisSteps />, <RangeAxisDecimals />, <RangeAxisLabel />, <DomainAxisLabel />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-section-1',\n    content: React.Children.toArray([<HideLegend />, <Title />, <HideTitle />, <Subtitle />, <HideSubtitle />])\n  }]\n}];","/* eslint-disable react/jsx-key */\nimport React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport AggregationType from '../../components/VisualizationOptions/Options/AggregationType';\nimport HideTitle from '../../components/VisualizationOptions/Options/HideTitle';\nimport HideSubtitle from '../../components/VisualizationOptions/Options/HideSubtitle';\nexport default [{\n  key: 'data-tab',\n  label: i18n.t('Data'),\n  content: [{\n    key: 'data-advanced',\n    label: i18n.t('Advanced'),\n    content: React.Children.toArray([<AggregationType />])\n  }]\n}, {\n  key: 'style-tab',\n  label: i18n.t('Style'),\n  content: [{\n    key: 'style-titles',\n    label: i18n.t('Titles'),\n    content: React.Children.toArray([<HideTitle />, <HideSubtitle />])\n  }]\n}];","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { FieldSet, Legend, TabBar, Tab } from '@dhis2/ui-core';\nimport { tabSection, tabSectionTitle, tabSectionOption, tabSectionOptionItem, tabSectionOptionToggleable, tabSectionOptionComplexInline, tabSectionOptionText, tabBar } from './styles/VisualizationOptions.style.js';\nimport { sGetUiType } from '../../reducers/ui';\nimport { getOptionsByType } from '../../modules/options/config';\nexport class VisualizationOptions extends Component {\n  state = {\n    activeTabKey: undefined\n  };\n  selectTab = tabKey => {\n    this.setState({\n      activeTabKey: tabKey\n    });\n  };\n  generateTabContent = sections => sections.map(({\n    key,\n    label,\n    content\n  }) => <div key={key} className={tabSection.className}>\n                <FieldSet>\n                    {label ? <Legend>\n                            <span className={tabSectionTitle.className}>\n                                {label}\n                            </span>\n                        </Legend> : null}\n                    {content}\n                </FieldSet>\n            </div>);\n  generateTabs = tabs => tabs.map(({\n    key,\n    label,\n    content\n  }) => ({\n    key,\n    label,\n    content: this.generateTabContent(content)\n  }));\n\n  render() {\n    const {\n      visualizationType\n    } = this.props;\n    const optionsConfig = getOptionsByType(visualizationType);\n    const tabs = this.generateTabs(optionsConfig);\n    let activeTabIndex = tabs.findIndex(tab => tab.key === this.state.activeTabKey);\n\n    if (activeTabIndex < 0) {\n      activeTabIndex = 0;\n    }\n\n    return <Fragment>\n                <div className={tabBar.className}>\n                    <TabBar>\n                        {tabs.map(({\n            key,\n            label\n          }, index) => <Tab key={key} onClick={() => this.selectTab(key)} selected={index === activeTabIndex}>\n                                {label}\n                            </Tab>)}\n                    </TabBar>\n                    {tabBar.styles}\n                </div>\n                {tabs[activeTabIndex].content}\n                {tabSection.styles}\n                {tabSectionTitle.styles}\n                {tabSectionOption.styles}\n                {tabSectionOptionItem.styles}\n                {tabSectionOptionToggleable.styles}\n                {tabSectionOptionComplexInline.styles}\n                {tabSectionOptionText.styles}\n            </Fragment>;\n  }\n\n}\nVisualizationOptions.propTypes = {\n  visualizationType: PropTypes.string.isRequired\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps)(VisualizationOptions);","import { VIS_TYPE_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_STACKED_BAR, VIS_TYPE_PIVOT_TABLE, VIS_TYPE_LINE, VIS_TYPE_RADAR, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE } from '@dhis2/analytics';\nimport pivotTableConfig from './pivotTableConfig';\nimport columnConfig from './columnConfig';\nimport stackedColumnConfig from './stackedColumnConfig';\nimport lineConfig from './lineConfig';\nimport areaConfig from './areaConfig';\nimport pieConfig from './pieConfig';\nexport const getOptionsByType = type => {\n  switch (type) {\n    case VIS_TYPE_COLUMN:\n    case VIS_TYPE_BAR:\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return columnConfig;\n\n    case VIS_TYPE_STACKED_COLUMN:\n    case VIS_TYPE_STACKED_BAR:\n      return stackedColumnConfig;\n\n    case VIS_TYPE_LINE:\n    case VIS_TYPE_RADAR:\n      return lineConfig;\n\n    case VIS_TYPE_AREA:\n      return areaConfig;\n\n    case VIS_TYPE_PIE:\n    case VIS_TYPE_GAUGE:\n    case VIS_TYPE_SINGLE_VALUE:\n      return pieConfig;\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return pivotTableConfig;\n\n    default:\n      // return all the options\n      return stackedColumnConfig;\n  }\n};","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { default as MuiButton } from '@material-ui/core/Button';\nimport i18n from '@dhis2/d2-i18n';\nimport { ButtonStrip, Modal, ModalTitle, ModalContent, ModalActions } from '@dhis2/ui-core';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport HideButton from '../HideButton/HideButton';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport VisualizationOptions from './VisualizationOptions';\n\nclass VisualizationOptionsManager extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialogIsOpen: false\n    };\n  }\n\n  onClose = () => {\n    this.toggleVisualizationOptionsDialog();\n  };\n  toggleVisualizationOptionsDialog = () => {\n    this.setState({\n      dialogIsOpen: !this.state.dialogIsOpen\n    });\n  };\n  getPrimaryOnClick = handler => () => {\n    handler();\n    this.onClose();\n  };\n\n  render() {\n    return <Fragment>\n                <MuiButton className={this.props.className} onClick={this.toggleVisualizationOptionsDialog}>\n                    {i18n.t('Options')}\n                </MuiButton>\n                {this.state.dialogIsOpen && <Modal onClose={this.onClose} large>\n                        <ModalTitle>{i18n.t('Options')}</ModalTitle>\n                        <ModalContent>\n                            <VisualizationOptions />\n                        </ModalContent>\n                        <ModalActions>\n                            <ButtonStrip>\n                                <HideButton onClick={this.onClose} />\n                                <UpdateVisualizationContainer renderComponent={handler => <UpdateButton onClick={this.getPrimaryOnClick(handler)} />} />\n                            </ButtonStrip>\n                        </ModalActions>\n                    </Modal>}\n            </Fragment>;\n  }\n\n}\n\nVisualizationOptionsManager.propTypes = {\n  className: PropTypes.string\n};\nexport default VisualizationOptionsManager;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport FileMenu from '@dhis2/d2-ui-file-menu';\nimport { withStyles } from '@material-ui/core/styles';\nimport UpdateButton from '../UpdateButton/UpdateButton';\nimport DownloadMenu from '../DownloadMenu/DownloadMenu';\nimport InterpretationsButton from '../Interpretations/InterpretationsButton';\nimport VisualizationOptionsManager from '../VisualizationOptions/VisualizationOptionsManager';\nimport UpdateVisualizationContainer from '../UpdateButton/UpdateVisualizationContainer';\nimport * as fromActions from '../../actions';\nimport { sGetCurrent } from '../../reducers/current';\nimport history from '../../modules/history';\nimport { parseError } from '../../modules/error';\nimport styles from './styles/MenuBar.style';\n\nconst onOpen = id => {\n  const path = `/${id}`;\n\n  if (history.location.pathname === path) {\n    history.replace(path);\n  } else {\n    history.push(path);\n  }\n};\n\nconst onNew = () => history.push('/');\n\nconst getOnRename = props => details => props.onRenameVisualization(details);\n\nconst getOnSave = props => details => props.onSaveVisualization(details, false);\n\nconst getOnSaveAs = props => details => props.onSaveVisualization(details, true);\n\nconst getOnDelete = props => () => props.onDeleteVisualization();\n\nconst getOnError = props => error => props.onError(error);\n\nexport const MenuBar = ({\n  classes,\n  ...props\n}, context) => <div className={classes.menuBar}>\n        <UpdateVisualizationContainer renderComponent={handler => <UpdateButton className={classes.updateButton} small onClick={handler} />} />\n        <FileMenu d2={context.d2} fileId={props.id || null} fileType={props.apiObjectName} onOpen={onOpen} onNew={onNew} onRename={getOnRename(props)} onSave={getOnSave(props)} onSaveAs={getOnSaveAs(props)} onDelete={getOnDelete(props)} onError={getOnError(props)} />\n        <VisualizationOptionsManager className={classes.label} />\n        <DownloadMenu className={classes.label} />\n        <div className={classes.grow} />\n        <InterpretationsButton className={classes.label} />\n    </div>;\nMenuBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  apiObjectName: PropTypes.string,\n  id: PropTypes.string\n};\nMenuBar.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  id: (sGetCurrent(state) || {}).id\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onRenameVisualization: details => dispatch(fromActions.tDoRenameVisualization(details)),\n  onSaveVisualization: (details, copy) => dispatch(fromActions.tDoSaveVisualization(details, copy)),\n  onDeleteVisualization: () => dispatch(fromActions.tDoDeleteVisualization()),\n  onError: error => {\n    const {\n      type,\n      message\n    } = parseError(error);\n    dispatch(fromActions.fromSnackbar.acReceivedSnackbarMessage({\n      variant: type,\n      message,\n      open: true\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(MenuBar));","import { colors } from '@dhis2/ui-core';\nexport default (theme => ({\n  menuBar: {\n    background: colors.white,\n    display: 'flex',\n    alignItems: 'center',\n    padding: `0 ${theme.spacing.unit}px`,\n    height: '38px'\n  },\n  updateButton: {\n    marginRight: theme.spacing.unit\n  },\n  label: {\n    fontSize: '15px',\n    fontWeight: 400,\n    textTransform: 'none'\n  },\n  grow: {\n    flex: '1 1 0%'\n  }\n}));","import React from 'react';\n\nconst InterpretationIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"2---Home-+-Selected-Intp.\" transform=\"translate(-522.000000, -169.000000)\">\n                    <rect fill=\"#F4F6F8\" x=\"0\" y=\"0\" width=\"1280\" height=\"850\" />\n                    <g id=\"title-area\" transform=\"translate(298.000000, 165.000000)\">\n                        <g id=\"name-badge\" transform=\"translate(220.000000, 0.000000)\">\n                            <rect id=\"Rectangle-4\" fill=\"#FFFFFF\" opacity=\"0.700613839\" x=\"0\" y=\"0\" width=\"260\" height=\"24\" rx=\"4\" />\n                            <g id=\"undo\" transform=\"translate(4.000000, 4.000000)\">\n                                <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                                <polyline id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" points=\"2.375 2.374 2.375 6.124 6.125 6.124\" />\n                                <path d=\"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124\" id=\"Path\" stroke=\"#494949\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                                <path d=\"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z\" id=\"Combined-Shape\" fill=\"#494949\" />\n                            </g>\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default InterpretationIcon;","import { colors } from '@dhis2/ui-core';\nexport default {\n  titleBar: {\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  cell: {\n    display: 'flex',\n    alignItems: 'center',\n    background: colors.white,\n    padding: '6px',\n    borderRadius: '5px',\n    margin: '4px'\n  },\n  title: {\n    fontSize: '14px'\n  },\n  suffix: {\n    paddingLeft: '4px'\n  },\n  interpretation: {\n    fontSize: '12px',\n    color: colors.grey700\n  },\n  interpretationIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    height: '14px',\n    width: '14px',\n    marginRight: '3px'\n  },\n  titleUnsaved: {\n    color: colors.grey500,\n    fontStyle: 'italic'\n  },\n  titleDirty: {\n    color: colors.grey700\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport { sGetVisualization, DEFAULT_VISUALIZATION } from '../../reducers/visualization';\nimport { sGetCurrent, DEFAULT_CURRENT } from '../../reducers/current';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetUiLocale } from '../../reducers/settings';\nimport formatDate from '../../modules/formatDate';\nimport InterpretationIcon from '../../assets/InterpretationIcon';\nimport styles from './styles/TitleBar.style';\nexport const TITLE_UNSAVED = i18n.t('Unsaved visualization');\nexport const TITLE_DIRTY = i18n.t('Edited');\nexport const STATE_EMPTY = 'EMPTY';\nexport const STATE_SAVED = 'SAVED';\nexport const STATE_UNSAVED = 'UNSAVED';\nexport const STATE_DIRTY = 'DIRTY';\nconst defaultTitleStyle = { ...styles.cell,\n  ...styles.title\n};\nconst defaultInterpretationStyle = { ...styles.cell,\n  ...styles.interpretation\n};\n\nconst getTitleState = (visualization, current) => {\n  if (current === DEFAULT_CURRENT) {\n    return STATE_EMPTY;\n  } else if (visualization === DEFAULT_VISUALIZATION) {\n    return STATE_UNSAVED;\n  } else if (current === visualization) {\n    return STATE_SAVED;\n  } else {\n    return STATE_DIRTY;\n  }\n};\n\nconst getTitleText = (titleState, visualization) => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return TITLE_UNSAVED;\n\n    case STATE_SAVED:\n    case STATE_DIRTY:\n      return visualization.name;\n\n    default:\n      return '';\n  }\n};\n\nconst getCustomTitleStyle = titleState => {\n  switch (titleState) {\n    case STATE_UNSAVED:\n      return styles.titleUnsaved;\n\n    default:\n      return null;\n  }\n};\n\nconst getSuffix = titleState => {\n  switch (titleState) {\n    case STATE_DIRTY:\n      return <div style={{ ...styles.suffix,\n        ...styles.titleDirty\n      }}>{`- ${TITLE_DIRTY}`}</div>;\n\n    default:\n      return '';\n  }\n};\n\nexport const TitleBar = ({\n  titleState,\n  titleText,\n  interpretationDate\n}) => {\n  const titleStyle = { ...defaultTitleStyle,\n    ...getCustomTitleStyle(titleState)\n  };\n  return titleText ? <div data-test=\"chart-title\" style={styles.titleBar}>\n            <div style={titleStyle}>\n                {titleText}\n                {getSuffix(titleState)}\n            </div>\n            {interpretationDate && <div style={defaultInterpretationStyle}>\n                    <div style={styles.interpretationIcon}>\n                        <InterpretationIcon />\n                    </div>\n                    <div>\n                        {i18n.t('Viewing interpretation from {{interpretationDate}}', {\n          interpretationDate\n        })}\n                    </div>\n                </div>}\n        </div> : null;\n};\nTitleBar.propTypes = {\n  interpretationDate: PropTypes.string,\n  titleState: PropTypes.string,\n  titleText: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualization: sGetVisualization(state),\n  current: sGetCurrent(state),\n  interpretation: sGetUiInterpretation(state),\n  uiLocale: sGetUiLocale(state)\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  const {\n    visualization,\n    current,\n    interpretation,\n    uiLocale\n  } = stateProps;\n  const titleState = getTitleState(visualization, current);\n  return { ...dispatchProps,\n    ...ownProps,\n    titleState: titleState,\n    titleText: getTitleText(titleState, visualization),\n    interpretationDate: interpretation && interpretation.created ? formatDate(interpretation.created, uiLocale) : null\n  };\n};\n\nexport default connect(mapStateToProps, null, mergeProps)(TitleBar);","import { DIMENSION_ID_ORGUNIT, layoutGetAxisIdDimensionIdsObject } from '@dhis2/analytics';\nimport { getInverseLayout } from './layout';\nexport const getPathForOrgUnit = (orgUnit, parentGraphMap) => {\n  if (parentGraphMap[orgUnit.id] === undefined) {\n    return undefined;\n  } // if this is root org unit then in parentGraphMap object\n  // it has empty string as value and id as key\n\n\n  if (parentGraphMap[orgUnit.id] === '') {\n    return '/' + orgUnit.id;\n  }\n\n  return '/' + parentGraphMap[orgUnit.id] + '/' + orgUnit.id;\n};\nexport const appendPathsToOrgUnits = (current, ui) => {\n  const dimensionIdsByAxis = layoutGetAxisIdDimensionIdsObject(current);\n  const inverseLayout = getInverseLayout(dimensionIdsByAxis);\n  const ouAxis = inverseLayout[DIMENSION_ID_ORGUNIT];\n  const {\n    parentGraphMap\n  } = ui;\n\n  if (!ouAxis) {\n    return current;\n  }\n\n  return { ...current,\n    [ouAxis]: current[ouAxis].map(dimension => ({ ...dimension,\n      items: dimension.items.map(item => ({ ...item,\n        path: getPathForOrgUnit(item, parentGraphMap)\n      }))\n    }))\n  };\n};\nexport const removeUnnecessaryAttributesFromAnalyticalObject = current => ({ ...current,\n  id: undefined,\n  name: undefined,\n  displayName: undefined\n});\nexport const appendDimensionItemNamesToAnalyticalObject = (current, metadata) => {\n  const appendNames = dimension => ({ ...dimension,\n    items: dimension.items.map(item => ({ ...item,\n      name: metadata[item.id] ? metadata[item.id].name : undefined\n    }))\n  });\n\n  return { ...current,\n    columns: current.columns.map(appendNames),\n    filters: current.filters.map(appendNames),\n    rows: current.rows.map(appendNames)\n  };\n};\nexport const appendCompleteParentGraphMap = (current, {\n  parentGraphMap\n}) => ({ ...current,\n  parentGraphMap: { ...current.parentGraphMap,\n    ...parentGraphMap\n  }\n});\nexport const prepareCurrentAnalyticalObject = (current, metadata, ui) => {\n  let result;\n  result = removeUnnecessaryAttributesFromAnalyticalObject(current);\n  result = appendDimensionItemNamesToAnalyticalObject(result, metadata);\n  result = appendPathsToOrgUnits(result, ui);\n  result = appendCompleteParentGraphMap(result, ui);\n  return result;\n};","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst ColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"24\" width=\"10\" height=\"22\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"4\" width=\"10\" height=\"42\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default ColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst StackedColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"6\" y=\"14\" width=\"10\" height=\"32\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) \" x=\"6\" y=\"7\" width=\"10\" height=\"19\" />\n            <rect fill=\"#1976D2\" x=\"20\" y=\"20\" width=\"10\" height=\"26\" />\n            <rect fill=\"#63A4FF\" transform=\"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) \" x=\"20\" y=\"11\" width=\"10\" height=\"9\" />\n            <rect fill=\"#004BA0\" x=\"36\" y=\"33\" width=\"10\" height=\"13\" />\n            <rect fill=\"#1976D2\" transform=\"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) \" x=\"36\" y=\"14\" width=\"10\" height=\"19\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nStackedColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst BarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default BarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst StackedBarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <rect fill=\"#63A4FF\" x=\"2\" y=\"4\" width=\"17\" height=\"10\" />\n            <rect fill=\"#9EC6FF\" transform=\"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) \" x=\"19\" y=\"4\" width=\"9\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"2\" y=\"18\" width=\"34\" height=\"10\" />\n            <rect fill=\"#63A4FF\" x=\"13\" y=\"18\" width=\"23\" height=\"10\" />\n            <rect fill=\"#004BA0\" x=\"2\" y=\"32\" width=\"40\" height=\"10\" />\n            <rect fill=\"#1976D2\" x=\"33\" y=\"32\" width=\"9\" height=\"10\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n            <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nStackedBarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default StackedBarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst PieIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <defs>\n            <mask id=\"mask-4\" fill=\"white\">\n                <circle cx=\"24\" cy=\"24\" r=\"24\" />\n            </mask>\n        </defs>\n        <g stroke=\"none\" strokeWidth=\"0\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) \">\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"30.17142857142857,240\" mask=\"url(#mask-4)\" strokeWidth=\"48\">\n                    <path stroke=\"#63A4FF\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"82.97142857142858,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#1976D2\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n                <g stroke=\"none\" fill=\"none\" strokeDasharray=\"37.71428571428572,240\" mask=\"url(#mask-4)\" transform=\"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) \" strokeWidth=\"48\">\n                    <path stroke=\"#004BA0\" d=\"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z\" />\n                </g>\n            </g>\n        </g>\n    </SvgIcon>;\n\nPieIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PieIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst GaugeIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g transform=\"translate(0.000000, -12.000000)\">\n                <path d=\"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z\" fill=\"#9E9E9E\" fillRule=\"nonzero\" />\n                <path d=\"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z\" fill=\"#63A4FF\" fillRule=\"nonzero\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nGaugeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GaugeIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst LineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-line-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-line-icon)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default LineIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst AreaIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-area-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <g />\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" fill=\"#63A4FF\" mask=\"url(#mask-area-icon)\" points=\"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nAreaIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default AreaIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst RadarIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"23\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"15\" />\n            <circle stroke=\"#9E9E9E\" strokeWidth=\"2\" cx=\"24\" cy=\"24\" r=\"5\" />\n            <circle fill=\"#1976D2\" cx=\"24\" cy=\"9\" r=\"2\" />\n            <circle fill=\"#1976D2\" cx=\"11\" cy=\"31\" r=\"2\" />\n            <circle fill=\"#63A4FF\" cx=\"24\" cy=\"39\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"39\" cy=\"24\" r=\"2\" />\n            <circle fill=\"#004BA0\" cx=\"40\" cy=\"40\" r=\"2\" />\n        </g>\n    </SvgIcon>;\n\nRadarIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default RadarIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearLineIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <mask id=\"mask-yoyl-icon\" fill=\"white\">\n                    <rect x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n                </mask>\n                <polygon stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28\" />\n                <polygon stroke=\"#004BA0\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20\" />\n                <polygon stroke=\"#63A4FF\" strokeWidth=\"2\" mask=\"url(#mask-yoyl-icon)\" points=\"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"0\" width=\"2\" height=\"48\" />\n                <rect fill=\"#9E9E9E\" x=\"0\" y=\"46\" width=\"48\" height=\"2\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nYearOverYearLineIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearLineIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst YearOverYearColumnIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g>\n                <polygon points=\"0 0 48 0 48 48 0 48\" />\n                <polygon fill=\"#63A4FF\" points=\"6 14 11 14 11 46 6 46\" />\n                <polygon fill=\"#63A4FF\" points=\"20 23 25 23 25 46 20 46\" />\n                <polygon fill=\"#63A4FF\" points=\"34 30 39 30 39 46 34 46\" />\n                <polygon fill=\"#004BA0\" points=\"11 26 16 26 16 46 11 46\" />\n                <polygon fill=\"#004BA0\" points=\"25 16 30 16 30 46 25 46\" />\n                <polygon fill=\"#004BA0\" points=\"39 9 44 9 44 46 39 46\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 0 2 0 2 48 0 48\" />\n                <polygon fill=\"#9E9E9E\" points=\"0 46 48 46 48 48 0 48\" />\n            </g>\n        </g>\n    </SvgIcon>;\n\nYearOverYearColumnIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default YearOverYearColumnIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst SingleValueIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <path d=\"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z\" fill=\"#9e9e9e\" />\n        <path d=\"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z\" fill=\"#1976d2\" />\n        <path d=\"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z\" fill=\"#1976d2\" />\n        <path d=\"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z\" fill=\"#1976d2\" />\n    </SvgIcon>;\n\nSingleValueIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default SingleValueIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst GlobeIcon = ({\n  style = {\n    width: 24,\n    height: 24,\n    paddingRight: '8px'\n  }\n}) => <SvgIcon viewBox=\"0 0 48 48\" style={style}>\n        <title>icon_chart_GIS</title>\n        <desc>Created with Sketch.</desc>\n        <defs>\n            <rect id=\"path-1\" x=\"0\" y=\"0\" width=\"48\" height=\"48\" />\n        </defs>\n        <g id=\"Symbols\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <g id=\"Icon/48x48/chart_GIS\">\n                <g id=\"icon_chart_GIS\">\n                    <mask id=\"mask-globe-icon\" fill=\"white\">\n                        <use xlinkHref=\"#path-1\" />\n                    </mask>\n                    <g id=\"Bounds\" />\n                    <circle id=\"Oval-4\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" cx=\"24\" cy=\"24\" r=\"23\" />\n                    <polyline id=\"Path-6\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3\" />\n                    <polyline id=\"Path-7\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42\" />\n                    <polyline id=\"Path-5\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12\" />\n                    <polyline id=\"Path-8\" stroke=\"#1976D2\" strokeWidth=\"2\" mask=\"url(#mask-globe-icon)\" points=\"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47\" />\n                </g>\n            </g>\n        </g>\n    </SvgIcon>;\n\nGlobeIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default GlobeIcon;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport PropTypes from 'prop-types';\n\nconst PivotTableIcon = ({\n  style = {\n    paddingRight: '8px',\n    width: 24,\n    height: 24\n  }\n}) => <SvgIcon viewBox=\"0,0,48,48\" style={style}>\n        <g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n            <polygon points=\"0 0 48 0 48 48 0 48\" />\n            <rect stroke=\"#4A5768\" strokeWidth=\"2\" x=\"7\" y=\"11\" width=\"34\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"18\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"19\" y=\"11\" width=\"2\" height=\"26\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"24\" width=\"32\" height=\"2\" />\n            <rect fill=\"#4A5768\" x=\"8\" y=\"30\" width=\"32\" height=\"2\" />\n        </g>\n    </SvgIcon>;\n\nPivotTableIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default PivotTableIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { VIS_TYPE_COLUMN, VIS_TYPE_STACKED_COLUMN, VIS_TYPE_BAR, VIS_TYPE_STACKED_BAR, VIS_TYPE_LINE, VIS_TYPE_AREA, VIS_TYPE_PIE, VIS_TYPE_RADAR, VIS_TYPE_GAUGE, VIS_TYPE_YEAR_OVER_YEAR_LINE, VIS_TYPE_YEAR_OVER_YEAR_COLUMN, VIS_TYPE_SINGLE_VALUE, VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics';\nimport ColumnIcon from '../../assets/ColumnIcon';\nimport StackedColumnIcon from '../../assets/StackedColumnIcon';\nimport BarIcon from '../../assets/BarIcon';\nimport StackedBarIcon from '../../assets/StackedBarIcon';\nimport PieIcon from '../../assets/PieIcon';\nimport GaugeIcon from '../../assets/GaugeIcon';\nimport LineIcon from '../../assets/LineIcon';\nimport AreaIcon from '../../assets/AreaIcon';\nimport RadarIcon from '../../assets/RadarIcon';\nimport YearOverYearLineIcon from '../../assets/YearOverYearLineIcon';\nimport YearOverYearColumnIcon from '../../assets/YearOverYearColumnIcon';\nimport SingleValueIcon from '../../assets/SingleValueIcon';\nimport GlobeIcon from '../../assets/GlobeIcon';\nimport PivotTableIcon from '../../assets/PivotTableIcon';\n\nconst MenuItemIcon = ({\n  iconType,\n  style\n}) => {\n  switch (iconType) {\n    case VIS_TYPE_STACKED_COLUMN:\n      return <StackedColumnIcon style={style} />;\n\n    case VIS_TYPE_BAR:\n      return <BarIcon style={style} />;\n\n    case VIS_TYPE_STACKED_BAR:\n      return <StackedBarIcon style={style} />;\n\n    case VIS_TYPE_PIE:\n      return <PieIcon style={style} />;\n\n    case VIS_TYPE_GAUGE:\n      return <GaugeIcon style={style} />;\n\n    case VIS_TYPE_LINE:\n      return <LineIcon style={style} />;\n\n    case VIS_TYPE_AREA:\n      return <AreaIcon style={style} />;\n\n    case VIS_TYPE_RADAR:\n      return <RadarIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_LINE:\n      return <YearOverYearLineIcon style={style} />;\n\n    case VIS_TYPE_YEAR_OVER_YEAR_COLUMN:\n      return <YearOverYearColumnIcon style={style} />;\n\n    case VIS_TYPE_SINGLE_VALUE:\n      return <SingleValueIcon style={style} />;\n\n    case 'MAP':\n      return <GlobeIcon style={style} />;\n\n    case VIS_TYPE_PIVOT_TABLE:\n      return <PivotTableIcon style={style} />;\n\n    case VIS_TYPE_COLUMN:\n    default:\n      return <ColumnIcon style={style} />;\n  }\n};\n\nMenuItemIcon.propTypes = {\n  iconType: PropTypes.string,\n  style: PropTypes.object\n};\nexport default MenuItemIcon;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport MenuItem from '@material-ui/core/MenuItem/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText/ListItemText';\nimport MenuItemIcon from './MenuItemIcon';\n\nconst VisualizationTypeMenuItem = ({\n  iconType,\n  styles,\n  label,\n  isSelected,\n  ...props\n}) => <MenuItem selected={Boolean(isSelected)} style={styles.menuItem} disableRipple {...props}>\n        <ListItemIcon style={styles.listItemIcon}>\n            <MenuItemIcon iconType={iconType} style={styles.listItemSvg} />\n        </ListItemIcon>\n        <ListItemText primary={label} disableTypography={true} style={styles.listItemText} />\n    </MenuItem>;\n\nVisualizationTypeMenuItem.propTypes = {\n  iconType: PropTypes.string,\n  isSelected: PropTypes.bool,\n  label: PropTypes.string,\n  styles: PropTypes.object\n};\nexport default VisualizationTypeMenuItem;","import { colors } from '@dhis2/ui-core';\nexport default {\n  button: {\n    padding: '6px',\n    color: colors.black,\n    fontSize: '15px',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    backgroundColor: colors.white,\n    justifyContent: 'flex-start'\n  },\n  dropDownArrow: {\n    marginLeft: 'auto'\n  },\n  menu: {\n    maxWidth: '600px',\n    padding: 0\n  },\n  menuDivider: {\n    border: 'none',\n    borderBottom: '1px solid',\n    borderColor: colors.grey300\n  },\n  menuItem: {\n    height: 120,\n    width: 126,\n    margin: '8px',\n    padding: '0 4px',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    borderRadius: '8px',\n    float: 'left'\n  },\n  listItemIcon: {\n    margin: 0,\n    marginBottom: 15\n  },\n  listItemSvg: {\n    width: 48,\n    height: 48\n  },\n  listItemText: {\n    fontSize: 14,\n    flex: 'none',\n    padding: 0,\n    whiteSpace: 'normal',\n    textAlign: 'center'\n  },\n  clearFix: {\n    clear: 'both'\n  }\n};","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport { visTypeDisplayNames } from '@dhis2/analytics';\nimport i18n from '@dhis2/d2-i18n';\nimport { prepareCurrentAnalyticalObject } from '../../modules/currentAnalyticalObject';\nimport { getAdaptedUiByType } from '../../modules/ui';\nimport { sGetUi, sGetUiType } from '../../reducers/ui';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { acSetUi } from '../../actions/ui';\nimport { apiSaveAOInUserDataStore, CURRENT_AO_KEY } from '../../api/userDataStore';\nimport VisualizationTypeMenuItem from './VisualizationTypeMenuItem';\nimport MenuItemIcon from './MenuItemIcon';\nimport styles from './styles/VisualizationTypeSelector.style';\nexport const MAPS_APP_URL = 'dhis-web-maps';\nexport const defaultState = {\n  anchorEl: null\n};\nexport class VisualizationTypeSelector extends Component {\n  constructor(props, context) {\n    super(props);\n    this.state = defaultState;\n    this.baseUrl = context.baseUrl;\n  }\n\n  handleButtonClick = event => {\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  };\n  handleMenuItemClick = type => () => {\n    this.props.setUi(getAdaptedUiByType({ ...this.props.ui,\n      type\n    }));\n    this.handleClose();\n  };\n  handleOpenAsMapClick = async () => {\n    const currentAnalyticalObject = prepareCurrentAnalyticalObject(this.props.current, this.props.metadata, this.props.ui);\n    await apiSaveAOInUserDataStore(currentAnalyticalObject);\n    window.location.href = `${this.baseUrl}/${MAPS_APP_URL}?${CURRENT_AO_KEY}=true`;\n  };\n  handleClose = () => {\n    this.setState({\n      anchorEl: null\n    });\n  };\n  getVisTypes = () => Object.keys(visTypeDisplayNames);\n\n  render() {\n    const {\n      anchorEl\n    } = this.state;\n    const {\n      visualizationType\n    } = this.props;\n    return <Fragment>\n                <Button onClick={this.handleButtonClick} disableRipple disableFocusRipple fullWidth={true} size=\"small\" style={styles.button}>\n                    <MenuItemIcon iconType={visualizationType} />\n                    {visTypeDisplayNames[visualizationType]}\n                    <ArrowDropDownIcon style={styles.dropDownArrow} />\n                </Button>\n                <Menu open={Boolean(anchorEl)} anchorEl={anchorEl} anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'left'\n      }} onClose={this.handleClose} getContentAnchorEl={null} MenuListProps={{\n        style: styles.menu\n      }}>\n                    {this.getVisTypes().map(type => <VisualizationTypeMenuItem key={type} iconType={type} label={visTypeDisplayNames[type]} isSelected={type === visualizationType} styles={styles} onClick={this.handleMenuItemClick(type)} />)}\n                    <div style={styles.clearFix} />\n                    <hr style={styles.menuDivider} />\n                    <VisualizationTypeMenuItem key={'MAP'} iconType={'MAP'} label={i18n.t('Open as Map')} // TODO: Open as: Map when i18next nsSeparator fixed\n        styles={styles} onClick={this.handleOpenAsMapClick} disabled={!this.props.current} />\n                </Menu>\n            </Fragment>;\n  }\n\n}\nVisualizationTypeSelector.propTypes = {\n  current: PropTypes.object,\n  metadata: PropTypes.object,\n  setUi: PropTypes.func,\n  ui: PropTypes.object,\n  visualizationType: PropTypes.oneOf(Object.keys(visTypeDisplayNames))\n};\nVisualizationTypeSelector.contextTypes = {\n  baseUrl: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visualizationType: sGetUiType(state),\n  current: sGetCurrent(state),\n  metadata: sGetMetadata(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setUi: ui => dispatch(acSetUi(ui))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VisualizationTypeSelector);","import { colors } from '@dhis2/ui-core';\nexport default {\n  arrowDown: {\n    borderRadius: '0px 2px 2px 0px',\n    padding: '0px',\n    height: '36px',\n    minWidth: '40px'\n  },\n  arrowIcon: {\n    fill: colors.white\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUp from '@material-ui/icons/ArrowDropUp';\nimport { withStyles } from '@material-ui/core/styles';\nimport styles from './styles/DropDownButton.style';\nexport const DropDownButton = ({\n  classes,\n  onClick,\n  open\n}) => <Button className={classes.arrowDown} color=\"primary\" variant=\"contained\" disableRipple disableFocusRipple onClick={onClick}>\n        {open ? <ArrowDropUp className={classes.arrowIcon} /> : <ArrowDropDown className={classes.arrowIcon} />}\n    </Button>;\nDropDownButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nexport default withStyles(styles)(DropDownButton);","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport { withStyles } from '@material-ui/core/styles';\nimport DropDownButton from './DropDownButton';\nimport styles from './styles/Menu.style';\nconst MENU_HEIGHT = 100;\nconst ADD_TO_BUTTON_MARGIN = 5;\nexport const DropDown = ({\n  anchorEl,\n  classes,\n  onClick,\n  onClose,\n  menuItems,\n  addToButtonRef\n}) => {\n  const menuWidth = addToButtonRef.offsetWidth - ADD_TO_BUTTON_MARGIN;\n  const isOverFlowing = anchorEl && anchorEl.getBoundingClientRect().bottom + MENU_HEIGHT > window.innerHeight;\n  const anchorOrigin = isOverFlowing ? {\n    vertical: 'top',\n    horizontal: 'right'\n  } : {\n    vertical: 'bottom',\n    horizontal: 'right'\n  };\n  const transformOrigin = isOverFlowing ? {\n    vertical: 'bottom',\n    horizontal: 'right'\n  } : {\n    vertical: 'top',\n    horizontal: 'right'\n  };\n  return <Fragment>\n            <DropDownButton onClick={onClick} open={Boolean(anchorEl)} />\n            <Menu open={Boolean(anchorEl)} onClose={onClose} anchorEl={anchorEl} getContentAnchorEl={null} MenuListProps={{\n      style: {\n        minWidth: menuWidth\n      },\n      className: classes.menuList\n    }} anchorOrigin={anchorOrigin} transformOrigin={transformOrigin}>\n                {menuItems}\n            </Menu>\n        </Fragment>;\n};\nDropDown.defaultProps = {\n  anchorEl: null\n};\nDropDown.propTypes = {\n  addToButtonRef: PropTypes.object.isRequired,\n  classes: PropTypes.object.isRequired,\n  menuItems: PropTypes.arrayOf(PropTypes.element).isRequired,\n  onClick: PropTypes.func.isRequired,\n  onClose: PropTypes.func.isRequired,\n  anchorEl: PropTypes.object\n};\nexport default withStyles(styles)(DropDown);","export default {\n  menuList: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\nimport { getAvailableAxes } from '@dhis2/analytics';\nimport Menu from './Menu';\nimport { sGetUiActiveModalDialog, sGetUiType } from '../../../../reducers/ui';\nimport { acAddUiLayoutDimensions } from '../../../../actions/ui';\nimport { ADD_TO_LAYOUT_OPTIONS } from '../../../../modules/layout';\nimport styles from './styles/AddToLayoutButton.style';\nexport class AddToLayoutButton extends Component {\n  constructor(props) {\n    super(props);\n    this.buttonRef = React.createRef();\n  }\n\n  state = {\n    anchorEl: null\n  };\n  onClose = () => this.setState({\n    anchorEl: null\n  });\n  onToggle = event => this.state.anchorEl ? this.onClose() : this.setState({\n    anchorEl: event.currentTarget\n  });\n  onUpdate = axisId => {\n    this.props.onAddDimension({\n      [this.props.dialogId]: {\n        axisId\n      }\n    });\n    this.props.onClick();\n  };\n  getAxisMeta = axisIdArray => axisIdArray.map(axisId => ADD_TO_LAYOUT_OPTIONS.find(axisMetaObj => axisMetaObj.axisId === axisId));\n  renderMenuItems = () => this.getAxisMeta(getAvailableAxes(this.props.visType)).slice(1).map(axisMetaObj => <MenuItem className={this.props.classes.menuItem} component=\"li\" key={axisMetaObj.axisId} onClick={() => this.onUpdate(axisMetaObj.axisId)}>\n                    {axisMetaObj.name}\n                </MenuItem>);\n\n  render() {\n    const availableAxisMeta = this.getAxisMeta(getAvailableAxes(this.props.visType));\n    return <div ref={addToRef => this.buttonRef = addToRef}>\n                <Button className={this.props.classes.button} variant=\"contained\" color=\"primary\" disableRipple disableFocusRipple onClick={() => this.onUpdate(availableAxisMeta[0].axisId)}>\n                    {availableAxisMeta[0].name}\n                </Button>\n                {availableAxisMeta.length > 1 ? <Menu onClose={this.onClose} onClick={this.onToggle} anchorEl={this.state.anchorEl} menuItems={this.renderMenuItems()} addToButtonRef={this.buttonRef} /> : null}\n            </div>;\n  }\n\n}\nAddToLayoutButton.propTypes = {\n  classes: PropTypes.object.isRequired,\n  dialogId: PropTypes.string.isRequired,\n  visType: PropTypes.string.isRequired,\n  onAddDimension: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state),\n  dialogId: sGetUiActiveModalDialog(state)\n});\n\nexport default connect(mapStateToProps, {\n  onAddDimension: acAddUiLayoutDimensions\n})(withStyles(styles)(AddToLayoutButton));","export default {\n  button: {\n    borderRadius: '2px 0px 0px 2px',\n    marginLeft: '5px',\n    fontSize: '12px'\n  },\n  menuItem: {\n    fontSize: '15px',\n    textTransform: 'initial',\n    whiteSpace: 'nowrap',\n    justifyContent: 'start',\n    flexWrap: 'nowrap',\n    padding: '8px',\n    fontWeight: '400'\n  }\n};","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport debounce from 'lodash-es/debounce';\nimport isEqual from 'lodash-es/isEqual';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport i18n from '@dhis2/d2-i18n';\nimport { DataDimension, DynamicDimension, PeriodDimension, OrgUnitDimension, ouIdHelper, DIMENSION_ID_DATA, DIMENSION_ID_PERIOD, DIMENSION_ID_ORGUNIT, getAxisMaxNumberOfItems, getDisplayNameByVisType, filterOutPredefinedDimensions } from '@dhis2/analytics';\nimport HideButton from '../../HideButton/HideButton';\nimport AddToLayoutButton from './AddToLayoutButton/AddToLayoutButton';\nimport UpdateVisualizationContainer from '../../UpdateButton/UpdateVisualizationContainer';\nimport { acSetUiActiveModalDialog, acRemoveUiItems, acAddUiItems, acSetUiItems, acAddParentGraphMap } from '../../../actions/ui';\nimport { acAddMetadata } from '../../../actions/metadata';\nimport { acSetRecommendedIds } from '../../../actions/recommendedIds';\nimport { sGetUiItems, sGetUiItemsByDimension, sGetUiActiveModalDialog, sGetUiParentGraphMap, sGetUiType, getAxisIdByDimensionId, sGetDimensionIdsFromLayout } from '../../../reducers/ui';\nimport { sGetDimensions } from '../../../reducers/dimensions';\nimport { sGetMetadata } from '../../../reducers/metadata';\nimport { sGetSettingsDisplayNameProperty } from '../../../reducers/settings';\nimport { apiFetchRecommendedIds } from '@dhis2/analytics';\nimport { removeLastPathSegment, getOuPath } from '../../../modules/orgUnit';\nimport UpdateButton from '../../UpdateButton/UpdateButton';\nexport class DialogManager extends Component {\n  state = {\n    onMounted: false\n  };\n  componentDidUpdate = prevProps => {\n    const shouldFetchIds = !isEqual(prevProps.dxIds, this.props.dxIds) || !isEqual(prevProps.ouIds, this.props.ouIds);\n\n    if (shouldFetchIds) {\n      this.fetchRecommended();\n    }\n\n    if (this.props.dialogId === DIMENSION_ID_ORGUNIT && !this.state.ouMounted) {\n      this.setState({\n        ouMounted: true\n      });\n    }\n  };\n  fetchRecommended = debounce(async () => {\n    const ids = await apiFetchRecommendedIds(this.context.d2, this.props.dxIds, this.props.ouIds);\n    this.props.setRecommendedIds(ids);\n  }, 1000);\n  selectUiItems = ({\n    dimensionId,\n    items\n  }) => {\n    this.props.setUiItems({\n      dimensionId,\n      itemIds: items.map(item => item.id)\n    });\n\n    switch (dimensionId) {\n      case DIMENSION_ID_ORGUNIT:\n        {\n          const forMetadata = {};\n          const forParentGraphMap = {};\n          items.forEach(ou => {\n            const id = ouIdHelper.removePrefix(ou.id);\n            forMetadata[id] = {\n              id,\n              name: ou.name || ou.displayName,\n              displayName: ou.displayName\n            };\n\n            if (ou.path) {\n              const path = removeLastPathSegment(ou.path);\n              forParentGraphMap[ou.id] = path === `/${ou.id}` ? '' : path.replace(/^\\//, '');\n            }\n          });\n          this.props.addMetadata(forMetadata);\n          this.props.addParentGraphMap(forParentGraphMap);\n          break;\n        }\n\n      default:\n        {\n          this.props.addMetadata(items.reduce((obj, item) => {\n            obj[item.id] = {\n              id: item.id,\n              name: item.name || item.displayName,\n              displayName: item.displayName\n            };\n            return obj;\n          }, {}));\n        }\n    }\n  };\n  closeDialog = () => this.props.closeDialog(null);\n  getSelectedItems = dialogId => {\n    return this.props.selectedItems[dialogId] ? this.props.selectedItems[dialogId].filter(id => this.props.metadata[id]).map(id => ({\n      id,\n      name: this.props.metadata[id].name\n    })) : [];\n  };\n  getOrgUnitsFromIds = (ids, metadata, parentGraphMap) => ids.filter(id => metadata[ouIdHelper.removePrefix(id)] !== undefined).map(id => {\n    const ouUid = ouIdHelper.removePrefix(id);\n    return {\n      id,\n      name: metadata[ouUid].displayName || metadata[ouUid].name,\n      path: getOuPath(ouUid, metadata, parentGraphMap)\n    };\n  }); // The OU content is persisted as mounted in order\n  // to cache the org unit tree data\n\n  renderPersistedContent = dimensionProps => {\n    const {\n      displayNameProperty,\n      ouIds,\n      metadata,\n      parentGraphMap,\n      dialogId\n    } = this.props;\n\n    if (this.state.ouMounted) {\n      const ouItems = this.getOrgUnitsFromIds(ouIds, metadata, parentGraphMap);\n      const display = DIMENSION_ID_ORGUNIT === dialogId ? 'block' : 'none';\n      return <div key={DIMENSION_ID_ORGUNIT} style={{\n        display\n      }}>\n                    <OrgUnitDimension displayNameProperty={displayNameProperty} ouItems={ouItems} {...dimensionProps} />\n                </div>;\n    }\n\n    return null;\n  };\n  renderDialogContent = () => {\n    const {\n      displayNameProperty,\n      dialogId,\n      type,\n      dimensions,\n      removeUiItems,\n      setUiItems\n    } = this.props;\n    const dimensionProps = {\n      d2: this.context.d2,\n      onSelect: this.selectUiItems,\n      onDeselect: removeUiItems,\n      onReorder: setUiItems\n    };\n\n    const dynamicContent = () => {\n      const selectedItems = this.getSelectedItems(dialogId);\n      let infoBoxMessage;\n      const axisId = this.props.getAxisIdByDimensionId(dialogId);\n      const visType = type;\n      const numberOfItems = selectedItems.length;\n      const axisMaxNumberOfItems = getAxisMaxNumberOfItems(visType, axisId);\n      const hasMaxNumberOfItemsRule = !!axisMaxNumberOfItems;\n\n      if (hasMaxNumberOfItemsRule && numberOfItems > axisMaxNumberOfItems) {\n        infoBoxMessage = axisMaxNumberOfItems === 1 ? i18n.t(`'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.`, {\n          visualizationType: getDisplayNameByVisType(visType)\n        }) : i18n.t(`'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.`, {\n          visualiationType: getDisplayNameByVisType(visType),\n          maxNumber: axisMaxNumberOfItems\n        });\n        selectedItems.forEach((item, index) => {\n          item.isActive = index < axisMaxNumberOfItems;\n        });\n      }\n\n      if (dialogId === DIMENSION_ID_DATA) {\n        return <DataDimension displayNameProp={displayNameProperty} selectedDimensions={selectedItems} infoBoxMessage={infoBoxMessage} {...dimensionProps} />;\n      }\n\n      if (dialogId === DIMENSION_ID_PERIOD) {\n        return <PeriodDimension selectedPeriods={selectedItems} {...dimensionProps} // TODO infoBoxMessage should ideally be implemented for all dimensions\n        />;\n      }\n\n      const nonPredefinedDimensions = filterOutPredefinedDimensions(Object.keys(this.props.dimensions));\n\n      if (nonPredefinedDimensions.includes(dialogId)) {\n        const dialogTitle = dimensions[dialogId] && dimensions[dialogId].name;\n        return <DynamicDimension selectedItems={selectedItems} dialogId={dialogId} dialogTitle={dialogTitle} {...dimensionProps} // TODO infoBoxMessage should ideally be implemented for all dimensions\n        />;\n      }\n\n      return null;\n    };\n\n    return <Fragment>\n                {this.renderPersistedContent(dimensionProps)}\n                {dialogId && dynamicContent()}\n            </Fragment>;\n  };\n  renderPrimaryButton = dialogId => <UpdateVisualizationContainer renderComponent={handler => this.props.dimensionIdsInLayout.includes(dialogId) ? <UpdateButton onClick={this.getPrimaryOnClick(handler)} /> : <AddToLayoutButton onClick={this.getPrimaryOnClick(handler)} />} />;\n  getPrimaryOnClick = handler => () => {\n    handler();\n    this.closeDialog();\n  };\n\n  render() {\n    const {\n      dialogId,\n      dimensions\n    } = this.props;\n    const keepMounted = !dialogId || dialogId === DIMENSION_ID_ORGUNIT;\n    return <Dialog data-test=\"dialog-manager\" open={dialogId in dimensions} onClose={this.closeDialog} maxWidth=\"lg\" disableEnforceFocus keepMounted={keepMounted}>\n                {this.renderDialogContent()}\n                <DialogActions>\n                    <HideButton onClick={this.closeDialog} />\n                    {dialogId && this.renderPrimaryButton(dialogId)}\n                </DialogActions>\n            </Dialog>;\n  }\n\n}\nDialogManager.contextTypes = {\n  d2: PropTypes.object\n};\nDialogManager.propTypes = {\n  closeDialog: PropTypes.func.isRequired,\n  dimensionIdsInLayout: PropTypes.array.isRequired,\n  ouIds: PropTypes.array.isRequired,\n  setRecommendedIds: PropTypes.func.isRequired,\n  addMetadata: PropTypes.func,\n  addParentGraphMap: PropTypes.func,\n  dialogId: PropTypes.string,\n  dimensions: PropTypes.object,\n  displayNameProperty: PropTypes.string,\n  dxIds: PropTypes.array,\n  getAxisIdByDimensionId: PropTypes.func,\n  metadata: PropTypes.object,\n  parentGraphMap: PropTypes.object,\n  removeUiItems: PropTypes.func,\n  selectedItems: PropTypes.object,\n  setUiItems: PropTypes.func,\n  type: PropTypes.string\n};\nDialogManager.defaultProps = {\n  dialogId: null,\n  dxIds: []\n};\n\nconst mapStateToProps = state => ({\n  displayNameProperty: sGetSettingsDisplayNameProperty(state),\n  dialogId: sGetUiActiveModalDialog(state),\n  dimensions: sGetDimensions(state),\n  metadata: sGetMetadata(state),\n  parentGraphMap: sGetUiParentGraphMap(state),\n  dxIds: sGetUiItemsByDimension(state, DIMENSION_ID_DATA),\n  ouIds: sGetUiItemsByDimension(state, DIMENSION_ID_ORGUNIT),\n  selectedItems: sGetUiItems(state),\n  type: sGetUiType(state),\n  getAxisIdByDimensionId: dimensionId => getAxisIdByDimensionId(state, dimensionId),\n  dimensionIdsInLayout: sGetDimensionIdsFromLayout(state)\n});\n\nexport default connect(mapStateToProps, {\n  closeDialog: acSetUiActiveModalDialog,\n  setRecommendedIds: acSetRecommendedIds,\n  setUiItems: acSetUiItems,\n  addMetadata: acAddMetadata,\n  addUiItems: acAddUiItems,\n  removeUiItems: acRemoveUiItems,\n  addParentGraphMap: acAddParentGraphMap\n})(DialogManager);","import { SET_RECOMMENDED_IDS } from '../reducers/recommendedIds';\nexport const acSetRecommendedIds = value => ({\n  type: SET_RECOMMENDED_IDS,\n  value\n});","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Draggable } from 'react-beautiful-dnd';\nimport { DimensionItem } from '@dhis2/analytics';\nimport styles from './styles/DndDimensionItem.module.css';\nexport class DndDimensionItem extends Component {\n  render = () => {\n    const {\n      id,\n      index,\n      name,\n      isSelected,\n      isLocked,\n      isDeactivated,\n      isRecommended,\n      onClick,\n      onOptionsClick\n    } = this.props;\n    const itemCommonProps = {\n      id,\n      name,\n      isSelected,\n      isLocked,\n      isDeactivated,\n      isRecommended\n    };\n    return <Draggable draggableId={id} index={index} isDragDisabled={isSelected || isDeactivated || isLocked}>\n                {(provided, snapshot) => <>\n                        <DimensionItem innerRef={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps} className={snapshot.isDragging ? styles.dragging : styles.notDragging} onClick={onClick} onOptionsClick={onOptionsClick} {...itemCommonProps} />\n                        {snapshot.isDragging && <DimensionItem className={styles.dimensionItemClone} {...itemCommonProps} />}\n                    </>}\n            </Draggable>;\n  };\n}\nDndDimensionItem.propTypes = {\n  id: PropTypes.string,\n  index: PropTypes.number,\n  isDeactivated: PropTypes.bool,\n  isLocked: PropTypes.bool,\n  isRecommended: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  onOptionsClick: PropTypes.func\n};\nexport default DndDimensionItem;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Droppable } from 'react-beautiful-dnd';\nimport { createSelector } from 'reselect';\nimport { getDisallowedDimensions, getAllLockedDimensionIds, getFixedDimensions, getDynamicDimensions, getPredefinedDimensions } from '@dhis2/analytics';\nimport DndDimensionItem from './DndDimensionItem';\nimport * as fromReducers from '../../reducers';\nimport { acSetUiActiveModalDialog } from '../../actions/ui';\nimport { SOURCE_DIMENSIONS } from '../../modules/layout';\nimport styles from './styles/DndDimensionList.module.css';\nexport class DndDimensionList extends Component {\n  dndIndex = 0;\n  nameContainsFilterText = dimension => dimension.name.toLowerCase().includes(this.props.filterText.toLowerCase());\n  isSelected = id => this.props.selectedIds.includes(id);\n  isDisabledDimension = id => this.props.disallowedDimensions.includes(id);\n  isLockedDimension = id => this.props.lockedDimensions.includes(id);\n  isRecommendedDimension = id => this.props.recommendedIds.includes(id);\n  renderItem = ({\n    id,\n    name\n  }) => {\n    const itemProps = {\n      id,\n      name,\n      index: this.dndIndex++,\n      isSelected: this.isSelected(id),\n      isLocked: this.isLockedDimension(id),\n      isDeactivated: this.isDisabledDimension(id),\n      isRecommended: this.isRecommendedDimension(id),\n      onClick: this.props.onDimensionClick,\n      onOptionsClick: this.props.onDimensionOptionsClick\n    };\n    return <DndDimensionItem key={`${SOURCE_DIMENSIONS}-${id}`} {...itemProps} />;\n  };\n  getDimensionItemsByFilter = filter => this.props.dimensions.filter(filter).filter(this.nameContainsFilterText).map(this.renderItem);\n\n  render() {\n    this.dndIndex = 0;\n    const fixedDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getFixedDimensions()).some(fixedDim => fixedDim.id === dimension.id));\n    const dynamicDimensions = this.getDimensionItemsByFilter(dimension => Object.values(getDynamicDimensions()).some(dynDim => dynDim.id === dimension.id));\n    const nonPredefinedDimensions = this.getDimensionItemsByFilter(dimension => !Object.values(getPredefinedDimensions()).some(predefDim => predefDim.id === dimension.id));\n    return <Droppable droppableId={SOURCE_DIMENSIONS} isDropDisabled={true}>\n                {provided => <div className={styles.container} ref={provided.innerRef} {...provided.droppableProps}>\n                        <div className={styles.wrapper}>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    Main dimensions\n                                </h3>\n                                <ul className={styles.list}>\n                                    {fixedDimensions}\n                                </ul>\n                            </div>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    Other dimensions\n                                </h3>\n                                <ul className={styles.list}>\n                                    {dynamicDimensions}\n                                </ul>\n                            </div>\n                            <div className={styles.section}>\n                                <h3 className={styles.header}>\n                                    Your dimensions\n                                </h3>\n                                <ul className={styles.list}>\n                                    {nonPredefinedDimensions}\n                                </ul>\n                            </div>\n                        </div>\n                        {provided.placeholder}\n                    </div>}\n            </Droppable>;\n  }\n\n}\nDndDimensionList.propTypes = {\n  dimensions: PropTypes.array,\n  disallowedDimensions: PropTypes.array,\n  filterText: PropTypes.string,\n  lockedDimensions: PropTypes.array,\n  recommendedIds: PropTypes.array,\n  selectedIds: PropTypes.array,\n  onDimensionClick: PropTypes.func,\n  onDimensionOptionsClick: PropTypes.func\n};\nconst getDisallowedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getDisallowedDimensions(type));\nconst getisLockedDimensionsMemo = createSelector([fromReducers.fromUi.sGetUiType], type => getAllLockedDimensionIds(type));\n\nconst mapStateToProps = state => ({\n  dimensions: Object.values(fromReducers.fromDimensions.sGetDimensions(state)),\n  selectedIds: fromReducers.fromUi.sGetDimensionIdsFromLayout(state),\n  recommendedIds: fromReducers.fromRecommendedIds.sGetRecommendedIds(state),\n  disallowedDimensions: getDisallowedDimensionsMemo(state),\n  lockedDimensions: getisLockedDimensionsMemo(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onDimensionClick: id => dispatch(acSetUiActiveModalDialog(id))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DndDimensionList);","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { DimensionFilter } from '@dhis2/analytics';\nimport { colors } from '@dhis2/ui-core';\nimport DndDimensionList from './DndDimensionList';\nimport styles from './styles/DndDimensionsPanel.module.css';\nexport class DndDimensionsPanel extends Component {\n  state = {\n    filterText: ''\n  };\n  onClearFilter = () => {\n    this.setState({\n      filterText: ''\n    });\n  };\n  onFilterTextChange = filterText => {\n    this.setState({\n      filterText\n    });\n  };\n\n  render() {\n    return <div className={styles.container}>\n                <DimensionFilter style={{\n        marginBottom: '6px',\n        background: '#fff',\n        border: `1px solid ${colors.grey400}`,\n        borderRadius: '5px',\n        marginRight: '8px'\n      }} placeholder={i18n.t('Filter dimensions')} text={this.state.filterText} onChange={this.onFilterTextChange} onClear={this.onClearFilter} disableUnderline={true} />\n                <DndDimensionList filterText={this.state.filterText} onDimensionOptionsClick={this.props.onDimensionOptionsClick} />\n            </div>;\n  }\n\n}\nDndDimensionsPanel.propTypes = {\n  onDimensionOptionsClick: PropTypes.func\n};\nexport default DndDimensionsPanel;","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  divContainer: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    backgroundColor: colors.grey050\n  }\n};","import { colors } from '@dhis2/ui-core';\nexport default {\n  tableContainer: {\n    marginTop: '20px'\n  },\n  nameColumn: {\n    width: '80%'\n  },\n  axisColumn: {\n    width: '10%'\n  },\n  coloredColumn: {\n    backgroundColor: colors.grey100\n  },\n  tableCell: {\n    padding: '4px 24px',\n    borderBottom: `1px solid ${colors.grey300}`\n  },\n  head: {\n    borderBottom: 'none'\n  },\n  axisRadio: {\n    padding: '0px 10px'\n  },\n  dialogContent: {\n    marginBottom: '0px'\n  },\n  helpText: {\n    lineHeight: '1.5'\n  },\n  dialogActions: {\n    border: 'none'\n  }\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport isEqual from 'lodash-es/isEqual';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Button from '@material-ui/core/Button';\nimport Radio from '@material-ui/core/Radio';\nimport Table from '@material-ui/core/Table';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableBody from '@material-ui/core/TableBody';\nimport styles from './styles/AxisSetup.style';\nimport { axis1, axis2 } from './constants';\nimport { sGetUiActiveModalDialog, DEFAULT_UI, sGetUi } from '../../reducers/ui';\nimport { sGetAxisSetupItems } from '../../reducers';\nimport { acSetAxes, acSetUiActiveModalDialog } from '../../actions/ui';\nimport { acSetCurrentFromUi } from '../../actions/current';\nexport const AXIS_SETUP_DIALOG_ID = 'axisSetup';\n\nclass AxisSetup extends Component {\n  state = {\n    items: undefined\n  };\n\n  componentDidMount() {\n    this.setItems(this.props.items);\n  }\n\n  componentDidUpdate(prevProps) {\n    const oldItems = prevProps.items;\n    const newItems = this.props.items;\n\n    if (!isEqual(oldItems, newItems)) {\n      this.setItems(newItems);\n    }\n  }\n\n  setItems = items => {\n    const itemsMap = items.reduce((itemsMap, item) => {\n      itemsMap[item.id] = item;\n      return itemsMap;\n    }, {});\n    this.setState({\n      items: itemsMap\n    });\n  };\n  onAxisChange = (item, axis) => {\n    this.setState({\n      items: { ...this.state.items,\n        [item.id]: { ...item,\n          axis\n        }\n      }\n    });\n  };\n  getAxes = () => {\n    const axes = Object.keys(this.state.items).reduce((map, id) => {\n      const axis = this.state.items[id].axis;\n\n      if (axis > 0) {\n        map[id] = axis;\n      }\n\n      return map;\n    }, {});\n    return Object.keys(axes).length > 0 ? axes : DEFAULT_UI.axes;\n  };\n\n  renderTable() {\n    const {\n      classes\n    } = this.props;\n    return <Table>\n                <colgroup>\n                    <col className={classes.nameColumn} />\n                    <col className={`${classes.axisColumn} ${classes.coloredColumn}`} />\n                    <col className={classes.axisColumn} />\n                </colgroup>\n                <TableHead>\n                    <TableRow>\n                        <TableCell className={classes.head} />\n                        <TableCell className={`${classes.tableCell} ${classes.head}`} align=\"center\">\n                            {i18n.t('Axis 1')}\n                        </TableCell>\n                        <TableCell className={`${classes.tableCell} ${classes.head}`} align=\"center\">\n                            {i18n.t('Axis 2')}\n                        </TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {Object.keys(this.state.items).map(id => {\n          const item = this.state.items[id];\n          return <TableRow key={`multiaxis-table-row-${id}`}>\n                                <TableCell className={classes.tableCell}>\n                                    {item.name}\n                                </TableCell>\n                                <TableCell className={classes.tableCell} align=\"center\">\n                                    <Radio onClick={() => this.onAxisChange(item, axis1)} checked={item.axis === axis1} className={classes.axisRadio} />\n                                </TableCell>\n                                <TableCell className={classes.tableCell} align=\"center\">\n                                    <Radio onClick={() => this.onAxisChange(item, axis2)} checked={item.axis === axis2} className={classes.axisRadio} />\n                                </TableCell>\n                            </TableRow>;\n        })}\n                </TableBody>\n            </Table>;\n  }\n\n  render() {\n    const {\n      classes,\n      isOpen,\n      dialogMaxWidth,\n      onCancelClick\n    } = this.props;\n    return <Dialog open={isOpen} maxWidth={dialogMaxWidth} onClose={onCancelClick} disableEnforceFocus>\n                <DialogTitle>{i18n.t('Manage axes')}</DialogTitle>\n                <DialogContent className={classes.dialogContent}>\n                    <p className={classes.helpText}>\n                        {i18n.t('A chart can have two axes. Each axis will have its own scale. Set the axis for each data selection below.')}\n                    </p>\n                    <div className={classes.tableContainer}>\n                        {this.state.items && this.renderTable()}\n                    </div>\n                </DialogContent>\n                <DialogActions className={classes.dialogActions}>\n                    <Button color=\"primary\" disableRipple disableFocusRipple onClick={onCancelClick}>\n                        {i18n.t('Cancel')}\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => this.props.onUpdateClick(this.getAxes(), this.props.ui)}>\n                        {i18n.t('Update')}\n                    </Button>\n                </DialogActions>\n            </Dialog>;\n  }\n\n}\n\nAxisSetup.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onUpdateClick: PropTypes.func.isRequired,\n  classes: PropTypes.object,\n  dialogMaxWidth: PropTypes.string,\n  items: PropTypes.arrayOf(PropTypes.shape({\n    axis: PropTypes.number.isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })),\n  ui: PropTypes.object,\n  onCancelClick: PropTypes.func\n};\nAxisSetup.defaultProps = {\n  classes: {},\n  isOpen: false,\n  items: [],\n  onUpdateClick: Function.prototype,\n  onCancelClick: Function.prototype,\n  dialogMaxWidth: 'md'\n};\n\nconst mapStateToProps = state => ({\n  isOpen: sGetUiActiveModalDialog(state) === AXIS_SETUP_DIALOG_ID,\n  items: sGetAxisSetupItems(state),\n  ui: sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onUpdateClick: (axes, ui) => {\n    dispatch(acSetAxes(axes));\n    dispatch(acSetCurrentFromUi({ ...ui,\n      axes\n    }));\n    dispatch(acSetUiActiveModalDialog());\n  },\n  onCancelClick: () => dispatch(acSetUiActiveModalDialog())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(AxisSetup));","export const axis1 = 0;\nexport const axis2 = 1;\nexport default {\n  axis1,\n  axis2\n};","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DialogManager from './Dialogs/DialogManager';\nimport DndDimensionsPanel from './DndDimensionsPanel';\nimport * as fromReducers from '../../reducers';\nimport { styles } from './styles/DimensionsPanel.style';\nimport { AXIS_SETUP_DIALOG_ID } from '../AxisSetup/AxisSetup';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nexport class Dimensions extends Component {\n  state = {\n    dimensionMenuAnchorEl: null,\n    dimensionId: null\n  };\n  openOptionsMenuForDimension = (event, id) => {\n    event.stopPropagation();\n    this.setState({\n      dimensionMenuAnchorEl: event.currentTarget,\n      dimensionId: id\n    });\n  };\n  closeOptionsMenuForDimension = () => this.setState({\n    dimensionMenuAnchorEl: null,\n    dimensionId: null\n  });\n  getNumberOfDimensionItems = () => (this.props.itemsByDimension[this.state.dimensionId] || []).length;\n\n  render() {\n    return <div style={styles.divContainer}>\n                <DndDimensionsPanel onDimensionOptionsClick={this.openOptionsMenuForDimension} />\n                <DimensionMenu dimensionId={this.state.dimensionId} currentAxisId={this.props.getCurrentAxisId(this.state.dimensionId)} visType={this.props.ui.type} numberOfDimensionItems={this.getNumberOfDimensionItems()} dualAxisItemHandler={this.props.dualAxisItemHandler} isAssignedCategoriesInLayout={this.props.layoutHasAssignedCategories} assignedCategoriesItemHandler={destination => this.props.assignedCategoriesItemHandler(this.props.layoutHasAssignedCategories, destination)} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.dimensionMenuAnchorEl} onClose={this.closeOptionsMenuForDimension} />\n                <DialogManager />\n            </div>;\n  }\n\n}\nDimensions.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  dualAxisItemHandler: PropTypes.func,\n  getCurrentAxisId: PropTypes.func,\n  itemsByDimension: PropTypes.object,\n  layoutHasAssignedCategories: PropTypes.bool,\n  removeItemHandler: PropTypes.func,\n  ui: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  ui: fromReducers.fromUi.sGetUi(state),\n  dimensions: fromReducers.fromDimensions.sGetDimensions(state),\n  layout: fromReducers.fromUi.sGetUiLayout(state),\n  itemsByDimension: fromReducers.fromUi.sGetUiItems(state),\n  layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state),\n  getCurrentAxisId: dimensionId => fromReducers.fromUi.getAxisIdByDimensionId(state, dimensionId)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  dualAxisItemHandler: () => dispatch(acSetUiActiveModalDialog(AXIS_SETUP_DIALOG_ID)),\n  axisItemHandler: (dimensionId, axisId, numberOfDimensionItems) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n\n    if (numberOfDimensionItems === 0) {\n      dispatch(acSetUiActiveModalDialog(dimensionId));\n    }\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dimensions);","export default {\n  wrapper: {\n    position: 'relative',\n    width: '380px'\n  },\n  container: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  }\n};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport InterpretationsComponent from '@dhis2/d2-ui-interpretations';\nimport { sGetUiInterpretation } from '../../reducers/ui';\nimport { acSetUiInterpretation, acClearUiInterpretation } from '../../actions/ui';\nimport history from '../../modules/history';\nimport styles from './styles/Interpretations.style';\nexport class Interpretations extends Component {\n  onInterpretationChange = interpretation => {\n    if (interpretation) {\n      const interpretationUrl = `/${this.props.id}/interpretation/${interpretation.id}`; // this covers the case when the URL contains already an interpretation id,\n      // the Interpretations component loads it and fires this callback passing the interpretation\n      // object, the URL is not changing in this case.\n      // the other scenario is when the URL changes because of a click inside the Interpretations component\n\n      if (history.location.pathname !== interpretationUrl) {\n        history.push(interpretationUrl);\n        this.props.acSetUiInterpretation({\n          id: interpretation.id,\n          created: interpretation.created\n        });\n      }\n    } else {\n      history.push(`/${this.props.id}`);\n    }\n  };\n\n  render() {\n    const {\n      type,\n      id,\n      interpretationId\n    } = this.props;\n    return id ? <div style={styles.wrapper}>\n                <div style={styles.container}>\n                    <InterpretationsComponent d2={this.context.d2} type={type} id={id} currentInterpretationId={interpretationId} onCurrentInterpretationChange={this.onInterpretationChange} />\n                </div>\n            </div> : null;\n  }\n\n}\nInterpretations.defaultProps = {\n  type: 'chart'\n};\nInterpretations.propTypes = {\n  acSetUiInterpretation: PropTypes.func,\n  id: PropTypes.string,\n  interpretationId: PropTypes.string,\n  type: PropTypes.string\n};\nInterpretations.contextTypes = {\n  d2: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  interpretationId: sGetUiInterpretation(state).id || null\n});\n\nexport default connect(mapStateToProps, {\n  acSetUiInterpretation,\n  acClearUiInterpretation\n})(Interpretations);","export default {\n  chartCanvas: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'flex-start',\n    height: '100%'\n  },\n  loadingCover: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%',\n    left: 0,\n    top: 0,\n    zIndex: 100,\n    background: '#ffffffab'\n  }\n};","const peId = 'pe'\n\nexport const apiFetchAnalytics = async (d2, current, options) => {\n    const req = new d2.analytics.request()\n        .fromModel(current)\n        .withParameters(options)\n\n    const rawResponse = await d2.analytics.aggregate.get(req)\n\n    return [new d2.analytics.response(rawResponse)]\n}\n\nexport const apiFetchAnalyticsForYearOverYear = async (\n    d2,\n    current,\n    options\n) => {\n    let yearlySeriesReq = new d2.analytics.request()\n        .addPeriodDimension(current.yearlySeries)\n        .withSkipData(true)\n        .withSkipMeta(false)\n        .withIncludeMetadataDetails(true)\n\n    if (options.relativePeriodDate) {\n        yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(\n            options.relativePeriodDate\n        )\n    }\n\n    const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq)\n\n    const requests = []\n    const yearlySeriesLabels = []\n\n    const now = new Date()\n    const currentDay = ('' + now.getDate()).padStart(2, 0)\n    const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0)\n\n    yearlySeriesRes.metaData.dimensions[peId].forEach(period => {\n        yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name)\n\n        const startDate = `${period}-${currentMonth}-${currentDay}`\n\n        const req = new d2.analytics.request()\n            .fromModel(current)\n            .withParameters(options)\n            .withRelativePeriodDate(startDate)\n\n        requests.push(d2.analytics.aggregate.get(req))\n    })\n\n    return Promise.all(requests).then(responses => ({\n        responses: responses.map(res => new d2.analytics.response(res)),\n        yearlySeriesLabels,\n    }))\n}\n","import pick from 'lodash-es/pick'\n\nexport const options = {\n    baseLineLabel: { defaultValue: undefined, requestable: false },\n    baseLineValue: { defaultValue: undefined, requestable: false },\n    // colorSet:\n    cumulativeValues: { defaultValue: false, requestable: false },\n    domainAxisLabel: { defaultValue: undefined, requestable: false },\n    hideEmptyRowItems: { defaultValue: 'NONE', requestable: false },\n    hideLegend: { defaultValue: false, requestable: false },\n    noSpaceBetweenColumns: { defaultValue: false, requestable: false },\n    percentStackedValues: { defaultValue: false, requestable: false },\n    rangeAxisDecimals: { defaultValue: undefined, requestable: false },\n    rangeAxisLabel: { defaultValue: undefined, requestable: false },\n    rangeAxisMaxValue: { defaultValue: undefined, requestable: false },\n    rangeAxisMinValue: { defaultValue: undefined, requestable: false },\n    rangeAxisSteps: { defaultValue: undefined, requestable: false },\n    regressionType: { defaultValue: 'NONE', requestable: false },\n    showData: { defaultValue: true, requestable: false },\n    targetLineLabel: { defaultValue: undefined, requestable: false },\n    targetLineValue: { defaultValue: undefined, requestable: false },\n    // legendDisplayStrategy\n    // legendSet\n    aggregationType: { defaultValue: 'DEFAULT', requestable: true },\n    completedOnly: { defaultValue: false, requestable: true },\n    hideSubtitle: { defaultValue: false, requestable: false },\n    hideTitle: { defaultValue: false, requestable: false },\n    sortOrder: { defaultValue: '0', requestable: false },\n    subtitle: { defaultValue: undefined, requestable: false },\n    title: { defaultValue: undefined, requestable: false },\n\n    // only for PT XXX\n    colTotals: { defaultValue: false, requestable: false },\n    colSubTotals: { defaultValue: false, requestable: false },\n    rowTotals: { defaultValue: false, requestable: false },\n    rowSubTotals: { defaultValue: false, requestable: false },\n    showDimensionLabels: { defaultValue: false, requestable: false },\n    hideEmptyColumns: { defaultValue: false, requestable: true },\n    hideEmptyRows: { defaultValue: false, requestable: true },\n    skipRounding: { defaultValue: false, requestable: true },\n    numberType: { defaultValue: 'VALUE', requestable: false },\n    showHierarchy: { defaultValue: false, requestable: true },\n    legendSet: { defaultValue: 'NONE', requestable: false }, // XXX can be 'BY_DATA_ITEM'\n    legendDisplayStyle: { defaultValue: 'FILL', requestable: false },\n    displayDensity: { defaultValue: 'NORMAL', requestable: false },\n    fontSize: { defaultValue: 'NORMAL', requestable: false },\n    digitGroupSeparator: { defaultValue: 'SPACE', requestable: false },\n\n    // XXX these are stored in the AO under reportParams\n    paramReportingPeriod: { defaultValue: false, requestable: false },\n    paramOrganisationUnit: { defaultValue: false, requestable: false },\n    paramParentOrganisationUnit: { defaultValue: false, requestable: false },\n    // XXX not in UI\n    paramGrandParentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n    },\n    regression: { defaultValue: false, requestable: false },\n    cumulative: { defaultValue: false, requestable: false },\n    measureCriteria: { defaultValue: undefined, requestable: true },\n    topLimit: { defaultValue: '0', requestable: false },\n}\n\nexport const computedOptions = {\n    baseLine: { defaultValue: false, requestable: false },\n    targetLine: { defaultValue: false, requestable: false },\n    axisRange: { defaultValue: undefined, requestable: false },\n}\n\nexport default options\n\nexport const getOptionsForUi = () => {\n    return Object.entries({ ...options, ...computedOptions }).reduce(\n        (map, [option, props]) => {\n            map[option] = props.defaultValue\n\n            return map\n        },\n        {}\n    )\n}\n\nexport const getOptionsForRequest = () => {\n    return Object.entries(options).filter(\n        entry => entry[1].requestable // entry = [option, props]\n    )\n}\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n    return Boolean(\n        optionsFromVisualization[prop] &&\n            optionsFromVisualization[prop] !== options[prop].defaultValue\n    )\n}\n\nexport const getOptionsFromVisualization = visualization => {\n    const optionsFromVisualization = {\n        ...getOptionsForUi(),\n        ...pick(visualization, Object.keys(options)),\n    }\n\n    optionsFromVisualization.baseLine =\n        isNotDefault(optionsFromVisualization, 'baseLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'baseLineValue')\n\n    optionsFromVisualization.targetLine =\n        isNotDefault(optionsFromVisualization, 'targetLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'targetLineValue')\n\n    // nested options under reportParams\n    if (visualization.reportParams) {\n        optionsFromVisualization.paramOrganisationUnit =\n            visualization.reportParams.paramOrganisationUnit\n        optionsFromVisualization.paramReportingPeriod =\n            visualization.reportParams.paramReportingPeriod\n        optionsFromVisualization.paramParentOrganisationUnit =\n            visualization.reportParams.paramParentOrganisationUnit\n        optionsFromVisualization.paramGrandParentOrganisationUnit =\n            visualization.reportParams.paramGrandParentOrganisationUnit\n    }\n\n    return optionsFromVisualization\n}\n","export const computeGenericPeriodNames = responses => {\n    const xAxisRes = responses.reduce((out, res) => {\n        if (out.metaData) {\n            if (\n                res.metaData.dimensions.pe.length >\n                out.metaData.dimensions.pe.length\n            ) {\n                out = res\n            }\n        } else {\n            out = res\n        }\n\n        return out\n    }, {})\n\n    const metadata = xAxisRes.metaData\n\n    return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n        const name = metadata.items[periodId].name\n\n        // until the day the backend will support this in the API:\n        // trim off the trailing year in the period name\n        // english names should all have the year at the end of the string\n        genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''))\n\n        return genericPeriodNames\n    }, [])\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport isEqual from 'lodash-es/isEqual'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    isYearOverYear,\n    isSingleValue,\n    createVisualization,\n} from '@dhis2/analytics'\n\nimport {\n    apiFetchAnalytics,\n    apiFetchAnalyticsForYearOverYear,\n} from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\nimport { computeGenericPeriodNames } from './modules/analytics'\n\nclass ChartPlugin extends Component {\n    constructor(props) {\n        super(props)\n\n        this.canvasRef = React.createRef()\n\n        this.recreateVisualization = Function.prototype\n    }\n\n    componentDidMount() {\n        this.renderChart()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(this.props.config, prevProps.config)) {\n            this.renderChart()\n            return\n        }\n\n        if (!isEqual(this.props.filters, prevProps.filters)) {\n            this.renderChart()\n            return\n        }\n\n        // id set by DV app, style works in dashboards\n        if (\n            this.props.id !== prevProps.id ||\n            !isEqual(this.props.style, prevProps.style)\n        ) {\n            this.recreateVisualization(0) // disable animation\n            return\n        }\n    }\n\n    getRequestOptions = (visualization, filters) => {\n        const options = getOptionsForRequest().reduce(\n            (map, [option, props]) => {\n                // only add parameter if value !== default\n                if (\n                    visualization[option] !== undefined &&\n                    visualization[option] !== props.defaultValue\n                ) {\n                    map[option] = visualization[option]\n                }\n\n                return map\n            },\n            {}\n        )\n\n        // interpretation filter\n        if (filters.relativePeriodDate) {\n            options.relativePeriodDate = filters.relativePeriodDate\n        }\n\n        // global filters\n        // userOrgUnit\n        if (filters.userOrgUnit && filters.userOrgUnit.length) {\n            const ouIds = filters.userOrgUnit.map(\n                ouPath => ouPath.split('/').slice(-1)[0]\n            )\n\n            options.userOrgUnit = ouIds.join(';')\n        }\n\n        return options\n    }\n\n    renderChart = async () => {\n        const {\n            config: visualization,\n            filters,\n            forDashboard,\n            onResponsesReceived,\n            onChartGenerated,\n            onError,\n            onLoadingComplete,\n        } = this.props\n\n        try {\n            const options = this.getRequestOptions(visualization, filters)\n\n            const extraOptions = {\n                dashboard: forDashboard,\n                noData: { text: i18n.t('No data') },\n            }\n\n            let responses = []\n\n            if (isYearOverYear(visualization.type)) {\n                let yearlySeriesLabels = []\n\n                ;({\n                    responses,\n                    yearlySeriesLabels,\n                } = await apiFetchAnalyticsForYearOverYear(\n                    this.props.d2,\n                    visualization,\n                    options\n                ))\n\n                extraOptions.yearlySeries = yearlySeriesLabels\n                extraOptions.xAxisLabels = computeGenericPeriodNames(responses)\n            } else {\n                responses = await apiFetchAnalytics(\n                    this.props.d2,\n                    visualization,\n                    options\n                )\n            }\n\n            if (responses.length) {\n                onResponsesReceived(responses)\n            }\n\n            this.recreateVisualization = (animation = this.props.animation) => {\n                const visualizationConfig = createVisualization(\n                    responses,\n                    visualization,\n                    this.canvasRef.current,\n                    {\n                        ...extraOptions,\n                        animation,\n                    },\n                    undefined,\n                    undefined,\n                    isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n                )\n\n                if (isSingleValue(visualization.type)) {\n                    onChartGenerated(visualizationConfig.visualization)\n                } else {\n                    onChartGenerated(\n                        visualizationConfig.visualization.getSVGForExport({\n                            sourceHeight: 768,\n                            sourceWidth: 1024,\n                        })\n                    )\n                }\n            }\n\n            this.recreateVisualization()\n\n            onLoadingComplete()\n        } catch (error) {\n            onError(error)\n        }\n    }\n\n    render() {\n        return <div ref={this.canvasRef} style={this.props.style} />\n    }\n}\n\nChartPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    forDashboard: false,\n    style: {},\n    animation: 200,\n    onError: Function.prototype,\n    onChartGenerated: Function.prototype,\n    onLoadingComplete: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nChartPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    animation: PropTypes.number,\n    filters: PropTypes.object,\n    forDashboard: PropTypes.bool,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onChartGenerated: PropTypes.func,\n    onLoadingComplete: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default ChartPlugin\n","import React, { useState, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { apiFetchAnalytics } from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\n\nimport { PivotTable } from '@dhis2/analytics'\n\nconst getRequestOptions = (visualization, filters) => {\n    const options = getOptionsForRequest().reduce((map, [option, props]) => {\n        // only add parameter if value !== default\n        if (\n            visualization[option] !== undefined &&\n            visualization[option] !== props.defaultValue\n        ) {\n            map[option] = visualization[option]\n        }\n\n        return map\n    }, {})\n\n    // interpretation filter\n    if (filters.relativePeriodDate) {\n        options.relativePeriodDate = filters.relativePeriodDate\n    }\n\n    // global filters\n    // userOrgUnit\n    if (filters.userOrgUnit && filters.userOrgUnit.length) {\n        const ouIds = filters.userOrgUnit.map(\n            ouPath => ouPath.split('/').slice(-1)[0]\n        )\n\n        options.userOrgUnit = ouIds.join(';')\n    }\n\n    return options\n}\n\nconst PivotPlugin = ({\n    config,\n    filters,\n    style,\n    onError,\n    onResponsesReceived,\n    d2,\n    onLoadingComplete,\n}) => {\n    const [visualization, setVisualization] = useState(null)\n    const [data, setData] = useState(null)\n\n    useEffect(() => {\n        const options = getRequestOptions(config, filters)\n        apiFetchAnalytics(d2, config, options)\n            .then(responses => {\n                if (!responses.length) {\n                    return\n                }\n                if (onResponsesReceived) {\n                    onResponsesReceived(responses)\n                }\n                setVisualization(config)\n                setData(responses[0].response)\n                onLoadingComplete()\n            })\n            .catch(error => {\n                onError(error)\n            })\n\n        // TODO: cancellation\n    }, [config, filters, onResponsesReceived, onError, d2, onLoadingComplete])\n\n    return (\n        <div style={{ width: '100%', height: '100%', ...style }}>\n            <PivotTable visualization={visualization} data={data} />\n        </div>\n    )\n}\n\nPivotPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    style: {},\n    onError: Function.prototype,\n    onLoadingComplete: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nPivotPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    filters: PropTypes.object,\n    style: PropTypes.object,\n    onLoadingComplete: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default PivotPlugin\n","import React from 'react'\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\n\nimport ChartPlugin from './ChartPlugin'\nimport PivotPlugin from './PivotPlugin'\n\nconst VisualizationPlugin = props => {\n    if (!props.config.type || props.config.type === VIS_TYPE_PIVOT_TABLE) {\n        return <PivotPlugin {...props} />\n    } else {\n        return <ChartPlugin {...props} />\n    }\n}\n\nexport default VisualizationPlugin\n","import { colors, spacers } from '@dhis2/ui-core';\nexport default {\n  outer: {\n    display: 'flex',\n    justifyContent: 'center',\n    height: '100%'\n  },\n  inner: {\n    padding: `${spacers.dp16} ${spacers.dp24}`,\n    maxWidth: 600,\n    boxSizing: 'border-box',\n    color: colors.grey900,\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  errorContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    textAlign: 'center'\n  },\n  errorIcon: {\n    width: '136px',\n    height: '136px',\n    margin: '0 auto 24px'\n  },\n  errorTitle: {\n    fontWeight: '500',\n    fontSize: '20px',\n    color: colors.grey800,\n    letterSpacing: '0.15px',\n    lineHeight: '24px',\n    width: '360px',\n    margin: '0 auto 12px'\n  },\n  errorDescription: {\n    fontWeight: '400',\n    fontSize: '14px',\n    color: colors.grey700,\n    lineHeight: '19px',\n    width: '360px',\n    margin: '0 auto'\n  },\n  title: {\n    fontWeight: 'bold',\n    marginTop: 0,\n    lineHeight: '22px',\n    color: colors.grey700\n  },\n  section: {\n    textAlign: 'left',\n    background: '#fff',\n    padding: 20,\n    marginBottom: 20,\n    borderRadius: 5\n  },\n  guide: {\n    lineHeight: '18px',\n    letterSpacing: '0.1px',\n    listStylePosition: 'outside',\n    margin: '0 0 0 12px',\n    padding: '0 0 0 10px'\n  },\n  guideItem: {\n    fontSize: '14px',\n    lineHeight: '18px',\n    letterSpacing: '0.1px',\n    marginBottom: '12px'\n  },\n  visualization: {\n    display: 'flex',\n    alignItems: 'center',\n    margin: '0 0 12px 0',\n    padding: 0,\n    letterSpacing: '0.1px',\n    lineHeight: '16px',\n    cursor: 'pointer',\n    fontSize: '14px',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  },\n  visIcon: {\n    height: '16px',\n    '& svg': {\n      height: '16px',\n      marginRight: '8px'\n    }\n  }\n};","export const apiFetchMostViewedVisualizations = (engine, pageSize) => {\n  const visualizationQuery = {\n    visualization: {\n      resource: 'dataStatistics/favorites',\n      params: {\n        eventType: 'VISUALIZATION_VIEW',\n        pageSize: pageSize || 10\n      }\n    }\n  };\n  return engine.query(visualizationQuery);\n};","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport i18n from '@dhis2/d2-i18n';\nimport styles from './styles/StartScreen.style';\nimport { sGetLoadError } from '../../reducers/loader';\nimport PropTypes from 'prop-types';\nimport { apiFetchMostViewedVisualizations } from '../../api/mostViewedVisualizations';\nimport history from '../../modules/history';\nimport { withStyles } from '@material-ui/core/styles';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { VisualizationError } from '../../modules/error';\nimport { GenericError } from '../../assets/ErrorIcons';\nimport { apiFetchVisualizations } from '../../api/visualization';\nimport { visTypeIcons } from '@dhis2/analytics';\n\nconst StartScreen = ({\n  error,\n  classes\n}) => {\n  const [mostViewedVisualizations, setMostViewedVisualizations] = useState([]);\n  const engine = useDataEngine();\n  useEffect(() => {\n    async function populateMostViewedVisualizations(engine) {\n      const mostViewedVisualizationsResult = await apiFetchMostViewedVisualizations(engine, 6);\n      const visualizations = mostViewedVisualizationsResult.visualization;\n\n      if (visualizations && visualizations.length) {\n        const visualizationsResult = await apiFetchVisualizations(engine, visualizations.map(vis => vis.id));\n        const visualizationsWithType = visualizationsResult.visualization.visualizations;\n        const result = visualizations.map(vis => ({ ...visualizationsWithType.find(visWithType => visWithType.id === vis.id && visWithType),\n          ...vis\n        }));\n        setMostViewedVisualizations(result);\n      }\n    }\n\n    populateMostViewedVisualizations(engine);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getContent = () => error ? getErrorContent() : <div>\n                <div style={styles.section}>\n                    <h3 style={styles.title}>Getting started</h3>\n                    <ul style={styles.guide}>\n                        <li style={styles.guideItem}>\n                            All dimensions that you can use to build\n                            visualizations are shown in the left sidebar\n                        </li>\n                        <li style={styles.guideItem}>\n                            Add dimensions to the layout above\n                        </li>\n                        <li style={styles.guideItem}>\n                            Double click a dimension to add or remove items\n                        </li>\n                    </ul>\n                </div>\n                {mostViewedVisualizations.length > 0 && <div style={styles.section}>\n                        <h3 style={styles.title}>\n                            Most viewed charts and tables\n                        </h3>\n                        {mostViewedVisualizations.map((visualization, index) => <p key={index} className={classes.visualization} onClick={() => history.push(`/${visualization.id}`)}>\n                                    <span className={classes.visIcon}>\n                                        {visTypeIcons[visualization.type]}\n                                    </span>\n                                    <span>{visualization.name}</span>\n                                </p>)}\n                    </div>}\n            </div>;\n\n  const getErrorContent = () => error instanceof VisualizationError ? <div style={styles.errorContainer}>\n                <div style={styles.errorIcon}>{error.icon()}</div>\n                <p style={styles.errorTitle}>{error.title}</p>\n                <p style={styles.errorDescription}>{error.description}</p>\n            </div> : <div style={styles.errorContainer}>\n                <div style={styles.errorIcon}>{GenericError()}</div>\n                <p style={styles.errorTitle}>\n                    {i18n.t('Something went wrong')}\n                </p>\n                <p style={styles.errorDescription}>{error.message || error}</p>\n            </div>;\n\n  return <div style={styles.outer}>\n            <div style={styles.inner}>{getContent()}</div>\n        </div>;\n};\n\nStartScreen.propTypes = {\n  classes: PropTypes.object,\n  error: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  error: sGetLoadError(state)\n});\n\nexport default connect(mapStateToProps)(withStyles(styles)(StartScreen));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2,\n    maxWidth: 200,\n    textAlign: 'center',\n    alignSelf: 'center'\n  },\n  outer: {\n    display: 'flex',\n    justifyContent: 'center',\n    height: '100%'\n  }\n});\n\nfunction CircularIndeterminate(props) {\n  const {\n    classes\n  } = props;\n  return <div className={classes.outer}>\n            <CircularProgress className={classes.progress} />\n        </div>;\n}\n\nCircularIndeterminate.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(CircularIndeterminate);","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport debounce from 'lodash-es/debounce';\nimport styles from './styles/Visualization.style';\nimport VisualizationPlugin from '@dhis2/data-visualizer-plugin';\nimport { sGetVisualization } from '../../reducers/visualization';\nimport { sGetCurrent } from '../../reducers/current';\nimport { sGetUiRightSidebarOpen, sGetUiInterpretation } from '../../reducers/ui';\nimport { sGetLoadError, sGetIsPluginLoading } from '../../reducers/loader';\nimport { acAddMetadata } from '../../actions/metadata';\nimport { acSetChart } from '../../actions/chart';\nimport { acSetLoadError, acSetPluginLoading } from '../../actions/loader';\nimport StartScreen from './StartScreen';\nimport { AssignedCategoriesDataElementsError, GenericServerError, EmptyResponseError, AssignedCategoriesAsFilterError } from '../../modules/error';\nimport LoadingMask from './LoadingMask';\nexport class Visualization extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      renderId: null\n    };\n  }\n\n  onError = response => {\n    let error;\n\n    if (response) {\n      if (response.errorCode === 'E7114') {\n        error = new AssignedCategoriesDataElementsError();\n      } else if (response.errorCode === 'E7110') {\n        error = new AssignedCategoriesAsFilterError();\n      } else {\n        error = response;\n      }\n    } else {\n      error = new GenericServerError();\n    }\n\n    this.props.setLoadError(error);\n  };\n  onChartGenerated = svg => this.props.setChart(svg);\n  onResponsesReceived = responses => {\n    const forMetadata = {};\n    responses.forEach(response => {\n      if (!response.rows || !response.rows.length) {\n        throw new EmptyResponseError();\n      }\n\n      Object.entries(response.metaData.items).forEach(([id, item]) => {\n        forMetadata[id] = {\n          id,\n          name: item.name || item.displayName,\n          displayName: item.displayName\n        };\n      });\n    });\n    this.props.addMetadata(forMetadata);\n  };\n  getNewRenderId = () => this.setState({\n    renderId: typeof this.state.renderId === 'number' ? this.state.renderId + 1 : 1\n  });\n  addResizeHandler = () => {\n    window.addEventListener('resize', debounce(() => {\n      this.getNewRenderId();\n    }, 300));\n  };\n\n  componentDidMount() {\n    this.addResizeHandler();\n  }\n\n  componentDidUpdate(prevProps) {\n    // open sidebar\n    if (this.props.rightSidebarOpen !== prevProps.rightSidebarOpen) {\n      this.getNewRenderId();\n    }\n  }\n\n  render() {\n    const {\n      visConfig,\n      visFilters,\n      error\n    } = this.props;\n    const {\n      renderId\n    } = this.state;\n    return !visConfig || error ? <StartScreen /> : <Fragment>\n                {this.props.isLoading ? <div style={styles.loadingCover}>\n                        <LoadingMask />\n                    </div> : null}\n                <VisualizationPlugin id={renderId} d2={this.context.d2} config={visConfig} filters={visFilters} onChartGenerated={this.onChartGenerated} onLoadingComplete={this.props.onLoadingComplete} onResponsesReceived={this.onResponsesReceived} onError={this.onError} style={styles.chartCanvas} />\n            </Fragment>;\n  }\n\n}\nVisualization.contextTypes = {\n  d2: PropTypes.object\n};\nVisualization.propTypes = {\n  addMetadata: PropTypes.func,\n  error: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rightSidebarOpen: PropTypes.bool,\n  setChart: PropTypes.func,\n  setLoadError: PropTypes.func,\n  visConfig: PropTypes.object,\n  visFilters: PropTypes.object,\n  onLoadingComplete: PropTypes.func\n};\nexport const visConfigSelector = createSelector([sGetCurrent, sGetVisualization, sGetUiInterpretation], (current, visualization, interpretation) => interpretation.id ? visualization : current);\nexport const visFiltersSelector = createSelector([sGetUiInterpretation], interpretation => interpretation.created ? {\n  relativePeriodDate: interpretation.created\n} : {});\n\nconst mapStateToProps = state => ({\n  visConfig: visConfigSelector(state),\n  visFilters: visFiltersSelector(state),\n  rightSidebarOpen: sGetUiRightSidebarOpen(state),\n  error: sGetLoadError(state),\n  isLoading: sGetIsPluginLoading(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onLoadingComplete: () => dispatch(acSetPluginLoading(false)),\n  addMetadata: metadata => dispatch(acAddMetadata(metadata)),\n  setChart: chart => dispatch(acSetChart(chart)),\n  setLoadError: error => dispatch(acSetLoadError(error))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Visualization);","import { SET_CHART } from '../reducers/chart';\nexport const acSetChart = value => ({\n  type: SET_CHART,\n  value\n});","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst MoreHorizontalIcon = ({\n  style\n}) => {\n  return <svg style={{ ...style\n  }} xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"24\" viewBox=\"0 0 24 24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n        </svg>;\n};\n\nMoreHorizontalIcon.propTypes = {\n  style: PropTypes.object\n};\nexport default MoreHorizontalIcon;","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  icon: {\n    width: 22,\n    height: 22,\n    background: 'none',\n    color: colors.black,\n    padding: 0\n  }\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport { DimensionMenu, DIMENSION_ID_ASSIGNED_CATEGORIES } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport * as fromReducers from '../../reducers';\nimport MoreHorizontalIcon from '../../assets/MoreHorizontalIcon';\nimport { styles } from './styles/Menu.style';\nimport { acSetUiActiveModalDialog, acAddUiLayoutDimensions, acRemoveUiLayoutDimensions } from '../../actions/ui';\nimport { AXIS_SETUP_DIALOG_ID } from '../AxisSetup/AxisSetup';\n\nclass ChipMenu extends React.Component {\n  state = {\n    anchorEl: null\n  };\n  handleClick = event => {\n    event.stopPropagation();\n    this.setState({\n      anchorEl: event.currentTarget\n    });\n  };\n  handleClose = () => {\n    // event.stopPropagation();\n    this.setState({\n      anchorEl: null\n    });\n  };\n  getMenuId = () => `menu-for-${this.props.id}`;\n\n  render() {\n    return <React.Fragment>\n                <IconButton aria-owns={this.state.anchorEl ? this.getMenuId() : null} aria-haspopup=\"true\" onClick={this.handleClick} style={styles.icon}>\n                    <MoreHorizontalIcon style={styles.icon} />\n                </IconButton>\n                <DimensionMenu dimensionId={this.props.dimensionId} currentAxisId={this.props.currentAxisId} visType={this.props.visType} numberOfDimensionItems={this.props.numberOfDimensionItems} dualAxisItemHandler={this.props.dualAxisItemHandler} isAssignedCategoriesInLayout={this.props.layoutHasAssignedCategories} assignedCategoriesItemHandler={destination => this.props.assignedCategoriesItemHandler(this.props.layoutHasAssignedCategories, destination)} axisItemHandler={this.props.axisItemHandler} removeItemHandler={this.props.removeItemHandler} anchorEl={this.state.anchorEl} onClose={this.handleClose} />\n            </React.Fragment>;\n  }\n\n}\n\nChipMenu.propTypes = {\n  assignedCategoriesItemHandler: PropTypes.func,\n  axisItemHandler: PropTypes.func,\n  currentAxisId: PropTypes.string,\n  dimensionId: PropTypes.string,\n  dualAxisItemHandler: PropTypes.func,\n  id: PropTypes.string,\n  layoutHasAssignedCategories: PropTypes.bool,\n  numberOfDimensionItems: PropTypes.number,\n  removeItemHandler: PropTypes.func,\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => {\n  return {\n    layoutHasAssignedCategories: fromReducers.fromUi.sLayoutHasAssignedCategories(state)\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  dualAxisItemHandler: () => dispatch(acSetUiActiveModalDialog(AXIS_SETUP_DIALOG_ID)),\n  axisItemHandler: (dimensionId, axisId) => {\n    dispatch(acAddUiLayoutDimensions({\n      [dimensionId]: {\n        axisId\n      }\n    }));\n  },\n  removeItemHandler: dimensionId => {\n    dispatch(acRemoveUiLayoutDimensions(dimensionId));\n  },\n  assignedCategoriesItemHandler: (layoutHasAssignedCategories, axisId) => {\n    dispatch(layoutHasAssignedCategories ? acRemoveUiLayoutDimensions(DIMENSION_ID_ASSIGNED_CATEGORIES) : acAddUiLayoutDimensions({\n      [DIMENSION_ID_ASSIGNED_CATEGORIES]: {\n        axisId\n      }\n    }));\n  }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChipMenu);","import { colors } from '@dhis2/ui-core';\nexport const styles = {\n  tooltip: {\n    fontFamily: 'roboto',\n    padding: '7px 9px',\n    color: colors.white,\n    fontSize: '12px',\n    backgroundColor: colors.grey900,\n    boxShadow: 'none',\n    borderRadius: '3px',\n    position: 'relative',\n    top: '5px',\n    maxWidth: '300px'\n  },\n  list: {\n    listStyleType: 'none',\n    margin: '0px',\n    marginBottom: '-3px',\n    padding: '0px'\n  },\n  item: {\n    marginBottom: '3px',\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  icon: {\n    fontSize: '13px',\n    marginRight: '6px'\n  },\n  iconWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: '5px'\n  },\n  warningLabel: {\n    whiteSpace: 'normal'\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Popper from '@material-ui/core/Popper';\nimport Paper from '@material-ui/core/Paper';\nimport i18n from '@dhis2/d2-i18n';\nimport LockIcon from '@material-ui/icons/Lock';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { sGetMetadata } from '../../reducers/metadata';\nimport { styles } from './styles/Tooltip.style';\nconst labels = {\n  noneSelected: i18n.t('None selected'),\n  onlyOneInUse: name => i18n.t(\"Only '{{- name}}' in use\", {\n    name\n  }),\n  onlyLimitedNumberInUse: number => i18n.t(\"Only '{{number}}' in use\", {\n    number\n  })\n};\nexport class Tooltip extends React.Component {\n  getWarningLabel = () => {\n    const {\n      itemIds,\n      metadata,\n      displayLimitedAmount\n    } = this.props;\n    const warningLabel = itemIds.length === 1 ? labels.onlyOneInUse(metadata[itemIds[0]] ? metadata[itemIds[0]].name : itemIds[0]) : labels.onlyLimitedNumberInUse(itemIds.length);\n    return displayLimitedAmount ? warningLabel : null;\n  };\n  getItemDisplayNames = () => {\n    const {\n      itemIds,\n      metadata,\n      displayLimitedAmount\n    } = this.props;\n    return itemIds.length && !displayLimitedAmount ? itemIds.map(id => metadata[id] ? metadata[id].name : id) : [];\n  };\n  renderWarningLabel = warningLabel => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <WarningIcon style={styles.icon} />\n                <span style={styles.warningLabel}>{warningLabel}</span>\n            </div>\n        </li>;\n  renderItems = itemDisplayNames => itemDisplayNames.map(name => <li key={`${this.props.dimensionId}-${name}`} style={styles.item}>\n                {name}\n            </li>);\n  renderLockedLabel = () => <li style={styles.item}>\n            <div style={styles.iconWrapper}>\n                <LockIcon style={styles.icon} />\n                <span>{this.props.lockedLabel}</span>\n            </div>\n        </li>;\n  renderNoItemsLabel = () => <li key={`${this.props.dimensionId}-${labels.noneSelected}`} style={styles.item}>\n            {labels.noneSelected}\n        </li>;\n\n  render() {\n    const itemDisplayNames = this.getItemDisplayNames();\n    const warningLabel = this.getWarningLabel();\n    const hasNoItemsLabel = !itemDisplayNames.length && !warningLabel;\n    return <Popper anchorEl={this.props.anchorEl} open={this.props.open} placement=\"bottom-start\">\n                <Paper style={styles.tooltip}>\n                    {<ul style={styles.list}>\n                            {warningLabel && this.renderWarningLabel(warningLabel)}\n                            {this.props.lockedLabel && this.renderLockedLabel()}\n                            {itemDisplayNames && this.renderItems(itemDisplayNames)}\n                            {hasNoItemsLabel && this.renderNoItemsLabel()}\n                        </ul>}\n                </Paper>\n            </Popper>;\n  }\n\n}\nTooltip.propTypes = {\n  anchorEl: PropTypes.object.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  metadata: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  displayLimitedAmount: PropTypes.bool,\n  itemIds: PropTypes.array,\n  lockedLabel: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  metadata: sGetMetadata(state)\n});\n\nexport default connect(mapStateToProps)(Tooltip);","const DATA_TYPE_TEXT = 'text';\nexport const setDataTransfer = (e, source) => {\n  e.dataTransfer.setData(DATA_TYPE_TEXT, JSON.stringify({\n    dimensionId: e.target.dataset.dimensionid,\n    source\n  }));\n};\nexport const decodeDataTransfer = e => JSON.parse(e.dataTransfer.getData(DATA_TYPE_TEXT));","import React from 'react';\n\nconst DynamicDimensionIcon = () => {\n  return <svg width=\"16px\" height=\"16px\" viewBox=\"0 0 16 16\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"Exp\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                <g id=\"Artboard\" transform=\"translate(-80.000000, -9.000000)\">\n                    <g id=\"icon_dimension_new\" transform=\"translate(80.000000, 9.000000)\">\n                        <rect id=\"frame\" x=\"0\" y=\"0\" width=\"16\" height=\"16\" />\n                        <g id=\"module\" transform=\"translate(4.000000, 4.000000)\" stroke=\"#000000\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                            <path d=\"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L0.322,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,2.72795833 L6.678,1.48195833\" id=\"Shape\" />\n                            <path d=\"M3.5,6.78125 L3.5,2.72795833\" id=\"Shape\" />\n                        </g>\n                    </g>\n                </g>\n            </g>\n        </svg>;\n};\n\nexport default DynamicDimensionIcon;","import { colors, theme } from '@dhis2/ui-core'; // Layout\n\nexport const LAYOUT_HEIGHT = '78px'; // Axis\n\nexport const AXIS_PADDING = '4px 4px 2px 6px';\nexport const AXIS_LABEL_PADDING = '2px 0px 0px 4px';\nexport const AXIS_BORDER_COLOR = colors.grey300;\nexport const AXIS_BORDER_STYLE = 'solid';\nexport const AXIS_BORDER_WIDTH = '0px 0px 1px 1px';\nexport const AXIS_BACKGROUND_COLOR = colors.white; // Chip\n\nexport const CHIP_COLOR = colors.grey900;\nexport const CHIP_FONT_WEIGHT = 400;\nexport const CHIP_FONT_SIZE = '14px';\nexport const CHIP_BACKGROUND_COLOR = theme.secondary200;\nexport const CHIP_HEIGHT = '14px';\nexport const CHIP_MARGIN = '4px';\nexport const CHIP_PADDING = '1px 6px';\nexport const CHIP_BORDER_RADIUS = '2px';","import { colors } from '@dhis2/ui-core';\nimport * as layoutStyle from './style';\nconst baseChip = {\n  padding: layoutStyle.CHIP_PADDING,\n  fontSize: layoutStyle.CHIP_FONT_SIZE,\n  fontWeight: layoutStyle.CHIP_FONT_WEIGHT,\n  color: layoutStyle.CHIP_COLOR,\n  cursor: 'pointer',\n  minHeight: 24,\n  userSelect: 'none'\n};\nexport const styles = {\n  chipWrapper: {\n    display: 'flex',\n    margin: layoutStyle.CHIP_MARGIN,\n    backgroundColor: layoutStyle.CHIP_BACKGROUND_COLOR,\n    borderRadius: layoutStyle.CHIP_BORDER_RADIUS,\n    alignItems: 'center',\n    maxWidth: '400px'\n  },\n  chip: { ...baseChip,\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  },\n  chipEmpty: {\n    backgroundColor: colors.grey300\n  },\n  fixedDimensionIcon: {\n    paddingRight: '6px'\n  },\n  iconWrapper: {\n    paddingRight: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  warningIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  warningIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  lockIcon: {\n    fontSize: layoutStyle.CHIP_FONT_SIZE\n  },\n  lockIconWrapper: {\n    paddingLeft: '6px',\n    display: 'flex',\n    alignItems: 'center'\n  },\n  label: {\n    whiteSpace: 'nowrap',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis'\n  }\n};\nstyles.chipLeft = { ...baseChip,\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n  display: 'flex',\n  borderTopRightRadius: '0px',\n  borderBottomRightRadius: '0px',\n  alignItems: 'center'\n};\nstyles.chipRight = { ...baseChip,\n  paddingLeft: '0px',\n  borderTopLeftRadius: '0px',\n  borderBottomLeftRadius: '0px'\n};","// TODO: Refactor chip to contain less logic\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport LockIcon from '@material-ui/icons/Lock';\nimport i18n from '@dhis2/d2-i18n';\nimport { getPredefinedDimensionProp, getAxisMaxNumberOfItems, hasAxisTooManyItems, getDisplayNameByVisType, getAxisName, DIMENSION_ID_ASSIGNED_CATEGORIES, isDimensionLocked, DIMENSION_PROP_NO_ITEMS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport Menu from './Menu';\nimport Tooltip from './Tooltip';\nimport { setDataTransfer } from '../../modules/dnd';\nimport { sGetDimensions } from '../../reducers/dimensions';\nimport { sGetUiItemsByDimension, sGetUiType } from '../../reducers/ui';\nimport DynamicDimensionIcon from '../../assets/DynamicDimensionIcon';\nimport { styles } from './styles/Chip.style';\nimport { acSetUiActiveModalDialog } from '../../actions/ui';\nconst TOOLTIP_ENTER_DELAY = 500;\nconst LockIconWrapper = <div style={styles.lockIconWrapper}>\n        <LockIcon style={styles.lockIcon} />\n    </div>;\nconst WarningIconWrapper = <div style={styles.warningIconWrapper}>\n        <WarningIcon style={styles.warningIcon} />\n    </div>;\n\nclass Chip extends React.Component {\n  state = {\n    tooltipOpen: false\n  };\n  id = Math.random().toString(36);\n  timeout = null;\n  isLocked = () => isDimensionLocked(this.props.type, this.props.dimensionId);\n  getMaxNumberOfItems = () => getAxisMaxNumberOfItems(this.props.type, this.props.axisId);\n  handleMouseOver = () => {\n    if (this.timeout === null) {\n      this.timeout = setTimeout(() => this.setState({\n        tooltipOpen: true\n      }), TOOLTIP_ENTER_DELAY);\n    }\n  };\n  handleMouseOut = () => {\n    if (typeof this.timeout === 'number') {\n      clearTimeout(this.timeout);\n      this.timeout = null;\n      this.setState({\n        tooltipOpen: false\n      });\n    }\n  };\n  handleClick = () => {\n    if (!getPredefinedDimensionProp(this.props.dimensionId, DIMENSION_PROP_NO_ITEMS)) {\n      this.props.getOpenHandler(this.props.dimensionId);\n    }\n\n    this.handleMouseOut();\n  };\n  getDragStartHandler = () => event => {\n    this.handleMouseOut();\n    setDataTransfer(event, this.props.axisId);\n  };\n  getAnchorEl = () => document.getElementById(this.id);\n  getWrapperStyles = () => ({ ...styles.chipWrapper,\n    ...(!getPredefinedDimensionProp(this.props.dimensionId, DIMENSION_PROP_NO_ITEMS) && !this.props.items.length ? styles.chipEmpty : {})\n  });\n  renderChipLabelSuffix = () => {\n    const numberOfItems = this.props.items.length;\n    const getItemsLabel = !!this.getMaxNumberOfItems() && numberOfItems > this.getMaxNumberOfItems() ? i18n.t(`{{total}} of {{axisMaxNumberOfItems}} selected`, {\n      total: numberOfItems,\n      axisMaxNumberOfItems: this.getMaxNumberOfItems()\n    }) : i18n.t('{{total}} selected', {\n      total: numberOfItems\n    });\n    return `${this.props.items.length > 0 ? `: ${getItemsLabel}` : ''}`;\n  };\n  renderChipIcon = () => {\n    const Icon = getPredefinedDimensionProp(this.props.dimensionId, 'icon');\n    return Icon ? <Icon style={styles.fixedDimensionIcon} /> : <DynamicDimensionIcon style={styles.dynamicDimensionIcon} />;\n  };\n  renderMenu = () => <div style={styles.chipRight}>\n            <Menu dimensionId={this.props.dimensionId} currentAxisId={this.props.axisId} visType={this.props.type} numberOfDimensionItems={this.props.items.length} />\n        </div>;\n  renderTooltip = () => {\n    if (this.props.dimensionId !== DIMENSION_ID_ASSIGNED_CATEGORIES) {\n      const activeItemIds = this.getMaxNumberOfItems() ? this.props.items.slice(0, this.getMaxNumberOfItems()) : this.props.items;\n      const lockedLabel = this.isLocked() ? i18n.t(`{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}`, {\n        dimensionName: this.props.dimensionName,\n        axisName: getAxisName(this.props.axisId),\n        visTypeName: getDisplayNameByVisType(this.props.type)\n      }) : null;\n      return <Tooltip dimensionId={this.props.dimensionId} itemIds={activeItemIds} lockedLabel={lockedLabel} displayLimitedAmount={this.props.items.length > activeItemIds.length} open={this.state.tooltipOpen} anchorEl={this.getAnchorEl()} />;\n    }\n  };\n  render = () => <div style={this.getWrapperStyles()} data-dimensionid={this.props.dimensionId} draggable={!this.isLocked()} onDragStart={this.getDragStartHandler()}>\n            <div id={this.id} style={styles.chipLeft} onClick={this.handleClick} onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n                <div style={styles.iconWrapper}>{this.renderChipIcon()}</div>\n                <span style={styles.label}>{this.props.dimensionName}</span>\n                <span>{this.renderChipLabelSuffix()}</span>\n                {hasAxisTooManyItems(this.props.type, this.props.axisId, this.props.items.length) && WarningIconWrapper}\n                {this.isLocked() && LockIconWrapper}\n            </div>\n            {!this.isLocked() && this.renderMenu()}\n            {this.getAnchorEl() && this.renderTooltip()}\n        </div>;\n}\n\nChip.propTypes = {\n  axisId: PropTypes.string.isRequired,\n  dimensionId: PropTypes.string.isRequired,\n  dimensionName: PropTypes.string.isRequired,\n  getOpenHandler: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired,\n  items: PropTypes.array\n};\nChip.defaultProps = {\n  items: []\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  dimensionName: (sGetDimensions(state)[ownProps.dimensionId] || {}).name,\n  items: sGetUiItemsByDimension(state, ownProps.dimensionId) || [],\n  type: sGetUiType(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dimensionId => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chip);","import { colors } from '@dhis2/ui-core';\nimport * as layoutStyle from '../../styles/style';\nexport default {\n  axisContainer: {\n    display: 'flex',\n    backgroundColor: layoutStyle.AXIS_BACKGROUND_COLOR,\n    borderColor: layoutStyle.AXIS_BORDER_COLOR,\n    borderStyle: layoutStyle.AXIS_BORDER_STYLE,\n    borderWidth: layoutStyle.AXIS_BORDER_WIDTH,\n    padding: layoutStyle.AXIS_PADDING\n  },\n  axisContainerLeft: {\n    borderLeftWidth: 0\n  },\n  label: {\n    minWidth: 55,\n    maxWidth: 55,\n    padding: '2px 0px 0px 0px',\n    fontSize: 11,\n    color: colors.grey700,\n    userSelect: 'none',\n    letterSpacing: '0.2px'\n  },\n  content: {\n    width: '100%',\n    display: 'flex',\n    alignItems: 'flex-start',\n    alignContent: 'flex-start',\n    flexWrap: 'wrap',\n    minHeight: 32,\n    '& > div': {\n      cursor: 'pointer'\n    }\n  }\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Droppable, Draggable } from 'react-beautiful-dnd';\nimport { getAxisName, isDimensionLocked } from '@dhis2/analytics';\nimport { withStyles } from '@material-ui/core';\nimport Chip from '../Chip';\nimport { sGetUi, sGetUiLayout, sGetUiType } from '../../../reducers/ui';\nimport { acSetUiActiveModalDialog } from '../../../actions/ui';\nimport styles from './styles/DefaultAxis.style';\n\nclass Axis extends React.Component {\n  onDragOver = e => {\n    e.preventDefault();\n  };\n\n  render() {\n    const {\n      axisId,\n      axis,\n      style,\n      type,\n      getOpenHandler\n    } = this.props;\n    return <div id={axisId} style={{ ...styles.axisContainer,\n      ...style\n    }} onDragOver={this.onDragOver}>\n                <div style={styles.label}>\n                    {this.props.label || getAxisName(axisId)}\n                </div>\n                <Droppable droppableId={axisId} direction=\"horizontal\">\n                    {provided => <div className={this.props.classes.content} ref={provided.innerRef} {...provided.droppableProps}>\n                            {axis.map((dimensionId, index) => {\n            const key = `${axisId}-${dimensionId}`;\n            return <Draggable key={key} draggableId={key} index={index} isDragDisabled={isDimensionLocked(type, dimensionId)}>\n                                        {provided => <div ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n                                                <Chip onClick={getOpenHandler(dimensionId)} axisId={axisId} dimensionId={dimensionId} />\n                                            </div>}\n                                    </Draggable>;\n          })}\n                            {provided.placeholder}\n                        </div>}\n                </Droppable>\n            </div>;\n  }\n\n}\n\nAxis.propTypes = {\n  axis: PropTypes.array,\n  axisId: PropTypes.string,\n  classes: PropTypes.object,\n  getMoveHandler: PropTypes.func,\n  getOpenHandler: PropTypes.func,\n  getRemoveHandler: PropTypes.func,\n  label: PropTypes.string,\n  layout: PropTypes.object,\n  style: PropTypes.object,\n  type: PropTypes.string,\n  ui: PropTypes.object,\n  onOpenAxisSetup: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  ui: sGetUi(state),\n  type: sGetUiType(state),\n  layout: sGetUiLayout(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOpenHandler: dimensionId => () => dispatch(acSetUiActiveModalDialog(dimensionId))\n});\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => {\n  return { ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n    axis: stateProps.ui.layout[ownProps.axisId]\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, mergeProps)(withStyles(styles)(Axis));","import { LAYOUT_HEIGHT } from '../../styles/style'; // Axis\n\nexport const FILTER_AXIS_WIDTH = '67%';\nexport const DIMENSION_AXIS_CONTENT_HEIGHT = '36px'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  ct: {\n    display: 'flex',\n    minHeight: LAYOUT_HEIGHT\n  },\n  axisGroup: {\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  },\n  columns: {\n    flexBasis: '50%'\n  },\n  rows: {\n    flexBasis: '50%'\n  },\n  filters: {\n    flexBasis: '100%'\n  }\n};","import React from 'react';\nimport DefaultAxis from './DefaultAxis';\nimport styles from './styles/DefaultLayout.style';\nimport defaultAxisStyles from './styles/DefaultAxis.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={styles.ct}>\n        <div id=\"axis-group-1\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId=\"columns\" style={{ ...styles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n            <DefaultAxis axisId=\"rows\" style={{ ...styles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...styles.axisGroup,\n    ...styles.axisGroupRight\n  }}>\n            <DefaultAxis axisId=\"filters\" style={styles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nexport default Layout;","export default {\n  content: {\n    flex: '1 1 0%'\n  }\n};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getAxisName } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport YearOverYearAxisStyles from './styles/YearOverYearAxis.style';\n\nconst YearOverYearAxis = props => <div id={props.axisId} style={{ ...defaultAxisStyles.axisContainer,\n  ...props.style\n}}>\n        <div className=\"label\" style={defaultAxisStyles.label}>\n            {getAxisName(props.axisId)}\n        </div>\n        <div className=\"content\" style={{ ...defaultAxisStyles.content,\n    ...YearOverYearAxisStyles.content\n  }}>\n            {props.children}\n        </div>\n    </div>;\n\nYearOverYearAxis.propTypes = {\n  axisId: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nexport default connect(mapStateToProps)(YearOverYearAxis);","export default {\n  displayProps: {\n    background: 'transparent',\n    marginLeft: '4px'\n  }\n};","import React from 'react';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport PropTypes from 'prop-types';\nimport styles from './styles/YearOverYearSelect.style';\n\nclass YearOverYearSelect extends React.Component {\n  state = {\n    open: false\n  };\n  handleClose = () => {\n    this.setState({\n      open: false\n    });\n  };\n  handleOpen = () => {\n    this.setState({\n      open: true\n    });\n  };\n\n  render() {\n    return <Select disableUnderline multiple={Boolean(this.props.multiple)} open={this.state.open} onChange={this.props.onChange} onClose={this.handleClose} onOpen={this.handleOpen} value={this.props.value} SelectDisplayProps={{\n      style: styles.displayProps\n    }}>\n                {this.props.options.map(option => <MenuItem key={option.id} value={option.id}>\n                        {option.name}\n                    </MenuItem>)}\n            </Select>;\n  }\n\n}\n\nYearOverYearSelect.propTypes = {\n  multiple: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  onChange: PropTypes.func\n};\nexport default YearOverYearSelect;","import { FILTER_AXIS_WIDTH } from '../../DefaultLayout/styles/DefaultLayout.style'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import i18n from '@dhis2/d2-i18n'; // Fixed years generator\n\nconst getFixedYears = len => {\n  let year = new Date().getFullYear();\n  return new Array(len).fill(null).map(() => ({\n    id: String(year),\n    name: year--\n  }));\n}; // Options for the year on year series dropdown\n\n\nexport const seriesOptions = [{\n  id: 'THIS_YEAR',\n  name: i18n.t('This year')\n}, {\n  id: 'LAST_YEAR',\n  name: i18n.t('Last year')\n}, {\n  id: 'LAST_5_YEARS',\n  name: i18n.t('Last 5 years')\n}, ...getFixedYears(10)]; // Options for the year on year category dropdown\n\nexport const categoryOptions = [{\n  id: 'LAST_3_DAYS',\n  name: i18n.t('Last 3 days')\n}, {\n  id: 'LAST_7_DAYS',\n  name: i18n.t('Last 7 days')\n}, {\n  id: 'LAST_14_DAYS',\n  name: i18n.t('Last 14 days')\n}, {\n  id: 'LAST_4_WEEKS',\n  name: i18n.t('Last 4 weeks')\n}, {\n  id: 'LAST_12_WEEKS',\n  name: i18n.t('Last 12 weeks')\n}, {\n  id: 'LAST_52_WEEKS',\n  name: i18n.t('Last 52 weeks')\n}, {\n  id: 'WEEKS_THIS_YEAR',\n  name: i18n.t('Weeks per year')\n}, {\n  id: 'LAST_3_MONTHS',\n  name: i18n.t('Last 3 months')\n}, {\n  id: 'LAST_6_MONTHS',\n  name: i18n.t('Last 6 months')\n}, {\n  id: 'LAST_12_MONTHS',\n  name: i18n.t('Last 12 months')\n}, {\n  id: 'MONTHS_THIS_YEAR',\n  name: i18n.t('Months per year')\n}, {\n  id: 'LAST_6_BIMONTHS',\n  name: i18n.t('Last 6 bimonths')\n}, {\n  id: 'BIMONTHS_THIS_YEAR',\n  name: i18n.t('Bimonths per year')\n}, {\n  id: 'LAST_4_QUARTERS',\n  name: i18n.t('Last 4 quarters')\n}, {\n  id: 'QUARTERS_THIS_YEAR',\n  name: i18n.t('Quarters per year')\n}, {\n  id: 'LAST_2_SIXMONTHS',\n  name: i18n.t('Last 2 six-months')\n}];","import React from 'react';\nimport { connect } from 'react-redux';\nimport { AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport PropTypes from 'prop-types';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\nimport YearOverYearAxis from './YearOverYearAxis';\nimport YearOverYearSelect from './YearOverYearSelect';\nimport YearOverYearLayoutStyles from './styles/YearOverYearLayout.style';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport { sGetUiYearOverYearSeries, sGetUiYearOverYearCategory } from '../../../reducers/ui';\nimport { acSetUiYearOverYearSeries, acSetUiYearOverYearCategory } from '../../../actions/ui';\nimport { seriesOptions, categoryOptions } from '../../../modules/yearOverYear';\n\nconst Layout = props => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupLeft\n  }}>\n            <YearOverYearAxis axisId=\"yearOverYearSeries\" style={{ ...defaultLayoutStyles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect multiple=\"true\" value={props.yearOverYearSeries} onChange={props.onSeriesChange} options={seriesOptions} />\n            </YearOverYearAxis>\n            <YearOverYearAxis axisId=\"yearOverYearCategory\" style={{ ...defaultLayoutStyles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }}>\n                <YearOverYearSelect value={props.yearOverYearCategory[0]} onChange={props.onCategoryChange} options={categoryOptions} />\n            </YearOverYearAxis>\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...YearOverYearLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nLayout.propTypes = {\n  yearOverYearCategory: PropTypes.array,\n  yearOverYearSeries: PropTypes.array,\n  onCategoryChange: PropTypes.func,\n  onSeriesChange: PropTypes.func\n};\n\nconst mapStateToProps = state => ({\n  yearOverYearSeries: sGetUiYearOverYearSeries(state),\n  yearOverYearCategory: sGetUiYearOverYearCategory(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  onSeriesChange: event => {\n    if (event.target.value.length) {\n      dispatch(acSetUiYearOverYearSeries(event.target.value));\n    }\n  },\n  onCategoryChange: event => dispatch(acSetUiYearOverYearCategory(event.target.value))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);","import React from 'react';\nimport { AXIS_ID_COLUMNS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId={AXIS_ID_COLUMNS} style={{ ...defaultLayoutStyles.filters,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...defaultLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nexport default Layout;","// Axis\nexport const FILTER_AXIS_WIDTH = '50%'; // Axis (generated)\n\nexport const DIMENSION_AXIS_WIDTH = `${100 - parseInt(FILTER_AXIS_WIDTH, 10)}%`;\nexport default {\n  axisGroupLeft: {\n    flexBasis: DIMENSION_AXIS_WIDTH\n  },\n  axisGroupRight: {\n    flexBasis: FILTER_AXIS_WIDTH\n  }\n};","import React from 'react';\nimport i18n from '@dhis2/d2-i18n';\nimport { AXIS_ID_COLUMNS, AXIS_ID_ROWS, AXIS_ID_FILTERS } from '@dhis2/analytics';\nimport DefaultAxis from '../DefaultLayout/DefaultAxis';\nimport defaultAxisStyles from '../DefaultLayout/styles/DefaultAxis.style';\nimport defaultLayoutStyles from '../DefaultLayout/styles/DefaultLayout.style';\nimport pivotTableLayoutStyles from './styles/PivotTableLayout.style';\n\nconst Layout = () => <div id=\"layout-ct\" style={defaultLayoutStyles.ct}>\n        <div id=\"axis-group-1\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupLeft\n  }}>\n            <DefaultAxis axisId={AXIS_ID_COLUMNS} label={i18n.t('Columns')} style={{ ...defaultLayoutStyles.columns,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n            <DefaultAxis axisId={AXIS_ID_ROWS} label={i18n.t('Rows')} style={{ ...defaultLayoutStyles.rows,\n      ...defaultAxisStyles.axisContainerLeft\n    }} />\n        </div>\n        <div id=\"axis-group-2\" style={{ ...defaultLayoutStyles.axisGroup,\n    ...pivotTableLayoutStyles.axisGroupRight\n  }}>\n            <DefaultAxis axisId={AXIS_ID_FILTERS} style={defaultLayoutStyles.filters} />\n        </div>\n    </div>;\n\nLayout.displayName = 'Layout';\nexport default Layout;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { LAYOUT_TYPE_DEFAULT, LAYOUT_TYPE_PIE, LAYOUT_TYPE_YEAR_OVER_YEAR, LAYOUT_TYPE_PIVOT_TABLE, getLayoutTypeByVisType } from '@dhis2/analytics';\nimport DefaultLayout from './DefaultLayout/DefaultLayout';\nimport YearOverYearLayout from './YearOverYearLayout/YearOverYearLayout';\nimport PieLayout from './PieLayout/PieLayout';\nimport { sGetUiType } from '../../reducers/ui';\nimport PivotTableLayout from './PivotTableLayout/PivotTableLayout';\nconst componentMap = {\n  [LAYOUT_TYPE_DEFAULT]: DefaultLayout,\n  [LAYOUT_TYPE_PIE]: PieLayout,\n  [LAYOUT_TYPE_YEAR_OVER_YEAR]: YearOverYearLayout,\n  [LAYOUT_TYPE_PIVOT_TABLE]: PivotTableLayout\n};\n\nconst Layout = ({\n  visType\n}) => {\n  const layoutType = getLayoutTypeByVisType(visType);\n  const LayoutComponent = componentMap[layoutType];\n  return <LayoutComponent visType={visType} />;\n};\n\nLayout.propTypes = {\n  visType: PropTypes.string\n};\n\nconst mapStateToProps = state => ({\n  visType: sGetUiType(state)\n});\n\nexport default connect(mapStateToProps, null)(Layout);","import i18n from '@dhis2/d2-i18n';\nexport const relativePeriods = {\n  TODAY: i18n.t('Today'),\n  YESTERDAY: i18n.t('Yesterday'),\n  LAST_3_DAYS: i18n.t('Last 3 days'),\n  LAST_7_DAYS: i18n.t('Last 7 days'),\n  LAST_14_DAYS: i18n.t('Last 14 days'),\n  THIS_WEEK: i18n.t('This week'),\n  LAST_WEEK: i18n.t('Last week'),\n  LAST_4_WEEKS: i18n.t('Last 4 weeks'),\n  LAST_12_WEEKS: i18n.t('Last 12 weeks'),\n  LAST_52_WEEKS: i18n.t('Last 52 weeks'),\n  WEEKS_THIS_YEAR: i18n.t('Weeks this year'),\n  THIS_MONTH: i18n.t('This month'),\n  LAST_MONTH: i18n.t('Last month'),\n  LAST_3_MONTHS: i18n.t('Last 3 months'),\n  LAST_6_MONTHS: i18n.t('Last 6 months'),\n  LAST_12_MONTHS: i18n.t('Last 12 months'),\n  MONTHS_THIS_YEAR: i18n.t('Months this year'),\n  THIS_BIMONTH: i18n.t('This bimonth'),\n  LAST_BIMONTH: i18n.t('Last bimonth'),\n  LAST_6_BIMONTHS: i18n.t('Last 6 bimonths'),\n  BIMONTHS_THIS_YEAR: i18n.t('Bimonths this year'),\n  THIS_QUARTER: i18n.t('This quarter'),\n  LAST_QUARTER: i18n.t('Last quarter'),\n  LAST_4_QUARTERS: i18n.t('Last 4 quarters'),\n  QUARTERS_THIS_YEAR: i18n.t('Quarters this year'),\n  THIS_SIX_MONTH: i18n.t('This six-month'),\n  LAST_SIX_MONTH: i18n.t('Last six-month'),\n  LAST_2_SIXMONTHS: i18n.t('Last 2 six-months'),\n  THIS_FINANCIAL_YEAR: i18n.t('This financial year'),\n  LAST_FINANCIAL_YEAR: i18n.t('Last financial year'),\n  LAST_5_FINANCIAL_YEARS: i18n.t('Last 5 financial years'),\n  THIS_YEAR: i18n.t('This year'),\n  LAST_YEAR: i18n.t('Last year'),\n  LAST_5_YEARS: i18n.t('Last 5 years')\n};\nexport const organisationUnits = {\n  USER_ORGUNIT: i18n.t('User org unit'),\n  USER_ORGUNIT_CHILDREN: i18n.t('User org unit children'),\n  USER_ORGUNIT_GRANDCHILDREN: i18n.t('User org unit grand children')\n}; // return {name: <string>} as value\n\nexport default (function () {\n  return Object.entries({ ...relativePeriods,\n    ...organisationUnits\n  }).reduce((obj, [key, value]) => ({ ...obj,\n    [key]: {\n      name: value\n    }\n  }), {});\n})();","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport i18n from '@dhis2/d2-i18n';\nimport { CssVariables } from '@dhis2/ui-core';\nimport DndContext from './DndContext';\nimport Snackbar from '../components/Snackbar/Snackbar';\nimport MenuBar from './MenuBar/MenuBar';\nimport TitleBar from './TitleBar/TitleBar';\nimport VisualizationTypeSelector from './VisualizationTypeSelector/VisualizationTypeSelector';\nimport DimensionsPanel from './DimensionsPanel/DimensionsPanel';\nimport Interpretations from './Interpretations/Interpretations';\nimport Visualization from './Visualization/Visualization';\nimport Layout from './Layout/Layout';\nimport * as fromReducers from '../reducers';\nimport * as fromActions from '../actions';\nimport history from '../modules/history';\nimport defaultMetadata from '../modules/metadata';\nimport { apiFetchAOFromUserDataStore, CURRENT_AO_KEY } from '../api/userDataStore';\nimport './App.css';\nimport './scrollbar.css';\nimport { getParentGraphMapFromVisualization } from '../modules/ui';\nimport AxisSetup from './AxisSetup/AxisSetup';\nexport class App extends Component {\n  unlisten = null;\n  apiObjectName = 'visualization';\n  state = {\n    previousLocation: null,\n    initialLoadIsComplete: false\n  };\n  /**\n   * The following cases require a fetch/refetch of the AO\n   * - enter a new url (causing a page load)\n   * - file->open (same or different AO)\n   * - file->saveAs\n   */\n\n  refetch = location => {\n    if (!this.state.previousLocation) {\n      return true;\n    }\n\n    const id = location.pathname.slice(1).split('/')[0];\n    const prevId = this.state.previousLocation.slice(1).split('/')[0];\n\n    if (id !== prevId || this.state.previousLocation === location.pathname) {\n      return true;\n    }\n\n    return false;\n  };\n  loadVisualization = async location => {\n    const {\n      store\n    } = this.context;\n\n    if (location.pathname.length > 1) {\n      // /currentAnalyticalObject\n      // /${id}/\n      // /${id}/interpretation/${interpretationId}\n      const pathParts = location.pathname.slice(1).split('/');\n      const id = pathParts[0];\n      const interpretationId = pathParts[2];\n      const urlContainsCurrentAOKey = id === CURRENT_AO_KEY;\n\n      if (urlContainsCurrentAOKey) {\n        const AO = await apiFetchAOFromUserDataStore();\n        this.props.addParentGraphMap(getParentGraphMapFromVisualization(AO));\n        this.props.setVisualization(AO);\n        this.props.setUiFromVisualization(AO);\n        this.props.setCurrentFromUi(this.props.ui);\n      }\n\n      if (!urlContainsCurrentAOKey && this.refetch(location)) {\n        await store.dispatch(fromActions.tDoLoadVisualization({\n          id,\n          interpretationId,\n          ouLevels: this.props.ouLevels\n        }));\n      }\n\n      if (!interpretationId) {\n        store.dispatch(fromActions.fromUi.acClearUiInterpretation());\n      }\n    } else {\n      fromActions.clearVisualization(store.dispatch, store.getState);\n      fromActions.fromUi.acClearUiInterpretation(store.dispatch);\n    }\n\n    this.setState({\n      initialLoadIsComplete: true\n    });\n    this.setState({\n      previousLocation: location.pathname\n    });\n  };\n  componentDidMount = async () => {\n    const {\n      store\n    } = this.context;\n    const {\n      d2,\n      userSettings\n    } = this.props;\n    await store.dispatch(fromActions.fromSettings.tAddSettings(userSettings));\n    store.dispatch(fromActions.fromUser.acReceivedUser(d2.currentUser));\n    store.dispatch(fromActions.fromDimensions.tSetDimensions(d2));\n    const rootOrgUnit = this.props.settings.rootOrganisationUnit;\n    store.dispatch(fromActions.fromMetadata.acAddMetadata({ ...defaultMetadata,\n      [rootOrgUnit.id]: { ...rootOrgUnit,\n        path: `/${rootOrgUnit.id}`\n      }\n    }));\n    this.loadVisualization(this.props.location);\n    this.unlisten = history.listen(location => {\n      this.loadVisualization(location);\n    });\n    document.body.addEventListener('keyup', e => e.key === 'Enter' && e.ctrlKey === true && this.props.setCurrentFromUi(this.props.ui));\n  };\n\n  componentWillUnmount() {\n    if (this.unlisten) {\n      this.unlisten();\n    }\n  }\n\n  getChildContext() {\n    return {\n      baseUrl: this.props.baseUrl,\n      i18n,\n      d2: this.props.d2\n    };\n  }\n\n  render() {\n    return <>\n                <AxisSetup />\n                <div className=\"data-visualizer-app flex-ct flex-dir-col\">\n                    <div className=\"section-toolbar flex-ct\">\n                        <div className=\"toolbar-type\">\n                            <VisualizationTypeSelector />\n                        </div>\n                        <div className=\"toolbar-menubar flex-grow-1\">\n                            <MenuBar apiObjectName={this.apiObjectName} />\n                        </div>\n                    </div>\n                    <div className=\"section-main flex-grow-1 flex-ct\">\n                        <DndContext>\n                            <div className=\"main-left\">\n                                <DimensionsPanel />\n                            </div>\n                            <div className=\"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col\">\n                                <div className=\"main-center-layout\">\n                                    <Layout />\n                                </div>\n                                <div className=\"main-center-titlebar\">\n                                    <TitleBar />\n                                </div>\n                                <div className=\"main-center-canvas flex-grow-1\">\n                                    {this.state.initialLoadIsComplete && <Visualization />}\n                                </div>\n                            </div>\n                        </DndContext>\n                        {this.props.ui.rightSidebarOpen && this.props.current && <div className=\"main-right\">\n                                <Interpretations type={this.apiObjectName} id={this.props.current.id} />\n                            </div>}\n                    </div>\n                </div>\n                <Snackbar />\n                <CssVariables colors spacers />\n            </>;\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  settings: fromReducers.fromSettings.sGetSettings(state),\n  current: fromReducers.fromCurrent.sGetCurrent(state),\n  interpretations: fromReducers.fromVisualization.sGetInterpretations(state),\n  ui: fromReducers.fromUi.sGetUi(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentFromUi: ui => dispatch(fromActions.fromCurrent.acSetCurrentFromUi(ui)),\n  setVisualization: visualization => dispatch(fromActions.fromVisualization.acSetVisualization(visualization)),\n  setUiFromVisualization: visualization => dispatch(fromActions.fromUi.acSetUiFromVisualization(visualization)),\n  addParentGraphMap: parentGraphMap => dispatch(fromActions.fromUi.acAddParentGraphMap(parentGraphMap))\n});\n\nApp.contextTypes = {\n  store: PropTypes.object\n};\nApp.childContextTypes = {\n  d2: PropTypes.object,\n  baseUrl: PropTypes.string,\n  i18n: PropTypes.object\n};\nApp.propTypes = {\n  addParentGraphMap: PropTypes.func,\n  baseUrl: PropTypes.string,\n  current: PropTypes.object,\n  d2: PropTypes.object,\n  location: PropTypes.object,\n  ouLevels: PropTypes.array,\n  setCurrentFromUi: PropTypes.func,\n  setUiFromVisualization: PropTypes.func,\n  setVisualization: PropTypes.func,\n  settings: PropTypes.object,\n  ui: PropTypes.object,\n  userSettings: PropTypes.object\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import { createMuiTheme } from '@material-ui/core/styles';\nimport dhis2theme from '@dhis2/d2-ui-core/theme/mui3.theme';\nexport const theme = { ...dhis2theme\n};\nexport default createMuiTheme(theme);","import React from 'react';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport { useDataEngine } from '@dhis2/app-runtime';\nimport { D2Shim } from './D2Shim';\nimport configureStore from './configureStore';\nimport metadataMiddleware from './middleware/metadata';\nimport App from './components/App';\nimport muiTheme from './modules/theme';\n\nconst AppWrapper = () => {\n  const engine = useDataEngine();\n  const store = configureStore([thunk.withExtraArgument(engine), metadataMiddleware]);\n\n  if (window.Cypress) {\n    window.store = store;\n  }\n\n  const schemas = ['visualization', 'organisationUnit', 'userGroup'];\n  return <Provider store={store}>\n            <MuiThemeProvider theme={muiTheme}>\n                <D2Shim schemas={schemas}>\n                    {params => <App {...params} />}\n                </D2Shim>\n            </MuiThemeProvider>\n        </Provider>;\n};\n\nexport default AppWrapper;"],"sourceRoot":""}