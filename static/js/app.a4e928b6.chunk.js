(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[115],{1255:function(e,t,a){e.exports={container:"Snackbar_container__3g0Vn"}},1719:function(e,t,a){e.exports={menuButton:"MenuButton_menuButton__1AF2U"}},1720:function(e,t,a){e.exports={backdrop:"DownloadMenu_backdrop__3RHIU",menuSectionTitle:"DownloadMenu_menuSectionTitle__3DttW"}},1725:function(e,t,a){e.exports={icon:"InterpretationsButton_icon__o3tNb"}},1730:function(e,t,a){e.exports={menuBar:"MenuBar_menuBar__3-AXT",updateButton:"MenuBar_updateButton__1NS3q",grow:"MenuBar_grow__1w_QG"}},1731:function(e,t,a){"use strict";(function(e){t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"undefined"!==typeof e.Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(a,{year:"numeric",month:"short",day:"numeric"}).format(new Date(t)):t.substr(0,19).replace("T"," ")}}).call(this,a(243))},1733:function(e,t,a){e.exports={button:"AddToLayoutButton_button__8dlEv"}},1735:function(e,t,a){e.exports={notDragging:"DndDimensionItem_notDragging__3jgQJ",dragging:"DndDimensionItem_dragging__1uXIT"}},1736:function(e,t,a){e.exports={container:"DndDimensionList_container__DCFRx",wrapper:"DndDimensionList_wrapper__1gYqU",list:"DndDimensionList_list__1sErz",header:"DndDimensionList_header__Ugsfp",section:"DndDimensionList_section__1KL69"}},1737:function(e,t,a){e.exports={container:"DndDimensionsPanel_container__1gaeS"}},1738:function(e,t,a){e.exports={table:"AxisSetup_table__2qUt0",nameColumn:"AxisSetup_nameColumn__85zW_",axisColumn:"AxisSetup_axisColumn__LKHIm",coloredColumn:"AxisSetup_coloredColumn__2gOaV",centered:"AxisSetup_centered__2hFhj"}},1891:function(e,t,a){e.exports={outer:"StartScreen_outer__2nbkE",inner:"StartScreen_inner__2exeL",errorContainer:"StartScreen_errorContainer__u2dgL",errorIcon:"StartScreen_errorIcon__1QTyz",errorTitle:"StartScreen_errorTitle__2Ksw9",errorDescription:"StartScreen_errorDescription__syq9m",title:"StartScreen_title__2-0vP",section:"StartScreen_section__3ITr1",guide:"StartScreen_guide__d793i",guideItem:"StartScreen_guideItem__13mvT",visualization:"StartScreen_visualization__3FqSm",visIcon:"StartScreen_visIcon__2SFAA"}},1892:function(e,t,a){e.exports={progress:"LoadingMask_progress__2bHzE",outer:"LoadingMask_outer__d-GDr"}},1893:function(e,t,a){e.exports={iconButton:"IconButton_iconButton__2bUtk"}},1894:function(e,t,a){e.exports={content:"DefaultAxis_content__VAbLV"}},1895:function(e,t,a){},1896:function(e,t,a){},1904:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_VISUALIZATION",(function(){return G})),a.d(n,"CLEAR_VISUALIZATION",(function(){return B})),a.d(n,"DEFAULT_VISUALIZATION",(function(){return Y})),a.d(n,"default",(function(){return F})),a.d(n,"sGetVisualization",(function(){return H})),a.d(n,"sGetInterpretations",(function(){return q}));var r={};a.r(r),a.d(r,"SET_UI",(function(){return Oe})),a.d(r,"SET_UI_FROM_VISUALIZATION",(function(){return Ie})),a.d(r,"SET_UI_TYPE",(function(){return _e})),a.d(r,"SET_UI_OPTIONS",(function(){return Se})),a.d(r,"SET_UI_LAYOUT",(function(){return xe})),a.d(r,"ADD_UI_LAYOUT_DIMENSIONS",(function(){return Ae})),a.d(r,"REMOVE_UI_LAYOUT_DIMENSIONS",(function(){return Te})),a.d(r,"SET_UI_ITEMS",(function(){return je})),a.d(r,"ADD_UI_ITEMS",(function(){return De})),a.d(r,"REMOVE_UI_ITEMS",(function(){return we})),a.d(r,"SET_UI_PARENT_GRAPH_MAP",(function(){return Ne})),a.d(r,"ADD_UI_PARENT_GRAPH_MAP",(function(){return Ce})),a.d(r,"SET_UI_ACTIVE_MODAL_DIALOG",(function(){return Le})),a.d(r,"SET_UI_YEAR_ON_YEAR_SERIES",(function(){return Re})),a.d(r,"SET_UI_YEAR_ON_YEAR_CATEGORY",(function(){return ke})),a.d(r,"CLEAR_UI",(function(){return Ve})),a.d(r,"TOGGLE_UI_RIGHT_SIDEBAR_OPEN",(function(){return Me})),a.d(r,"SET_UI_RIGHT_SIDEBAR_OPEN",(function(){return Ue})),a.d(r,"SET_UI_INTERPRETATION",(function(){return Pe})),a.d(r,"CLEAR_UI_INTERPRETATION",(function(){return ze})),a.d(r,"SET_AXES",(function(){return Ge})),a.d(r,"DEFAULT_UI",(function(){return Be})),a.d(r,"PRESELECTED_YEAR_OVER_YEAR_SERIES",(function(){return Ye})),a.d(r,"PRESELECTED_YEAR_OVER_YEAR_CATEGORY",(function(){return Fe})),a.d(r,"default",(function(){return qe})),a.d(r,"sGetUi",(function(){return We})),a.d(r,"sGetUiType",(function(){return Xe})),a.d(r,"sGetUiOptions",(function(){return Qe})),a.d(r,"sGetUiLayout",(function(){return Ke})),a.d(r,"sGetUiItems",(function(){return Ze})),a.d(r,"sGetUiYearOverYearSeries",(function(){return Je})),a.d(r,"sGetUiYearOverYearCategory",(function(){return $e})),a.d(r,"sGetUiParentGraphMap",(function(){return et})),a.d(r,"sGetUiActiveModalDialog",(function(){return tt})),a.d(r,"sGetUiRightSidebarOpen",(function(){return at})),a.d(r,"sGetUiInterpretation",(function(){return nt})),a.d(r,"sGetAxes",(function(){return rt})),a.d(r,"getAxisIdByDimensionId",(function(){return it})),a.d(r,"sGetUiItemsByDimension",(function(){return lt})),a.d(r,"sGetDimensionIdsFromLayout",(function(){return ot})),a.d(r,"sLayoutHasDimension",(function(){return ct})),a.d(r,"sLayoutHasAssignedCategories",(function(){return st})),a.d(r,"sGetAxisSetup",(function(){return ut}));var i={};a.r(i),a.d(i,"SET_CURRENT",(function(){return Ot})),a.d(i,"SET_CURRENT_FROM_UI",(function(){return It})),a.d(i,"CLEAR_CURRENT",(function(){return _t})),a.d(i,"DEFAULT_CURRENT",(function(){return St})),a.d(i,"default",(function(){return At})),a.d(i,"sGetCurrent",(function(){return Tt})),a.d(i,"sGetCurrentFromUi",(function(){return jt}));var l={};a.r(l),a.d(l,"SET_DIMENSIONS",(function(){return Dt})),a.d(l,"SET_SELECTED_DIMENSION",(function(){return wt})),a.d(l,"default",(function(){return Ct})),a.d(l,"sGetDimensions",(function(){return Lt}));var o={};a.r(o),a.d(o,"SET_RECOMMENDED_IDS",(function(){return Rt})),a.d(o,"DEFAULT_RECOMMENDED_IDS",(function(){return kt})),a.d(o,"default",(function(){return Vt})),a.d(o,"sGetRecommendedIds",(function(){return Mt}));var c={};a.r(c),a.d(c,"SET_SETTINGS",(function(){return zt})),a.d(c,"ADD_SETTINGS",(function(){return Gt})),a.d(c,"DEFAULT_SETTINGS",(function(){return Bt})),a.d(c,"default",(function(){return Yt})),a.d(c,"sGetSettings",(function(){return Ft})),a.d(c,"sGetSettingsDisplayNameProperty",(function(){return Ht})),a.d(c,"sGetRootOrgUnit",(function(){return qt})),a.d(c,"sGetRelativePeriod",(function(){return Wt})),a.d(c,"sGetUiLocale",(function(){return Xt}));var s={};a.r(s),a.d(s,"RECEIVED_SNACKBAR_MESSAGE",(function(){return $t})),a.d(s,"CLEAR_SNACKBAR",(function(){return ea})),a.d(s,"DEFAULT_SNACKBAR",(function(){return ta})),a.d(s,"default",(function(){return aa})),a.d(s,"sGetSnackbar",(function(){return na}));var u={};a.r(u),a.d(u,"acAddMetadata",(function(){return da}));var d={};a.r(d),a.d(d,"acSetUi",(function(){return _a})),a.d(d,"acClear",(function(){return Sa})),a.d(d,"acSetUiFromVisualization",(function(){return xa})),a.d(d,"acSetUiType",(function(){return Aa})),a.d(d,"acSetUiOptions",(function(){return Ta})),a.d(d,"acSetUiLayout",(function(){return ja})),a.d(d,"acAddUiLayoutDimensions",(function(){return Da})),a.d(d,"acRemoveUiLayoutDimensions",(function(){return wa})),a.d(d,"acSetUiItems",(function(){return Na})),a.d(d,"acAddUiItems",(function(){return Ca})),a.d(d,"acRemoveUiItems",(function(){return La})),a.d(d,"acSetUiYearOverYearSeries",(function(){return Ra})),a.d(d,"acSetUiYearOverYearCategory",(function(){return ka})),a.d(d,"acAddParentGraphMap",(function(){return Va})),a.d(d,"acSetParentGraphMap",(function(){return Ma})),a.d(d,"acSetUiActiveModalDialog",(function(){return Ua})),a.d(d,"acToggleUiRightSidebarOpen",(function(){return Pa})),a.d(d,"acSetUiRightSidebarOpen",(function(){return za})),a.d(d,"acSetUiInterpretation",(function(){return Ga})),a.d(d,"acClearUiInterpretation",(function(){return Ba})),a.d(d,"acSetAxes",(function(){return Ya}));var m={};a.r(m),a.d(m,"acReceivedSnackbarMessage",(function(){return Xa})),a.d(m,"acClearSnackbar",(function(){return Qa}));var p={};a.r(p),a.d(p,"acSetVisualization",(function(){return Hn})),a.d(p,"acClear",(function(){return qn}));var f={};a.r(f),a.d(f,"acSetCurrent",(function(){return Wn})),a.d(f,"acClear",(function(){return Xn})),a.d(f,"acSetCurrentFromUi",(function(){return Qn})),a.d(f,"tSetCurrentFromUi",(function(){return Kn}));var b={};a.r(b),a.d(b,"acSetDimensions",(function(){return $n})),a.d(b,"tSetDimensions",(function(){return er}));var v={};a.r(v),a.d(v,"acSetSettings",(function(){return ar})),a.d(v,"acAddSettings",(function(){return nr})),a.d(v,"tAddSettings",(function(){return rr}));var E={};a.r(E),a.d(E,"acReceivedUser",(function(){return Nr})),a.d(E,"acSetUserAuthority",(function(){return Cr})),a.d(E,"tLoadUserAuthority",(function(){return Lr}));var h=a(1),y=a.n(h),g=a(226),O=a(537),I=a(28),_=a(20),S=a(364),x=a(232),A=a(22),T=a.n(A),j=a(289),D=["keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator","keyIgnoreAnalyticsApprovalYearThreshold"],w=function(e){return{displayNameProperty:"name"===e.keyAnalysisDisplayProperty?"displayName":"displayShortName",uiLocale:e.keyUiLocale}},N=function(e){return console.log("Error: ",e)},C=function(){var e="".concat("/organisationUnits","?paging=false&userDataViewFallback=true&fields=").concat(["id","displayName","name"].join(","));return Object(j.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnits[0]})).catch(N)},L=function(){var e="".concat("/organisationUnitLevels","?paging=false&fields=").concat(["id","name","displayName","level"].join(","));return Object(j.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnitLevels})).catch(N)},R=a(1900),k=Object(R.a)(),V=a(7),M=function(e){var t;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:(t=e.uiLocale)&&"en"!==t&&j.config.i18n.sources.add("./i18n_old/i18n_module_".concat(t,".properties")),j.config.i18n.sources.add("./i18n_old/i18n_module_en.properties");case 3:case"end":return a.stop()}}))},U=function(e){var t=e.children,a=Object(S.a)(e,["children"]),n=Object(I.b)(),r=Object(h.useState)(null),i=Object(_.a)(r,2),l=i[0],o=i[1];return Object(h.useEffect)((function(){(function(e,t){var a,n,r,i,l,o;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return a=e.baseUrl,n=e.apiVersion,r="".concat(a,"/api/").concat(n),j.config.baseUrl=r,c.t0=w,c.next=6,T.a.awrap(Object(j.getUserSettings)());case 6:return c.t1=c.sent,i=(0,c.t0)(c.t1),c.next=10,T.a.awrap(M(i));case 10:return c.next=12,T.a.awrap(Object(j.init)(Object(x.a)({},t,{baseUrl:r})));case 12:return l=c.sent,c.next=15,T.a.awrap(L());case 15:return o=c.sent,c.abrupt("return",{location:k.location,baseUrl:a,d2:l,userSettings:i,ouLevels:o});case 17:case"end":return c.stop()}}))})(n,a).then(o)}),[]),l?t(l):y.a.createElement(V.D,null,y.a.createElement(V.f,null))},P=a(19),z=a(307),G=(a(580),"SET_VISUALIZATION"),B="CLEAR_VISUALIZATION",Y=null,F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return t.value;case B:return Y;default:return e}},H=function(e){return e.visualization},q=function(e){return e.visualization?e.visualization.interpretations:[]},W=a(23),X=a(227),Q=a(534),K={baseLineLabel:{defaultValue:void 0,requestable:!1,savable:!0},baseLineValue:{defaultValue:void 0,requestable:!1,savable:!0},cumulativeValues:{defaultValue:!1,requestable:!1,savable:!0},domainAxisLabel:{defaultValue:void 0,requestable:!1,savable:!0},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1,savable:!0},hideLegend:{defaultValue:!1,requestable:!1,savable:!0},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1,savable:!0},percentStackedValues:{defaultValue:!1,requestable:!1,savable:!0},rangeAxisDecimals:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisLabel:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisMinValue:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisSteps:{defaultValue:void 0,requestable:!1,savable:!0},regressionType:{defaultValue:"NONE",requestable:!1,savable:!0},showData:{defaultValue:!0,requestable:!1,savable:!0},targetLineLabel:{defaultValue:void 0,requestable:!1,savable:!0},targetLineValue:{defaultValue:void 0,requestable:!1,savable:!0},aggregationType:{defaultValue:"DEFAULT",requestable:!0,savable:!0},completedOnly:{defaultValue:!1,requestable:!0,savable:!0},hideSubtitle:{defaultValue:!1,requestable:!1,savable:!0},hideTitle:{defaultValue:!1,requestable:!1,savable:!0},sortOrder:{defaultValue:"0",requestable:!1,savable:!0},subtitle:{defaultValue:void 0,requestable:!1,savable:!0},title:{defaultValue:void 0,requestable:!1,savable:!0},colTotals:{defaultValue:!1,requestable:!1,savable:!0},colSubTotals:{defaultValue:!1,requestable:!1,savable:!0},rowTotals:{defaultValue:!1,requestable:!1,savable:!0},rowSubTotals:{defaultValue:!1,requestable:!1,savable:!0},showDimensionLabels:{defaultValue:!1,requestable:!1,savable:!0},hideEmptyColumns:{defaultValue:!1,requestable:!1,savable:!0},hideEmptyRows:{defaultValue:!1,requestable:!1,savable:!0},skipRounding:{defaultValue:!1,requestable:!0,savable:!0},numberType:{defaultValue:"VALUE",requestable:!1,savable:!0},showHierarchy:{defaultValue:!1,requestable:!0,savable:!0},legendSet:{defaultValue:void 0,requestable:!1,savable:!0},legendDisplayStrategy:{defaultValue:"FIXED",requestable:!1,savable:!0},legendDisplayStyle:{defaultValue:"FILL",requestable:!1,savable:!0},displayDensity:{defaultValue:"NORMAL",requestable:!1,savable:!0},fontSize:{defaultValue:"NORMAL",requestable:!1,savable:!0},digitGroupSeparator:{defaultValue:"SPACE",requestable:!1,savable:!0},approvalLevel:{defaultValue:void 0,requestable:!0,savable:!1},reportingPeriod:{defaultValue:!1,requestable:!1,savable:!0},organisationUnit:{defaultValue:!1,requestable:!1,savable:!0},parentOrganisationUnit:{defaultValue:!1,requestable:!1,savable:!0},grandParentOrganisationUnit:{defaultValue:!1,requestable:!1,savable:!0},regression:{defaultValue:!1,requestable:!1,savable:!0},cumulative:{defaultValue:!1,requestable:!1,savable:!0},measureCriteria:{defaultValue:void 0,requestable:!0,savable:!0},topLimit:{defaultValue:"0",requestable:!1,savable:!0}},Z={baseLine:{defaultValue:!1,requestable:!1,savable:!1},targetLine:{defaultValue:!1,requestable:!1,savable:!1},axisRange:{defaultValue:void 0,requestable:!1,savable:!1},legend:{defaultValue:void 0,requestable:!1,savable:!1}},J=K,$=function(){return Object.entries(Object(x.a)({},K,{},Z)).reduce((function(e,t){var a=Object(_.a)(t,2),n=a[0],r=a[1];return e[n]=r.defaultValue,e}),{})},ee=function(e,t){return Boolean(e[t]&&e[t]!==K[t].defaultValue)},te=function(e){var t=Object(x.a)({},$(),{},Object(Q.a)(e,Object.keys(K)));return t.baseLine=ee(t,"baseLineLabel")||ee(t,"baseLineValue"),t.targetLine=ee(t,"targetLineLabel")||ee(t,"targetLineValue"),e.reportingParams&&(t.organisationUnit=e.reportingParams.organisationUnit,t.reportingPeriod=e.reportingParams.reportingPeriod,t.parentOrganisationUnit=e.reportingParams.parentOrganisationUnit,t.grandParentOrganisationUnit=e.reportingParams.grandParentOrganisationUnit),["baseLineValue","targetLineValue","sortOrder","topLimit"].forEach((function(a){Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=String(e[a]))})),t},ae=function(e,t){var a,n=Array.isArray(t)?t:[t];return a={},Object(W.a)(a,X.AXIS_ID_COLUMNS,e[X.AXIS_ID_COLUMNS].filter((function(e){return!n.includes(e)}))),Object(W.a)(a,X.AXIS_ID_ROWS,e[X.AXIS_ID_ROWS].filter((function(e){return!n.includes(e)}))),Object(W.a)(a,X.AXIS_ID_FILTERS,e[X.AXIS_ID_FILTERS].filter((function(e){return!n.includes(e)}))),a},ne=function(e){var t=Object.entries(e),a={};return t.forEach((function(e){var t=Object(_.a)(e,2),n=t[0];t[1].forEach((function(e){a[e]=n}))})),a},re=function(e,t,a){var n=ne(e),r=Object.keys(t),i={};return r.forEach((function(r){var l=n[r]||null,o=t[r].axisId,c=e[o]||[];if(Object(X.isAxisFull)(a,o,c.length)){var s=Object(X.getTransferableDimension)(a,o,e[o]);if(s){var u=l||Object(X.getAvailableAxes)(a).find((function(e){return!Object(X.getAxisMaxNumberOfDimensions)(a,e)}));i[s]={axisId:u}}}})),i},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(x.a)(Object(W.a)({},"name",e),t)},le={reportTable:[ie("cumulative",{option:!0}),ie("hideEmptyColumns",{option:!0}),ie("legendDisplayStyle",{option:!0}),ie("measureCriteria",{option:!0}),ie("numberType",{option:!0}),ie("regression",{option:!0}),ie("reportingParams",{option:!0}),ie("skipRounding",{option:!0})],chart:[ie("category",{excluded:!0}),ie("series",{excluded:!0}),ie("yearlySeries")],eventReport:[ie("dataType")],reportTable_eventReport:[ie("colSubTotals",{option:!0}),ie("colTotals",{option:!0}),ie("displayDensity",{option:!0}),ie("fontSize",{option:!0}),ie("hideEmptyRows",{option:!0}),ie("rowSubTotals",{option:!0}),ie("rowTotals",{option:!0}),ie("showDimensionLabels",{option:!0}),ie("showHierarchy",{option:!0})],chart_eventChart:[ie("baseLineLabel",{option:!0}),ie("baseLineValue",{option:!0}),ie("colorSet",{option:!0}),ie("cumulativeValues",{option:!0}),ie("domainAxisLabel",{option:!0}),ie("hideEmptyRowItems",{option:!0}),ie("hideLegend",{option:!0}),ie("noSpaceBetweenColumns",{option:!0}),ie("percentStackedValues",{option:!0}),ie("rangeAxisDecimals",{option:!0}),ie("rangeAxisLabel",{option:!0}),ie("rangeAxisMaxValue",{option:!0}),ie("rangeAxisMinValue",{option:!0}),ie("rangeAxisSteps",{option:!0}),ie("regressionType",{option:!0}),ie("optionalAxes"),ie("showData",{option:!0}),ie("targetLineLabel",{option:!0}),ie("targetLineValue",{option:!0}),ie("type",{option:!0})],eventReport_eventChart:[ie("attributeValueDimension"),ie("collapseDataDimensions"),ie("dataElementValueDimension"),ie("endDate"),ie("eventStatus",{option:!0}),ie("hideNaData",{option:!0}),ie("outputType",{option:!0}),ie("program"),ie("programStage"),ie("programStatus",{option:!0}),ie("startDate"),ie("value")],reportTable_chart_eventReport:[ie("legendDisplayStrategy",{option:!0}),ie("legendSet",{option:!0})],reportTable_eventReport_eventChart:[ie("columnDimensions",{excluded:!0}),ie("rowDimensions",{excluded:!0})],reportTable_chart_eventReport_eventChart:[ie("access"),ie("aggregationType",{option:!0}),ie("attributeDimensions",{excluded:!0}),ie("attributeValues",{excluded:!0}),ie("categoryDimensions",{excluded:!0}),ie("categoryOptionGroupSetDimensions",{excluded:!0}),ie("code",{excluded:!0}),ie("columns"),ie("completedOnly",{option:!0}),ie("created"),ie("dataDimensionItems",{excluded:!0}),ie("dataElementDimensions",{excluded:!0}),ie("dataElementGroupSetDimensions",{excluded:!0}),ie("description"),ie("digitGroupSeparator"),ie("displayDescription"),ie("displayName"),ie("displayShortName"),ie("externalAccess",{excluded:!0}),ie("favorite"),ie("favorites"),ie("filterDimensions",{excluded:!0}),ie("filters"),ie("hideSubtitle",{option:!0}),ie("hideTitle",{option:!0}),ie("href",{excluded:!0}),ie("id"),ie("interpretations"),ie("itemOrganisationUnitGroups",{excluded:!0}),ie("lastUpdated"),ie("lastUpdatedBy"),ie("name"),ie("organisationUnitGroupSetDimensions",{excluded:!0}),ie("organisationUnitLevels",{excluded:!0}),ie("organisationUnits",{excluded:!0}),ie("parentGraphMap"),ie("periods",{excluded:!0}),ie("programIndicatorDimensions",{excluded:!0}),ie("publicAccess"),ie("relativePeriods",{excluded:!0}),ie("rows"),ie("shortName"),ie("sortOrder",{option:!0}),ie("subscribed"),ie("subscribers"),ie("subtitle",{option:!0}),ie("timeField"),ie("title",{option:!0}),ie("topLimit",{option:!0}),ie("translations"),ie("user"),ie("userAccesses"),ie("userGroupAccesses"),ie("userOrganisationUnit",{excluded:!0}),ie("userOrganisationUnitChildren",{excluded:!0}),ie("userOrganisationUnitGrandChildren",{excluded:!0})]};le.visualization=[].concat(Object(P.a)(le.reportTable),Object(P.a)(le.chart),Object(P.a)(le.reportTable_eventReport),Object(P.a)(le.chart_eventChart),Object(P.a)(le.reportTable_chart_eventReport),Object(P.a)(le.reportTable_eventReport_eventChart),Object(P.a)(le.reportTable_chart_eventReport_eventChart));var oe,ce=function(e){return e.name},se=function(e){return!0===e.excluded?Object(x.a)({},e,Object(W.a)({},"name","!".concat(e.name))):e},ue=function(e,t,a,n){return!e&&(e=n.slice()),"!"===t.charAt(0)&&e.push(e.shift()),e},de=function(e){return Object.entries(le).reduce((function(t,a){var n=Object(_.a)(a,2),r=n[0],i=n[1];return r.includes(e)?t.concat(i):t}),[])},me=function(e){var t,a=e[X.AXIS_ID_COLUMNS].slice(),n=e[X.AXIS_ID_ROWS].slice();return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,a.length?[a.shift()]:a),Object(W.a)(t,X.AXIS_ID_ROWS,n.length?[n.shift()]:n),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(a),Object(P.a)(n))),t},pe=function(e){var t,a=e[X.AXIS_ID_COLUMNS].slice(),n=e[X.AXIS_ID_ROWS].slice();return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,a.length?[a.shift()]:n.length?[n.shift()]:[]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(a),Object(P.a)(n))),t},fe=function(e){var t;return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,[]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(e[X.AXIS_ID_COLUMNS]),Object(P.a)(e[X.AXIS_ID_ROWS])).filter((function(e){return e!==X.DIMENSION_ID_PERIOD}))),t},be=function(e){var t,a=e[X.AXIS_ID_COLUMNS].slice(),n=e[X.AXIS_ID_ROWS].slice();return t={},Object(W.a)(t,X.AXIS_ID_COLUMNS,[X.DIMENSION_ID_DATA]),Object(W.a)(t,X.AXIS_ID_ROWS,[]),Object(W.a)(t,X.AXIS_ID_FILTERS,[].concat(Object(P.a)(e[X.AXIS_ID_FILTERS]),Object(P.a)(a),Object(P.a)(n)).filter((function(e){return e!==X.DIMENSION_ID_DATA}))),t},ve=function(e){return!!X.ouIdHelper.hasLevelPrefix(e)&&Number.isInteger(parseInt(X.ouIdHelper.removePrefix(e),10))},Ee=function(e,t){var a=Object(X.layoutGetDimension)(t,X.DIMENSION_ID_ORGUNIT);if(a&&Object(X.dimensionGetItems)(a).some((function(e){return ve(e.id)}))){var n=function(e){return function(t){if(!ve(t.id))return t;var a=parseInt(X.ouIdHelper.removePrefix(t.id),10),n=e.find((function(e){return parseInt(e.level,10)===a})).id;return Object.assign({},t,{id:X.ouIdHelper.addLevelPrefix(n)})}}(e),r=Object(X.dimensionGetItems)(a).map(n);return Object(X.layoutReplaceDimension)(t,X.DIMENSION_ID_ORGUNIT,r)}return t},he=function(e){return 1===e.match(/\//g).length?e:e.substr(0,e.lastIndexOf("/"))},ye=function(e,t,a){return t[e]&&t[e].path?t[e].path:a[e]===e||""===a[e]?"/".concat(e):a[e]?"/".concat(a[e],"/").concat(e):void 0},ge=a(1254),Oe="SET_UI",Ie="SET_UI_FROM_VISUALIZATION",_e="SET_UI_TYPE",Se="SET_UI_OPTIONS",xe="SET_UI_LAYOUT",Ae="ADD_UI_LAYOUT_DIMENSIONS",Te="REMOVE_UI_LAYOUT_DIMENSIONS",je="SET_UI_ITEMS",De="ADD_UI_ITEMS",we="REMOVE_UI_ITEMS",Ne="SET_UI_PARENT_GRAPH_MAP",Ce="ADD_UI_PARENT_GRAPH_MAP",Le="SET_UI_ACTIVE_MODAL_DIALOG",Re="SET_UI_YEAR_ON_YEAR_SERIES",ke="SET_UI_YEAR_ON_YEAR_CATEGORY",Ve="CLEAR_UI",Me="TOGGLE_UI_RIGHT_SIDEBAR_OPEN",Ue="SET_UI_RIGHT_SIDEBAR_OPEN",Pe="SET_UI_INTERPRETATION",ze="CLEAR_UI_INTERPRETATION",Ge="SET_AXES",Be={type:X.defaultVisType,options:$(),layout:{columns:[X.DIMENSION_ID_DATA],rows:[X.DIMENSION_ID_PERIOD],filters:[X.DIMENSION_ID_ORGUNIT]},itemsByDimension:(oe={},Object(W.a)(oe,X.DIMENSION_ID_ORGUNIT,[]),Object(W.a)(oe,X.DIMENSION_ID_PERIOD,[]),oe),yearOverYearSeries:[],yearOverYearCategory:[],parentGraphMap:{},activeModalDialog:null,rightSidebarOpen:!1,interpretation:{},axes:null},Ye=["THIS_YEAR","LAST_YEAR"],Fe=["MONTHS_THIS_YEAR"],He=function(e){var t,a=e.rootOrganisationUnit,n=e.relativePeriod,r=[],i=Object(x.a)({},Be.parentGraphMap);return a&&a.id&&(r.push(a.id),i[a.id]=""),Object(x.a)({},Be,{itemsByDimension:Object(x.a)({},Be.itemsByDimension,(t={},Object(W.a)(t,X.DIMENSION_ID_ORGUNIT,r),Object(W.a)(t,X.DIMENSION_ID_PERIOD,[n]),t)),yearOverYearSeries:Ye,yearOverYearCategory:Fe,parentGraphMap:i})},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(x.a)({},t.value);case Ie:return pt(mt(t.value,e));case _e:return Object(x.a)({},e,{type:t.value});case Se:return Object(x.a)({},e,{options:Object(x.a)({},e.options,{},t.value)});case xe:return Object(x.a)({},e,{layout:Object(x.a)({},t.value)});case Ae:var a=Object(x.a)({},t.value,{},re(e.layout,t.value,e.type)),n=e.layout;return Object.entries(a).forEach((function(t){var a=Object(_.a)(t,2),r=a[0],i=a[1],l=i.axisId,o=i.index;n[l]&&Object(X.canDimensionBeAddedToAxis)(e.type,n[l],l)&&(n=ae(n,[r]),null===o||void 0===o?n[l].push(r):n[l].splice(o,0,r))})),Object(x.a)({},e,{layout:n});case Te:return Object(x.a)({},e,{layout:ae(e.layout,t.value)});case je:var r=t.value,i=r.dimensionId,l=r.itemIds;return Object(x.a)({},e,{itemsByDimension:Object(x.a)({},e.itemsByDimension,Object(W.a)({},i,l))});case De:var o=t.value,c=o.dimensionId,s=o.itemIds,u=e.itemsByDimension[c]||[],d=Object(P.a)(new Set([].concat(Object(P.a)(u),Object(P.a)(s))));return Object(x.a)({},e,{itemsByDimension:Object(x.a)({},e.itemsByDimension,Object(W.a)({},c,d))});case we:var m=t.value,p=m.dimensionId,f=m.itemIdsToRemove,b=(e.itemsByDimension[p]||[]).filter((function(e){return!f.includes(e)}));return Object(x.a)({},e,{itemsByDimension:Object(x.a)({},e.itemsByDimension,Object(W.a)({},p,b))});case Re:return Object(x.a)({},e,{yearOverYearSeries:t.value||Be.yearOverYearSeries});case ke:return Object(x.a)({},e,{yearOverYearCategory:t.value?Object(ge.a)(t.value):Be.yearOverYearCategory});case Ne:return Object(x.a)({},e,{parentGraphMap:t.value});case Ce:return Object(x.a)({},e,{parentGraphMap:Object(x.a)({},e.parentGraphMap,{},t.value)});case Le:return Object(x.a)({},e,{activeModalDialog:t.value||Be.activeModalDialog});case Ve:return He(t.value);case Me:return Object(x.a)({},e,{rightSidebarOpen:!e.rightSidebarOpen});case Ue:return Object(x.a)({},e,{rightSidebarOpen:!0});case Pe:return Object(x.a)({},e,{interpretation:t.value});case ze:return Object(x.a)({},e,{interpretation:Be.interpretation});case Ge:return Object(x.a)({},e,{axes:t.value});default:return e}},We=function(e){return e.ui},Xe=function(e){return We(e).type},Qe=function(e){return We(e).options},Ke=function(e){return We(e).layout},Ze=function(e){return We(e).itemsByDimension},Je=function(e){return We(e).yearOverYearSeries},$e=function(e){return We(e).yearOverYearCategory},et=function(e){return We(e).parentGraphMap},tt=function(e){return We(e).activeModalDialog},at=function(e){return We(e).rightSidebarOpen},nt=function(e){return We(e).interpretation},rt=function(e){return We(e).axes},it=function(e,t){return(ne(Ke(e))||{})[t]},lt=function(e,t){return Ze(e)[t]||Be.itemsByDimension[t]},ot=function(e){return Object.values(Ke(e)).reduce((function(e,t){return e.concat(t)}),[])},ct=function(e,t){return ot(e).includes(t)},st=function(e){return ct(e,X.DIMENSION_ID_ASSIGNED_CATEGORIES)},ut=function(e){var t=Ke(e).columns,a=Ze(e),n=rt(e)||{};return Array.isArray(a[t[0]])&&a[t[0]].length?a[t[0]].map((function(e){return{id:e,axis:e in n?n[e]:0}})):[]},dt=function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return"number"===typeof e.axis})).reduce((function(e,t){return e[t.dimensionalItem]=t.axis,e}),{}):Be.axes},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(x.a)({},t,{type:e.type||X.defaultVisType,options:te(e),layout:Object(X.layoutGetAxisIdDimensionIdsObject)(e),itemsByDimension:Object(X.layoutGetDimensionIdItemIdsObject)(e),parentGraphMap:e.parentGraphMap||ft(e)||t.parentGraphMap,yearOverYearSeries:Object(X.isYearOverYear)(e.type)&&e.yearlySeries?e.yearlySeries:t.yearOverYearSeries,yearOverYearCategory:Object(X.isYearOverYear)(e.type)?e.rows[0].items.map((function(e){return e.id})):t.yearOverYearCategory,axes:dt(e.optionalAxes)})},pt=function(e){switch(e.type){case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return function(e){var t=Object.assign({},e),a=Object.assign({},t.itemsByDimension);return delete a[X.DIMENSION_ID_PERIOD],Object(x.a)({},t,{layout:fe(e.layout),itemsByDimension:a})}(e);case X.VIS_TYPE_PIE:return function(e){return Object(x.a)({},e,{layout:pe(e.layout)})}(e);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return function(e){return Object(x.a)({},e,{layout:be(e.layout)})}(e);case X.VIS_TYPE_PIVOT_TABLE:return e;default:return function(e){return Object(x.a)({},e,{layout:me(e.layout)})}(e)}},ft=function(e){var t=Object(X.layoutGetAxisIdDimensionIdsObject)(e),a=ne(t)[X.DIMENSION_ID_ORGUNIT];if(!a)return{};var n={};return e[a].find((function(e){return e.dimension===X.DIMENSION_ID_ORGUNIT})).items.filter((function(e){return e.path})).forEach((function(e){if("/"+e.id===e.path)n[e.id]="";else{var t=he(e.path);n[e.id]="/"===t[0]?t.substr(1):t}})),n},bt=function(e){return Object.entries(e.layout).reduce((function(t,a){var n=Object(_.a)(a,2),r=n[0],i=n[1];return Object(x.a)({},t,Object(W.a)({},r,i.map((function(t){return a=e.itemsByDimension,n=t,Array.isArray(a[n])&&a[n].length||Object(X.getPredefinedDimensionProp)(t,X.DIMENSION_PROP_NO_ITEMS)?Object(X.dimensionCreate)(t,e.itemsByDimension[t]):null;var a,n})).filter((function(e){return null!==e}))))}),{})},vt=function(e){var t=Object(Q.a)(e.options,Object.keys(J));return!1===e.options.targetLine&&(t.targetLineLabel=J.targetLineLabel.defaultValue,t.targetLineValue=J.targetLineValue.defaultValue),!1===e.options.baseLine&&(t.baseLineLabel=J.baseLineLabel.defaultValue,t.baseLineValue=J.baseLineValue.defaultValue),t.approvalLevel!==J.approvalLevel.defaultValue&&(t.approvalLevel=t.approvalLevel.id),t.reportingParams={},["organisationUnit","reportingPeriod","parentOrganisationUnit","grandParentOrganisationUnit"].forEach((function(e){t.reportingParams[e]=t[e],delete t[e]})),["baseLineValue","targetLineValue","sortOrder","topLimit","rangeAxisMinValue","rangeAxisMaxValue"].forEach((function(e){Object.prototype.hasOwnProperty.call(t,e)&&void 0!==t[e]&&(t[e]=Number(t[e]))})),t},Et=function(e){var t,a,n,r={};return t=r,a=e.axes,n="axis",Object.keys(a||{}).forEach((function(e){e in t||(t[e]={}),t[e][n]=a[e]})),Object.entries(r).reduce((function(e,t){var a=Object(_.a)(t,2),n=a[0],r=a[1];return r.dimensionalItem=n,e.push(r),e}),[])},ht=function(e,t){var a=Object(x.a)({},t.value,{layout:Object(x.a)({},be(t.value.layout))}),n=bt(a),r=Object(X.layoutGetDimensionItems)(n,X.DIMENSION_ID_DATA),i=Object(X.layoutReplaceDimension)(n,X.DIMENSION_ID_DATA,[r[0]]);return Object(x.a)({},e,Object(W.a)({},"type",a.type),i,{},vt(a))},yt=function(e,t){var a=Object(x.a)({},t.value,{layout:Object(x.a)({},pe(t.value.layout))});return Object(x.a)({},e,Object(W.a)({},"type",a.type),bt(a),{},vt(a))},gt=function(e,t){var a,n=t.value,r=n.itemsByDimension[X.DIMENSION_ID_DATA]?[n.itemsByDimension[X.DIMENSION_ID_DATA][0]]:[];return Object(x.a)({},e,(a={},Object(W.a)(a,"type",n.type),Object(W.a)(a,X.AXIS_ID_COLUMNS,[Object(X.dimensionCreate)(X.DIMENSION_ID_DATA,r)]),Object(W.a)(a,X.AXIS_ID_ROWS,[Object(X.dimensionCreate)(X.DIMENSION_ID_PERIOD,n.yearOverYearCategory)]),Object(W.a)(a,X.AXIS_ID_FILTERS,bt(n).filters.filter((function(e){return![X.DIMENSION_ID_DATA,X.DIMENSION_ID_PERIOD].includes(e.dimension)}))),Object(W.a)(a,["yearlySeries"],n.yearOverYearSeries),a),vt(n))},Ot="SET_CURRENT",It="SET_CURRENT_FROM_UI",_t="CLEAR_CURRENT",St=null,xt=function(e,t){var a=bt(t.value),n=vt(t.value),r=Et(t.value);return Object(x.a)({},e,Object(W.a)({},"type",t.value.type),a,{},n,{optionalAxes:r})},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return t.value;case It:switch(t.value.type){case X.VIS_TYPE_PIE:return yt(e,t);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return ht(e,t);case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return gt(e,t);default:return xt(e,t)}case _t:return St;default:return e}},Tt=function(e){return e.current},jt=function(e){var t=e.ui;switch(t.type){case X.VIS_TYPE_PIE:return yt(e,{value:t});case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return ht(e,{value:t});case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return gt(e,{value:t});default:return xt(e,{value:t})}},Dt="SET_DIMENSIONS",wt="SET_SELECTED_DIMENSION",Nt=Object(X.getPredefinedDimensions)(),Ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt:return Object(x.a)({},Nt,{},t.value);default:return e}},Lt=function(e){return e.dimensions},Rt="SET_RECOMMENDED_IDS",kt=[],Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return t.value||kt;default:return e}},Mt=function(e){return e.recommendedIds},Ut={},Pt=function(e){return e.metadata},zt="SET_SETTINGS",Gt="ADD_SETTINGS",Bt={keyDateFormat:"yyyy-MM-dd",keyAnalysisRelativePeriod:"LAST_12_MONTHS",keyAnalysisDigitGroupSeparator:"SPACE",keyIgnoreAnalyticsApprovalYearThreshold:-1,displayNameProperty:"displayName",uiLocale:"en",rootOrganisationUnit:{}},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Object.assign({},t.value);case Gt:return Object(x.a)({},e,{},t.value);default:return e}},Ft=function(e){return e.settings},Ht=function(e){return Ft(e).displayNameProperty},qt=function(e){return Ft(e).rootOrganisationUnit},Wt=function(e){return Ft(e).keyAnalysisRelativePeriod},Xt=function(e){return Ft(e).uiLocale},Qt={id:"",username:"",uiLocale:"",isSuperuser:!1,authorities:{}};function Kt(e){return{id:e.id,username:e.username,uiLocale:e.settings.keyUiLocale,isSuperuser:e.authorities.has("ALL")}}var Zt,Jt=function(e){return e.user},$t="RECEIVED_SNACKBAR_MESSAGE",ea="CLEAR_SNACKBAR",ta={message:null,duration:null},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return Object(x.a)({},e,{},t.value);case ea:return ta;default:return e}},na=function(e){return e.snackbar},ra={isLoading:!1,loadingError:null,isPluginLoading:!0},ia=function(e){return e.loader.loadingError},la=function(e){return e.loader.isPluginLoading},oa=function(e){return e.chart},ca=Object(z.c)({visualization:F,current:At,dimensions:Ct,recommendedIds:Vt,ui:qe,metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_METADATA":return Object(x.a)({},e,{},t.value);default:return e}},settings:Yt,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_USER":return Kt(t.value);case"SET_USER_AUTHORITY":return Object(x.a)({},e,{authorities:Object(x.a)({},e.authorities,{},t.value)});default:return e}},snackbar:aa,loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOAD_ERROR":return Object(x.a)({},e,{loadingError:t.value});case"CLEAR_LOAD_ERROR":return Object(x.a)({},e,{loadingError:ra.loadingError});case"SET_LOADING":return Object(x.a)({},e,{isLoading:t.value});case"SET_PLUGIN_LOADING":return Object(x.a)({},e,{isPluginLoading:t.value});default:return e}},chart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHART":return t.value;default:return e}}}),sa=function(e){return ut(e).map((function(t){var a=Pt(e)[t.id];return Object(x.a)({},t,{name:a?a.name:""})}))},ua=function(e){var t="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"data-visualizer-app"}):z.d;return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object(z.e)(ca,t(z.a.apply(void 0,Object(P.a)(e))))},da=function(e){return{type:"ADD_METADATA",value:e}},ma=function(e){var t=e.dispatch;return function(e){return function(a){"object"===typeof a.metadata&&!Array.isArray(a.metadata)&&t(da(a.metadata)),e(a)}}},pa=a(9),fa=a(11),ba=a(13),va=a(10),Ea=a(12),ha=a(8),ya=a.n(ha),ga=a(5),Oa=a.n(ga),Ia=a(419),_a=function(e){return{type:Oe,value:e}},Sa=function(e){return{type:Ve,value:e}},xa=function(e){return{type:Ie,value:e}},Aa=function(e){return{type:_e,value:e}},Ta=function(e){return{type:Se,value:e}},ja=function(e){return{type:xe,value:e}},Da=function(e){return{type:Ae,value:e}},wa=function(e){return{type:Te,value:e}},Na=function(e){return{type:je,value:e}},Ca=function(e){return{type:De,value:e}},La=function(e){return{type:we,value:e}},Ra=function(e){return{type:Re,value:e}},ka=function(e){return{type:ke,value:e}},Va=function(e){return{type:Ce,value:e}},Ma=function(e){return{type:Ne,value:e}},Ua=function(e){return{type:Le,value:e}},Pa=function(){return{type:Me}},za=function(){return{type:Ue}},Ga=function(e){return{type:Pe,value:e}},Ba=function(){return{type:ze}},Ya=function(e){return{type:Ge,value:e}},Fa=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).rearrangeLayoutDimensions=function(e){var t=e.sourceAxisId,n=e.sourceIndex,r=e.destinationAxisId,i=e.destinationIndex,l=a.props.layout,o=Array.from(l[t]),c=o.splice(n,1),s=Object(_.a)(c,1)[0];t===r?(o.splice(i,0,s),a.props.onReorderDimensions(Object(x.a)({},l,Object(W.a)({},t,o)))):Object(X.canDimensionBeAddedToAxis)(a.props.type,l[r],r)&&a.props.onAddDimensions(Object(W.a)({},s,{axisId:r,index:i}))},a.addDimensionToLayout=function(e){var t=e.axisId,n=e.index,r=e.dimensionId,i=a.props,l=i.layout,o=i.type;if(Object(X.canDimensionBeAddedToAxis)(o,l[t],t)){a.props.onAddDimensions(Object(W.a)({},r,{axisId:t,index:n}));var c=a.props.itemsByDimension[r];Boolean(!c||!c.length)&&!Object(X.getPredefinedDimensionProp)(r,X.DIMENSION_PROP_NO_ITEMS)&&a.props.onDropWithoutItems(r)}},a.onDragEnd=function(e){var t=e.source,n=e.destination,r=e.draggableId;n&&("dimensions"===t.droppableId?a.addDimensionToLayout({axisId:n.droppableId,index:n.index,dimensionId:r}):a.rearrangeLayoutDimensions({sourceAxisId:t.droppableId,sourceIndex:t.index,destinationAxisId:n.droppableId,destinationIndex:n.index}))},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){return y.a.createElement(Ia.a,{onDragEnd:this.onDragEnd},this.props.children)}}]),t}(h.Component),Ha=Object(g.connect)((function(e){return{layout:Ke(e),type:Xe(e),itemsByDimension:Ze(e)}}),(function(e){return{onAddDimensions:function(t){return e(Da(t))},onDropWithoutItems:function(t){return e(Ua(t))},onReorderDimensions:function(t){return e(ja(t))}}}))(Fa),qa=a(1255),Wa=a.n(qa),Xa=function(e){return{type:$t,value:e}},Qa=function(){return{type:ea}},Ka=Object(g.connect)((function(e){return{snackbar:na(e)}}),(function(e){return{onClose:function(){return e(Qa())}}}))((function(e){var t=e.snackbar,a=e.onClose,n=t.variant,r=t.message,i=t.duration;return r&&y.a.createElement("div",{className:Wa.a.container},y.a.createElement(V.a,{duration:i,critical:"error"===n,success:"success"===n,warning:"warning"===n,permanent:"error"===n||"warning"===n,onHidden:a},r))})),Za=a(1256),Ja=a(1257),$a=a.n(Ja),en=function(e){var t=e.onClick,a=Object(S.a)(e,["onClick"]);return y.a.createElement(V.b,Object.assign({"data-test":"update-button"},a,{onClick:t,type:"button",primary:!0}),Oa.a.t("Update"))},tn=a(25),an=a(326),nn=a(1721),rn=a.n(nn),ln=a(1722),on=a.n(ln),cn=a(1724),sn=a.n(cn),un=a(1723),dn=a.n(un),mn=function(e,t){var a,n,r;return T.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,T.a.awrap(Object(j.getInstance)());case 2:return a=i.sent,n=a.Api.getApi(),r="".concat(n.baseUrl,"/svg.").concat(e),i.abrupt("return",n.fetch(r,{method:"POST",body:t,headers:new Headers(n.defaultHeaders)}).then((function(e){return e.blob()})));case 6:case"end":return i.stop()}}))},pn=function(e,t,a){return e=e.withSkipRounding(t.skipRounding).withAggregationType(t.aggregationType).withMeasureCriteria(t.measureCriteria).withParameters({completedOnly:t.completedOnly}),t.displayProperty&&(e=e.withDisplayProperty(t.displayProperty)),t.approvalLevel&&(e=e.withApprovalLevel(t.approvalLevel)),a.relativePeriodDate&&(e=e.withRelativePeriodDate(a.relativePeriodDate)),e},fn=function(e){var t,a,n,r,i,l,o,c,s;return T.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.current,a=e.format,n=e.options,r=e.rows,i=e.columns,u.next=3,T.a.awrap(Object(j.getInstance)());case 3:return l=u.sent,o=l.Api.getApi(),c=(new l.analytics.request).fromModel(t).withFormat(a).withTableLayout().withRows(r.join(";")).withColumns(i.join(";")),c=pn(c,t,n),t.hideEmptyColumns&&(c=c.withHideEmptyColumns()),t.hideEmptyRows&&(c=c.withHideEmptyRows()),t.showHierarchy&&(c=c.withShowHierarchy()),s=new URL("".concat(o.baseUrl,"/").concat(c.buildUrl()),"".concat(window.location.origin).concat(window.location.pathname)),Object.entries(c.buildQuery()).forEach((function(e){var t=Object(_.a)(e,2),a=t[0],n=t[1];return s.searchParams.append(a,n)})),u.abrupt("return",s);case 13:case"end":return u.stop()}}))},bn=function(e){var t,a,n,r,i,l,o,c,s;return T.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return t=e.current,a=e.format,n=e.options,r=e.idScheme,i=e.path,u.next=3,T.a.awrap(Object(j.getInstance)());case 3:return l=u.sent,o=l.Api.getApi(),c=(new l.analytics.request).fromModel(t,"dataValueSet"===i).withFormat(a).withShowHierarchy(t.showHierarchy).withHierarchyMeta(t.showHierarchy).withIncludeMetadataDetails(!0).withIncludeNumDen(),c=pn(c,t,n),i&&(c=c.withPath(i)),r&&(c=c.withOutputIdScheme(r)),s=new URL("".concat(o.baseUrl,"/").concat(c.buildUrl()),"".concat(window.location.origin).concat(window.location.pathname)),Object.entries(c.buildQuery()).forEach((function(e){var t=Object(_.a)(e,2),a=t[0],n=t[1];return s.searchParams.append(a,n)})),u.abrupt("return",s);case 12:case"end":return u.stop()}}))},vn=a(1719),En=a.n(vn),hn=function(e){var t=e.children,a=e.dataTest,n=e.disabled,r=e.name,i=e.onBlur,l=e.onClick,o=e.onFocus;return y.a.createElement("button",{className:En.a.menuButton,"data-test":a,disabled:n,name:r,onBlur:i,onClick:l,onFocus:o},t)},yn=function(e){var t=e.style;return y.a.createElement("svg",{style:Object(x.a)({},t),xmlns:"http://www.w3.org/2000/svg",width:"22",height:"24",viewBox:"0 0 24 24"},y.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),y.a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},gn=a(1720),On=a.n(gn),In=function(e){var t=e.Icon,a=e.children,n=Object(S.a)(e,["Icon","children"]);return y.a.createElement(V.s,Object.assign({dense:!0,icon:t&&y.a.createElement(t,{style:{color:V.Q.grey600}})},n),a)},_n=Object(an.a)([nt],(function(e){return e.created||void 0})),Sn=Object(g.connect)((function(e){return{current:Tt(e),relativePeriodDate:_n(e),rows:Ke(e).rows,columns:Ke(e).columns,chart:oa(e),visType:Xe(e)}}))((function(e){var t=e.current,a=e.rows,n=e.columns,r=e.chart,i=e.relativePeriodDate,l=e.visType,o=Object(h.useState)(!1),c=Object(_.a)(o,2),s=c[0],u=c[1],d=function(){return u(!s)},m=function(e){return function(){var a,n,i;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return(a=new URLSearchParams).append("filename",t.name),r&&a.append("svg",r),l.next=5,T.a.awrap(mn(e,a));case 5:n=l.sent,i=URL.createObjectURL(n),d(),window.open(i,"_blank");case 9:case"end":return l.stop()}}))}},p=function(e,a,n){return function(){var r;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,T.a.awrap(bn({current:t,format:e,options:{relativePeriodDate:i},idScheme:a,path:n}));case 2:r=l.sent,d(),window.open(r,e.match(/(xls|csv)/)?"_top":"_blank");case 5:case"end":return l.stop()}}))}},f=function(e){return function(){var r;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,T.a.awrap(fn({current:t,format:e,options:{relativePeriodDate:i},rows:a,columns:n}));case 2:r=l.sent,d(),window.open(r,"html"===e?"_blank":"_top");case 5:case"end":return l.stop()}}))}},b=function(e){return y.a.createElement(V.r,null,y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Metadata ID scheme")),y.a.createElement(In,{label:"ID",onClick:p(e,"UID")}),y.a.createElement(In,{label:"Code",onClick:p(e,"CODE")}),y.a.createElement(In,{label:"Name",onClick:p(e,"NAME")}))},v=Object(h.createRef)();return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{ref:v},y.a.createElement(hn,{onClick:d,disabled:!t},Oa.a.t("Download"))),s&&Object(tn.createPortal)(y.a.createElement("div",{onClick:d,className:On.a.backdrop},y.a.createElement(V.z,{reference:v,placement:"bottom-start"},y.a.createElement(V.r,null,l===X.VIS_TYPE_PIVOT_TABLE?y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Table layout")),y.a.createElement(In,{Icon:dn.a,label:Oa.a.t("Excel (.xls)"),onClick:f("xls")}),y.a.createElement(In,{Icon:dn.a,label:Oa.a.t("CSV (.csv)"),onClick:f("csv")}),y.a.createElement(In,{Icon:dn.a,label:Oa.a.t("HTML (.html)"),onClick:f("html")})):y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Graphics")),y.a.createElement(In,{Icon:rn.a,label:Oa.a.t("Image (.png)"),onClick:m("png")}),y.a.createElement(In,{Icon:on.a,label:Oa.a.t("PDF (.pdf)"),onClick:m("pdf")})),y.a.createElement(V.j,null),y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Plain data source")),y.a.createElement(In,{Icon:sn.a,label:"JSON"},b("json")),y.a.createElement(In,{Icon:sn.a,label:"XML"},b("xml")),y.a.createElement(In,{Icon:sn.a,label:"Excel"},b("xls")),y.a.createElement(In,{Icon:sn.a,label:"CSV"},b("csv")),y.a.createElement(In,{Icon:yn,label:Oa.a.t("Advanced")},y.a.createElement(V.r,null,y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Data value set")),y.a.createElement(In,{label:"JSON",onClick:p("json",null,"dataValueSet")}),y.a.createElement(In,{label:"XML",onClick:p("xml",null,"dataValueSet")}),y.a.createElement(V.j,null),y.a.createElement("div",{className:On.a.menuSectionTitle},Oa.a.t("Other formats")),y.a.createElement(In,{label:"JRXML",onClick:p("jrxml")}),y.a.createElement(In,{label:Oa.a.t("Raw data SQL"),onClick:p("sql",null,"debug/sql")})))))),document.body))})),xn=a(1727),An=a.n(xn),Tn=a(1726),jn=a.n(Tn),Dn=a(1725),wn=a.n(Dn),Nn=Object(g.connect)((function(e){return{rightSidebarOpen:at(e),id:(Tt(e)||{}).id}}),(function(e){return{onClick:function(){return e(Pa())}}}))((function(e){return y.a.createElement(hn,{disabled:!e.id,onClick:e.onClick},e.rightSidebarOpen?y.a.createElement(jn.a,{className:wn.a.icon}):y.a.createElement(An.a,{className:wn.a.icon}),Oa.a.t("Interpretations"))})),Cn=function(e){var t=e.onClick,a=Object(S.a)(e,["onClick"]);return y.a.createElement(V.b,Object.assign({},a,{type:"button",secondary:!0,onClick:t}),Oa.a.t("Hide"))},Ln="name,displayName,displayShortName",Rn="dimensionItem~rename(".concat("id",")"),kn="".concat("id",",").concat(Ln),Vn="".concat(Ln,",userCredentials[username]"),Mn="".concat(Rn,",").concat(Ln,",dimensionItemType"),Un="dimension,filter,legendSet[".concat(kn,"],items[").concat(Mn,"]"),Pn={columns:Un,rows:Un,filters:Un,user:Vn,interpretations:"id,created",legendSet:kn},zn=function(e){return"".concat(e).concat(Pn[e]?"[".concat(Pn[e],"]"):"")},Gn={visualization:{resource:"visualizations",id:function(e){return e.id},params:{fields:(Zt="visualization",de(Zt).map(se).map(ce).sort().reduce(ue,null).map(zn).join(","))}}},Bn={visualization:{resource:"visualizations",params:function(e){var t=e.visualizationIds;return{filter:"id:in:[".concat(t,"]"),fields:["id","type"]}}}},Yn=function(e,t){return e.query(Gn,{variables:{id:t}})},Fn=function(e,t){var a={type:"create",resource:"visualizations",data:t,params:{skipTranslations:"true",skipSharing:"true"}};return t.id&&(a.type="update",a.id=t.id),e.mutate(a)},Hn=function(e){return{type:G,value:e}},qn=function(){return{type:B}},Wn=function(e){return{type:Ot,value:e}},Xn=function(){return{type:_t}},Qn=function(e){return{type:It,value:e}},Kn=function(){return function(e,t){return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e(Qn(We(t())));case 1:case"end":return a.stop()}}))}},Zn=a(1899),Jn=a(1897),$n=function(e){return{type:Dt,value:Object(Zn.a)(Object(Jn.a)(e,[function(e){return e.name.toLowerCase()}]),"id")}},er=function(e){return function(t,a){var n,r,i,l;return T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=function(e){t($n(e))},r=function(e){return console.log("Error (apiFetchDimensions): ",e),e},o.prev=2,i=Ht(a()),o.next=6,T.a.awrap(Object(X.apiFetchDimensions)(e,i));case 6:return l=o.sent,o.abrupt("return",n(l));case 10:return o.prev=10,o.t0=o.catch(2),o.abrupt("return",r(o.t0));case 13:case"end":return o.stop()}}),null,null,[[2,10]])}},tr=function(){var e="".concat("/systemSettings","?").concat(D.map((function(e){return"key=".concat(e)})).join("&"));return Object(j.getInstance)().then((function(t){return t.Api.getApi().get(e)})).catch(N)},ar=function(e){return{type:zt,value:e}},nr=function(e){return{type:Gt,value:e}},rr=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){var a,n,r,i;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return a=function(a){e(nr(Object.assign.apply(Object,[{},a].concat(t))))},n=function(e){return console.log("Error (apiFetchSystemSettings): ",e),e},l.prev=2,l.next=5,T.a.awrap(tr());case 5:return r=l.sent,l.next=8,T.a.awrap(C());case 8:return i=l.sent,l.abrupt("return",a(Object(x.a)({},r,{rootOrganisationUnit:i})));case 12:return l.prev=12,l.t0=l.catch(2),l.abrupt("return",n(l.t0));case 15:case"end":return l.stop()}}),null,null,[[2,12]])}},ir=function(e){return{type:"SET_LOAD_ERROR",value:e}},lr=function(){return{type:"CLEAR_LOAD_ERROR"}},or=function(e){return{type:"SET_PLUGIN_LOADING",value:e}},cr=function(){return y.a.createElement("svg",{width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("path",{d:"M96.4184693 4.6480742l-2.9759268 2.6728C91.5558812 5.2202435 88.8786031 4 86 4V0c4.0260387 0 7.7809122 1.7113874 10.4184693 4.6480742zM100 19.269042h-4l-.0000544-5.3024514c-.0043849-1.346405-.2739964-2.6517927-.7866406-3.8623659l3.6833463-1.559795c.7189815 1.6978243 1.0971493 3.5288134 1.1032837 5.4156229L100 19.269042zm0 13.9999755h-4v-10h4v10zm0 14h-4v-10h4v10zm0 14h-4v-10h4v10zm0 13.9999995h-4v-9.9999995h4v9.9999995zm-.516108 14.50858l-3.8521996-1.077292C95.8751624 87.829701 96 86.924153 96 86v-6.730983h4V86c0 1.289184-.1747984 2.557136-.516108 3.777597zM87.7213345 99.895024l-.4874961-3.970182c2.8302961-.34753 5.3578432-1.892491 6.9762006-4.213767l3.2812621 2.287645c-2.2629208 3.245799-5.802045 5.409086-9.7699666 5.896304zM73.461965 100v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zm-14 0v-4h10v4h-10zM3.17264828 94.875717l3.09219912-2.537382c1.79303608 2.185097 4.4211055 3.525451 7.2855127 3.651773l-.176231 3.996116c-4.01094422-.176885-7.69477669-2.055693-10.20148082-5.110507zM0 80.192922h4l.00006331 5.84312c.00418159 1.190127.21554574 2.348454.61951638 3.438567L.86883696 90.864547C.3022517 89.335619.0059261 87.711683.00007566 86.043095L0 80.192922zm0-13.999974h4v10H0v-10zm0-14.0000005h4v10H0v-10zm0-14h4v10H0v-10zm0-14h4v10H0v-10zM.701349 9.6140131l3.79891292 1.2523021C4.17021443 11.8675286 4 12.9209553 4 14v6.1929475H0V14c0-1.5058511.2385093-2.9819426.701349-4.3859869zM12.9113947.0417954l.3073341 3.9881757c-2.8514503.2197365-5.43930476 1.6474003-7.16021518 3.8917822l-3.1742768-2.4339201C5.29022999 2.3499781 8.91606935.3496804 12.9113947.0417954zM27.07607 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10zm14 0v4h-10V0h10z",fill:"#A0ADBA",fillRule:"nonzero"}))},sr=function(){return y.a.createElement("svg",{width:"100",height:"100",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"#A0ADBA",fillRule:"nonzero"},y.a.createElement("path",{d:"M72.9999996 82.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM72.9999996 60.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z"}),y.a.createElement("path",{d:"M72.9999996 45.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L82.0312812 51.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z"}),y.a.createElement("path",{d:"M49.9999996-3.4e-7c27.6142375 0 50 22.38576254 50 50.00000004 0 3.4254464-.3449043 6.8082851-1.0236569 10.111998-.3334386 1.6229556-1.9194094 2.6683156-3.542365 2.334877-1.6229555-.3334386-2.6683156-1.9194094-2.334877-3.5423649.5972413-2.9069705.9008989-5.8852591.9008989-8.9045101 0-24.300529-19.699471-44.00000004-44-44.00000004S5.99999963 25.6994707 5.99999963 49.9999997c0 20.0457004 13.52123857 37.4107541 32.60787227 42.5117075 1.6006767.4277851 2.5514932 2.0721783 2.1237081 3.672855-.4277851 1.6006767-2.0721782 2.5514932-3.672855 2.1237082C15.3630605 92.5100466-3.7e-7 72.7795776-3.7e-7 49.9999997-3.7e-7 22.3857622 22.3857621-3.4e-7 49.9999996-3.4e-7z"}),y.a.createElement("path",{d:"M31.9999996 52.4999997c-1.3807118 0-2.5-1.1192882-2.5-2.5 0-1.3254834 1.031536-2.4100387 2.3356243-2.4946824l.1643757-.0053176 15.4995614-.0008627.0004386-24.4991373c0-1.3807119 1.1192882-2.5 2.5-2.5 1.3254834 0 2.4100387 1.0315359 2.4946823 2.3356243l.0053177.1643757v27c0 1.3254834-1.0315359 2.4100386-2.3356243 2.4946823l-.1643757.0053177h-18z"})))},ur=function(){return y.a.createElement("svg",{width:"98",height:"97",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"#A0ADBA",fillRule:"nonzero"},y.a.createElement("path",{d:"M47.9999996-3.4e-7c26.375131 0 48 8.64933258 48 21.00093054 0 6.7822228-6.3726775 12.3999932-16.8111022 16.1776421-1.5579685.5638263-3.2780231-.2420853-3.8418493-1.8000538-.5638263-1.5579685.2420852-3.2780231 1.8000537-3.8418493 8.3196582-3.0108708 12.8528978-7.007103 12.8528978-10.535739 0-7.5352197-18.6656043-15.00093054-42-15.00093054-23.3343956 0-41.99999997 7.46571084-41.99999997 15.00093054 0 8.3458435 22.23414277 16.1998284 47.97788217 14.8410919 1.6545514-.087326 3.066622 1.1831611 3.1539481 2.8377124.087326 1.6545514-1.1831611 3.066622-2.8377125 3.1539481C25.4193432 43.3576729-3.7e-7 34.3785482-3.7e-7 21.0009302-3.7e-7 8.64933224 21.6248687-3.4e-7 47.9999996-3.4e-7z"}),y.a.createElement("path",{d:"M92.9999996 17.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v24c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-24c0-1.6568543 1.3431458-3 3-3zM2.99999963 17.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.0917782c0 6.7884007 15.40674827 13.7997289 36.16062537 14.9125249 1.6544777.088711 2.9237824 1.5018446 2.8350715 3.1563223-.088711 1.6544776-1.5018446 2.9237823-3.1563223 2.8350714C18.3983599 64.7388196.36378289 56.6257218.00543546 45.431923L-3.7e-7 45.0917779V20.9999997c0-1.6568543 1.34314575-3 3-3z"}),y.a.createElement("path",{d:"M2.99999963 41.9999997c1.59768088 0 2.90366088 1.2489199 2.9949073 2.8237272l.0050927.1762728v24.011713c0 5.6006467 10.94212037 11.6895243 27.41972777 14.017794 1.6405579.2318092 2.7825744 1.7496627 2.5507652 3.3902207-.2318092 1.640558-1.7496627 2.7825745-3.3902207 2.5507653l-1.1438963-.168296C13.057544 85.989973.26320686 78.7580311.00401161 69.3047869L-3.7e-7 69.0117127v-24.011713c0-1.6568543 1.34314575-3 3-3zM70.9999996 79.4999997l.1996404.0048953c2.1163912.1040258 3.8003596 1.8529093 3.8003596 3.9951047 0 2.209139-1.790861 4-4 4s-4-1.790861-4-4c0-2.1421954 1.6839685-3.8910789 3.8003597-3.9951047l.1996403-.0048953zM70.9999996 57.9999997c1.5976809 0 2.9036609 1.2489199 2.9949073 2.8237272l.0050927.1762728v12c0 1.6568542-1.3431457 3-3 3-1.5976809 0-2.9036609-1.24892-2.9949073-2.8237272l-.0050927-.1762728v-12c0-1.6568543 1.3431458-3 3-3z"}),y.a.createElement("path",{d:"M70.9999996 42.999137c-3.825395 0-7.3222315 2.1620358-9.0317655 5.5841902l-16.903516 33.8070317c-1.5642876 3.1303349-1.39639 6.8466948.4434382 9.8226487 1.8397692 2.9758587 5.0891084 4.7869921 8.5878433 4.7869921h33.808c3.498735 0 6.7480741-1.8111334 8.5878434-4.7869921 1.8398282-2.9759539 2.0077257-6.6923138.4437399-9.8220451L80.0312812 48.5823589c-1.70905-3.4211861-5.2058865-5.5832219-9.0312816-5.5832219zm0 6c1.5519828 0 2.9706677.8771492 3.6642345 2.2655352l16.904484 33.8089683c.6342155 1.2691447.5660986 2.7768914-.1803294 3.9842515-.7463845 1.20729-2.0647148 1.9421077-3.4843891 1.9421077h-33.808c-1.4196743 0-2.7380045-.7348177-3.4843891-1.9421077-.7464279-1.2073601-.8145448-2.7151068-.1800276-3.9848551l16.9036983-33.8073964c.6940508-1.3893543 2.1127357-2.2665035 3.6647184-2.2665035z"})))},dr=function(){return y.a.createElement("svg",{height:"100",width:"100",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"none"},y.a.createElement("path",{d:"M92 52c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V60c0-4.418278 3.581722-8 8-8zm0 4H8c-2.209139 0-4 1.790861-4 4v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V60c0-2.209139-1.790861-4-4-4z",fill:"#e8edf2"}),y.a.createElement("path",{d:"M99.5567844 7.04865205l-3.8222065 1.17929519C94.9653901 5.7349373 92.6508139 4 90 4V0c4.4179248 0 8.2737479 2.89021004 9.5567844 7.04865205zM100 21.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 48v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 43.8539409 9.22479438 44 10 44h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 33.461965h4V38c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 42.558667 0 40.3386428 0 38zm0-14h4v10H0zM1.6090385 4.55843779L4.96347541 6.7373717C4.33751189 7.70103338 4 8.82295605 4 10v5.461965H0V10c0-1.95639059.56487346-3.8340854 1.6090385-5.44156221zM16.0507133 0v4H10c-1.00213211 0-1.96454891.24434864-2.82591887.70537441L5.28653945 1.17873487C6.72503094.40881989 8.33525118 0 10 0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0zm14 0v4h-10V0z",fill:"#a0adba"})))},mr=function(){return y.a.createElement("svg",{height:"100",width:"100",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"none"},y.a.createElement("path",{d:"M92 0c4.418278 0 8 3.581722 8 8v32c0 4.418278-3.581722 8-8 8H8c-4.418278 0-8-3.581722-8-8V8c0-4.418278 3.581722-8 8-8zm0 4H8C5.790861 4 4 5.790861 4 8v32c0 2.209139 1.790861 4 4 4h84c2.209139 0 4-1.790861 4-4V8c0-2.209139-1.790861-4-4-4z",fill:"#e8edf2"}),y.a.createElement("path",{d:"M99.5567844 59.048652l-3.8222065 1.1792952C94.9653901 57.7349373 92.6508139 56 90 56v-4c4.4179248 0 8.2737479 2.89021 9.5567844 7.048652zM100 73.5126783h-4v-10h4zm0 14h-4v-10h4zm-8.9023158 12.4275918l-.4351277-3.9762625c2.6119243-.2858263 4.7413083-2.2609654 5.2311813-4.831976l3.9293103.7486795c-.8182548 4.2944636-4.3626818 7.582145-8.7253639 8.059559zM76.9746433 100v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14 0v-4h10v4zm-14.68916798-.7131886l1.48642012-3.7135636C8.47315871 95.8539409 9.22479438 96 10 96h6.9746433v4H10c-1.28653043 0-2.54248712-.2440596-3.71452468-.7131886zM0 85.461965h4V90c0 1.4062377.48279968 2.7330308 1.35449343 3.7976522l-3.09491728 2.5340653C.8078328 94.558667 0 92.3386428 0 90zm0-14h4v10H0zm1.6090385-14.9035272l3.35443691 2.1789339C4.33751189 59.7010334 4 60.822956 4 62v5.461965H0V62c0-1.9563906.56487346-3.8340854 1.6090385-5.4415622zM16.0507133 52v4H10c-1.00213211 0-1.96454891.2443486-2.82591887.7053744l-1.88754168-3.5266395C6.72503094 52.4088199 8.33525118 52 10 52zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4zm14 0v4h-10v-4z",fill:"#a0adba"})))},pr=function(){return y.a.createElement("svg",{height:"96",viewBox:"0 0 96 96",width:"96",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{fill:"#a0adba",transform:"translate(3 3)"},y.a.createElement("path",{d:"m40.5 73.5000001c0 2.4852813 2.0147186 4.5 4.5 4.5s4.5-2.0147187 4.5-4.5c0-2.4142734-1.9012365-4.3844892-4.2881643-4.4951021l-.2128322-.0048979c-2.4848234.0005384-4.4990035 2.0150507-4.4990035 4.5z"}),y.a.createElement("path",{d:"m48 60v-30c0-1.6568542-1.3431458-3-3-3s-3 1.3431458-3 3v30c0 1.6568542 1.3431458 3 3 3s3-1.3431458 3-3z"}),y.a.createElement("path",{d:"m45-2.99904788c3.8985931 0 7.4578604 2.21715778 9.1770339 5.71709169l37.8912554 77.19048409c1.3845546 2.8165473 1.2171646 6.1482722-.4427191 8.811863-1.6598833 2.6635901-4.5771005 4.2816904-7.7135702 4.2796124h-77.82201115c-3.13845856.002078-6.05567574-1.6160223-7.71555901-4.2796124-1.65988369-2.6635908-1.82727377-5.9953157-.44346379-8.8103471l37.89234295-77.19269833c1.7188306-3.49923557 5.2780979-5.71639335 9.176691-5.71639335zm0 6c-1.6106864 0-3.0811818.91600885-3.7909661 2.36100407l-37.89274459 77.19351591c-.47005356.9562122-.41322496 2.0873262.15030227 2.99161.56352731.9042839 1.5539177 1.4529206 2.62140842 1.4529206h77.8259889c1.0655018 0 2.0558922-.5486367 2.6194195-1.4529206.5635272-.9042838.6203558-2.0353978.1495577-2.9931259l-37.8916571-77.19130167c-.7101272-1.44569356-2.1806226-2.36170241-3.791309-2.36170241z"})))},fr=function e(t,a,n){Object(pa.a)(this,e),this.icon=t,this.title=a,this.description=n},br=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,cr,Oa.a.t("No data available"),Oa.a.t("The selected dimensions didn\u2019t return any data. There may be no data, or you may not have access to it.")))}return Object(Ea.a)(t,e),t}(fr),vr=function(e){function t(e){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,dr,Oa.a.t("{{axisName}} is empty",{axisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_COLUMNS,Object(X.getLayoutTypeByVisType)(e))}),Oa.a.t("Add at least one item to {{axisName}}.",{axisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_COLUMNS,Object(X.getLayoutTypeByVisType)(e))})))}return Object(Ea.a)(t,e),t}(fr),Er=function(e){function t(e){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,mr,Oa.a.t("{{axisName}} is empty",{axisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_ROWS,Object(X.getLayoutTypeByVisType)(e))}),Oa.a.t("Add at least one item to {{axisName}}.",{axisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_ROWS,Object(X.getLayoutTypeByVisType)(e))})))}return Object(Ea.a)(t,e),t}(fr),hr=function(e){function t(e){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,cr,Oa.a.t("{{columnsAxisName}} and {{rowsAxisName}} are empty",{columnsAxisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_COLUMNS,Object(X.getLayoutTypeByVisType)(e)),rowsAxisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_ROWS,Object(X.getLayoutTypeByVisType)(e))}),Oa.a.t("Add at least one item to {{columnsAxisName}} or {{rowsAxisName}} to create a {{visualizationType}}.",{columnsAxisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_COLUMNS,Object(X.getLayoutTypeByVisType)(e)),rowsAxisName:Object(X.getAxisNameByLayoutType)(X.AXIS_ID_ROWS,Object(X.getLayoutTypeByVisType)(e)),visualizationType:Object(X.getDisplayNameByVisType)(e)})))}return Object(Ea.a)(t,e),t}(fr),yr=function(e){function t(e){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,sr,Oa.a.t("No period selected"),Oa.a.t("{{visualizationType}} must have at least one period selected in {{axes}}.",{visualizationType:Object(X.getDisplayNameByVisType)(e),axes:Dr(e)})))}return Object(Ea.a)(t,e),t}(fr),gr=function(e){function t(e){Object(pa.a)(this,t);var a=Object(X.getAxisPerLockedDimension)(e,X.DIMENSION_ID_DATA);return Object(ba.a)(this,Object(va.a)(t).call(this,ur,Oa.a.t("No data selected"),Oa.a.t("{{visualizationType}} must have at least one data item or data element group set item in {{axes}}.",{visualizationType:Object(X.getDisplayNameByVisType)(e),axes:a?Object(X.getAxisNameByLayoutType)(a,Object(X.getLayoutTypeByVisType)(e)):Dr(e)})))}return Object(Ea.a)(t,e),t}(fr),Or=function(e){function t(e){Object(pa.a)(this,t);var a=Object(X.getAxisPerLockedDimension)(e,X.DIMENSION_ID_DATA);return Object(ba.a)(this,Object(va.a)(t).call(this,ur,Oa.a.t("No data selected"),Oa.a.t("{{visualizationType}} must have at least one data item in {{axes}}.",{visualizationType:Object(X.getDisplayNameByVisType)(e),axes:a?Object(X.getAxisNameByLayoutType)(a,Object(X.getLayoutTypeByVisType)(e)):Dr(e)})))}return Object(Ea.a)(t,e),t}(fr),Ir=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,ur,Oa.a.t("There's a problem with the layout"),Oa.a.t("A single indicator must be the only data item when using indicators as Data in Filter.")))}return Object(Ea.a)(t,e),t}(fr),_r=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,ur,jr,Oa.a.t("Data Element Group Sets and Reporting Rates cannot be used together.")))}return Object(Ea.a)(t,e),t}(fr),Sr=function(e){function t(e){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,pr,jr,Oa.a.t("There is a problem with this {{visualizationType}} visualization.",{visualizationType:Object(X.getDisplayNameByVisType)(e)})))}return Object(Ea.a)(t,e),t}(fr),xr=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,pr,jr,Oa.a.t("There was a problem getting the data from the server.")))}return Object(Ea.a)(t,e),t}(fr),Ar=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,pr,Oa.a.t("Assigned Categories can only be used with data elements"),Oa.a.t("Fix this problem by selecting data elements or removing Assigned Categories.")))}return Object(Ea.a)(t,e),t}(fr),Tr=function(e){function t(){return Object(pa.a)(this,t),Object(ba.a)(this,Object(va.a)(t).call(this,pr,Oa.a.t("Assigned Categories cannot be used as Filter"),Oa.a.t("Fix this problem by moving or removing Assigned Categories.")))}return Object(Ea.a)(t,e),t}(fr),jr=Oa.a.t("Something went wrong"),Dr=function(e){for(var t=Object(X.getAvailableAxes)(e),a="",n=0;n<t.length;n++)a+=Object(X.getAxisNameByLayoutType)(t[n],Object(X.getLayoutTypeByVisType)(e)),n<t.length-2?a+=", ":n<t.length-1&&(a+=" ".concat(Oa.a.t("or")," "));return a},wr={authority:{resource:"me/authorization",id:function(e){return e.authorityId}}},Nr=function(e){return{type:"RECEIVED_USER",value:e}},Cr=function(e){return{type:"SET_USER_AUTHORITY",value:e}},Lr=function(e){return function(t,a,n){var r;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=function(a){t(Cr(Object(W.a)({},e,a.authority)))},a.prev=1,a.t0=r,a.next=5,T.a.awrap((i=e,n.query(wr,{variables:{authorityId:i}})));case 5:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 9:a.prev=9,a.t2=a.catch(1),t(ir(new xr));case 12:case"end":return a.stop()}var i}),null,null,[[1,9]])}},Rr=function(e){var t=Object.assign({},e);return Object.keys(J).filter((function(e){return!J[e].savable})).forEach((function(e){return delete t[e]})),t},kr=function(e,t){return t===St?Vr:e===Y?Ur:t===e?Mr:Pr},Vr="EMPTY",Mr="SAVED",Ur="UNSAVED",Pr="DIRTY",zr=function(e){var t,a,n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T.a.awrap(Object(j.getInstance)());case 2:return t=r.sent,a=t.Api.getApi(),n="/dataStatistics?eventType=".concat("CHART_VIEW","&favorite=").concat(e),r.abrupt("return",a.post(n));case 6:case"end":return r.stop()}}))},Gr=function(e,t){console.log("Error in action ".concat(e,": ").concat(t))},Br=function(e){var t=e.id,a=e.interpretationId,n=e.ouLevels;return function(e,r,i){var l,o;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return l=function(t){var r,i;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:e(or(!0)),r=Ee(n,t.visualization),a&&(i=r.interpretations.find((function(e){return e.id===a})))&&(e(Ga(i)),e(za())),zr(r.id),e(Hn(r)),e(Wn(r)),e(xa(r)),e({type:"CLEAR_LOAD_ERROR"});case 8:case"end":return l.stop()}}))},c.prev=1,c.t0=l,c.next=5,T.a.awrap(Yn(i,t));case 5:return c.t1=c.sent,c.abrupt("return",(0,c.t0)(c.t1));case 9:c.prev=9,c.t2=c.catch(1),o=c.t2,o=c.t2&&c.t2.message?c.t2.message:new xr,Yr(e,r,o),Gr("tDoLoadVisualization",o);case 15:case"end":return c.stop()}}),null,null,[[1,9]])}},Yr=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(a?ir(a):{type:"CLEAR_LOAD_ERROR"}),e(qn()),e(Xn());var n=qt(t()),r=Wt(t());e(Sa({rootOrganisationUnit:n,relativePeriod:r}))},Fr=function(e){return X.AXIS.isValid(e)&&e.some((function(e){return Object(X.dimensionIsValid)(e,{requireItems:!Object(X.getPredefinedDimensionProp)(e.dimension,X.DIMENSION_PROP_NO_ITEMS)})}))},Hr=function(e,t){if(!e||!Object(X.dimensionIsValid)(e,{requireItems:!0}))throw t},qr=function(e,t){if(!Fr(e))throw t},Wr=function(e){switch(e.type){case X.VIS_TYPE_PIE:return function(e){qr(e.columns,new vr(e.type)),Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),new yr(e.type))}(e);case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:return function(e){if(Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_DATA),new Or(e.type)),!Array.isArray(e.yearlySeries)||"string"!==typeof e.yearlySeries[0])throw new vr(e.type);qr(e.rows,new Er(e.type))}(e);case X.VIS_TYPE_SINGLE_VALUE:case X.VIS_TYPE_GAUGE:return function(e){Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_DATA),new Or(e.type)),Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),new yr(e.type))}(e);case X.VIS_TYPE_PIVOT_TABLE:return function(e){if(!Fr(e.columns)&&!Fr(e.rows))throw new hr(e.type);Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),new yr(e.type))}(e);default:return function(e){qr(e.columns,new vr(e.type)),qr(e.rows,new Er(e.type)),Hr(Object(X.layoutGetDimension)(e,X.DIMENSION_ID_PERIOD),new yr(e.type))}(e)}},Xr="currentAnalyticalObject",Qr=function(e){return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(e.currentUser.dataStore.has("analytics"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Kr=function(e,t){return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=6;break}return a.next=3,T.a.awrap(e.currentUser.dataStore.get("analytics"));case 3:a.t0=a.sent,a.next=9;break;case 6:return a.next=8,T.a.awrap(e.currentUser.dataStore.create("analytics"));case 8:a.t0=a.sent;case 9:return a.abrupt("return",a.t0);case 10:case"end":return a.stop()}}))},Zr=function(e,t,a){var n,r;return T.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,T.a.awrap(Object(j.getInstance)());case 3:if(n=i.sent,i.t0=a,i.t0){i.next=16;break}return i.t1=T.a,i.t2=Kr,i.t3=n,i.next=11,T.a.awrap(Qr(n));case 11:return i.t4=i.sent,i.t5=(0,i.t2)(i.t3,i.t4),i.next=15,i.t1.awrap.call(i.t1,i.t5);case 15:i.t0=i.sent;case 16:return r=i.t0,i.abrupt("return",r.set(t,e));case 20:return i.prev=20,i.t6=i.catch(0),i.abrupt("return",N(i.t6));case 23:case"end":return i.stop()}}),null,null,[[0,20]])},Jr=function(e,t){var a,n;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,T.a.awrap(Object(j.getInstance)());case 3:if(a=r.sent,r.t0=t,r.t0){r.next=16;break}return r.t1=T.a,r.t2=Kr,r.t3=a,r.next=11,T.a.awrap(Qr(a));case 11:return r.t4=r.sent,r.t5=(0,r.t2)(r.t3,r.t4),r.next=15,r.t1.awrap.call(r.t1,r.t5);case 15:r.t0=r.sent;case 16:return n=r.t0,r.abrupt("return",n.get(e));case 20:return r.prev=20,r.t6=r.catch(0),r.abrupt("return",N(r.t6));case 23:case"end":return r.stop()}}),null,null,[[0,20]])},$r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xr;return Zr(e,t)},ei=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr;return Jr(e)},ti={getCurrent:function(){return function(e,t){return Tt(t())}},getCurrentFromUi:function(){return function(e,t){return jt(t())}},onUpdate:f.tSetCurrentFromUi,acSetLoadError:ir,acClearLoadError:lr,onLoadingStart:function(){return or(!0)}},ai=Object(g.connect)(null,ti)((function(e){var t=e.renderComponent,a=e.getCurrent,n=e.getCurrentFromUi,r=e.onUpdate,i=e.acSetLoadError,l=e.acClearLoadError,o=e.onLoadingStart;return t((function(){try{Wr(n()),l()}catch(s){i(s||new Sr)}o(),r();var e=k.location.pathname==="/"+Xr,t=a(),c=t&&t.id?"/".concat(t.id):"/";e||k.location.pathname===c||k.push(c)}))})),ni=a(2),ri=a.n(ni),ii={styles:y.a.createElement(ri.a,{id:"3577720839"},["div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}"]),className:"jsx-3577720839"},li={styles:y.a.createElement(ri.a,{id:"1427514941"},["div.jsx-1427514941{padding:".concat(V.R.dp16," 0;}"),"div.jsx-1427514941:not(:last-child){border-bottom:1px solid ".concat(V.Q.grey300,";margin-bottom:").concat(V.R.dp8,";}")]),className:"jsx-1427514941"},oi=(y.a.createElement(ri.a,{id:"1655721637"},["div.jsx-1655721637{overflow-y:auto;}"]),{styles:y.a.createElement(ri.a,{id:"3115295887"},["span.jsx-3115295887{display:inline-block;padding-bottom:".concat(V.R.dp12,";font-size:15px;color:").concat(V.Q.grey900,";font-weight:500;-webkit-letter-spacing:0.2px;-moz-letter-spacing:0.2px;-ms-letter-spacing:0.2px;letter-spacing:0.2px;}")]),className:"jsx-3115295887"}),ci={styles:y.a.createElement(ri.a,{id:"1665807213"},["div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:".concat(V.R.dp16,";}")]),className:"jsx-1665807213"},si={styles:y.a.createElement(ri.a,{id:"2983019948"},["div.jsx-2983019948:not(:last-child){padding-bottom:".concat(V.R.dp8,";}")]),className:"jsx-2983019948"},ui={styles:y.a.createElement(ri.a,{id:"3717686981"},["p.jsx-3717686981{font-size:".concat(V.R.dp14,";padding-bottom:").concat(V.R.dp16,";}")]),className:"jsx-3717686981"},di={styles:y.a.createElement(ri.a,{id:"684239008"},["div.jsx-684239008{margin:".concat(V.R.dp4," 0 0 23px;}")]),className:"jsx-684239008"},mi={styles:y.a.createElement(ri.a,{id:"3576615552"},["div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),className:"jsx-3576615552"},pi=Object(g.connect)((function(e,t){return{value:Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))}}}))((function(e){var t=e.option,a=e.label,n=e.helpText,r=e.toggleable,i=e.value,l=e.onChange,o=t.defaultValue,c=Object(h.useState)(i!==o),s=Object(_.a)(c,2),u=s[0],d=s[1],m=t.items.find((function(e){return e.value===i}))||{};return y.a.createElement("div",{className:!r||u?"":ci.className},r?y.a.createElement(V.e,{checked:u,label:a,name:"".concat(t.name,"-toggle"),onChange:function(e){return function(e){d(e),l(e?t.items[0].value:o)}(e.checked)},dense:!0}):null,!r||u?y.a.createElement("div",{className:r?di.className:""},y.a.createElement(V.F,{name:"".concat(t.name,"-select"),label:r?"":a,onChange:function(e){var t=e.selected;return l(t.value)},selected:m,helpText:n,inputWidth:"280px",dense:!0},t.items.map((function(e){var t=e.value,a=e.label;return y.a.createElement(V.G,{key:t,value:t,label:a})})))):null)})),fi=function(){return y.a.createElement(pi,{label:Oa.a.t("Aggregation type"),helpText:Oa.a.t("Determines how the values in the pivot table are aggregated."),option:{name:"aggregationType",items:[{value:"DEFAULT",label:Oa.a.t("By data element")},{value:"COUNT",label:Oa.a.t("Count")},{value:"AVERAGE",label:Oa.a.t("Average")},{value:"AVERAGE_SUM_ORG_UNIT",label:Oa.a.t("Average (sum in org unit hierarchy)")},{value:"SUM",label:Oa.a.t("Sum")},{value:"LAST",label:Oa.a.t("Last value")},{value:"LAST_AVERAGE_ORG_UNIT",label:Oa.a.t("Last value (average in org unit hierarchy)")},{value:"MIN",label:Oa.a.t("Min")},{value:"MAX",label:Oa.a.t("Max")},{value:"STDDEV",label:Oa.a.t("Standard deviation")},{value:"VARIANCE",label:Oa.a.t("Variance")}]}})},bi=Object(g.connect)((function(e,t){return{value:Qe(e)[t.option.name]||!1}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))}}}))((function(e){var t=e.option,a=e.label,n=e.value,r=e.onChange;return y.a.createElement("div",{className:ci.className},y.a.createElement(V.e,{checked:n,label:a,name:t.name,onChange:function(e){var t=e.checked;return r(t)},dense:!0}))})),vi=function(){return y.a.createElement(bi,{label:Oa.a.t("Dimension labels"),option:{name:"showDimensionLabels"}})},Ei=function(){return y.a.createElement(bi,{label:Oa.a.t("Skip rounding"),option:{name:"skipRounding"}})},hi=function(){return y.a.createElement(bi,{label:Oa.a.t("Columns totals"),option:{name:"colTotals"}})},yi=function(){return y.a.createElement(bi,{label:Oa.a.t("Column sub-totals"),option:{name:"colSubTotals"}})},gi=function(){return y.a.createElement(bi,{label:Oa.a.t("Row totals"),option:{name:"rowTotals"}})},Oi=function(){return y.a.createElement(bi,{label:Oa.a.t("Row sub-totals"),option:{name:"rowSubTotals"}})},Ii=function(){return y.a.createElement(bi,{label:Oa.a.t("Hide empty columns"),option:{name:"hideEmptyColumns"}})},_i=function(){return y.a.createElement(bi,{label:Oa.a.t("Hide empty rows"),option:{name:"hideEmptyRows"}})},Si=function(){return y.a.createElement(pi,{label:Oa.a.t("Number type"),helpText:Oa.a.t("Display the value of percentages of the total"),option:{name:"numberType",items:[{value:"VALUE",label:Oa.a.t("Value")},{value:"ROW_PERCENTAGE",label:Oa.a.t("Percentage of row")},{value:"COLUMN_PERCENTAGE",label:Oa.a.t("Percentage of column")}]}})},xi=Object(g.connect)((function(e,t){return{value:Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))}}}))((function(e){var t=e.option,a=e.label,n=e.value,r=e.onChange;return y.a.createElement(V.C,{name:t.name,value:n,onChange:function(e){var t=e.value;return r(t)},label:a,dense:!0},t.items.map((function(e){var t=e.id,a=e.label;return y.a.createElement(V.A,{key:t,label:a,value:t})})))})),Ai=function(){return y.a.createElement(xi,{option:{name:"legendDisplayStyle",items:[{id:"FILL",label:Oa.a.t("Legend changes background color")},{id:"TEXT",label:Oa.a.t("Legend changes text color")}]}})},Ti={legendSets:{resource:"legendSets",params:{fields:["id","displayName~rename(name)","legends[id,displayName~rename(name),startValue,endValue,color]"],paging:!1}}},ji=function(e){var t=e.value,a=e.loading,n=e.options,r=e.onFocus,i=e.onChange,l=t&&t.id?{value:t.id,label:t.displayName}:{};return y.a.createElement(V.F,{name:"legendSetSelect",label:Oa.a.t("Legend"),selected:l,inputWidth:"280px",placeholder:Oa.a.t("Select from legends"),loadingText:Oa.a.t("Loading legends"),loading:a,dense:!0,onFocus:r,onChange:function(e){var t=e.selected;return i({id:t.value,displayName:t.label})}},n.map((function(e){var t=e.value,a=e.label;return y.a.createElement(V.G,{key:t,value:t,label:a})})))},Di=Object(g.connect)((function(e){return{value:Qe(e).legendSet||{}}}),(function(e){return{onChange:function(t){var a=t.id,n=t.displayName;return e(Ta(Object(W.a)({},"legendSet",{id:a,displayName:n})))}}}))((function(e){var t=e.value,a=e.onChange,n=Object(I.c)(),r=Object(h.useState)([]),i=Object(_.a)(r,2),l=i[0],o=i[1],c=Object(h.useState)(!1),s=Object(_.a)(c,2),u=s[0],d=s[1];t&&t.id&&(l.find((function(e){return e.value===t.id}))||o([].concat(Object(P.a)(l),[{value:t.id,label:t.displayName}])));return y.a.createElement(ji,{loading:!u,value:t,options:l,onChange:a,onFocus:function(){var e,t,a;return T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(u){r.next=7;break}return r.next=3,T.a.awrap(n.query(Ti));case 3:e=r.sent,(t=e.legendSets)&&(a=t.legendSets.map((function(e){return{value:e.id,label:e.name}})),o(a)),d(!0);case 7:case"end":return r.stop()}}))}})})),wi=Object(g.connect)((function(e){return{value:Qe(e).legendDisplayStrategy}}),(function(e){return{onChange:function(t){var a=t.value;return e(Ta(Object(W.a)({},"legendDisplayStrategy",a)))}}}))((function(e){var t=e.value,a=e.onChange;return y.a.createElement(h.Fragment,null,y.a.createElement(V.B,{name:"legendDisplayStrategy",value:t,onChange:a,dense:!0},y.a.createElement(V.A,{key:"BY_DATA_ITEM",label:Oa.a.t("Use pre-defined legend per data item"),value:"BY_DATA_ITEM"}),y.a.createElement(V.A,{key:"FIXED",label:Oa.a.t("Select a single legend for the entire visualization"),value:"FIXED"})),"FIXED"===t?y.a.createElement("div",{className:di.className},y.a.createElement(Di,null)):null)})),Ni=Object(g.connect)((function(e){return{legendSet:Qe(e).legendSet,legendDisplayStrategy:Qe(e).legendDisplayStrategy}}),(function(e){return{onChange:function(t){return e(Ta(t))}}}))((function(e){var t=e.legendSet,a=e.legendDisplayStrategy,n=e.onChange,r=e.hideStyleOptions,i=Object(h.useState)(!("FIXED"===a&&!t)),l=Object(_.a)(i,2),o=l[0],c=l[1];return y.a.createElement("div",{className:ci.className},y.a.createElement(V.e,{checked:o,label:Oa.a.t("Display legend"),onChange:function(e){var t,a=e.checked;(c(a),a)?n(Object(W.a)({},"legendDisplayStrategy","BY_DATA_ITEM")):n((t={},Object(W.a)(t,"legendSet",void 0),Object(W.a)(t,"legendDisplayStrategy","FIXED"),Object(W.a)(t,"legendDisplayStyle","FILL"),t))},dense:!0}),o?y.a.createElement("div",{className:di.className},r?null:y.a.createElement(V.k,null,y.a.createElement(V.p,null,y.a.createElement("span",{className:oi.className,style:{marginTop:8}},Oa.a.t("Legend style"))),y.a.createElement("div",{className:ci.className},y.a.createElement(Ai,null))),y.a.createElement(V.k,null,y.a.createElement(V.p,null,y.a.createElement("span",{className:oi.className},Oa.a.t("Legend type"))),y.a.createElement("div",{className:ci.className},y.a.createElement(wi,null)))):null)})),Ci=Object(g.connect)((function(e,t){return{value:Qe(e)[t.option.name]||"",enabled:void 0!==Qe(e)[t.option.name]}}),(function(e,t){return{onChange:function(a){return e(Ta(Object(W.a)({},t.option.name,a)))},onToggle:function(a){return e(Ta(Object(W.a)({},t.option.name,a?"":void 0)))}}}))((function(e){var t=e.type,a=e.label,n=e.placeholder,r=e.helpText,i=e.width,l=e.option,o=e.value,c=e.onChange,s=e.onToggle,u=e.toggleable,d=e.enabled,m=e.inline;return y.a.createElement("div",{className:!u||d||m?"":ci.className},u?y.a.createElement(V.e,{checked:d,label:a,name:"".concat(l.name,"-toggle"),onChange:function(e){var t=e.checked;return s(t)},dense:!0}):null,!u||d?y.a.createElement("div",{className:u?di.className:""},m?y.a.createElement(V.g,{width:i},y.a.createElement(V.m,{type:t,onChange:function(e){var t=e.value;return c(t)},name:l.name,value:o,placeholder:n,dense:!0})):y.a.createElement(V.n,{type:t,label:u?"":a,onChange:function(e){var t=e.value;return c(t)},name:l.name,value:o,helpText:r,placeholder:n,inputWidth:i,dense:!0})):null)})),Li=function(e){var t=e.label,a=e.inline;return y.a.createElement(Ci,{type:"text",width:"280px",label:t,placeholder:Oa.a.t("Add a title"),option:{name:"title"},inline:a})};Li.defaultProps={inline:!1};var Ri=Li,ki=function(){return y.a.createElement(pi,{label:Oa.a.t("Display density"),option:{name:"displayDensity",items:[{value:"COMFORTABLE",label:Oa.a.t("Comfortable")},{value:"NORMAL",label:Oa.a.t("Normal")},{value:"COMPACT",label:Oa.a.t("Compact")}]}})},Vi=function(){return y.a.createElement(pi,{label:Oa.a.t("Font size"),option:{name:"fontSize",items:[{value:"LARGE",label:Oa.a.t("Large")},{value:"NORMAL",label:Oa.a.t("Normal")},{value:"SMALL",label:Oa.a.t("Small")}]}})},Mi=function(){return y.a.createElement(pi,{label:Oa.a.t("Digit group separator"),option:{name:"digitGroupSeparator",items:[{value:"NONE",label:Oa.a.t("None")},{value:"SPACE",label:Oa.a.t("Space")},{value:"COMMA",label:Oa.a.t("Comma")}]}})},Ui=function(e){var t=e.name,a=e.value,n=e.onChange,r=[{id:"EQ",label:"="},{id:"GT",label:">"},{id:"GE",label:">="},{id:"LT",label:"<"},{id:"LE",label:"<="}],i=r.find((function(e){return e.id===a}));return y.a.createElement("div",{style:{width:"112px"}},y.a.createElement(V.E,{name:t,onChange:function(e){var t=e.selected;n(t.value)},selected:i?{value:i.id,label:i.label}:void 0,tabIndex:"0",inputMaxWidth:"106px",dense:!0},r.map((function(e){var t=e.id,a=e.label;return y.a.createElement(V.G,{key:t,value:t,label:a})}))))},Pi=function(e){var t=e.name,a=e.value,n=e.onChange;return y.a.createElement(V.m,{name:t,value:a,type:"number",onChange:function(e){var t=e.value;return n(t)},width:"72px",dense:!0})},zi=function(e){function t(e){var a;Object(pa.a)(this,t),(a=Object(ba.a)(this,Object(va.a)(t).call(this,e))).onClear=function(){return a.setState(a.defaultState,a.props.onChange(""))},a.onChange=function(e){return function(t){a.setState(Object(W.a)({},e,t),(function(){var e=a.state,t=e.op1,n=e.v1,r=e.op2,i=e.v2,l=[];t&&n&&l.push("".concat(t,":").concat(n)),r&&i&&l.push("".concat(r,":").concat(i)),a.props.onChange(l.length>0?l.join(";"):"")}))}},a.defaultState={op1:"",v1:"",op2:"",v2:""};var n=e.value.split(/[;:]/),r=Object(_.a)(n,4),i=r[0],l=void 0===i?"":i,o=r[1],c=void 0===o?"":o,s=r[2],u=void 0===s?"":s,d=r[3],m=void 0===d?"":d;return a.state={op1:l,v1:c,op2:u,v2:m},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this.state,t=e.op1,a=e.v1,n=e.op2,r=e.v2;return y.a.createElement("div",{className:ci.className},y.a.createElement("p",{className:ui.className},Oa.a.t("You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed")),y.a.createElement("div",{className:mi.className},y.a.createElement("div",{style:{width:"250px"}},y.a.createElement(V.o,null,Oa.a.t("Minimum data value")),y.a.createElement("div",{className:mi.className},y.a.createElement(Ui,{name:"op1",value:t,onChange:this.onChange("op1")}),y.a.createElement(Pi,{name:"v1",value:a,onChange:this.onChange("v1")}))),y.a.createElement("div",{style:{width:"250px"}},y.a.createElement(V.o,null,Oa.a.t("Maximum data value")),y.a.createElement("div",{className:mi.className},y.a.createElement(Ui,{name:"op2",value:n,onChange:this.onChange("op2")}),y.a.createElement(Pi,{name:"v2",value:r,onChange:this.onChange("v2")})))),y.a.createElement("div",{style:{paddingTop:"16px"}},y.a.createElement(V.b,{onClick:this.onClear},Oa.a.t("Clear min/max limits"))))}}]),t}(h.Component),Gi=Object(g.connect)((function(e){return{value:Qe(e).measureCriteria||""}}),(function(e){return{onChange:function(t){return e(Ta({measureCriteria:t}))}}}))(zi),Bi=function(){return y.a.createElement(bi,{label:Oa.a.t("Reporting period"),option:{name:"reportingPeriod"}})},Yi=function(){return y.a.createElement(bi,{label:Oa.a.t("Organisation unit"),option:{name:"organisationUnit"}})},Fi=function(){return y.a.createElement(bi,{label:Oa.a.t("Parent organisation unit"),option:{name:"parentOrganisationUnit"}})},Hi=function(){return y.a.createElement(bi,{label:Oa.a.t("Include regression"),option:{name:"regression"}})},qi=function(){return y.a.createElement(bi,{label:Oa.a.t("Include cumulative"),option:{name:"cumulative"}})},Wi=K.sortOrder.defaultValue,Xi=function(){return y.a.createElement(pi,{label:Oa.a.t("Custom sort order"),toggleable:!0,option:{name:"sortOrder",defaultValue:Wi,items:[{value:"-1",label:Oa.a.t("Low to high")},{value:"1",label:Oa.a.t("High to low")}]}})},Qi=function(){return y.a.createElement(pi,{label:Oa.a.t("Top limit"),option:{name:"topLimit",items:[{value:"0",label:Oa.a.t("None")},{value:"5",label:"5"},{value:"10",label:"10"},{value:"20",label:"20"},{value:"50",label:"50"},{value:"100",label:"100"}]}})},Ki={dataApprovalLevels:{resource:"dataApprovalLevels.json",params:{order:"level:asc",fields:"id,displayName~rename(name),level",paging:!1}}},Zi=function(e){var t=e.value,a=e.loading,n=e.options,r=e.onFocus,i=e.onChange,l=t&&t.id?{value:t.id,label:t.displayName}:{};return y.a.createElement(V.F,{name:"approvalLevelSelect",label:Oa.a.t("Data approved at level"),selected:l,inputWidth:"280px",placeholder:Oa.a.t("Select from predefined levels"),loadingText:Oa.a.t("Loading data approval levels"),loading:a,dense:!0,onFocus:r,onChange:function(e){var t=e.selected;return i({id:t.value,displayName:t.label})}},n.map((function(e){var t=e.value,a=e.label;return y.a.createElement(V.G,{key:t,value:t,label:a})})))},Ji=Object(an.a)([Ft,function(e){return Jt(e).authorities}],(function(e,t){return-1!==e.keyIgnoreAnalyticsApprovalYearThreshold&&t.F_VIEW_UNAPPROVED_DATA})),$i=Object(g.connect)((function(e){return{enabled:Ji(e),value:Qe(e).approvalLevel||{}}}),(function(e){return{onChange:function(t){var a=t.id,n=t.displayName;return e(Ta(Object(W.a)({},"approvalLevel",{id:a,displayName:n})))}}}))((function(e){var t=e.value,a=e.onChange,n=e.enabled,r=Object(I.c)(),i=Object(h.useState)([]),l=Object(_.a)(i,2),o=l[0],c=l[1],s=Object(h.useState)(!1),u=Object(_.a)(s,2),d=u[0],m=u[1];if(!n)return null;t&&t.id&&(o.find((function(e){return e.value===t.id}))||c([].concat(Object(P.a)(o),[{value:t.id,label:t.displayName}])));return y.a.createElement(Zi,{loading:!d,value:t,options:o,onChange:a,onFocus:function(){var e,t,a;return T.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(d){n.next=7;break}return n.next=3,T.a.awrap(r.query(Ki));case 3:e=n.sent,(t=e.dataApprovalLevels)&&(a=t.dataApprovalLevels.map((function(e){return{value:e.id,label:e.name}})),c(a)),m(!0);case 7:case"end":return n.stop()}}))}})})),el=function(){return y.a.createElement(bi,{label:Oa.a.t("Display organisation unit hierarchy"),option:{name:"showHierarchy"}})},tl=function(){return y.a.createElement("div",{className:ci.className},y.a.createElement(V.o,null,Oa.a.t("Event data")),y.a.createElement(bi,{label:Oa.a.t("Only include completed events"),option:{name:"completedOnly"}}))},al=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-section-1",content:y.a.Children.toArray([y.a.createElement(vi,null),y.a.createElement(Ei,null)])},{key:"data-display-totals",label:Oa.a.t("Display totals"),content:y.a.Children.toArray([y.a.createElement(hi,null),y.a.createElement(yi,null),y.a.createElement(gi,null),y.a.createElement(Oi,null)])},{key:"data-display-empty-data",label:Oa.a.t("Display empty data"),content:y.a.Children.toArray([y.a.createElement(Ii,null),y.a.createElement(_i,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(Si,null),y.a.createElement(tl,null),y.a.createElement($i,null)])}]},{key:"legend-tab",label:Oa.a.t("Legend"),content:[{key:"legend-section-1",content:y.a.Children.toArray([y.a.createElement(Ni,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-section-1",content:y.a.Children.toArray([y.a.createElement(Ri,{label:Oa.a.t("Table title")}),y.a.createElement(ki,null),y.a.createElement(Vi,null),y.a.createElement(Mi,null)])},{key:"style-section-2",label:Oa.a.t("Labels"),content:y.a.Children.toArray([y.a.createElement(el,null)])}]},{key:"limitValues-tab",label:Oa.a.t("Limit values"),content:[{key:"limitValues-limit-min-max",label:Oa.a.t("Limit minimum/maximum values"),content:y.a.Children.toArray([y.a.createElement(Gi,null)])}]},{key:"parameters-tab",label:Oa.a.t("Parameters"),content:[{key:"parameters-section-1",content:y.a.Children.toArray([y.a.createElement(Bi,null),y.a.createElement(Yi,null),y.a.createElement(Fi,null),y.a.createElement(Hi,null),y.a.createElement(qi,null),y.a.createElement(Xi,null),y.a.createElement(Qi,null)])}]}],nl=function(){return y.a.createElement(bi,{label:Oa.a.t("Cumulative values"),option:{name:"cumulativeValues"}})},rl=function(){return y.a.createElement(bi,{label:Oa.a.t("Value labels"),option:{name:"showData"}})},il=K.hideEmptyRowItems.defaultValue,ll=function(){return y.a.createElement(pi,{label:Oa.a.t("Hide empty categories"),toggleable:!0,option:{name:"hideEmptyRowItems",defaultValue:il,items:[{value:"BEFORE_FIRST",label:Oa.a.t("Before first")},{value:"AFTER_LAST",label:Oa.a.t("After last")},{value:"BEFORE_FIRST_AFTER_LAST",label:Oa.a.t("Before first and after last")},{value:"ALL",label:Oa.a.t("All")}]}})},ol=K.regressionType.defaultValue,cl=function(){return y.a.createElement(pi,{toggleable:!0,label:Oa.a.t("Trend line"),option:{name:"regressionType",defaultValue:ol,items:[{value:"LINEAR",label:Oa.a.t("Linear")},{value:"POLYNOMIAL",label:Oa.a.t("Polynomial")},{value:"LOESS",label:Oa.a.t("Loess")}]}})},sl=function(){return y.a.createElement(Ci,{type:"number",width:"96px",label:Oa.a.t("Value"),placeholder:Oa.a.t("Number"),option:{name:"targetLineValue"},inline:!0})},ul=function(){return y.a.createElement(Ci,{type:"text",width:"280px",label:Oa.a.t("Title"),placeholder:Oa.a.t("Target line title"),option:{name:"targetLineLabel"},inline:!0})},dl=Object(g.connect)((function(e){return{enabled:Qe(e).targetLine}}),(function(e){return{onChange:function(t){return e(Ta({targetLine:t}))}}}))((function(e){var t=e.enabled,a=e.onChange;return y.a.createElement("div",{className:ci.className},y.a.createElement(V.e,{checked:t,label:Oa.a.t("Target line"),onChange:function(e){var t=e.checked;return a(t)},dense:!0}),t?y.a.createElement("div",{className:"".concat(di.className," ").concat(mi.className)},y.a.createElement("div",null,y.a.createElement(V.o,null,Oa.a.t("Value")),y.a.createElement(sl,null)),y.a.createElement("div",null,y.a.createElement(V.o,null,Oa.a.t("Title")),y.a.createElement(ul,null))):null)})),ml=function(){return y.a.createElement(Ci,{type:"number",width:"96px",label:Oa.a.t("Value"),placeholder:Oa.a.t("Number"),option:{name:"baseLineValue"},inline:!0})},pl=function(){return y.a.createElement(Ci,{type:"text",width:"280px",label:Oa.a.t("Title"),placeholder:Oa.a.t("Base line title"),option:{name:"baseLineLabel"},inline:!0})},fl=Object(g.connect)((function(e){return{enabled:Qe(e).baseLine}}),(function(e){return{onChange:function(t){return e(Ta({baseLine:t}))}}}))((function(e){var t=e.enabled,a=e.onChange;return y.a.createElement("div",{className:ci.className},y.a.createElement(V.e,{checked:t,label:Oa.a.t("Base line"),name:"baseLine-toggle",onChange:function(e){var t=e.checked;return a(t)},dense:!0}),t?y.a.createElement("div",{className:"".concat(di.className," ").concat(mi.className)},y.a.createElement("div",null,y.a.createElement(V.o,null,Oa.a.t("Value")),y.a.createElement(ml,null)),y.a.createElement("div",null,y.a.createElement(V.o,null,Oa.a.t("Title")),y.a.createElement(pl,null))):null)})),bl=function(){return y.a.createElement(Ci,{type:"number",width:"100px",placeholder:Oa.a.t("Min"),option:{name:"rangeAxisMinValue"},inline:!0})},vl=function(){return y.a.createElement(Ci,{type:"number",width:"100px",placeholder:Oa.a.t("Max"),option:{name:"rangeAxisMaxValue"},inline:!0})},El=function(){return y.a.createElement("div",{className:ci.className},y.a.createElement(V.o,null,Oa.a.t("Axis range")),y.a.createElement("div",{className:mi.className},y.a.createElement(bl,null),"\xa0\u2013\xa0",y.a.createElement(vl,null)),y.a.createElement(V.l,null,Oa.a.t("Values outside of the range will not be displayed")))},hl=function(){return y.a.createElement(Ci,{type:"number",width:"96px",helpText:Oa.a.t("The number of axis steps between the min and max values"),label:Oa.a.t("Steps"),placeholder:Oa.a.t("Auto"),option:{name:"rangeAxisSteps"}})},yl=function(){return y.a.createElement(Ci,{type:"number",width:"96px",label:Oa.a.t("Decimals"),placeholder:Oa.a.t("Auto"),option:{name:"rangeAxisDecimals"}})},gl=K.rangeAxisLabel.defaultValue,Ol=function(){return y.a.createElement(Ci,{type:"text",width:"280px",label:Oa.a.t("Axis title"),placeholder:Oa.a.t("Add a title"),option:{name:"rangeAxisLabel",defaultValue:gl},toggleable:!0})},Il=K.domainAxisLabel.defaultValue,_l=function(){return y.a.createElement(Ci,{type:"text",width:"280px",label:Oa.a.t("Axis title"),placeholder:Oa.a.t("Add a title"),option:{name:"domainAxisLabel",defaultValue:Il},toggleable:!0})},Sl=function(){return y.a.createElement(bi,{label:Oa.a.t("No space between bars/columns"),option:{name:"noSpaceBetweenColumns"}})},xl=function(){return y.a.createElement(bi,{label:Oa.a.t("Legend key"),option:{name:"hideLegend"}})},Al="AUTO",Tl="NONE",jl="CUSTOM",Dl=function(e){function t(e){var a;return Object(pa.a)(this,t),(a=Object(ba.a)(this,Object(va.a)(t).call(this,e))).onRadioGroupChange=function(e){var t=e.value;a.setState({value:t}),a.props.onChange(t===Tl,t===Al?void 0:a.props.title||void 0)},a.defaultState={value:Al},a.state=e.value?{value:e.value}:a.defaultState,a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return y.a.createElement("div",{className:ci.className},y.a.createElement(V.o,null,t===X.VIS_TYPE_PIVOT_TABLE?Oa.a.t("Table title"):Oa.a.t("Chart title")),y.a.createElement(V.B,{name:"hideTitle-selector",onChange:this.onRadioGroupChange,value:e,dense:!0},[{id:Al,label:Oa.a.t("Auto generated")},{id:Tl,label:Oa.a.t("None")},{id:jl,label:Oa.a.t("Custom")}].map((function(e){var t=e.id,a=e.label;return y.a.createElement(V.A,{key:t,label:a,value:t,dense:!0})}))),e===jl?y.a.createElement("div",{className:di.className},y.a.createElement(Ri,{inline:!0})):null)}}]),t}(h.Component),wl=Object(an.a)([Qe],(function(e){return e.hideTitle?Tl:void 0===e.title?Al:jl})),Nl=Object(g.connect)((function(e){return{visualizationType:Xe(e),value:wl(e),title:Qe(e).title}}),(function(e){return{onChange:function(t,a){return e(Ta({hideTitle:t,title:a}))}}}))(Dl),Cl=function(){return y.a.createElement(Ci,{type:"text",width:"280px",placeholder:Oa.a.t("Add a subtitle"),option:{name:"subtitle"}})},Ll="AUTO",Rl="NONE",kl="CUSTOM",Vl=function(e){function t(e){var a;return Object(pa.a)(this,t),(a=Object(ba.a)(this,Object(va.a)(t).call(this,e))).onChange=function(e){var t=e.value;a.setState({value:t}),a.props.onChange(t===Rl,t===Ll?void 0:a.props.subtitle||void 0)},a.defaultState={value:Ll},a.state=e.value?{value:e.value}:a.defaultState,a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return y.a.createElement("div",{className:ci.className},y.a.createElement(V.o,null,t===X.VIS_TYPE_PIVOT_TABLE?Oa.a.t("Table subtitle"):Oa.a.t("Chart subtitle")),y.a.createElement(V.B,{name:"hideSubtitle-selector",onChange:this.onChange,value:e,dense:!0},[{id:Ll,label:Oa.a.t("Auto generated")},{id:Rl,label:Oa.a.t("None")},{id:kl,label:Oa.a.t("Custom")}].map((function(e){var t=e.id,a=e.label;return y.a.createElement(V.A,{key:t,label:a,value:t,dense:!0})}))),e===kl?y.a.createElement("div",{className:di.className},y.a.createElement(Cl,{inline:!0})):null)}}]),t}(h.Component),Ml=Object(an.a)([Qe],(function(e){return e.hideSubtitle?Rl:void 0===e.subtitle?Ll:kl})),Ul=Object(g.connect)((function(e){return{visualizationType:Xe(e),value:Ml(e),subtitle:Qe(e).subtitle}}),(function(e){return{onChange:function(t,a){return e(Ta({hideSubtitle:t,subtitle:a}))}}}))(Vl),Pl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-display",label:Oa.a.t("Display"),content:y.a.Children.toArray([y.a.createElement(nl,null),y.a.createElement(ll,null),y.a.createElement(Xi,null)])},{key:"data-lines",label:Oa.a.t("Lines"),content:y.a.Children.toArray([y.a.createElement(cl,null),y.a.createElement(dl,null),y.a.createElement(fl,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(tl,null)])}]},{key:"axes-tab",label:Oa.a.t("Axes"),content:[{key:"axes-vertical-axis",label:Oa.a.t("Vertical (y) axis"),content:y.a.Children.toArray([y.a.createElement(Ol,null),y.a.createElement(El,null),y.a.createElement(hl,null),y.a.createElement(yl,null)])},{key:"axes-horizontal-axis",label:Oa.a.t("Horizontal (x) axis"),content:y.a.Children.toArray([y.a.createElement(_l,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-chart-style",label:Oa.a.t("Chart style"),content:y.a.Children.toArray([y.a.createElement(rl,null),y.a.createElement(Sl,null),y.a.createElement(xl,null)])},{key:"style-titles",label:Oa.a.t("Titles"),content:y.a.Children.toArray([y.a.createElement(Nl,null),y.a.createElement(Ul,null)])}]}],zl=function(){return y.a.createElement(bi,{label:Oa.a.t("Stacked values add up to 100%"),option:{name:"percentStackedValues"}})},Gl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-display",label:Oa.a.t("Display"),content:y.a.Children.toArray([y.a.createElement(rl,null),y.a.createElement(zl,null),y.a.createElement(nl,null),y.a.createElement(ll,null),y.a.createElement(Xi,null)])},{key:"data-lines",label:Oa.a.t("Lines"),content:y.a.Children.toArray([y.a.createElement(cl,null),y.a.createElement(dl,null),y.a.createElement(fl,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(tl,null)])}]},{key:"axes-tab",label:Oa.a.t("Axes"),content:[{key:"axes-vertical-axis",label:Oa.a.t("Vertical (y) axis"),content:y.a.Children.toArray([y.a.createElement(Ol,null),y.a.createElement(El,null),y.a.createElement(hl,null),y.a.createElement(yl,null)])},{key:"axes-horizontal-axis",label:Oa.a.t("Horizontal (x) axis"),content:y.a.Children.toArray([y.a.createElement(_l,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-chart-style",label:Oa.a.t("Chart style"),content:y.a.Children.toArray([y.a.createElement(Sl,null),y.a.createElement(xl,null)])},{key:"style-titles",label:Oa.a.t("Titles"),content:y.a.Children.toArray([y.a.createElement(Nl,null),y.a.createElement(Ul,null)])}]}],Bl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-section-1",content:y.a.Children.toArray([y.a.createElement(rl,null),y.a.createElement(nl,null),y.a.createElement(ll,null),y.a.createElement(cl,null),y.a.createElement(dl,null),y.a.createElement(fl,null),y.a.createElement(Xi,null),y.a.createElement(fi,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(tl,null)])}]},{key:"axes-tab",label:Oa.a.t("Axes"),content:[{key:"axes-vertical-axis",label:Oa.a.t("Vertical (y) axis"),content:y.a.Children.toArray([y.a.createElement(Ol,null),y.a.createElement(El,null),y.a.createElement(hl,null),y.a.createElement(yl,null)])},{key:"axes-horizontal-axis",label:Oa.a.t("Horizontal (x) axis"),content:y.a.Children.toArray([y.a.createElement(_l,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-section-1",content:y.a.Children.toArray([y.a.createElement(xl,null),y.a.createElement(Ri,null),y.a.createElement(Nl,null),y.a.createElement(Cl,null),y.a.createElement(Ul,null)])}]}],Yl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-section-1",content:y.a.Children.toArray([y.a.createElement(rl,null),y.a.createElement(zl,null),y.a.createElement(nl,null),y.a.createElement(ll,null),y.a.createElement(cl,null),y.a.createElement(dl,null),y.a.createElement(fl,null),y.a.createElement(Xi,null),y.a.createElement(fi,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(tl,null)])}]},{key:"axes-tab",label:Oa.a.t("Axes"),content:[{key:"axes-vertical-axis",label:Oa.a.t("Vertical (y) axis"),content:y.a.Children.toArray([y.a.createElement(Ol,null),y.a.createElement(El,null),y.a.createElement(hl,null),y.a.createElement(yl,null)])},{key:"axes-horizontal-axis",label:Oa.a.t("Horizontal (x) axis"),content:y.a.Children.toArray([y.a.createElement(_l,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-section-1",content:y.a.Children.toArray([y.a.createElement(xl,null),y.a.createElement(Ri,null),y.a.createElement(Nl,null),y.a.createElement(Cl,null),y.a.createElement(Ul,null)])}]}],Fl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(tl,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-titles",label:Oa.a.t("Titles"),content:y.a.Children.toArray([y.a.createElement(Nl,null),y.a.createElement(Ul,null)])}]}],Hl=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-lines",label:Oa.a.t("Lines"),content:y.a.Children.toArray([y.a.createElement(dl,null),y.a.createElement(fl,null)])},{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(tl,null)])}]},{key:"legend-tab",label:Oa.a.t("Legend"),content:[{key:"legend-section-1",content:y.a.Children.toArray([y.a.createElement(Ni,null)])}]},{key:"axes-tab",label:Oa.a.t("Axes"),content:[{key:"axes-vertical-axis",label:Oa.a.t("Vertical (y) axis"),content:y.a.Children.toArray([y.a.createElement(El,null)])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-titles",label:Oa.a.t("Titles"),content:y.a.Children.toArray([y.a.createElement(Nl,null),y.a.createElement(Ul,null)])}]}],ql=[{key:"data-tab",label:Oa.a.t("Data"),content:[{key:"data-advanced",label:Oa.a.t("Advanced"),content:y.a.Children.toArray([y.a.createElement(fi,null),y.a.createElement(tl,null)])}]},{key:"legend-tab",label:Oa.a.t("Legend"),content:[{key:"legend-section-1",content:y.a.Children.toArray([y.a.createElement(Ni,{hideStyleOptions:!0})])}]},{key:"style-tab",label:Oa.a.t("Style"),content:[{key:"style-titles",label:Oa.a.t("Titles"),content:y.a.Children.toArray([y.a.createElement(Nl,null),y.a.createElement(Ul,null)])}]}],Wl=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).state={activeTabKey:void 0},a.selectTab=function(e){a.setState({activeTabKey:e})},a.generateTabContent=function(e){return e.map((function(e){var t=e.key,a=e.label,n=e.content;return y.a.createElement("div",{key:t,className:li.className},y.a.createElement(V.k,null,a?y.a.createElement(V.p,null,y.a.createElement("span",{className:oi.className},a)):null,n))}))},a.generateTabs=function(e){return e.map((function(e){var t=e.key,n=e.label,r=e.content;return{key:t,label:n,content:a.generateTabContent(r)}}))},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this,t=function(e){switch(e){case X.VIS_TYPE_COLUMN:case X.VIS_TYPE_BAR:case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return Pl;case X.VIS_TYPE_STACKED_COLUMN:case X.VIS_TYPE_STACKED_BAR:return Gl;case X.VIS_TYPE_LINE:case X.VIS_TYPE_RADAR:return Bl;case X.VIS_TYPE_AREA:return Yl;case X.VIS_TYPE_GAUGE:return Hl;case X.VIS_TYPE_PIE:return Fl;case X.VIS_TYPE_SINGLE_VALUE:return ql;case X.VIS_TYPE_PIVOT_TABLE:return al;default:return Gl}}(this.props.visualizationType),a=this.generateTabs(t),n=a.findIndex((function(t){return t.key===e.state.activeTabKey}));return n<0&&(n=0),y.a.createElement(h.Fragment,null,y.a.createElement("div",{className:ii.className},y.a.createElement(V.J,null,a.map((function(t,a){var r=t.key,i=t.label;return y.a.createElement(V.I,{key:r,onClick:function(){return e.selectTab(r)},selected:a===n},i)}))),ii.styles),a[n].content,li.styles,oi.styles,ci.styles,si.styles,di.styles,mi.styles,ui.styles)}}]),t}(h.Component),Xl=Object(g.connect)((function(e){return{visualizationType:Xe(e)}}))(Wl),Ql=function(e){function t(e){var a;return Object(pa.a)(this,t),(a=Object(ba.a)(this,Object(va.a)(t).call(this,e))).onClose=function(){a.toggleVisualizationOptionsDialog()},a.toggleVisualizationOptionsDialog=function(){a.setState({dialogIsOpen:!a.state.dialogIsOpen})},a.getPrimaryOnClick=function(e){return function(){e(),a.onClose()}},a.state={dialogIsOpen:!1},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this;return y.a.createElement(h.Fragment,null,y.a.createElement(hn,{className:this.props.className,onClick:this.toggleVisualizationOptionsDialog},Oa.a.t("Options")),this.state.dialogIsOpen&&y.a.createElement(V.t,{onClose:this.onClose,position:"top",large:!0},y.a.createElement(V.w,null,Oa.a.t("Options")),y.a.createElement(V.v,null,y.a.createElement(Xl,null)),y.a.createElement(V.u,null,y.a.createElement(V.c,null,y.a.createElement(Cn,{onClick:this.onClose}),y.a.createElement(ai,{renderComponent:function(t){return y.a.createElement(en,{onClick:e.getPrimaryOnClick(t)})}})))))}}]),t}(h.Component),Kl=a(1730),Zl=a.n(Kl),Jl=function(e){var t="/".concat(e);k.location.pathname===t?k.replace(t):k.push(t)},$l=function(){return k.push("/")},eo=function(e){return function(t){return e.onRenameVisualization(t)}},to=function(e){return function(t){return e.onSaveVisualization(t,!1)}},ao=function(e){return function(t){return e.onSaveVisualization(t,!0)}},no=function(e){return function(){return e.onDeleteVisualization()}},ro=function(e){return function(t){return e.onError(t)}},io=function(e,t){var a=Object(Za.a)({},e);return y.a.createElement("div",{className:Zl.a.menuBar},y.a.createElement(ai,{renderComponent:function(e){return y.a.createElement(en,{className:Zl.a.updateButton,small:!0,onClick:e})}}),y.a.createElement($a.a,{d2:t.d2,fileId:a.id||null,fileType:a.apiObjectName,onOpen:Jl,onNew:$l,onRename:eo(a),onSave:to(a),onSaveAs:ao(a),onDelete:no(a),onError:ro(a)}),y.a.createElement(Ql,null),y.a.createElement(Sn,null),y.a.createElement("div",{className:Zl.a.grow}),y.a.createElement(Nn,null))};io.contextTypes={d2:ya.a.object};var lo=Object(g.connect)((function(e){return{id:(Tt(e)||{}).id}}),(function(e){return{onRenameVisualization:function(t){return e(function(e){var t=e.name,a=e.description;return function(e,n){var r=n(),i=H(r),l=Tt(r),o=Object(x.a)({},i),c=Object(x.a)({},l);t&&(o.name=c.name=t),a&&(o.description=c.description=a),e(Hn(o)),e(Wn(i===l?o:c)),e(Xa({variant:"success",message:Oa.a.t("Rename successful"),duration:2e3}))}}(t))},onSaveVisualization:function(t,a){return e(function(e,t){var a=e.name,n=e.description;return function(e,r,i){var l,o;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return l=function(e){"OK"===e.status&&e.response.uid&&(t?k.push({pathname:"/".concat(e.response.uid),state:{isSaving:!0}}):k.replace({pathname:"/".concat(e.response.uid),state:{isSaving:!0}}))},c.prev=1,e(or(!0)),o=Rr(Tt(r())),t&&delete o.id,a&&(o.name=a),n&&(o.description=n),c.t0=l,c.next=10,T.a.awrap(Fn(i,o));case 10:return c.t1=c.sent,c.abrupt("return",(0,c.t0)(c.t1));case 14:c.prev=14,c.t2=c.catch(1),e(or(!1)),Gr("tDoSaveVisualization",c.t2),e(ir(new xr));case 19:case"end":return c.stop()}}),null,null,[[1,14]])}}(t,a))},onDeleteVisualization:function(){return e((function(e,t){var a=Tt(t());e(Xa({variant:"success",message:Oa.a.t('"{{deletedObject}}" successfully deleted.',{deletedObject:a.name}),duration:2e3})),k.push("/")}))},onError:function(t){var a=function(e){var t=e.message,a=e.httpStatusCode;return{message:t,type:String(a).match(/50\d/)?"error":"warning"}}(t),n=a.type,r=a.message;e(m.acReceivedSnackbarMessage({variant:n,message:r}))}}}))(io),oo=a(1731),co=function(){return y.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{id:"2---Home-+-Selected-Intp.",transform:"translate(-522.000000, -169.000000)"},y.a.createElement("rect",{fill:"#F4F6F8",x:"0",y:"0",width:"1280",height:"850"}),y.a.createElement("g",{id:"title-area",transform:"translate(298.000000, 165.000000)"},y.a.createElement("g",{id:"name-badge",transform:"translate(220.000000, 0.000000)"},y.a.createElement("rect",{id:"Rectangle-4",fill:"#FFFFFF",opacity:"0.700613839",x:"0",y:"0",width:"260",height:"24",rx:"4"}),y.a.createElement("g",{id:"undo",transform:"translate(4.000000, 4.000000)"},y.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),y.a.createElement("polyline",{id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round",points:"2.375 2.374 2.375 6.124 6.125 6.124"}),y.a.createElement("path",{d:"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124",id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round"}),y.a.createElement("path",{d:"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z",id:"Combined-Shape",fill:"#494949"})))))))},so={titleBar:{display:"flex",justifyContent:"center"},cell:{display:"flex",alignItems:"center",background:V.Q.white,padding:"6px",borderRadius:"5px",margin:"4px"},title:{fontSize:"14px"},suffix:{paddingLeft:"4px"},interpretation:{fontSize:"12px",color:V.Q.grey700},interpretationIcon:{display:"flex",alignItems:"center",height:"14px",width:"14px",marginRight:"3px"},titleUnsaved:{color:V.Q.grey500,fontStyle:"italic"},titleDirty:{color:V.Q.grey700}},uo=Oa.a.t("Unsaved visualization"),mo=Oa.a.t("Edited"),po=Object(x.a)({},so.cell,{},so.title),fo=Object(x.a)({},so.cell,{},so.interpretation),bo=function(e,t){switch(e){case Ur:return uo;case Mr:case Pr:return t.name;default:return""}},vo=Object(g.connect)((function(e){return{visualization:H(e),current:Tt(e),interpretation:nt(e),uiLocale:Xt(e)}}),null,(function(e,t,a){var n=e.visualization,r=e.current,i=e.interpretation,l=e.uiLocale,o=kr(n,r);return Object(x.a)({},t,{},a,{titleState:o,titleText:bo(o,n),interpretationDate:i&&i.created?Object(oo.a)(i.created,l):null})}))((function(e){var t=e.titleState,a=e.titleText,n=e.interpretationDate,r=Object(x.a)({},po,{},function(e){switch(e){case Ur:return so.titleUnsaved;default:return null}}(t));return a?y.a.createElement("div",{"data-test":"chart-title",style:so.titleBar},y.a.createElement("div",{style:r},a,function(e){switch(e){case Pr:return y.a.createElement("div",{style:Object(x.a)({},so.suffix,{},so.titleDirty)},"- ".concat(mo));default:return""}}(t)),n&&y.a.createElement("div",{style:fo},y.a.createElement("div",{style:so.interpretationIcon},y.a.createElement(co,null)),y.a.createElement("div",null,Oa.a.t("Viewing interpretation from {{interpretationDate}}",{interpretationDate:n})))):null})),Eo=a(1732),ho=a.n(Eo),yo=function(e,t){if(void 0!==t[e.id])return""===t[e.id]?"/"+e.id:"/"+t[e.id]+"/"+e.id},go=function(e,t,a){return function(e,t){var a=t.parentGraphMap;return Object(x.a)({},e,{parentGraphMap:Object(x.a)({},e.parentGraphMap,{},a)})}(function(e,t){var a=Object(X.layoutGetAxisIdDimensionIdsObject)(e),n=ne(a)[X.DIMENSION_ID_ORGUNIT],r=t.parentGraphMap;return n?Object(x.a)({},e,Object(W.a)({},n,e[n].map((function(e){return Object(x.a)({},e,{items:e.items.map((function(e){return Object(x.a)({},e,{path:yo(e,r)})}))})})))):e}(function(e,t){var a=function(e){return Object(x.a)({},e,{items:e.items.map((function(e){return Object(x.a)({},e,{dimensionItemType:t[e.id]?t[e.id].dimensionItemType:void 0})}))})};return Object(x.a)({},e,{columns:e.columns.map(a),filters:e.filters.map(a),rows:e.rows.map(a)})}(function(e,t){var a=function(e){return Object(x.a)({},e,{items:e.items.map((function(e){return Object(x.a)({},e,{name:t[e.id]?t[e.id].name:void 0})}))})};return Object(x.a)({},e,{columns:e.columns.map(a),filters:e.filters.map(a),rows:e.rows.map(a)})}(function(e){return Object(x.a)({},e,{id:void 0,name:void 0,displayName:void 0})}(e),t),t),a),a)},Oo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),y.a.createElement("rect",{fill:"#1976D2",x:"20",y:"24",width:"10",height:"22"}),y.a.createElement("rect",{fill:"#004BA0",x:"36",y:"4",width:"10",height:"42"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},Io=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),y.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) ",x:"6",y:"7",width:"10",height:"19"}),y.a.createElement("rect",{fill:"#1976D2",x:"20",y:"20",width:"10",height:"26"}),y.a.createElement("rect",{fill:"#63A4FF",transform:"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) ",x:"20",y:"11",width:"10",height:"9"}),y.a.createElement("rect",{fill:"#004BA0",x:"36",y:"33",width:"10",height:"13"}),y.a.createElement("rect",{fill:"#1976D2",transform:"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) ",x:"36",y:"14",width:"10",height:"19"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},_o=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),y.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),y.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},So=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),y.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) ",x:"19",y:"4",width:"9",height:"10"}),y.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),y.a.createElement("rect",{fill:"#63A4FF",x:"13",y:"18",width:"23",height:"10"}),y.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),y.a.createElement("rect",{fill:"#1976D2",x:"33",y:"32",width:"9",height:"10"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},xo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("defs",null,y.a.createElement("mask",{id:"mask-4",fill:"white"},y.a.createElement("circle",{cx:"24",cy:"24",r:"24"}))),y.a.createElement("g",{stroke:"none",strokeWidth:"0",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{transform:"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) "},y.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"30.17142857142857,240",mask:"url(#mask-4)",strokeWidth:"48"},y.a.createElement("path",{stroke:"#63A4FF",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),y.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"82.97142857142858,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},y.a.createElement("path",{stroke:"#1976D2",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),y.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"37.71428571428572,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},y.a.createElement("path",{stroke:"#004BA0",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})))))},Ao=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{transform:"translate(0.000000, -12.000000)"},y.a.createElement("path",{d:"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z",fill:"#9E9E9E",fillRule:"nonzero"}),y.a.createElement("path",{d:"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z",fill:"#63A4FF",fillRule:"nonzero"}))))},To=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",null,y.a.createElement("mask",{id:"mask-line-icon",fill:"white"},y.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),y.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-line-icon)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},jo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",null,y.a.createElement("mask",{id:"mask-area-icon",fill:"white"},y.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),y.a.createElement("g",null),y.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",fill:"#63A4FF",mask:"url(#mask-area-icon)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},Do=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"23"}),y.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"15"}),y.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"5"}),y.a.createElement("circle",{fill:"#1976D2",cx:"24",cy:"9",r:"2"}),y.a.createElement("circle",{fill:"#1976D2",cx:"11",cy:"31",r:"2"}),y.a.createElement("circle",{fill:"#63A4FF",cx:"24",cy:"39",r:"2"}),y.a.createElement("circle",{fill:"#004BA0",cx:"39",cy:"24",r:"2"}),y.a.createElement("circle",{fill:"#004BA0",cx:"40",cy:"40",r:"2"})))},wo=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",null,y.a.createElement("mask",{id:"mask-yoyl-icon",fill:"white"},y.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),y.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-yoyl-icon)",points:"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28"}),y.a.createElement("polygon",{stroke:"#004BA0",strokeWidth:"2",mask:"url(#mask-yoyl-icon)",points:"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20"}),y.a.createElement("polygon",{stroke:"#63A4FF",strokeWidth:"2",mask:"url(#mask-yoyl-icon)",points:"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),y.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},No=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",null,y.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),y.a.createElement("polygon",{fill:"#63A4FF",points:"6 14 11 14 11 46 6 46"}),y.a.createElement("polygon",{fill:"#63A4FF",points:"20 23 25 23 25 46 20 46"}),y.a.createElement("polygon",{fill:"#63A4FF",points:"34 30 39 30 39 46 34 46"}),y.a.createElement("polygon",{fill:"#004BA0",points:"11 26 16 26 16 46 11 46"}),y.a.createElement("polygon",{fill:"#004BA0",points:"25 16 30 16 30 46 25 46"}),y.a.createElement("polygon",{fill:"#004BA0",points:"39 9 44 9 44 46 39 46"}),y.a.createElement("polygon",{fill:"#9E9E9E",points:"0 0 2 0 2 48 0 48"}),y.a.createElement("polygon",{fill:"#9E9E9E",points:"0 46 48 46 48 48 0 48"}))))},Co=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("path",{d:"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z",fill:"#9e9e9e"}),y.a.createElement("path",{d:"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z",fill:"#1976d2"}),y.a.createElement("path",{d:"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z",fill:"#1976d2"}),y.a.createElement("path",{d:"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z",fill:"#1976d2"}))},Lo=function(e){var t=e.style,a=void 0===t?{width:24,height:24,paddingRight:"8px"}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",null,y.a.createElement("g",null,y.a.createElement("mask",{id:"mask-globe-icon",fill:"white"},y.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),y.a.createElement("circle",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-globe-icon)",cx:"24",cy:"24",r:"23"}),y.a.createElement("polyline",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-globe-icon)",points:"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3"}),y.a.createElement("polyline",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-globe-icon)",points:"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42"}),y.a.createElement("polyline",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-globe-icon)",points:"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12"}),y.a.createElement("polyline",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-globe-icon)",points:"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47"})))))},Ro=function(e){var t=e.style,a=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return y.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0,0,48,48",style:a},y.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),y.a.createElement("rect",{stroke:"#4A5768",strokeWidth:"2",x:"7",y:"11",width:"34",height:"26"}),y.a.createElement("rect",{fill:"#4A5768",x:"8",y:"18",width:"32",height:"2"}),y.a.createElement("rect",{fill:"#4A5768",x:"19",y:"11",width:"2",height:"26"}),y.a.createElement("rect",{fill:"#4A5768",x:"8",y:"24",width:"32",height:"2"}),y.a.createElement("rect",{fill:"#4A5768",x:"8",y:"30",width:"32",height:"2"})))},ko=function(e){var t=e.iconType,a=e.style;switch(t){case X.VIS_TYPE_STACKED_COLUMN:return y.a.createElement(Io,{style:a});case X.VIS_TYPE_BAR:return y.a.createElement(_o,{style:a});case X.VIS_TYPE_STACKED_BAR:return y.a.createElement(So,{style:a});case X.VIS_TYPE_PIE:return y.a.createElement(xo,{style:a});case X.VIS_TYPE_GAUGE:return y.a.createElement(Ao,{style:a});case X.VIS_TYPE_LINE:return y.a.createElement(To,{style:a});case X.VIS_TYPE_AREA:return y.a.createElement(jo,{style:a});case X.VIS_TYPE_RADAR:return y.a.createElement(Do,{style:a});case X.VIS_TYPE_YEAR_OVER_YEAR_LINE:return y.a.createElement(wo,{style:a});case X.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return y.a.createElement(No,{style:a});case X.VIS_TYPE_SINGLE_VALUE:return y.a.createElement(Co,{style:a});case"MAP":return y.a.createElement(Lo,{style:a});case X.VIS_TYPE_PIVOT_TABLE:return y.a.createElement(Ro,{style:a});case X.VIS_TYPE_COLUMN:default:return y.a.createElement(Oo,{style:a})}},Vo=a(826),Mo=a.n(Vo),Uo=function(e){var t=e.iconType,a=e.label,n=e.disabled,r=e.isSelected,i=e.onClick,l=[Mo.a.listItem];return r&&l.push(Mo.a.listItemActive),n&&l.push(Mo.a.listItemDisabled),y.a.createElement("div",{className:l.join(" "),onClick:i},y.a.createElement("span",{className:Mo.a.listItemIcon},y.a.createElement(ko,{iconType:t,style:{width:48,height:48}})),y.a.createElement("span",{className:Mo.a.listItemText},a))},Po=function(e,t){var a=e.visualizationType,n=e.ui,r=e.setUi,i=e.current,l=e.metadata,o=t.baseUrl,c=Object(h.useState)(!1),s=Object(_.a)(c,2),u=s[0],d=s[1],m=function(){return d(!u)},p=function(e){return function(){r(pt(Object(x.a)({},n,{type:e}))),m()}},f=y.a.createElement(V.d,null,y.a.createElement("div",{className:Mo.a.listContainer},Object.keys(X.visTypeDisplayNames).map((function(e){return y.a.createElement(Uo,{key:e,iconType:e,label:X.visTypeDisplayNames[e],isSelected:e===a,onClick:p(e)})})),y.a.createElement(V.j,null),y.a.createElement(Uo,{key:"MAP",iconType:"MAP",label:Oa.a.t("Open as Map"),onClick:function(e){var t;return T.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(i){a.next=3;break}return e.stopPropagation(),a.abrupt("return");case 3:return t=go(i,l,n),a.next=6,T.a.awrap($r(t));case 6:window.location.href="".concat(o,"/").concat("dhis-web-maps","?").concat(Xr,"=true");case 7:case"end":return a.stop()}}))},disabled:!i}))),b=Object(h.createRef)();return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{onClick:m,ref:b,className:Mo.a.button},y.a.createElement(ko,{iconType:a}),y.a.createElement("span",null,X.visTypeDisplayNames[a]),y.a.createElement(ho.a,{style:{marginLeft:"auto"}})),u&&Object(tn.createPortal)(y.a.createElement("div",{onClick:m,className:Mo.a.backdrop},y.a.createElement(V.z,{reference:b,placement:"bottom-start"},y.a.createElement("div",{className:Mo.a.cardContainer},f))),document.body))};Po.contextTypes={baseUrl:ya.a.string};var zo=Object(g.connect)((function(e){return{visualizationType:Xe(e),current:Tt(e),metadata:Pt(e),ui:We(e)}}),(function(e){return{setUi:function(t){return e(_a(t))}}}))(Po),Go=a(865),Bo=a(1734),Yo=a(1733),Fo=a.n(Yo),Ho=Object(g.connect)((function(e){return{visType:Xe(e),dialogId:tt(e)}}),{onAddDimension:Da})((function(e){var t=e.dialogId,a=e.visType,n=e.onAddDimension,r=e.onClick,i=Object(X.getAvailableAxes)(a),l=i.length>1?V.H:V.b,o=function(e){n(Object(W.a)({},t,{axisId:e})),r()};return y.a.createElement(l,{component:i.length>1?y.a.createElement(V.r,{maxWidth:"380px"},Object(X.getAvailableAxes)(a).slice(1).map((function(e){return y.a.createElement(V.s,{key:e,onClick:function(){return o(e)},label:Oa.a.t("Add to {{axisName}}",{axisName:Object(X.getAxisNameByLayoutType)(e,Object(X.getLayoutTypeByVisType)(a))})})}))):null,onClick:function(){return o(i[0])},primary:!0,className:Fo.a.button},Oa.a.t("Add to {{axisName}}",{axisName:Object(X.getAxisNameByLayoutType)(i[0],Object(X.getLayoutTypeByVisType)(a))}))})),qo=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).state={onMounted:!1},a.componentDidUpdate=function(e){(!Object(Bo.a)(e.dxIds,a.props.dxIds)||!Object(Bo.a)(e.ouIds,a.props.ouIds))&&a.fetchRecommended(),a.props.dialogId!==X.DIMENSION_ID_ORGUNIT||a.state.ouMounted||a.setState({ouMounted:!0})},a.fetchRecommended=Object(Go.a)((function(){var e;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(Object(X.apiFetchRecommendedIds)(a.context.d2,a.props.dxIds,a.props.ouIds));case 2:e=t.sent,a.props.setRecommendedIds(e);case 4:case"end":return t.stop()}}))}),1e3),a.selectUiItems=function(e){var t=e.dimensionId,n=e.items;switch(a.props.setUiItems({dimensionId:t,itemIds:n.map((function(e){return e.id}))}),t){case X.DIMENSION_ID_ORGUNIT:var r={},i={};n.forEach((function(e){var t=X.ouIdHelper.removePrefix(e.id);if(r[t]={id:t,name:e.name||e.displayName,displayName:e.displayName},e.path){var a=he(e.path);i[e.id]=a==="/".concat(e.id)?"":a.replace(/^\//,"")}})),a.props.addMetadata(r),a.props.addParentGraphMap(i);break;default:a.props.addMetadata(n.reduce((function(e,t){return e[t.id]={id:t.id,name:t.name||t.displayName,displayName:t.displayName},e}),{}))}},a.closeDialog=function(){return a.props.closeDialog(null)},a.getSelectedItems=function(e){return a.props.selectedItems[e]?a.props.selectedItems[e].filter((function(e){return a.props.metadata[e]})).map((function(e){return{id:e,name:a.props.metadata[e].name}})):[]},a.getOrgUnitsFromIds=function(e,t,a){return e.filter((function(e){return void 0!==t[X.ouIdHelper.removePrefix(e)]})).map((function(e){var n=X.ouIdHelper.removePrefix(e);return{id:e,name:t[n].displayName||t[n].name,path:ye(n,t,a)}}))},a.renderPersistedContent=function(e){var t=a.props,n=t.displayNameProperty,r=t.ouIds,i=t.metadata,l=t.parentGraphMap,o=t.dialogId;if(a.state.ouMounted){var c=a.getOrgUnitsFromIds(r,i,l),s=X.DIMENSION_ID_ORGUNIT===o?"block":"none";return y.a.createElement("div",{key:X.DIMENSION_ID_ORGUNIT,style:{display:s}},y.a.createElement(X.OrgUnitDimension,Object.assign({displayNameProperty:n,ouItems:c},e)))}return null},a.renderDialogContent=function(){var e=a.props,t=e.displayNameProperty,n=e.dialogId,r=e.type,i=e.removeUiItems,l=e.setUiItems,o={d2:a.context.d2,onSelect:a.selectUiItems,onDeselect:i,onReorder:l};return y.a.createElement(h.Fragment,null,a.renderPersistedContent(o),n&&function(){var e,i=a.getSelectedItems(n),l=a.props.getAxisIdByDimensionId(n),c=r,s=i.length,u=Object(X.getAxisMaxNumberOfItems)(c,l);return!!u&&s>u&&(e=1===u?Oa.a.t("'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.",{visualizationType:Object(X.getDisplayNameByVisType)(c)}):Oa.a.t("'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.",{visualiationType:Object(X.getDisplayNameByVisType)(c),maxNumber:u}),i.forEach((function(e,t){e.isActive=t<u}))),n===X.DIMENSION_ID_DATA?y.a.createElement(X.DataDimension,Object.assign({displayNameProp:t,selectedDimensions:i,infoBoxMessage:e},o)):n===X.DIMENSION_ID_PERIOD?y.a.createElement(X.PeriodDimension,Object.assign({selectedPeriods:i},o)):Object(X.filterOutPredefinedDimensions)(Object.keys(a.props.dimensions)).includes(n)?y.a.createElement(X.DynamicDimension,Object.assign({selectedItems:i,dialogId:n},o)):null}())},a.getPrimaryOnClick=function(e){return function(){e(),a.closeDialog()}},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.dialogId,n=t.dimensions,r=Object(X.filterOutPredefinedDimensions)(Object.keys(this.props.dimensions)),i="";return a===X.DIMENSION_ID_DATA?i=Oa.a.t("Data"):a===X.DIMENSION_ID_PERIOD?i=Oa.a.t("Period"):a===X.DIMENSION_ID_ORGUNIT?i=Oa.a.t("Organisation units"):r.includes(a)&&(i=n[a]&&n[a].name),y.a.createElement(h.Fragment,null,a in n&&y.a.createElement(V.t,{onClose:this.closeDialog,"data-test":"dialog-manager",position:"top",large:!0},y.a.createElement(V.w,null,i),y.a.createElement(V.v,null,this.renderDialogContent()),y.a.createElement(V.u,null,y.a.createElement(V.c,null,y.a.createElement(Cn,{onClick:this.closeDialog}),y.a.createElement(ai,{renderComponent:function(t){return e.props.dimensionIdsInLayout.includes(a)?y.a.createElement(en,{onClick:e.getPrimaryOnClick(t)}):y.a.createElement(Ho,{onClick:e.getPrimaryOnClick(t)})}})))))}}]),t}(h.Component);qo.contextTypes={d2:ya.a.object},qo.defaultProps={dialogId:null,dxIds:[]};var Wo=Object(g.connect)((function(e){return{displayNameProperty:Ht(e),dialogId:tt(e),dimensions:Lt(e),metadata:Pt(e),parentGraphMap:et(e),dxIds:lt(e,X.DIMENSION_ID_DATA),ouIds:lt(e,X.DIMENSION_ID_ORGUNIT),selectedItems:Ze(e),type:Xe(e),getAxisIdByDimensionId:function(t){return it(e,t)},dimensionIdsInLayout:ot(e)}}),{closeDialog:Ua,setRecommendedIds:function(e){return{type:Rt,value:e}},setUiItems:Na,addMetadata:da,addUiItems:Ca,removeUiItems:La,addParentGraphMap:Va})(qo),Xo=a(1735),Qo=a.n(Xo),Ko=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).render=function(){var e=a.props,t=e.id,n=e.index,r=e.name,i=e.isSelected,l=e.isLocked,o=e.isDeactivated,c=e.isRecommended,s=e.onClick,u=e.onOptionsClick,d={id:t,name:r,isSelected:i,isLocked:l,isDeactivated:o,isRecommended:c};return y.a.createElement(Ia.b,{draggableId:t,index:n,isDragDisabled:i||o||l},(function(e,t){return y.a.createElement(y.a.Fragment,null,y.a.createElement(X.DimensionItem,Object.assign({innerRef:e.innerRef},e.draggableProps,e.dragHandleProps,{className:t.isDragging?Qo.a.dragging:Qo.a.notDragging,onClick:s,onOptionsClick:u},d)),t.isDragging&&y.a.createElement(X.DimensionItem,Object.assign({className:Qo.a.dimensionItemClone},d)))}))},a}return Object(Ea.a)(t,e),t}(h.Component),Zo=a(1736),Jo=a.n(Zo),$o=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).dndIndex=0,a.nameContainsFilterText=function(e){return e.name.toLowerCase().includes(a.props.filterText.toLowerCase())},a.isSelected=function(e){return a.props.selectedIds.includes(e)},a.isDisabledDimension=function(e){return a.props.disallowedDimensions.includes(e)},a.isLockedDimension=function(e){return a.props.lockedDimensions.includes(e)},a.isRecommendedDimension=function(e){return a.props.recommendedIds.includes(e)},a.renderItem=function(e){var t=e.id,n={id:t,name:e.name,index:a.dndIndex++,isSelected:a.isSelected(t),isLocked:a.isLockedDimension(t),isDeactivated:a.isDisabledDimension(t),isRecommended:a.isRecommendedDimension(t),onClick:a.props.onDimensionClick,onOptionsClick:a.props.onDimensionOptionsClick};return y.a.createElement(Ko,Object.assign({key:"".concat("dimensions","-").concat(t)},n))},a.getDimensionItemsByFilter=function(e){return a.props.dimensions.filter(e).filter(a.nameContainsFilterText).map(a.renderItem)},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){this.dndIndex=0;var e=this.getDimensionItemsByFilter((function(e){return Object.values(Object(X.getFixedDimensions)()).some((function(t){return t.id===e.id}))})),t=this.getDimensionItemsByFilter((function(e){return Object.values(Object(X.getDynamicDimensions)()).some((function(t){return t.id===e.id}))})),a=this.getDimensionItemsByFilter((function(e){return!Object.values(Object(X.getPredefinedDimensions)()).some((function(t){return t.id===e.id}))}));return y.a.createElement(Ia.c,{droppableId:"dimensions",isDropDisabled:!0},(function(n){return y.a.createElement("div",Object.assign({className:Jo.a.container,ref:n.innerRef},n.droppableProps),y.a.createElement("div",{className:Jo.a.wrapper},y.a.createElement("div",{className:Jo.a.section},y.a.createElement("h3",{className:Jo.a.header},Oa.a.t("Main dimensions")),y.a.createElement("ul",{className:Jo.a.list},e)),y.a.createElement("div",{className:Jo.a.section},y.a.createElement("h3",{className:Jo.a.header},Oa.a.t("Other dimensions")),y.a.createElement("ul",{className:Jo.a.list},t)),y.a.createElement("div",{className:Jo.a.section},y.a.createElement("h3",{className:Jo.a.header},Oa.a.t("Your dimensions")),y.a.createElement("ul",{className:Jo.a.list},a))),n.placeholder)}))}}]),t}(h.Component),ec=Object(an.a)([r.sGetUiType],(function(e){return Object(X.getDisallowedDimensions)(e)})),tc=Object(an.a)([r.sGetUiType],(function(e){return Object(X.getAllLockedDimensionIds)(e)})),ac=Object(g.connect)((function(e){return{dimensions:Object.values(l.sGetDimensions(e)),selectedIds:r.sGetDimensionIdsFromLayout(e),recommendedIds:o.sGetRecommendedIds(e),disallowedDimensions:ec(e),lockedDimensions:tc(e)}}),(function(e){return{onDimensionClick:function(t){return e(Ua(t))}}}))($o),nc=a(1737),rc=a.n(nc),ic=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).state={filterText:""},a.onClearFilter=function(){a.setState({filterText:""})},a.onFilterTextChange=function(e){a.setState({filterText:e})},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){return y.a.createElement("div",{className:rc.a.container},y.a.createElement(X.DimensionFilter,{style:{marginBottom:"6px",background:"#fff",border:"1px solid ".concat(V.Q.grey400),borderRadius:"5px",marginRight:"8px"},placeholder:Oa.a.t("Filter dimensions"),text:this.state.filterText,onChange:this.onFilterTextChange,onClear:this.onClearFilter,disableUnderline:!0,type:"search"}),y.a.createElement(ac,{filterText:this.state.filterText,onDimensionOptionsClick:this.props.onDimensionOptionsClick}))}}]),t}(h.Component),lc={divContainer:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:V.Q.grey050}},oc=a(1738),cc=a.n(oc),sc=function(e){var t=e.isOpen,a=e.onUpdateClick,n=e.initItems,r=e.onCancelClick,i=Object(h.useState)(),l=Object(_.a)(i,2),o=l[0],c=l[1];Object(h.useEffect)((function(){c(n.reduce((function(e,t){return e[t.id]=t,e}),{}))}),[n]);var s=function(e,t){c(Object(x.a)({},o,Object(W.a)({},e.id,Object(x.a)({},e,{axis:t}))))};return t&&y.a.createElement(V.t,{onClose:r},y.a.createElement(V.w,null,Oa.a.t("Manage axes")),y.a.createElement(V.v,null,y.a.createElement("p",null,Oa.a.t("A chart can have two axes. Each axis will have its own scale. Set the axis for each data selection below.")),o&&y.a.createElement(V.K,{className:cc.a.table},y.a.createElement("colgroup",null,y.a.createElement("col",{className:cc.a.nameColumn}),y.a.createElement("col",{className:cc.a.coloredColumn}),y.a.createElement("col",{className:cc.a.axisColumn})),y.a.createElement(V.N,null,y.a.createElement(V.O,null,y.a.createElement(V.M,null),y.a.createElement(V.M,{className:cc.a.centered},Oa.a.t("Axis 1")),y.a.createElement(V.M,{className:cc.a.centered},Oa.a.t("Axis 2")))),y.a.createElement(V.L,null,Object.keys(o).map((function(e){var t=o[e];return y.a.createElement(V.O,{key:"multiaxis-table-row-".concat(e)},y.a.createElement(V.M,null,t.name),y.a.createElement(V.M,null,y.a.createElement(V.A,{onChange:function(){return s(t,0)},checked:0===t.axis})),y.a.createElement(V.M,{className:cc.a.centered},y.a.createElement(V.A,{onChange:function(){return s(t,1)},checked:1===t.axis})))}))))),y.a.createElement(V.u,null,y.a.createElement(V.c,{end:!0},y.a.createElement(V.b,{onClick:r},Oa.a.t("Cancel")),y.a.createElement(V.b,{primary:!0,onClick:function(){return a(function(){var e=Object.keys(o).reduce((function(e,t){var a=o[t].axis;return a>0&&(e[t]=a),e}),{});return Object.keys(e).length>0?e:Be.axes}())}},Oa.a.t("Update")))))};sc.defaultProps={isOpen:!1,initItems:[],onUpdateClick:Function.prototype,onCancelClick:Function.prototype};var uc={onUpdateClick:function(e){return function(t,a){t(Ya(e)),t(Qn(Object(x.a)({},We(a()),{axes:e}))),t(Ua())}},onCancelClick:function(){return function(e){return e(Ua())}}},dc=Object(g.connect)((function(e){return{isOpen:"axisSetup"===tt(e),initItems:sa(e)}}),uc)(sc),mc=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).state={dimensionMenuAnchorEl:null,dimensionId:null},a.openOptionsMenuForDimension=function(e,t){e.stopPropagation(),a.setState({dimensionMenuAnchorEl:e.currentTarget,dimensionId:t})},a.closeOptionsMenuForDimension=function(){return a.setState({dimensionMenuAnchorEl:null,dimensionId:null})},a.getNumberOfDimensionItems=function(){return(a.props.itemsByDimension[a.state.dimensionId]||[]).length},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this;return y.a.createElement("div",{style:lc.divContainer},y.a.createElement(ic,{onDimensionOptionsClick:this.openOptionsMenuForDimension}),y.a.createElement(X.DimensionMenu,{dimensionId:this.state.dimensionId,currentAxisId:this.props.getCurrentAxisId(this.state.dimensionId),visType:this.props.ui.type,numberOfDimensionItems:this.getNumberOfDimensionItems(),dualAxisItemHandler:this.props.dualAxisItemHandler,isAssignedCategoriesInLayout:this.props.layoutHasAssignedCategories,assignedCategoriesItemHandler:function(t){return e.props.assignedCategoriesItemHandler(e.props.layoutHasAssignedCategories,t)},axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.dimensionMenuAnchorEl,onClose:this.closeOptionsMenuForDimension}),y.a.createElement(Wo,null))}}]),t}(h.Component),pc=Object(g.connect)((function(e){return{ui:r.sGetUi(e),dimensions:l.sGetDimensions(e),layout:r.sGetUiLayout(e),itemsByDimension:r.sGetUiItems(e),layoutHasAssignedCategories:r.sLayoutHasAssignedCategories(e),getCurrentAxisId:function(t){return r.getAxisIdByDimensionId(e,t)}}}),(function(e){return{dualAxisItemHandler:function(){return e(Ua("axisSetup"))},axisItemHandler:function(t){var a=t.dimensionId,n=t.axisId,r=t.numberOfDimensionItems,i=t.requireItems,l=t.isDimensionInLayout;e(Da(Object(W.a)({},a,{axisId:n}))),0===r&&i&&!l&&e(Ua(a))},removeItemHandler:function(t){e(wa(t))},assignedCategoriesItemHandler:function(t,a){e(t?wa(X.DIMENSION_ID_ASSIGNED_CATEGORIES):Da(Object(W.a)({},X.DIMENSION_ID_ASSIGNED_CATEGORIES,{axisId:a})))}}}))(mc),fc=a(1739),bc=a.n(fc),vc={wrapper:{position:"relative",width:"380px"},container:{position:"absolute",height:"100%",width:"100%"}},Ec=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).onInterpretationChange=function(e){if(e){var t="/".concat(a.props.id,"/interpretation/").concat(e.id);k.location.pathname!==t&&(k.push(t),a.props.acSetUiInterpretation({id:e.id,created:e.created}))}else k.push("/".concat(a.props.id))},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.id,n=e.interpretationId;return a?y.a.createElement("div",{style:vc.wrapper},y.a.createElement("div",{style:vc.container},y.a.createElement(bc.a,{d2:this.context.d2,type:t,id:a,currentInterpretationId:n,onCurrentInterpretationChange:this.onInterpretationChange}))):null}}]),t}(h.Component);Ec.defaultProps={type:"chart"},Ec.contextTypes={d2:ya.a.object};var hc=Object(g.connect)((function(e){return{interpretationId:nt(e).id||null}}),{acSetUiInterpretation:Ga,acClearUiInterpretation:Ba})(Ec),yc={chartCanvas:{display:"flex",justifyContent:"flex-start",alignItems:"flex-start",height:"100%"},loadingCover:{position:"absolute",height:"100%",width:"100%",left:0,top:0,zIndex:100,background:"#ffffffab"}};function gc(e,t,a,n,r,i,l){try{var o=e[i](l),c=o.value}catch(s){return void a(s)}o.done?t(c):Promise.resolve(c).then(n,r)}function Oc(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function l(e){gc(i,n,r,l,o,"next",e)}function o(e){gc(i,n,r,l,o,"throw",e)}l(void 0)}))}}function Ic(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _c(){return(_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Sc(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xc(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Sc(Object(a),!0).forEach((function(t){Ic(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Sc(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ac(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){r=!0,i=c}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jc={legendSets:{resource:"legendSets",params:function(e){var t=e.ids;return{fields:"id,legends[id,displayName~rename(name),startValue,endValue,color]",filter:"id:in:[".concat(t.join(","),"]")}}}},Dc=function(e){var t=e.visualization,a=e.responses,n=e.extraOptions,r=e.legendSets,i=e.id,l=e.style,o=e.onChartGenerated,c=e.animation,s=Object(h.useRef)(void 0),u=Object(h.useCallback)((function(e){var i=Object(X.createVisualization)(a,t,s.current,xc({},n,{animation:e,legendSets:r}),void 0,void 0,Object(X.isSingleValue)(t.type)?"dhis":"highcharts");Object(X.isSingleValue)(t.type)?o(i.visualization):o(i.visualization.getSVGForExport({sourceHeight:768,sourceWidth:1024}))}),[s,t,o,a,n,r]);return Object(h.useEffect)((function(){u(c)}),[t,a,n]),Object(h.useEffect)((function(){u(0)}),[i,l]),y.a.createElement("div",{ref:s,style:l})};Dc.defaultProps={visualization:{},filters:{},style:{},animation:200,onChartGenerated:Function.prototype},Dc.propTypes={extraOptions:ya.a.object.isRequired,legendSets:ya.a.arrayOf(ya.a.object).isRequired,responses:ya.a.arrayOf(ya.a.object).isRequired,visualization:ya.a.object.isRequired,animation:ya.a.number,id:ya.a.number,style:ya.a.object,onChartGenerated:ya.a.func};var wc=function(e){var t=e.responses,a=e.legendSets,n=e.visualization,r=e.style,i=e.id;return y.a.createElement("div",{style:r},y.a.createElement(X.PivotTable,{visualization:n,data:t[0].response,legendSets:a,renderCounter:i}))};wc.defaultProps={style:{}},wc.propTypes={legendSets:ya.a.arrayOf(ya.a.object).isRequired,responses:ya.a.arrayOf(ya.a.object).isRequired,visualization:ya.a.object.isRequired,id:ya.a.number,style:ya.a.object};var Nc=function(){var e=Oc(T.a.mark((function e(t,a,n){var r,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new t.analytics.request).fromModel(a).withParameters(n).withIncludeNumDen(a.type===X.VIS_TYPE_PIVOT_TABLE),e.next=3,t.analytics.aggregate.get(r);case 3:return i=e.sent,e.abrupt("return",[new t.analytics.response(i)]);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Cc=function(){var e=Oc(T.a.mark((function e(t,a,n){var r,i,l,o,c,s,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new t.analytics.request).addPeriodDimension(a.yearlySeries).withSkipData(!0).withSkipMeta(!1).withIncludeMetadataDetails(!0),n.relativePeriodDate&&(r=r.withRelativePeriodDate(n.relativePeriodDate)),e.next=4,t.analytics.aggregate.fetch(r);case 4:return i=e.sent,l=[],o=[],c=new Date,s=(""+c.getDate()).padStart(2,0),u=(""+(c.getMonth()+1)).padStart(2,0),i.metaData.dimensions.pe.forEach((function(e){o.push(i.metaData.items[e].name);var r="".concat(e,"-").concat(u,"-").concat(s),c=(new t.analytics.request).fromModel(a).withParameters(n).withRelativePeriodDate(r);l.push(t.analytics.aggregate.get(c))})),e.abrupt("return",Promise.all(l).then((function(e){return{responses:e.map((function(e){return new t.analytics.response(e)})),yearlySeriesLabels:o}})));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Lc=function(e){var t=e.reduce((function(e,t){return e.metaData?t.metaData.dimensions.pe.length>e.metaData.dimensions.pe.length&&(e=t):e=t,e}),{}).metaData;return t.dimensions.pe.reduce((function(e,a){var n=t.items[a].name;return e.push(n.replace(/\s+\d{4}$/,"")),e}),[])},Rc={baseLineLabel:{defaultValue:void 0,requestable:!1,savable:!0},baseLineValue:{defaultValue:void 0,requestable:!1,savable:!0},cumulativeValues:{defaultValue:!1,requestable:!1,savable:!0},domainAxisLabel:{defaultValue:void 0,requestable:!1,savable:!0},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1,savable:!0},hideLegend:{defaultValue:!1,requestable:!1,savable:!0},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1,savable:!0},percentStackedValues:{defaultValue:!1,requestable:!1,savable:!0},rangeAxisDecimals:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisLabel:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisMinValue:{defaultValue:void 0,requestable:!1,savable:!0},rangeAxisSteps:{defaultValue:void 0,requestable:!1,savable:!0},regressionType:{defaultValue:"NONE",requestable:!1,savable:!0},showData:{defaultValue:!0,requestable:!1,savable:!0},targetLineLabel:{defaultValue:void 0,requestable:!1,savable:!0},targetLineValue:{defaultValue:void 0,requestable:!1,savable:!0},aggregationType:{defaultValue:"DEFAULT",requestable:!0,savable:!0},completedOnly:{defaultValue:!1,requestable:!0,savable:!0},hideSubtitle:{defaultValue:!1,requestable:!1,savable:!0},hideTitle:{defaultValue:!1,requestable:!1,savable:!0},sortOrder:{defaultValue:"0",requestable:!1,savable:!0},subtitle:{defaultValue:void 0,requestable:!1,savable:!0},title:{defaultValue:void 0,requestable:!1,savable:!0},colTotals:{defaultValue:!1,requestable:!1,savable:!0},colSubTotals:{defaultValue:!1,requestable:!1,savable:!0},rowTotals:{defaultValue:!1,requestable:!1,savable:!0},rowSubTotals:{defaultValue:!1,requestable:!1,savable:!0},showDimensionLabels:{defaultValue:!1,requestable:!1,savable:!0},hideEmptyColumns:{defaultValue:!1,requestable:!1,savable:!0},hideEmptyRows:{defaultValue:!1,requestable:!1,savable:!0},skipRounding:{defaultValue:!1,requestable:!0,savable:!0},numberType:{defaultValue:"VALUE",requestable:!1,savable:!0},showHierarchy:{defaultValue:!1,requestable:!0,savable:!0},legendSet:{defaultValue:void 0,requestable:!1,savable:!0},legendDisplayStrategy:{defaultValue:"FIXED",requestable:!1,savable:!0},legendDisplayStyle:{defaultValue:"FILL",requestable:!1,savable:!0},displayDensity:{defaultValue:"NORMAL",requestable:!1,savable:!0},fontSize:{defaultValue:"NORMAL",requestable:!1,savable:!0},digitGroupSeparator:{defaultValue:"SPACE",requestable:!1,savable:!0},approvalLevel:{defaultValue:void 0,requestable:!0,savable:!1},reportingPeriod:{defaultValue:!1,requestable:!1,savable:!0},organisationUnit:{defaultValue:!1,requestable:!1,savable:!0},parentOrganisationUnit:{defaultValue:!1,requestable:!1,savable:!0},grandParentOrganisationUnit:{defaultValue:!1,requestable:!1,savable:!0},regression:{defaultValue:!1,requestable:!1,savable:!0},cumulative:{defaultValue:!1,requestable:!1,savable:!0},measureCriteria:{defaultValue:void 0,requestable:!0,savable:!0},topLimit:{defaultValue:"0",requestable:!1,savable:!0}},kc=function(e,t){var a=Object.entries(Rc).filter((function(e){return e[1].requestable})).reduce((function(t,a){var n=Tc(a,2),r=n[0],i=n[1];return void 0!==e[r]&&e[r]!==i.defaultValue&&(t[r]=e[r]),t}),{});if(t.relativePeriodDate&&(a.relativePeriodDate=t.relativePeriodDate),t.userOrgUnit&&t.userOrgUnit.length){var n=t.userOrgUnit.map((function(e){return e.split("/").slice(-1)[0]}));a.userOrgUnit=n.join(";")}return a},Vc=function(){var e=Oc(T.a.mark((function e(t){var a,n,r,i,l,o,c,s,u;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.visualization,n=t.filters,r=t.d2,i=t.forDashboard,l=kc(a,n),o={dashboard:i,noData:{text:Oa.a.t("No data")}},!Object(X.isYearOverYear)(a.type)){e.next=10;break}return e.next=6,Cc(r,a,l);case 6:return c=e.sent,s=c.responses,u=c.yearlySeriesLabels,e.abrupt("return",{responses:s,extraOptions:xc({},o,{yearlySeries:u,xAxisLabels:Lc(s)})});case 10:return e.next=12,Nc(r,a,l);case 12:return e.t0=e.sent,e.t1=o,e.abrupt("return",{responses:e.t0,extraOptions:e.t1});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mc=function(e){var t=e.d2,a=e.visualization,n=e.filters,r=e.forDashboard,i=e.onError,l=e.onLoadingComplete,o=e.onResponsesReceived,c=Ac(e,["d2","visualization","filters","forDashboard","onError","onLoadingComplete","onResponsesReceived"]),s=Object(I.c)(),u=Tc(Object(h.useState)(null),2),d=u[0],m=u[1],p=Object(h.useCallback)(Oc(T.a.mark((function e(){var i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vc({visualization:a,filters:n,d2:t,forDashboard:r});case 2:return(i=e.sent).responses.length&&o(i.responses),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),[t,n,r,o,a]),f=Object(h.useCallback)(function(){var e=Oc(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,n=t,s.query(jc,{variables:{ids:n}});case 4:if(!(a=e.sent)||!a.legendSets){e.next=7;break}return e.abrupt("return",a.legendSets.legendSets);case 7:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),[s]);return Object(h.useEffect)((function(){m(null),function(){var e=Oc(T.a.mark((function e(){var t,i,o,c,s;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(a,n,r);case 2:t=e.sent,i=t.responses,o=t.extraOptions,c=[],e.t0=a.legendDisplayStrategy,e.next="FIXED"===e.t0?9:"BY_DATA_ITEM"===e.t0?11:14;break;case 9:return a.legendSet&&a.legendSet.id&&c.push(a.legendSet.id),e.abrupt("break",14);case 11:return(i[0].metaData.dimensions.dx||[]).forEach((function(e){var t=i[0].metaData.items[e].legendSet;t&&c.push(t)})),e.abrupt("break",14);case 14:return e.next=16,f(c);case 16:s=e.sent,m({visualization:a,legendSets:s,responses:i,extraOptions:o}),l();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().catch((function(e){i(e)}))}),[a,n,r]),d?d.visualization.type&&d.visualization.type!==X.VIS_TYPE_PIVOT_TABLE?y.a.createElement(Dc,_c({visualization:d.visualization,responses:d.responses,extraOptions:d.extraOptions,legendSets:d.legendSets},c)):y.a.createElement(wc,_c({visualization:d.visualization,responses:d.responses,legendSets:d.legendSets},c)):null};Mc.defaultProps={filters:{},forDashboard:!1,onError:Function.prototype,onLoadingComplete:Function.prototype,onResponsesReceived:Function.prototype,visualization:{}},Mc.propTypes={d2:ya.a.object.isRequired,visualization:ya.a.object.isRequired,filters:ya.a.object,forDashboard:ya.a.bool,onError:ya.a.func,onLoadingComplete:ya.a.func,onResponsesReceived:ya.a.func};var Uc=Mc,Pc=a(1891),zc=a.n(Pc),Gc=function(e,t){var a={visualization:{resource:"dataStatistics/favorites",params:{eventType:"VISUALIZATION_VIEW",pageSize:t||10}}};return e.query(a)},Bc=Object(g.connect)((function(e){return{error:ia(e)}}))((function(e){var t=e.error,a=Object(h.useState)([]),n=Object(_.a)(a,2),r=n[0],i=n[1],l=Object(I.c)();Object(h.useEffect)((function(){!function(e){var t,a,n,r,l;T.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,T.a.awrap(Gc(e,6));case 2:if(t=o.sent,!(a=t.visualization)||!a.length){o.next=11;break}return o.next=7,T.a.awrap((c=e,s=a.map((function(e){return e.id})),c.query(Bn,{variables:{visualizationIds:s}})));case 7:n=o.sent,r=n.visualization.visualizations,l=a.map((function(e){return Object(x.a)({},r.find((function(t){return t.id===e.id&&t})),{},e)})),i(l);case 11:case"end":return o.stop()}var c,s}))}(l)}),[]);var o=function(){return t instanceof fr?y.a.createElement("div",{className:zc.a.errorContainer},y.a.createElement("div",{className:zc.a.errorIcon},t.icon()),y.a.createElement("p",{className:zc.a.errorTitle},t.title),y.a.createElement("p",{className:zc.a.errorDescription},t.description)):y.a.createElement("div",{className:zc.a.errorContainer},y.a.createElement("div",{className:zc.a.errorIcon},pr()),y.a.createElement("p",{className:zc.a.errorTitle},jr),y.a.createElement("p",{className:zc.a.errorDescription},t.message||t))};return y.a.createElement("div",{className:zc.a.outer},y.a.createElement("div",{className:zc.a.inner},t?o():y.a.createElement("div",null,y.a.createElement("div",{className:zc.a.section},y.a.createElement("h3",{className:zc.a.title},Oa.a.t("Getting started")),y.a.createElement("ul",{className:zc.a.guide},y.a.createElement("li",{className:zc.a.guideItem},Oa.a.t("All dimensions that you can use to build visualizations are shown in the left sidebar")),y.a.createElement("li",{className:zc.a.guideItem},Oa.a.t("Add dimensions to the layout above")),y.a.createElement("li",{className:zc.a.guideItem},Oa.a.t("Click a dimension to add or remove items")))),r.length>0&&y.a.createElement("div",{className:zc.a.section},y.a.createElement("h3",{className:zc.a.title},Oa.a.t("Your most viewed charts and tables")),r.map((function(e,t){return y.a.createElement("p",{key:t,className:zc.a.visualization,onClick:function(){return k.push("/".concat(e.id))}},y.a.createElement("span",{className:zc.a.visIcon},X.visTypeIcons[e.type]),y.a.createElement("span",null,e.name))}))))))})),Yc=a(1892),Fc=a.n(Yc);var Hc=function(){return y.a.createElement("div",{className:Fc.a.outer},y.a.createElement(V.f,{className:Fc.a.progress}))},qc=function(e){function t(e){var a;return Object(pa.a)(this,t),(a=Object(ba.a)(this,Object(va.a)(t).call(this,e))).onError=function(e){var t;if(e)switch(e.errorCode){case"E7114":t=new Ar;break;case"E7110":t=new Tr;break;case"E7108":t=new Ir;break;case"E7102":t=new gr(a.props.visualization.type);break;case"E7112":t=new _r;break;default:t=e}else t=new xr;a.props.setLoadError(t)},a.onChartGenerated=function(e){return a.props.setChart(e)},a.onResponsesReceived=function(e){var t={};if(!e.some((function(e){return e.rows&&e.rows.length})))throw new br;e.forEach((function(e){Object.entries(e.metaData.items).forEach((function(e){var a=Object(_.a)(e,2),n=a[0],r=a[1];t[n]={id:n,name:r.name||r.displayName,displayName:r.displayName,dimensionItemType:r.dimensionItemType}}))})),a.props.addMetadata(t)},a.getNewRenderId=function(){return a.setState({renderId:"number"===typeof a.state.renderId?a.state.renderId+1:1})},a.addResizeHandler=function(){window.addEventListener("resize",Object(Go.a)((function(){a.getNewRenderId()}),300))},a.state={renderId:null},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"componentDidMount",value:function(){this.addResizeHandler()}},{key:"componentDidUpdate",value:function(e){this.props.rightSidebarOpen!==e.rightSidebarOpen&&this.getNewRenderId()}},{key:"render",value:function(){var e=this.props,t=e.visualization,a=e.visFilters,n=e.error,r=this.state.renderId;return!t||n?y.a.createElement(Bc,null):y.a.createElement(h.Fragment,null,this.props.isLoading?y.a.createElement("div",{style:yc.loadingCover},y.a.createElement(Hc,null)):null,y.a.createElement(Uc,{id:r,d2:this.context.d2,visualization:t,filters:a,onChartGenerated:this.onChartGenerated,onLoadingComplete:this.props.onLoadingComplete,onResponsesReceived:this.onResponsesReceived,onError:this.onError,style:yc.chartCanvas}))}}]),t}(h.Component);qc.contextTypes={d2:ya.a.object};var Wc=Object(an.a)([Tt,H,nt],(function(e,t,a){return a.id?t:e})),Xc=Object(an.a)([nt],(function(e){return e.created?{relativePeriodDate:e.created}:{}})),Qc=Object(g.connect)((function(e){return{visualization:Wc(e),visFilters:Xc(e),rightSidebarOpen:at(e),error:ia(e),isLoading:la(e)}}),(function(e){return{onLoadingComplete:function(){return e(or(!1))},addMetadata:function(t){return e(da(t))},setChart:function(t){return e({type:"SET_CHART",value:t})},setLoadError:function(t){return e(ir(t))}}}))(qc),Kc=a(858),Zc=a.n(Kc),Jc=a(488),$c=a.n(Jc),es={icon:{width:22,height:22,background:"none",color:V.Q.black,padding:0}},ts=a(1893),as=a.n(ts),ns=function(e){var t=e.children,a=e.dataTest,n=e.disabled,r=e.name,i=e.onBlur,l=e.onClick,o=e.onFocus,c=e.style,s=e.ariaOwns,u=e.ariaHaspopup;return y.a.createElement("button",{className:as.a.iconButton,"data-test":a,disabled:n,name:r,onBlur:i,onClick:l,onFocus:o,style:c,"aria-owns":s,"aria-haspopup":u},t)},rs=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.handleClick=function(e){e.stopPropagation(),a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.getMenuId=function(){return"menu-for-".concat(a.props.id)},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this;return y.a.createElement(y.a.Fragment,null,y.a.createElement(ns,{ariaOwns:this.state.anchorEl?this.getMenuId():null,ariaHaspopup:!0,onClick:this.handleClick,style:es.icon},y.a.createElement(yn,{style:es.icon})),y.a.createElement(X.DimensionMenu,{dimensionId:this.props.dimensionId,currentAxisId:this.props.currentAxisId,visType:this.props.visType,numberOfDimensionItems:this.props.numberOfDimensionItems,dualAxisItemHandler:this.props.dualAxisItemHandler,isAssignedCategoriesInLayout:this.props.layoutHasAssignedCategories,assignedCategoriesItemHandler:function(t){return e.props.assignedCategoriesItemHandler(e.props.layoutHasAssignedCategories,t)},axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.anchorEl,onClose:this.handleClose}))}}]),t}(y.a.Component),is=Object(g.connect)((function(e){return{layoutHasAssignedCategories:r.sLayoutHasAssignedCategories(e)}}),(function(e){return{dualAxisItemHandler:function(){return e(Ua("axisSetup"))},axisItemHandler:function(t){var a=t.dimensionId,n=t.axisId;e(Da(Object(W.a)({},a,{axisId:n})))},removeItemHandler:function(t){e(wa(t))},assignedCategoriesItemHandler:function(t,a){e(t?wa(X.DIMENSION_ID_ASSIGNED_CATEGORIES):Da(Object(W.a)({},X.DIMENSION_ID_ASSIGNED_CATEGORIES,{axisId:a})))}}}))(rs),ls={tooltip:{fontFamily:"roboto",padding:"7px 9px",color:V.Q.white,fontSize:"12px",backgroundColor:V.Q.grey900,boxShadow:"none",borderRadius:"3px",position:"relative",top:"5px",maxWidth:"300px"},list:{listStyleType:"none",margin:"0px",marginBottom:"-3px",padding:"0px"},item:{marginBottom:"3px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{fontSize:"13px",marginRight:"6px"},iconWrapper:{display:"flex",alignItems:"center",marginBottom:"5px"},warningLabel:{whiteSpace:"normal"}},os={noneSelected:Oa.a.t("None selected"),onlyOneInUse:function(e){return Oa.a.t("Only '{{- name}}' in use",{name:e})},onlyLimitedNumberInUse:function(e){return Oa.a.t("Only '{{number}}' in use",{number:e})}},cs=Object(g.connect)((function(e){return{metadata:Pt(e)}}))((function(e){var t=e.dimensionId,a=e.itemIds,n=e.metadata,r=e.displayLimitedAmount,i=e.lockedLabel,l=function(e,t,a){return e.reduce((function(e,t,n){return"".concat(e).concat(n>0?", ":"").concat(a[t]?a[t].name:t)}),"".concat(t,": "))},o=function(){var e=[],t=[],i=[];return r||(a.forEach((function(a){X.ouIdHelper.hasLevelPrefix(a)?e.push(X.ouIdHelper.removePrefix(a)):X.ouIdHelper.hasGroupPrefix(a)?t.push(X.ouIdHelper.removePrefix(a)):i.push(n[a]?n[a].name:a)})),e.length&&i.push(l(e,Oa.a.t("Levels"),n)),t.length&&i.push(l(t,Oa.a.t("Groups"),n))),i}(),c=function(){var e=1===a.length?os.onlyOneInUse(n[a[0]]?n[a[0]].name:a[0]):os.onlyLimitedNumberInUse(a.length);return r?e:null}(),s=!o.length&&!c;return y.a.createElement("ul",{style:ls.list},c&&function(e){return y.a.createElement("li",{style:ls.item},y.a.createElement("div",{style:ls.iconWrapper},y.a.createElement(Zc.a,{style:ls.icon}),y.a.createElement("span",{style:ls.warningLabel},e)))}(c),i&&y.a.createElement("li",{style:ls.item},y.a.createElement("div",{style:ls.iconWrapper},y.a.createElement($c.a,{style:ls.icon}),y.a.createElement("span",null,i))),o&&function(e){var a=e.slice(0,5).map((function(e){return y.a.createElement("li",{key:"".concat(t,"-").concat(e),style:ls.item},e)}));return e.length>5&&a.push(y.a.createElement("li",{key:"".concat(t,"-render-limit"),style:ls.item},e.length-5===1?Oa.a.t("And 1 other..."):Oa.a.t("And {{numberOfItems}} others...",{numberOfItems:e.length-5}))),a}(o),s&&y.a.createElement("li",{key:"".concat(t,"-").concat(os.noneSelected),style:ls.item},os.noneSelected))})),ss=function(){return y.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},y.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},y.a.createElement("g",{id:"Artboard",transform:"translate(-80.000000, -9.000000)"},y.a.createElement("g",{id:"icon_dimension_new",transform:"translate(80.000000, 9.000000)"},y.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),y.a.createElement("g",{id:"module",transform:"translate(4.000000, 4.000000)",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round"},y.a.createElement("path",{d:"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z",id:"Shape"}),y.a.createElement("path",{d:"M3.5,2.72795833 L0.322,1.48195833",id:"Shape"}),y.a.createElement("path",{d:"M3.5,2.72795833 L6.678,1.48195833",id:"Shape"}),y.a.createElement("path",{d:"M3.5,6.78125 L3.5,2.72795833",id:"Shape"}))))))},us=V.Q.grey300,ds=V.Q.white,ms={padding:"1px 6px",fontSize:"14px",fontWeight:400,color:V.Q.grey900,cursor:"pointer",minHeight:24,userSelect:"none"},ps={chipWrapper:{display:"flex",margin:"4px",backgroundColor:V.S.secondary200,borderRadius:"2px",alignItems:"center",maxWidth:"400px"},chip:Object(x.a)({},ms,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),chipEmpty:{backgroundColor:V.Q.grey300},fixedDimensionIcon:{paddingRight:"6px"},iconWrapper:{paddingRight:"6px",display:"flex",alignItems:"center"},warningIcon:{fontSize:"14px"},warningIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"},lockIcon:{fontSize:"14px"},lockIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"},label:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}};ps.chipLeft=Object(x.a)({},ms,{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"flex",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",alignItems:"center"}),ps.chipRight=Object(x.a)({},ms,{paddingLeft:"0px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"});var fs=y.a.createElement("div",{style:ps.lockIconWrapper},y.a.createElement($c.a,{style:ps.lockIcon})),bs=y.a.createElement("div",{style:ps.warningIconWrapper},y.a.createElement(Zc.a,{style:ps.warningIcon})),vs=function(e){var t=e.type,a=e.dimensionId,n=e.dimensionName,r=e.axisId,i=e.items,l=e.getOpenHandler,o=Math.random().toString(36),c=function(){return Object(X.isDimensionLocked)(t,a)},s=function(){return Object(X.getAxisMaxNumberOfItems)(t,r)},u=function(){Object(X.getPredefinedDimensionProp)(a,X.DIMENSION_PROP_NO_ITEMS)||l(a)},d=function(){return function(e){var t,a;a=r,(t=e).dataTransfer.setData("text",JSON.stringify({dimensionId:t.target.dataset.dimensionid,source:a}))}};return y.a.createElement(V.P,{content:function(){if(a!==X.DIMENSION_ID_ASSIGNED_CATEGORIES){var e=s()?i.slice(0,s()):i,l=c()?Oa.a.t("{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}",{dimensionName:n,axisName:Object(X.getAxisNameByLayoutType)(r,Object(X.getLayoutTypeByVisType)(t)),visTypeName:Object(X.getDisplayNameByVisType)(t)}):null;return y.a.createElement(cs,{dimensionId:a,itemIds:e,lockedLabel:l,displayLimitedAmount:i.length>e.length})}}(),placement:"bottom"},(function(e){var l=e.ref,m=e.onMouseOver,p=e.onMouseOut;return y.a.createElement("div",{style:Object(x.a)({},ps.chipWrapper,{},Object(X.getPredefinedDimensionProp)(a,X.DIMENSION_PROP_NO_ITEMS)||i.length?{}:ps.chipEmpty),"data-dimensionid":a,draggable:!c(),onDragStart:d(),ref:l,onMouseOver:m,onMouseOut:p},y.a.createElement("div",{id:o,style:ps.chipLeft,onClick:u},y.a.createElement("div",{style:ps.iconWrapper},function(){var e=Object(X.getPredefinedDimensionProp)(a,"icon");return e?y.a.createElement(e,{style:ps.fixedDimensionIcon}):y.a.createElement(ss,{style:ps.dynamicDimensionIcon})}()),y.a.createElement("span",{style:ps.label},n),y.a.createElement("span",null,function(){var e=i.length,t=s()&&e>s()?Oa.a.t("{{total}} of {{axisMaxNumberOfItems}} selected",{total:e,axisMaxNumberOfItems:s()}):Oa.a.t("{{total}} selected",{total:e});return"".concat(i.length>0?": ".concat(t):"")}()),Object(X.hasAxisTooManyItems)(t,r,i.length)&&bs,c()&&fs),!c()&&y.a.createElement("div",{style:ps.chipRight},y.a.createElement(is,{dimensionId:a,currentAxisId:r,visType:t,numberOfDimensionItems:i.length})))}))};vs.defaultProps={items:[]};var Es=Object(g.connect)((function(e,t){return{dimensionName:(Lt(e)[t.dimensionId]||{}).name,items:lt(e,t.dimensionId)||[],type:Xe(e)}}),(function(e){return{getOpenHandler:function(t){return e(Ua(t))}}}))(vs),hs={axisContainer:{display:"flex",backgroundColor:ds,borderColor:us,borderStyle:"solid",borderWidth:"0px 0px 1px 1px",padding:"4px 4px 2px 6px"},axisContainerLeft:{borderLeftWidth:0},label:{minWidth:55,maxWidth:55,padding:"2px 0px 0px 0px",fontSize:11,color:V.Q.grey700,userSelect:"none",letterSpacing:"0.2px"}},ys=a(1894),gs=a.n(ys),Os=function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).onDragOver=function(e){e.preventDefault()},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.axisId,a=e.axis,n=e.style,r=e.type,i=e.getOpenHandler;return y.a.createElement("div",{id:t,style:Object(x.a)({},hs.axisContainer,{},n),onDragOver:this.onDragOver},y.a.createElement("div",{style:hs.label},this.props.label||Object(X.getAxisNameByLayoutType)(t,Object(X.getLayoutTypeByVisType)(r))),y.a.createElement(Ia.c,{droppableId:t,direction:"horizontal"},(function(e){return y.a.createElement("div",Object.assign({className:gs.a.content,ref:e.innerRef},e.droppableProps),a.map((function(e,a){var n="".concat(t,"-").concat(e);return y.a.createElement(Ia.b,{key:n,draggableId:n,index:a,isDragDisabled:Object(X.isDimensionLocked)(r,e)},(function(a){return y.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps),y.a.createElement(Es,{onClick:i(e),axisId:t,dimensionId:e}))}))})),e.placeholder)})))}}]),t}(y.a.Component),Is=Object(g.connect)((function(e){return{ui:We(e),type:Xe(e),layout:Ke(e)}}),(function(e){return{getOpenHandler:function(t){return function(){return e(Ua(t))}}}}),(function(e,t,a){return Object(x.a)({},e,{},t,{},a,{axis:e.ui.layout[a.axisId]})}))(Os),_s={ct:{display:"flex",minHeight:"78px"},axisGroup:{display:"flex",flexDirection:"column"},axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"},columns:{flexBasis:"50%"},rows:{flexBasis:"50%"},filters:{flexBasis:"100%"}},Ss=function(){return y.a.createElement("div",{id:"layout-ct",style:_s.ct},y.a.createElement("div",{id:"axis-group-1",style:Object(x.a)({},_s.axisGroup,{},_s.axisGroupLeft)},y.a.createElement(Is,{axisId:"columns",style:Object(x.a)({},_s.columns,{},hs.axisContainerLeft)}),y.a.createElement(Is,{axisId:"rows",style:Object(x.a)({},_s.rows,{},hs.axisContainerLeft)})),y.a.createElement("div",{id:"axis-group-2",style:Object(x.a)({},_s.axisGroup,{},_s.axisGroupRight)},y.a.createElement(Is,{axisId:"filters",style:_s.filters})))};Ss.displayName="Layout";var xs=Ss,As={flex:"1 1 0%"},Ts=Object(g.connect)((function(e){return{yearOverYearSeries:Je(e),yearOverYearCategory:$e(e)}}))((function(e){return y.a.createElement("div",{id:e.axisId,style:Object(x.a)({},hs.axisContainer,{},e.style)},y.a.createElement("div",{className:"label",style:hs.label},Object(X.getAxisNameByLayoutType)(e.axisId,X.LAYOUT_TYPE_YEAR_OVER_YEAR)),y.a.createElement("div",{className:"content",style:Object(x.a)({},hs.content,{},As)},e.children))})),js=[{id:"THIS_YEAR",name:Oa.a.t("This year")},{id:"LAST_YEAR",name:Oa.a.t("Last year")},{id:"LAST_5_YEARS",name:Oa.a.t("Last 5 years")}].concat(Object(P.a)(function(e){var t=(new Date).getFullYear();return new Array(e).fill(null).map((function(){return{id:String(t),name:String(t--)}}))}(10))),Ds=[{id:"LAST_3_DAYS",name:Oa.a.t("Last 3 days")},{id:"LAST_7_DAYS",name:Oa.a.t("Last 7 days")},{id:"LAST_14_DAYS",name:Oa.a.t("Last 14 days")},{id:"LAST_4_WEEKS",name:Oa.a.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:Oa.a.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:Oa.a.t("Last 52 weeks")},{id:"WEEKS_THIS_YEAR",name:Oa.a.t("Weeks per year")},{id:"LAST_3_MONTHS",name:Oa.a.t("Last 3 months")},{id:"LAST_6_MONTHS",name:Oa.a.t("Last 6 months")},{id:"LAST_12_MONTHS",name:Oa.a.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:Oa.a.t("Months per year")},{id:"LAST_6_BIMONTHS",name:Oa.a.t("Last 6 bimonths")},{id:"BIMONTHS_THIS_YEAR",name:Oa.a.t("Bimonths per year")},{id:"LAST_4_QUARTERS",name:Oa.a.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:Oa.a.t("Quarters per year")},{id:"LAST_2_SIXMONTHS",name:Oa.a.t("Last 2 six-months")}],ws=function(e){var t=e.options,a=e.selected,n=e.onChange;return y.a.createElement(V.E,{onChange:n,selected:a,placeholder:"Select a period",dense:!0},t.map((function(e){return y.a.createElement(V.G,{key:e.id,value:e.id,label:e.name})})))},Ns=function(e){var t=e.options,a=e.selected,n=e.onChange;return y.a.createElement(V.x,{onChange:n,selected:a,placeholder:"Select years",dense:!0},t.map((function(e){return y.a.createElement(V.y,{key:e.id,value:e.id,label:e.name})})))},Cs=function(e){var t=e.multiple,a=e.value,n=Object(S.a)(e,["multiple","value"]);if("true"===t){var r=[];return Array.isArray(a)&&a.forEach((function(e){return r.push({value:e,label:js.find((function(t){return t.id===e})).name})})),y.a.createElement(Ns,Object.assign({selected:r},n))}var i={};return a&&(i.value=a,i.label=Ds.find((function(e){return e.id===a})).name),y.a.createElement(ws,Object.assign({selected:i},n))},Ls={axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"}},Rs=function(e){return y.a.createElement("div",{id:"layout-ct",style:_s.ct},y.a.createElement("div",{id:"axis-group-1",style:Object(x.a)({},_s.axisGroup,{},Ls.axisGroupLeft)},y.a.createElement(Ts,{axisId:X.AXIS_ID_COLUMNS,style:Object(x.a)({},_s.columns,{},hs.axisContainerLeft)},y.a.createElement(Cs,{multiple:"true",value:e.yearOverYearSeries,onChange:e.onSeriesChange,options:js})),y.a.createElement(Ts,{axisId:X.AXIS_ID_ROWS,style:Object(x.a)({},_s.rows,{},hs.axisContainerLeft)},y.a.createElement(Cs,{value:e.yearOverYearCategory[0],onChange:e.onCategoryChange,options:Ds}))),y.a.createElement("div",{id:"axis-group-2",style:Object(x.a)({},_s.axisGroup,{},Ls.axisGroupRight)},y.a.createElement(Is,{axisId:X.AXIS_ID_FILTERS,style:_s.filters})))};Rs.displayName="Layout";var ks=Object(g.connect)((function(e){return{yearOverYearSeries:Je(e),yearOverYearCategory:$e(e)}}),(function(e){return{onSeriesChange:function(t){var a=t.selected;e(Ra((null===a||void 0===a?void 0:a.length)?a.map((function(e){return e.value})):null))},onCategoryChange:function(t){var a=t.selected;(null===a||void 0===a?void 0:a.value)&&e(ka(a.value))}}}))(Rs),Vs=function(){return y.a.createElement("div",{id:"layout-ct",style:_s.ct},y.a.createElement("div",{id:"axis-group-1",style:Object(x.a)({},_s.axisGroup,{},_s.axisGroupLeft)},y.a.createElement(Is,{axisId:X.AXIS_ID_COLUMNS,style:Object(x.a)({},_s.filters,{},hs.axisContainerLeft)})),y.a.createElement("div",{id:"axis-group-2",style:Object(x.a)({},_s.axisGroup,{},_s.axisGroupRight)},y.a.createElement(Is,{axisId:X.AXIS_ID_FILTERS,style:_s.filters})))},Ms={axisGroupLeft:{flexBasis:"".concat(100-parseInt("50%",10),"%")},axisGroupRight:{flexBasis:"50%"}},Us=function(){return y.a.createElement("div",{id:"layout-ct",style:_s.ct},y.a.createElement("div",{id:"axis-group-1",style:Object(x.a)({},_s.axisGroup,{},Ms.axisGroupLeft)},y.a.createElement(Is,{axisId:X.AXIS_ID_COLUMNS,style:Object(x.a)({},_s.columns,{},hs.axisContainerLeft)}),y.a.createElement(Is,{axisId:X.AXIS_ID_ROWS,style:Object(x.a)({},_s.rows,{},hs.axisContainerLeft)})),y.a.createElement("div",{id:"axis-group-2",style:Object(x.a)({},_s.axisGroup,{},Ms.axisGroupRight)},y.a.createElement(Is,{axisId:X.AXIS_ID_FILTERS,style:_s.filters})))};Us.displayName="Layout";var Ps,zs=Us,Gs=(Ps={},Object(W.a)(Ps,X.LAYOUT_TYPE_DEFAULT,xs),Object(W.a)(Ps,X.LAYOUT_TYPE_PIE,Vs),Object(W.a)(Ps,X.LAYOUT_TYPE_YEAR_OVER_YEAR,ks),Object(W.a)(Ps,X.LAYOUT_TYPE_PIVOT_TABLE,zs),Ps),Bs=Object(g.connect)((function(e){return{visType:Xe(e)}}),null)((function(e){var t=e.visType,a=Object(X.getLayoutTypeByVisType)(t),n=Gs[a];return y.a.createElement(n,{visType:t})})),Ys={TODAY:Oa.a.t("Today"),YESTERDAY:Oa.a.t("Yesterday"),LAST_3_DAYS:Oa.a.t("Last 3 days"),LAST_7_DAYS:Oa.a.t("Last 7 days"),LAST_14_DAYS:Oa.a.t("Last 14 days"),THIS_WEEK:Oa.a.t("This week"),LAST_WEEK:Oa.a.t("Last week"),LAST_4_WEEKS:Oa.a.t("Last 4 weeks"),LAST_12_WEEKS:Oa.a.t("Last 12 weeks"),LAST_52_WEEKS:Oa.a.t("Last 52 weeks"),WEEKS_THIS_YEAR:Oa.a.t("Weeks this year"),THIS_MONTH:Oa.a.t("This month"),LAST_MONTH:Oa.a.t("Last month"),LAST_3_MONTHS:Oa.a.t("Last 3 months"),LAST_6_MONTHS:Oa.a.t("Last 6 months"),LAST_12_MONTHS:Oa.a.t("Last 12 months"),MONTHS_THIS_YEAR:Oa.a.t("Months this year"),THIS_BIMONTH:Oa.a.t("This bimonth"),LAST_BIMONTH:Oa.a.t("Last bimonth"),LAST_6_BIMONTHS:Oa.a.t("Last 6 bimonths"),BIMONTHS_THIS_YEAR:Oa.a.t("Bimonths this year"),THIS_QUARTER:Oa.a.t("This quarter"),LAST_QUARTER:Oa.a.t("Last quarter"),LAST_4_QUARTERS:Oa.a.t("Last 4 quarters"),QUARTERS_THIS_YEAR:Oa.a.t("Quarters this year"),THIS_SIX_MONTH:Oa.a.t("This six-month"),LAST_SIX_MONTH:Oa.a.t("Last six-month"),LAST_2_SIXMONTHS:Oa.a.t("Last 2 six-months"),THIS_FINANCIAL_YEAR:Oa.a.t("This financial year"),LAST_FINANCIAL_YEAR:Oa.a.t("Last financial year"),LAST_5_FINANCIAL_YEARS:Oa.a.t("Last 5 financial years"),THIS_YEAR:Oa.a.t("This year"),LAST_YEAR:Oa.a.t("Last year"),LAST_5_YEARS:Oa.a.t("Last 5 years")},Fs={USER_ORGUNIT:Oa.a.t("User org unit"),USER_ORGUNIT_CHILDREN:Oa.a.t("User org unit children"),USER_ORGUNIT_GRANDCHILDREN:Oa.a.t("User org unit grand children")},Hs=Object.entries(Object(x.a)({},Ys,{},Fs)).reduce((function(e,t){var a=Object(_.a)(t,2),n=a[0],r=a[1];return Object(x.a)({},e,Object(W.a)({},n,{name:r}))}),{}),qs=(a(1895),a(1896),function(e){function t(){var e,a;Object(pa.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ba.a)(this,(e=Object(va.a)(t)).call.apply(e,[this].concat(r)))).unlisten=null,a.apiObjectName="visualization",a.state={previousLocation:null,initialLoadIsComplete:!1,locationToConfirm:!1},a.refetch=function(e){return!a.state.previousLocation||(e.pathname.slice(1).split("/")[0]!==a.state.previousLocation.slice(1).split("/")[0]||a.state.previousLocation===e.pathname)},a.loadVisualization=function(e){var t,n,r,i,l,o;return T.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(t=a.context.store,!(e.pathname.length>1)){c.next=21;break}if(n=e.pathname.slice(1).split("/"),r=n[0],i=n[2],!(l=r===Xr)){c.next=15;break}return c.next=9,T.a.awrap(ei());case 9:o=c.sent,a.props.addParentGraphMap(ft(o)),a.props.clearVisualization(),a.props.clearCurrent(),a.props.setUiFromVisualization(o),a.props.setCurrentFromUi(a.props.ui);case 15:if(l||!a.refetch(e)){c.next=18;break}return c.next=18,T.a.awrap(t.dispatch(Br({id:r,interpretationId:i,ouLevels:a.props.ouLevels})));case 18:i||t.dispatch(d.acClearUiInterpretation()),c.next=23;break;case 21:Yr(t.dispatch,t.getState),d.acClearUiInterpretation(t.dispatch);case 23:a.setState({initialLoadIsComplete:!0}),a.setState({previousLocation:e.pathname});case 25:case"end":return c.stop()}}))},a.componentDidMount=function(){var e,t,n,r,i;return T.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=a.context.store,t=a.props,n=t.d2,r=t.userSettings,l.next=4,T.a.awrap(e.dispatch(v.tAddSettings(r)));case 4:e.dispatch(E.acReceivedUser(n.currentUser)),e.dispatch(E.tLoadUserAuthority("F_VIEW_UNAPPROVED_DATA")),e.dispatch(b.tSetDimensions(n)),(i=a.props.settings.rootOrganisationUnit)&&i.id&&e.dispatch(u.acAddMetadata(Object(x.a)({},Hs,Object(W.a)({},i.id,Object(x.a)({},i,{path:"/".concat(i.id)}))))),a.loadVisualization(a.props.location),a.unlisten=k.listen((function(e){var t,n=null===(t=e.state)||void 0===t?void 0:t.isSaving;kr(a.props.visualization,a.props.current)!==Pr||a.state.locationToConfirm===e||n?(a.setState({locationToConfirm:null}),a.loadVisualization(e)):a.setState({locationToConfirm:e})})),document.body.addEventListener("keyup",(function(e){return"Enter"===e.key&&!0===e.ctrlKey&&a.props.setCurrentFromUi(a.props.ui)})),window.addEventListener("beforeunload",(function(e){kr(a.props.visualization,a.props.current)===Pr&&(e.preventDefault(),e.returnValue=Oa.a.t("You have unsaved changes."))}));case 13:case"end":return l.stop()}}))},a}return Object(Ea.a)(t,e),Object(fa.a)(t,[{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"getChildContext",value:function(){return{baseUrl:this.props.baseUrl,i18n:Oa.a,d2:this.props.d2}}},{key:"render",value:function(){var e=this;return y.a.createElement(y.a.Fragment,null,y.a.createElement(dc,null),y.a.createElement("div",{className:"data-visualizer-app flex-ct flex-dir-col"},y.a.createElement("div",{className:"section-toolbar flex-ct"},y.a.createElement("div",{className:"toolbar-type"},y.a.createElement(zo,null)),y.a.createElement("div",{className:"toolbar-menubar flex-grow-1"},y.a.createElement(lo,{apiObjectName:this.apiObjectName}))),y.a.createElement("div",{className:"section-main flex-grow-1 flex-ct"},y.a.createElement(Ha,null,y.a.createElement("div",{className:"main-left"},y.a.createElement(pc,null)),y.a.createElement("div",{className:"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col"},y.a.createElement("div",{className:"main-center-layout"},y.a.createElement(Bs,null)),y.a.createElement("div",{className:"main-center-titlebar"},y.a.createElement(vo,null)),y.a.createElement("div",{className:"main-center-canvas flex-grow-1"},this.state.initialLoadIsComplete&&y.a.createElement(Qc,null)))),this.props.ui.rightSidebarOpen&&this.props.current&&y.a.createElement("div",{className:"main-right"},y.a.createElement(hc,{type:this.apiObjectName,id:this.props.current.id})))),this.state.locationToConfirm&&y.a.createElement(V.t,{small:!0},y.a.createElement(V.w,null,Oa.a.t("Discard unsaved changes?")),y.a.createElement(V.v,null,Oa.a.t("Are you sure you want to leave this visualization? Any unsaved changes will be lost.")),y.a.createElement(V.u,null,y.a.createElement(V.c,{end:!0},y.a.createElement(V.b,{secondary:!0,onClick:function(){return e.setState({locationToConfirm:null})}},Oa.a.t("No, cancel")),y.a.createElement(V.b,{onClick:function(){return k.push(e.state.locationToConfirm)},primary:!0},Oa.a.t("Yes, leave"))))),y.a.createElement(Ka,null),y.a.createElement(V.i,{colors:!0,spacers:!0}))}}]),t}(h.Component));qs.contextTypes={store:ya.a.object},qs.childContextTypes={d2:ya.a.object,baseUrl:ya.a.string,i18n:ya.a.object};var Ws=Object(g.connect)((function(e){return{settings:c.sGetSettings(e),current:i.sGetCurrent(e),interpretations:n.sGetInterpretations(e),ui:r.sGetUi(e),visualization:H(e),snackbar:s.sGetSnackbar(e)}}),(function(e){return{setCurrentFromUi:function(t){return e(f.acSetCurrentFromUi(t))},clearVisualization:function(){return e(p.acClear())},clearCurrent:function(){return e(f.acClear())},setUiFromVisualization:function(t){return e(d.acSetUiFromVisualization(t))},addParentGraphMap:function(t){return e(d.acAddParentGraphMap(t))},clearSnackbar:function(){return e(m.acClearSnackbar())}}}))(qs);t.default=function(){var e=Object(I.c)(),t=ua([O.default.withExtraArgument(e),ma]);window.Cypress&&(window.store=t);return y.a.createElement(g.Provider,{store:t},y.a.createElement(U,{schemas:["visualization","organisationUnit","userGroup"]},(function(e){return y.a.createElement(Ws,e)})))}},826:function(e,t,a){e.exports={backdrop:"VisualizationTypeSelector_backdrop__84wtM",button:"VisualizationTypeSelector_button__1d_Dv",cardContainer:"VisualizationTypeSelector_cardContainer__2ZbJX",listContainer:"VisualizationTypeSelector_listContainer__2ofGu",listItem:"VisualizationTypeSelector_listItem__3Faru",listItemActive:"VisualizationTypeSelector_listItemActive__1jCF3",listItemDisabled:"VisualizationTypeSelector_listItemDisabled__2vjjv",listItemSvg:"VisualizationTypeSelector_listItemSvg__30TD2",listItemIcon:"VisualizationTypeSelector_listItemIcon__2vUNZ",listItemText:"VisualizationTypeSelector_listItemText__3F6jt"}}}]);
//# sourceMappingURL=app.a4e928b6.chunk.js.map