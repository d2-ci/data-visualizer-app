(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[115],{2116:function(e,t,n){"use strict";(function(e){t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"undefined"!==typeof e.Intl&&Intl.DateTimeFormat?new Intl.DateTimeFormat(n,{year:"numeric",month:"short",day:"numeric"}).format(new Date(t)):t.substr(0,19).replace("T"," ")}}).call(this,n(254))},2342:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIcAAAB9CAYAAACI7nB1AAAABGdBTUEAALGPC/xhBQAADWVJREFUeAHtnVtsFOcVx8eLsYONMSFOEAUXNVikuBfSlMQNVQqq1AdAqsQDSJG4FMxN8IKQiIAnngBFPPEAQtwKsrDEO/BQVCAIqIAUOUlTYUAk1NSBBNc2YINtTP9nMt9qPDvX3W9mz47PSPbcvjnfufzmfJeZ3S0zsLS0tEwbGBj4tKysbD7tv3r16kJFRcUny5Yt66B9WUanB8osMNpg/iSHC7oAyGwBxOGVUbSboYzhAga5YJJ1bhS5Q0y1eyCjmhL7QbXtd06VkXV6PZBB/2KKl3l+57yukePp8UAmPaaIJbo9IHDo9miK5AkcKQqmblMEDt0eTZE8gSNFwdRtisCh26MpkidwpCiYuk0ROHR7NEXyBI4UBVO3KQKHbo+mSJ7AkaJg6jZF4NDt0RTJEzhSFEzdpggcuj2aInkCR4qCqdsUgUO3R1MkT+BIUTB1myJw6PZoiuQJHCkKpm5TBA7dHk2RPIEjRcHUbYrAodujKZIncKQomLpNETh0ezRF8gSOFAVTtykCh26PpkiewJGiYOo2ReDQ7dEUyRM4UhRM3aYIHLo9miJ5AkeKgqnblHLdAkUefw+cOnVqzLNnz2pevnxZi+9gqS0vL6d11dDQECn/ENvt69ev7xM4+MeyIA3Pnz9ffvfu3QkEgQLh6dOnNcPDw2UkGN/eZAASs45MxmxI6lHuzYMHD14WOApyPa+LEdCx0Ki2srKyFsE3YQAY40lLgoD+cDxQaZR7DUuDwBHoKp4F9u3bVzlx4sRaahoUCNC0irS1moeCFMeXBU4WOApyYTIXo48wDn2ELATUPNDdjQDGqoDAEat78xdOTQQ6im8DhGm9vb1mRlDSqHmIe0H/45HAYXl5wYIFf4TTdyMYjVh/jfX2s2fP/j3uILjJP3ny5OTnz5+/i+aiwu183Mdg+3M0V7dlngOeXrRo0UoA8Tc45QPsjqc17dPxuAPhlH/8+PGpfX19HxQDDNj9EvX+B3+XZShrgQGnHMXfiBvF2j8KQIzTp08fdwYxjv0jR47UDA4OvhuHbKdMwD8EG3txvAdNSA+2u5ubm5/i+CtVlm2zQhM1aGunQdHJUHgiaC6HEUNYk0Eda9aseWA3RBkUZU2ZAU7JgjFjxgxj27Ztxp49ewwMAekHAgiYxACBPb+y6oxiRmBZ+G0Acnsh34Rg7NixPcuXL+9z+g9wjJBVdvTo0SwpI85YO6tXr46/9+Oo+NChQ9PQGZuFdu81xyn7bt+YMWM+X7VqVbf9YNhtNzB2795tjB8/3sAkkbF9+3YTEJIHJw7jb3WcGQTNyRvIGnPD6u9VDnq+wFC2B/7rpoyAEU0vNRFe5f2Os4KDZvPu3bv3a2SHqX5Kq3O4G6iNvAbjf1DHwqz9wFDXJw0IbtK5sOUNVX+YNcr34wYxIcC6p66urmfhwoUvwlwbpgwbOPbv3/86fsLjPSg9YtgWZAScQnO/V8JmkDBgqDqTAgTD1jrY8aGq121NGQF/P1A2ePHiRQ/K9OCmGHQrq+tY0eHA3V+GjtgMGP1z3Al5NWG4bgDOvYI284mfY6KAoeQkAUiYrAH7LoW9AZTuha5H9NALFRb1+jNnzlQePny4CdfNyhcMqhOOy+Bu8u1c5wMGyaY+CPVFqLNKC3UY8UedVC3DXMoasD2oOXmYNBhka9HgOHDgwFsdHR3zkSrfJEXyXXD9EMD4x8aNG//nJSNfMJS8OAEB2O+oerzWKNPudS7O44nDsXPnzgzSaCOGU01oSgqaAUwCDOX8OAChrAH5zp9PU1WqdVGyBlWeKBwnTpyonj59+u+RRn/M0cr84PVDwHSFYFBFdYPx6NEjY926dUZra6uqImetG5AwWWPChAm3chRJ6EBicNDcBdL/PMxdTIxg2zDa968w4XVt5cqVjwHEDVxLcw7am5K2tjYDzZxx7tw5X/V0AYLnJ6GyxtKlS2lkUpQldjho7gKdzt8goPQ3JqyVKPsUL5xcWrt27T11DSbkvsdw93rcfQxVn9daByB4fhLY18CNVLSsQbbHCgemwGvv3LnzB9RD0+ChF2SLb2tqaj7Dz5bSVPmIZcWKFY/8Op+YBPoLjSbwZ9pGoww18zlCUIE7XoBQ/UGi0eeiTrhvXwNNzneYxyha1iAbYoMDDni7u7v7I2SA6iBn2c4P4m65gWzxBdLpjy822k4GbVqBORI3GEoPN0Bw7kgQIOhz1SoZXmtMexdlhGLXRzsc9PoawGiCA36B0UiUSa0udL4u4m7ptCsYdjtpMJRe+QACO+8hMzxXMpxrDlmDdNIKB3Wyqqur5wGMt5wG++0ju7RjdvMKskW/Xzmvc8UCQ+kTFRDKishuD9T1zjWHrEE6aYGD5i4wGpmFTtaHMLrSaazXPjILwXAZYNwCIL5Ph71k0BtcOJdYU+Klhxcgln45lyE7PMw5iAO4sYre11B6FQwHJnKq6uvr5yK4DUpomDXKd+IR9UUMU7vClPcpsyepPoaPDuYpD0D2uF03btw41+dAVVVVRR2h2HX1fR5hL+i2jQdmP8Hx2QhOFDn0wYmvkC2+dZOZx7FZ6pqtW7eaz0LUfjHWBAjpsWHDBlV9Vj91wFrndLjphnEboTmuS2w3r8yBZqQcYBAUv40CBso+gQM+Q7bQBQY56t/KW3v37jVf1FH7xVjTU1zSw7Zk9bMdo82cOR98GKnoIxS7jpHhaGlpmYBm5CME+qd2QUHbaGO/qa2tvYSM4ZpOg673Ob8NwFE2MjCnYuzYsaNogBAYVD/pQYul1zZzx/Gvv7+/xn6IW9Yg3SLBgU7nz/DKPIFhfsTObpzP9iDAuI5Hzl/mM3fhI9c8ZX18oLlQQHDXmvIwKxtUpet5DzCavT7egPmcyXZB3LIG6RYKDsx0Vhw7dux9BOCXYa8xhWcyj/GS8EWA8R3tx7XgvZC/QnZBgDQ1NRlLliwxH75F1dMLDEuvHHH08jRusOysMcesQUoHvgmGu74O4+73YECkWwpDsluY6byN6/IaouZ4NMQB53xHQ0ODsWvXrlg7qVHBIDPwMvFMjNSyz1bgowsxNLchPOZfxDdzgG6D3oiOAoaau8Dj7/YkwSAzdWQQf3eNPJsPGDRRiCZlppIEH3VyBIP084SDwIi6kKGa5i6iVp0tny8guM5YvHixsXnz5lAd2nzAoJeo0RF9H1nV/liBzbxG1onWRg4cBEVUMND00Jj9C9wBN+J+I9ppgNt+PoDgjjbwKoDR3t5uXL161U1s9li+YKDT+Tv4NjsnhO3/cs0aZGwOHFkPhNyAgU9wJ1zSPHcRsnbvYlEBaWxsNIXhjTNj5sxs1s+pQBcYJBhNMKt5Daex2Q6pV7bA8T87L1L7NHeBB21fxzFEVXUUug7bSUU/wLh586YxdepUY8qUKa7V6gSDsgY67J+7VsTkIL1mH7kZge6xzl3o9E3YDALQjTlz5iQCBtnHPWuYOkYNBIxKZO4iql5+5d0Aoc/CUiYIs1A5Ku+Y+Wy25LqKoM6ns4+hClLW4NzXUHpmMMJQ24FrtMe3MKF1dcuWLfSovaQWJyD0KfowgCgwqDwt8BdN1ecNBskohaxh6knNStACYwiGy3gDPPG5iyDdopyPCkhMYDwohaxBfg0crXCYu4gCQFDZsIDEAQbphkf6rEcodv+ZoxW/7AHKw7c7dsnMt52jGPtb6vmAgWdP9AUz9CZcdh7D6QJk4Af4eMU/nce57o/IHPb+B23b97kakK9eXhnk/v37OV/cgjp8+xgAogwzw4EvPZVS1iC/Zuc5vJxcjG/28dIljuPODGKvAzdHYOeTXpPEY/7XAQd9t4jnUmpZgwwZkTk8LUvxCWcGUaaGAYOGq/h6pXlBYJDMUssapPOoh4OcQICgafgTNq/jjyY/rtO+BQ52cxe/eYzc0kYHZpHDTaq4XFysQ56dp2IpVKx6rTe26HtIA5eIYNADvduBQhkWkMwRMShRwYD4jk2bNpVc1iC3CBwR4MgDjD589PFfEapgVVTgiBAOjEpm+s1j2EVhdDKATu019DUG7MdLaVvgiBAtjDhu0GsKQZegzPcA42KpTJN72SMdUi/PuBy33lv5Eh/o+gbBr8eMaB3W1XgXZBhADGBY+xiXPcB3iHThePBDK5c6OB0a9ZNgnILBTRdpVrhFhJE+AgejYHBTReDgFhFG+ggcjILBTRWBg1tEGOkjcDAKBjdVBA5uEWGkj8DBKBjcVBE4uEWEkT4CB6NgcFNF4OAWEUb6CByMgsFNFYGDW0QY6SNwMAoGN1UEDm4RYaSPwMEoGNxUETi4RYSRPgIHo2BwU0Xg4BYRRvoIHIyCwU0VgYNbRBjpI3AwCgY3VQQObhFhpI/AwSgY3FQROLhFhJE+AgejYHBTReDgFhFG+gR+VpaRrqJKjB7AB7878fUSFyoqKj7Bz5d2UFWSOWJ0eCmJBhj0UxEf4yfb2vALoObvzwkcpRTBZHSdBEA+paoEjmQcXlK1oImZTwrTryZ0lpTmomxiHqAf47mQWG1SUUl4QDGRod4pNO4qCa1FySQ80GUxYWRo2IKd2ai1VZqYJHzPsw4r9q3EghrK/h8bdfv7WZPoogAAAABJRU5ErkJggg=="},2343:function(e,t,n){},2344:function(e,t,n){},2362:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_VISUALIZATION",(function(){return W})),n.d(a,"CLEAR_VISUALIZATION",(function(){return q})),n.d(a,"DEFAULT_VISUALIZATION",(function(){return X})),n.d(a,"default",(function(){return Q})),n.d(a,"sGetVisualization",(function(){return K})),n.d(a,"sGetInterpretations",(function(){return Z}));var r={};n.r(r),n.d(r,"SET_UI",(function(){return Re})),n.d(r,"SET_UI_FROM_VISUALIZATION",(function(){return Le})),n.d(r,"SET_UI_TYPE",(function(){return Ue})),n.d(r,"SET_UI_OPTIONS",(function(){return Me})),n.d(r,"SET_UI_LAYOUT",(function(){return Ve})),n.d(r,"ADD_UI_LAYOUT_DIMENSIONS",(function(){return Ye})),n.d(r,"REMOVE_UI_LAYOUT_DIMENSIONS",(function(){return Be})),n.d(r,"SET_UI_ITEMS",(function(){return Ge})),n.d(r,"ADD_UI_ITEMS",(function(){return Fe})),n.d(r,"REMOVE_UI_ITEMS",(function(){return He})),n.d(r,"SET_UI_PARENT_GRAPH_MAP",(function(){return ze})),n.d(r,"ADD_UI_PARENT_GRAPH_MAP",(function(){return We})),n.d(r,"SET_UI_ACTIVE_MODAL_DIALOG",(function(){return qe})),n.d(r,"SET_UI_YEAR_ON_YEAR_SERIES",(function(){return Xe})),n.d(r,"SET_UI_YEAR_ON_YEAR_CATEGORY",(function(){return Qe})),n.d(r,"CLEAR_UI",(function(){return Ke})),n.d(r,"TOGGLE_UI_RIGHT_SIDEBAR_OPEN",(function(){return Ze})),n.d(r,"SET_UI_RIGHT_SIDEBAR_OPEN",(function(){return Je})),n.d(r,"SET_UI_INTERPRETATION",(function(){return $e})),n.d(r,"CLEAR_UI_INTERPRETATION",(function(){return et})),n.d(r,"SET_AXES",(function(){return tt})),n.d(r,"DEFAULT_UI",(function(){return nt})),n.d(r,"default",(function(){return at})),n.d(r,"sGetUi",(function(){return rt})),n.d(r,"sGetUiType",(function(){return it})),n.d(r,"sGetUiOptions",(function(){return ot})),n.d(r,"sGetUiLayout",(function(){return lt})),n.d(r,"sGetUiItems",(function(){return ct})),n.d(r,"sGetUiYearOverYearSeries",(function(){return st})),n.d(r,"sGetUiYearOverYearCategory",(function(){return ut})),n.d(r,"sGetUiParentGraphMap",(function(){return dt})),n.d(r,"sGetUiActiveModalDialog",(function(){return pt})),n.d(r,"sGetUiRightSidebarOpen",(function(){return mt})),n.d(r,"sGetUiInterpretation",(function(){return ft})),n.d(r,"sGetAxes",(function(){return bt})),n.d(r,"getAxisIdByDimensionId",(function(){return ht})),n.d(r,"sGetUiItemsByDimension",(function(){return yt})),n.d(r,"sGetDimensionIdsFromLayout",(function(){return Ot})),n.d(r,"sGetAxisSetup",(function(){return gt}));var i={};n.r(i),n.d(i,"SET_CURRENT",(function(){return Rt})),n.d(i,"SET_CURRENT_FROM_UI",(function(){return Lt})),n.d(i,"CLEAR_CURRENT",(function(){return Ut})),n.d(i,"DEFAULT_CURRENT",(function(){return Mt})),n.d(i,"default",(function(){return Yt})),n.d(i,"sGetCurrent",(function(){return Bt})),n.d(i,"sGetCurrentFromUi",(function(){return Gt}));var o={};n.r(o),n.d(o,"SET_DIMENSIONS",(function(){return zt})),n.d(o,"SET_SELECTED_DIMENSION",(function(){return Wt})),n.d(o,"default",(function(){return qt})),n.d(o,"sGetDimensions",(function(){return Xt}));var l={};n.r(l),n.d(l,"SET_RECOMMENDED_IDS",(function(){return Qt})),n.d(l,"DEFAULT_RECOMMENDED_IDS",(function(){return Kt})),n.d(l,"default",(function(){return Zt})),n.d(l,"sGetRecommendedIds",(function(){return Jt}));var c={};n.r(c),n.d(c,"SET_SETTINGS",(function(){return on})),n.d(c,"ADD_SETTINGS",(function(){return ln})),n.d(c,"DEFAULT_SETTINGS",(function(){return cn})),n.d(c,"default",(function(){return sn})),n.d(c,"sGetSettings",(function(){return un})),n.d(c,"sGetSettingsDisplayNameProperty",(function(){return dn})),n.d(c,"sGetRootOrgUnit",(function(){return pn})),n.d(c,"sGetRelativePeriod",(function(){return mn})),n.d(c,"sGetUiLocale",(function(){return fn}));var s={};n.r(s),n.d(s,"acSetVisualization",(function(){return Ln})),n.d(s,"acClear",(function(){return Un}));var u={};n.r(u),n.d(u,"acSetCurrent",(function(){return Mn})),n.d(u,"acClear",(function(){return Vn})),n.d(u,"acSetCurrentFromUi",(function(){return Yn})),n.d(u,"tSetCurrentFromUi",(function(){return Bn}));var d={};n.r(d),n.d(d,"acSetDimensions",(function(){return Hn})),n.d(d,"tSetDimensions",(function(){return zn}));var p={};n.r(p),n.d(p,"acSetUi",(function(){return Wn})),n.d(p,"acClear",(function(){return qn})),n.d(p,"acSetUiFromVisualization",(function(){return Xn})),n.d(p,"acSetUiType",(function(){return Qn})),n.d(p,"acSetUiOptions",(function(){return Kn})),n.d(p,"acSetUiLayout",(function(){return Zn})),n.d(p,"acAddUiLayoutDimensions",(function(){return Jn})),n.d(p,"acRemoveUiLayoutDimensions",(function(){return $n})),n.d(p,"acSetUiItems",(function(){return ea})),n.d(p,"acAddUiItems",(function(){return ta})),n.d(p,"acRemoveUiItems",(function(){return na})),n.d(p,"acSetUiYearOverYearSeries",(function(){return aa})),n.d(p,"acSetUiYearOverYearCategory",(function(){return ra})),n.d(p,"acAddParentGraphMap",(function(){return ia})),n.d(p,"acSetParentGraphMap",(function(){return oa})),n.d(p,"acSetUiActiveModalDialog",(function(){return la})),n.d(p,"acToggleUiRightSidebarOpen",(function(){return ca})),n.d(p,"acSetUiRightSidebarOpen",(function(){return sa})),n.d(p,"acSetUiInterpretation",(function(){return ua})),n.d(p,"acClearUiInterpretation",(function(){return da})),n.d(p,"acSetAxes",(function(){return pa}));var m={};n.r(m),n.d(m,"acAddMetadata",(function(){return ma}));var f={};n.r(f),n.d(f,"acSetSettings",(function(){return ya})),n.d(f,"acAddSettings",(function(){return Oa})),n.d(f,"tAddSettings",(function(){return ga}));var b={};n.r(b),n.d(b,"acReceivedUser",(function(){return Ea}));var h={};n.r(h),n.d(h,"acReceivedSnackbarMessage",(function(){return Ia})),n.d(h,"acCloseSnackbar",(function(){return ja}));var y=n(0),O=n.n(y),g=n(238),E=n(635),v=n(237),I=n(18),j=n(19),S=n(422),x=n(16),D=n(15),A=n.n(D),w=n(21),_=n(345),T=["keyDateFormat","keyAnalysisRelativePeriod","keyAnalysisDigitGroupSeparator"],N=function(e){return{displayNameProperty:"name"===e.keyAnalysisDisplayProperty?"displayName":"displayShortName",uiLocale:e.keyUiLocale}},C=function(e){return console.log("Error: ",e)},P=function(){var e="".concat("/organisationUnits","?paging=false&userDataViewFallback=true&fields=").concat(["id","displayName","name"].join(","));return Object(_.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnits[0]})).catch(C)},k=function(){var e="".concat("/organisationUnitLevels","?paging=false&fields=").concat(["id","name","displayName","level"].join(","));return Object(_.getInstance)().then((function(t){return t.Api.getApi().get(e)})).then((function(e){return e.organisationUnitLevels})).catch(C)},R=n(2353),L=Object(R.a)(),U=n(45),M=n(202);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(){var e=Object(w.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.config.i18n.sources.add("./i18n_old/i18n_module_en.properties");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(w.a)(A.a.mark((function e(t,n){var a,r,i,o,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.baseUrl,r=t.apiVersion,e.next=3,Object(_.init)(Y({},n,{baseUrl:"".concat(a,"/api/").concat(r)}));case 3:return i=e.sent,e.t0=N,e.next=7,Object(_.getUserSettings)();case 7:return e.t1=e.sent,o=(0,e.t0)(e.t1),e.next=11,B(o);case 11:return e.next=13,k();case 13:return l=e.sent,e.abrupt("return",{location:L.location,baseUrl:a,d2:i,userSettings:o,ouLevels:l});case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){var t=e.children,n=Object(S.a)(e,["children"]),a=Object(I.b)(),r=Object(y.useState)(null),i=Object(j.a)(r,2),o=i[0],l=i[1];return Object(y.useEffect)((function(){G(a,n).then(l)}),[]),o?t(o):O.a.createElement(U.a,null,O.a.createElement(M.a,null))},H=n(373),z=n(425),W=(n(648),"SET_VISUALIZATION"),q="CLEAR_VISUALIZATION",X=null,Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.value;case q:return X;default:return e}},K=function(e){return e.visualization},Z=function(e){return e.visualization?e.visualization.interpretations:[]},J=n(244),$=n(631);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={baseLineLabel:{defaultValue:void 0,requestable:!1},baseLineValue:{defaultValue:void 0,requestable:!1},cumulativeValues:{defaultValue:!1,requestable:!1},domainAxisLabel:{defaultValue:void 0,requestable:!1},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1},hideLegend:{defaultValue:!1,requestable:!1},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1},percentStackedValues:{defaultValue:!1,requestable:!1},rangeAxisDecimals:{defaultValue:void 0,requestable:!1},rangeAxisLabel:{defaultValue:void 0,requestable:!1},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1},rangeAxisMinValue:{defaultValue:void 0,requestable:!1},rangeAxisSteps:{defaultValue:void 0,requestable:!1},regressionType:{defaultValue:"NONE",requestable:!1},showData:{defaultValue:!0,requestable:!1},targetLineLabel:{defaultValue:void 0,requestable:!1},targetLineValue:{defaultValue:void 0,requestable:!1},aggregationType:{defaultValue:"DEFAULT",requestable:!0},completedOnly:{defaultValue:!1,requestable:!0},hideSubtitle:{defaultValue:!1,requestable:!1},hideTitle:{defaultValue:!1,requestable:!1},sortOrder:{defaultValue:"0",requestable:!1},subtitle:{defaultValue:void 0,requestable:!1},title:{defaultValue:void 0,requestable:!1},colTotals:{defaultValue:!1,requestable:!1},colSubTotals:{defaultValue:!1,requestable:!1},rowTotals:{defaultValue:!1,requestable:!1},rowSubTotals:{defaultValue:!1,requestable:!1},showDimensionLabels:{defaultValue:!1,requestable:!1},hideEmptyColumns:{defaultValue:!1,requestable:!0},hideEmptyRows:{defaultValue:!1,requestable:!0},skipRounding:{defaultValue:!1,requestable:!0},numberType:{defaultValue:"VALUE",requestable:!1},showHierarchy:{defaultValue:!1,requestable:!0},legendSet:{defaultValue:void 0,requestable:!1},legendDisplayStrategy:{defaultValue:void 0,requestable:!1},legendDisplayStyle:{defaultValue:"FILL",requestable:!1},displayDensity:{defaultValue:"NORMAL",requestable:!1},fontSize:{defaultValue:"NORMAL",requestable:!1},digitGroupSeparator:{defaultValue:"SPACE",requestable:!1},paramReportingPeriod:{defaultValue:!1,requestable:!1},paramOrganisationUnit:{defaultValue:!1,requestable:!1},paramParentOrganisationUnit:{defaultValue:!1,requestable:!1},paramGrandParentOrganisationUnit:{defaultValue:!1,requestable:!1},regression:{defaultValue:!1,requestable:!1},cumulative:{defaultValue:!1,requestable:!1},measureCriteria:{defaultValue:void 0,requestable:!0},topLimit:{defaultValue:"0",requestable:!1}},ae={baseLine:{defaultValue:!1,requestable:!1},targetLine:{defaultValue:!1,requestable:!1},axisRange:{defaultValue:void 0,requestable:!1}},re=ne,ie=function(){return Object.entries(te({},ne,{},ae)).reduce((function(e,t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return e[a]=r.defaultValue,e}),{})},oe=function(e,t){return Boolean(e[t]&&e[t]!==ne[t].defaultValue)},le=function(e){var t=te({},ie(),{},Object($.a)(e,Object.keys(ne)));return t.baseLine=oe(t,"baseLineLabel")||oe(t,"baseLineValue"),t.targetLine=oe(t,"targetLineLabel")||oe(t,"targetLineValue"),e.reportParams&&(t.paramOrganisationUnit=e.reportParams.paramOrganisationUnit,t.paramReportingPeriod=e.reportParams.paramReportingPeriod,t.paramParentOrganisationUnit=e.reportParams.paramParentOrganisationUnit,t.paramGrandParentOrganisationUnit=e.reportParams.paramGrandParentOrganisationUnit),t},ce=n(4),se=n.n(ce),ue="dimensions",de=[{axisId:J.AXIS_ID_COLUMNS,name:se.a.t("Add to series")},{axisId:J.AXIS_ID_ROWS,name:se.a.t("Add to category")},{axisId:J.AXIS_ID_FILTERS,name:se.a.t("Add to filter")}],pe={columns:se.a.t("series"),rows:se.a.t("category"),filters:se.a.t("filter")},me=function(e,t){var n,a=Array.isArray(t)?t:[t];return n={},Object(x.a)(n,J.AXIS_ID_COLUMNS,e[J.AXIS_ID_COLUMNS].filter((function(e){return!a.includes(e)}))),Object(x.a)(n,J.AXIS_ID_ROWS,e[J.AXIS_ID_ROWS].filter((function(e){return!a.includes(e)}))),Object(x.a)(n,J.AXIS_ID_FILTERS,e[J.AXIS_ID_FILTERS].filter((function(e){return!a.includes(e)}))),n},fe=function(e){var t=Object.entries(e),n={};return t.forEach((function(e){var t=Object(j.a)(e,2),a=t[0];t[1].forEach((function(e){n[e]=a}))})),n},be=function(e,t,n){var a=fe(e),r=Object.keys(t),i={};return r.forEach((function(r){var o=a[r]||null,l=t[r],c=e[l]||[];c.length===Object(J.getAxisMaxNumberOfDimensions)(n,l)&&(i[c[0]]=o||Object(J.getAvailableAxes)(n).find((function(e){return!Object(J.getAxisMaxNumberOfDimensions)(n,e)})))})),i};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe,ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ye(Object(x.a)({},"name",e),t)},Ee={reportTable:[ge("cumulative",{option:!0}),ge("hideEmptyColumns",{option:!0}),ge("legendDisplayStyle",{option:!0}),ge("measureCriteria",{option:!0}),ge("numberType",{option:!0}),ge("regression",{option:!0}),ge("reportParams",{option:!0}),ge("skipRounding",{option:!0})],chart:[ge("category",{excluded:!0}),ge("series",{excluded:!0}),ge("yearlySeries")],eventReport:[ge("dataType")],reportTable_eventReport:[ge("colSubTotals",{option:!0}),ge("colTotals",{option:!0}),ge("displayDensity",{option:!0}),ge("fontSize",{option:!0}),ge("hideEmptyRows",{option:!0}),ge("rowSubTotals",{option:!0}),ge("rowTotals",{option:!0}),ge("showDimensionLabels",{option:!0}),ge("showHierarchy",{option:!0})],chart_eventChart:[ge("baseLineLabel",{option:!0}),ge("baseLineValue",{option:!0}),ge("colorSet",{option:!0}),ge("cumulativeValues",{option:!0}),ge("domainAxisLabel",{option:!0}),ge("hideEmptyRowItems",{option:!0}),ge("hideLegend",{option:!0}),ge("noSpaceBetweenColumns",{option:!0}),ge("percentStackedValues",{option:!0}),ge("rangeAxisDecimals",{option:!0}),ge("rangeAxisLabel",{option:!0}),ge("rangeAxisMaxValue",{option:!0}),ge("rangeAxisMinValue",{option:!0}),ge("rangeAxisSteps",{option:!0}),ge("regressionType",{option:!0}),ge("seriesItems"),ge("showData",{option:!0}),ge("targetLineLabel",{option:!0}),ge("targetLineValue",{option:!0}),ge("type",{option:!0})],eventReport_eventChart:[ge("attributeValueDimension"),ge("collapseDataDimensions"),ge("dataElementValueDimension"),ge("endDate"),ge("eventStatus",{option:!0}),ge("hideNaData",{option:!0}),ge("outputType",{option:!0}),ge("program"),ge("programStage"),ge("programStatus",{option:!0}),ge("startDate"),ge("value")],reportTable_chart_eventReport:[ge("legendDisplayStrategy",{option:!0}),ge("legendSet",{option:!0})],reportTable_eventReport_eventChart:[ge("columnDimensions",{excluded:!0}),ge("rowDimensions",{excluded:!0})],reportTable_chart_eventReport_eventChart:[ge("access"),ge("aggregationType",{option:!0}),ge("attributeDimensions",{excluded:!0}),ge("attributeValues",{excluded:!0}),ge("categoryDimensions",{excluded:!0}),ge("categoryOptionGroupSetDimensions",{excluded:!0}),ge("code",{excluded:!0}),ge("columns"),ge("completedOnly",{option:!0}),ge("created"),ge("dataDimensionItems",{excluded:!0}),ge("dataElementDimensions",{excluded:!0}),ge("dataElementGroupSetDimensions",{excluded:!0}),ge("description"),ge("digitGroupSeparator"),ge("displayDescription"),ge("displayName"),ge("displayShortName"),ge("externalAccess",{excluded:!0}),ge("favorite"),ge("favorites"),ge("filterDimensions",{excluded:!0}),ge("filters"),ge("hideSubtitle",{option:!0}),ge("hideTitle",{option:!0}),ge("href",{excluded:!0}),ge("id"),ge("interpretations"),ge("itemOrganisationUnitGroups",{excluded:!0}),ge("lastUpdated"),ge("lastUpdatedBy"),ge("name"),ge("organisationUnitGroupSetDimensions",{excluded:!0}),ge("organisationUnitLevels",{excluded:!0}),ge("organisationUnits",{excluded:!0}),ge("parentGraphMap"),ge("periods",{excluded:!0}),ge("programIndicatorDimensions",{excluded:!0}),ge("publicAccess"),ge("relativePeriods",{excluded:!0}),ge("rows"),ge("shortName"),ge("sortOrder",{option:!0}),ge("subscribed"),ge("subscribers"),ge("subtitle",{option:!0}),ge("timeField"),ge("title",{option:!0}),ge("topLimit",{option:!0}),ge("translations"),ge("user"),ge("userAccesses"),ge("userGroupAccesses"),ge("userOrganisationUnit",{excluded:!0}),ge("userOrganisationUnitChildren",{excluded:!0}),ge("userOrganisationUnitGrandChildren",{excluded:!0})]},ve=function(e){return e.name},Ie=function(e){return!0===e.excluded?ye({},e,Object(x.a)({},"name","!".concat(e.name))):e},je=function(e,t,n,a){return!e&&(e=a.slice()),"!"===t.charAt(0)&&e.push(e.shift()),e},Se=function(e){return Object.entries(Ee).reduce((function(t,n){var a=Object(j.a)(n,2),r=a[0],i=a[1];return r.includes(e)?t.concat(i):t}),[])},xe=function(e){var t,n=e[J.AXIS_ID_COLUMNS].slice(),a=e[J.AXIS_ID_ROWS].slice();return t={},Object(x.a)(t,J.AXIS_ID_COLUMNS,[n.shift()||a.shift()]),Object(x.a)(t,J.AXIS_ID_ROWS,[]),Object(x.a)(t,J.AXIS_ID_FILTERS,[].concat(Object(H.a)(e[J.AXIS_ID_FILTERS]),Object(H.a)(n),Object(H.a)(a))),t},De=function(e){var t;return t={},Object(x.a)(t,J.AXIS_ID_COLUMNS,[]),Object(x.a)(t,J.AXIS_ID_ROWS,[]),Object(x.a)(t,J.AXIS_ID_FILTERS,[].concat(Object(H.a)(e[J.AXIS_ID_FILTERS]),Object(H.a)(e[J.AXIS_ID_COLUMNS]),Object(H.a)(e[J.AXIS_ID_ROWS])).filter((function(e){return e!==J.DIMENSION_ID_PERIOD}))),t},Ae=function(e){var t,n=e[J.AXIS_ID_COLUMNS].slice(),a=e[J.AXIS_ID_ROWS].slice();return t={},Object(x.a)(t,J.AXIS_ID_COLUMNS,[J.DIMENSION_ID_DATA]),Object(x.a)(t,J.AXIS_ID_ROWS,[]),Object(x.a)(t,J.AXIS_ID_FILTERS,[].concat(Object(H.a)(e[J.AXIS_ID_FILTERS]),Object(H.a)(n),Object(H.a)(a)).filter((function(e){return e!==J.DIMENSION_ID_DATA}))),t},we=function(e){return!!J.ouIdHelper.hasLevelPrefix(e)&&Number.isInteger(parseInt(J.ouIdHelper.removePrefix(e),10))},_e=function(e,t){var n=Object(J.layoutGetDimension)(t,J.DIMENSION_ID_ORGUNIT);if(n&&Object(J.dimensionGetItems)(n).some((function(e){return we(e.id)}))){var a=function(e){return function(t){if(!we(t.id))return t;var n=parseInt(J.ouIdHelper.removePrefix(t.id),10),a=e.find((function(e){return parseInt(e.level,10)===n})).id;return Object.assign({},t,{id:J.ouIdHelper.addLevelPrefix(a)})}}(e),r=Object(J.dimensionGetItems)(n).map(a);return Object(J.layoutReplaceDimension)(t,J.DIMENSION_ID_ORGUNIT,r)}return t},Te=function(e){return 1===e.match(/\//g).length?e:e.substr(0,e.lastIndexOf("/"))},Ne=function(e,t,n){return t[e]&&t[e].path?t[e].path:n[e]===e||""===n[e]?"/".concat(e):n[e]?"/".concat(n[e],"/").concat(e):void 0},Ce=n(1669);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Re="SET_UI",Le="SET_UI_FROM_VISUALIZATION",Ue="SET_UI_TYPE",Me="SET_UI_OPTIONS",Ve="SET_UI_LAYOUT",Ye="ADD_UI_LAYOUT_DIMENSIONS",Be="REMOVE_UI_LAYOUT_DIMENSIONS",Ge="SET_UI_ITEMS",Fe="ADD_UI_ITEMS",He="REMOVE_UI_ITEMS",ze="SET_UI_PARENT_GRAPH_MAP",We="ADD_UI_PARENT_GRAPH_MAP",qe="SET_UI_ACTIVE_MODAL_DIALOG",Xe="SET_UI_YEAR_ON_YEAR_SERIES",Qe="SET_UI_YEAR_ON_YEAR_CATEGORY",Ke="CLEAR_UI",Ze="TOGGLE_UI_RIGHT_SIDEBAR_OPEN",Je="SET_UI_RIGHT_SIDEBAR_OPEN",$e="SET_UI_INTERPRETATION",et="CLEAR_UI_INTERPRETATION",tt="SET_AXES",nt={type:J.VIS_TYPE_COLUMN,options:ie(),layout:{columns:[J.DIMENSION_ID_DATA],rows:[J.DIMENSION_ID_PERIOD],filters:[J.DIMENSION_ID_ORGUNIT]},itemsByDimension:(Oe={},Object(x.a)(Oe,J.DIMENSION_ID_ORGUNIT,[]),Object(x.a)(Oe,J.DIMENSION_ID_PERIOD,[]),Oe),yearOverYearSeries:["THIS_YEAR","LAST_YEAR"],yearOverYearCategory:["MONTHS_THIS_YEAR"],parentGraphMap:{},activeModalDialog:null,rightSidebarOpen:!1,interpretation:{},axes:null},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:return ke({},t.value);case Le:return jt(t.value,e);case Ue:return ke({},e,{type:t.value});case Me:return ke({},e,{options:ke({},e.options,{},t.value)});case Ve:return ke({},e,{layout:ke({},t.value)});case Ye:var n=ke({},t.value,{},be(e.layout,t.value,e.type)),a=me(e.layout,Object.keys(n));return Object.entries(n).forEach((function(e){var t=Object(j.a)(e,2),n=t[0],r=t[1];a[r]&&a[r].push(n)})),ke({},e,{layout:a});case Be:return ke({},e,{layout:me(e.layout,t.value)});case Ge:var r=t.value,i=r.dimensionId,o=r.itemIds;return ke({},e,{itemsByDimension:ke({},e.itemsByDimension,Object(x.a)({},i,o))});case Fe:var l=t.value,c=l.dimensionId,s=l.itemIds,u=e.itemsByDimension[c]||[],d=Object(H.a)(new Set([].concat(Object(H.a)(u),Object(H.a)(s))));return ke({},e,{itemsByDimension:ke({},e.itemsByDimension,Object(x.a)({},c,d))});case He:var p=t.value,m=p.dimensionId,f=p.itemIdsToRemove,b=(e.itemsByDimension[m]||[]).filter((function(e){return!f.includes(e)}));return ke({},e,{itemsByDimension:ke({},e.itemsByDimension,Object(x.a)({},m,b))});case Xe:return ke({},e,{yearOverYearSeries:t.value||nt.yearOverYearSeries});case Qe:return ke({},e,{yearOverYearCategory:t.value?Object(Ce.a)(t.value):nt.yearOverYearCategory});case ze:return ke({},e,{parentGraphMap:t.value});case We:return ke({},e,{parentGraphMap:ke({},e.parentGraphMap,{},t.value)});case qe:return ke({},e,{activeModalDialog:t.value||nt.activeModalDialog});case Ke:var h,y=t.value,O=y.rootOrganisationUnit,g=y.relativePeriod;return ke({},nt,{itemsByDimension:ke({},nt.itemsByDimension,(h={},Object(x.a)(h,J.DIMENSION_ID_ORGUNIT,[O.id]),Object(x.a)(h,J.DIMENSION_ID_PERIOD,[g]),h)),parentGraphMap:ke({},nt.parentGraphMap,Object(x.a)({},O.id,""))});case Ze:return ke({},e,{rightSidebarOpen:!e.rightSidebarOpen});case Je:return ke({},e,{rightSidebarOpen:!0});case $e:return ke({},e,{interpretation:t.value});case et:return ke({},e,{interpretation:nt.interpretation});case tt:return ke({},e,{axes:t.value});default:return e}},rt=function(e){return e.ui},it=function(e){return rt(e).type},ot=function(e){return rt(e).options},lt=function(e){return rt(e).layout},ct=function(e){return rt(e).itemsByDimension},st=function(e){return rt(e).yearOverYearSeries},ut=function(e){return rt(e).yearOverYearCategory},dt=function(e){return rt(e).parentGraphMap},pt=function(e){return rt(e).activeModalDialog},mt=function(e){return rt(e).rightSidebarOpen},ft=function(e){return rt(e).interpretation},bt=function(e){return rt(e).axes},ht=function(e,t){return(fe(lt(e))||{})[t]},yt=function(e,t){return ct(e)[t]||nt.itemsByDimension[t]},Ot=function(e){return Object.values(lt(e)).reduce((function(e,t){return e.concat(t)}),[])},gt=function(e){var t=lt(e).columns,n=ct(e),a=bt(e)||{};return Array.isArray(n[t[0]])&&n[t[0]].length?n[t[0]].map((function(e){return{id:e,axis:e in a?a[e]:0}})):[]},Et=function(e){return Array.isArray(e)&&e.length?e.filter((function(e){return"number"===typeof e.axis})).reduce((function(e,t){return e[t.series]=t.axis,e}),{}):nt.axes};function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return It({},t,{type:e.type||J.defaultVisType,options:le(e),layout:Object(J.layoutGetAxisIdDimensionIdsObject)(e),itemsByDimension:Object(J.layoutGetDimensionIdItemIdsObject)(e),parentGraphMap:e.parentGraphMap||xt(e)||t.parentGraphMap,yearOverYearSeries:Object(J.isYearOverYear)(e.type)&&e.yearlySeries?e.yearlySeries:t.yearOverYearSeries,yearOverYearCategory:Object(J.isYearOverYear)(e.type)?e.rows[0].items.map((function(e){return e.id})):t.yearOverYearCategory,axes:Et(e.seriesItems)})},St=function(e){switch(e.type){case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return function(e){var t=Object.assign({},e),n=Object.assign({},t.itemsByDimension);return delete n[J.DIMENSION_ID_PERIOD],It({},t,{layout:De(e.layout),itemsByDimension:n})}(e);case J.VIS_TYPE_PIE:return function(e){return It({},e,{layout:xe(e.layout)})}(e);case J.VIS_TYPE_SINGLE_VALUE:case J.VIS_TYPE_GAUGE:return function(e){return It({},e,{layout:Ae(e.layout)})}(e);default:return e}},xt=function(e){var t=Object(J.layoutGetAxisIdDimensionIdsObject)(e),n=fe(t)[J.DIMENSION_ID_ORGUNIT];if(!n)return{};var a={};return e[n].find((function(e){return e.dimension===J.DIMENSION_ID_ORGUNIT})).items.filter((function(e){return e.path})).forEach((function(e){if("/"+e.id===e.path)a[e.id]="";else{var t=Te(e.path);a[e.id]="/"===t[0]?t.substr(1):t}})),a};function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=function(e){return Object.entries(e.layout).reduce((function(t,n){var a=Object(j.a)(n,2),r=a[0],i=a[1];return At({},t,Object(x.a)({},r,i.map((function(t){return n=e.itemsByDimension,a=t,Array.isArray(n[a])&&n[a].length?Object(J.dimensionCreate)(t,e.itemsByDimension[t]):null;var n,a})).filter((function(e){return null!==e}))))}),{})},_t=function(e){var t=Object($.a)(e.options,Object.keys(re));return!1===e.options.targetLine&&(t.targetLineLabel=re.targetLineLabel.defaultValue,t.targetLineValue=re.targetLineValue.defaultValue),!1===e.options.baseLine&&(t.baseLineLabel=re.baseLineLabel.defaultValue,t.baseLineValue=re.baseLineValue.defaultValue),t.reportParams={},["paramOrganisationUnit","paramReportingPeriod","paramParentOrganisationUnit","paramGrandParentOrganisationUnit"].forEach((function(n){return t.reportParams[n]=e.options[n]})),t},Tt=function(e){var t,n,a,r={};return t=r,n=e.axes,a="axis",Object.keys(n||{}).forEach((function(e){e in t||(t[e]={}),t[e][a]=n[e]})),Object.entries(r).reduce((function(e,t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return r.series=a,e.push(r),e}),[])},Nt=function(e,t){var n=At({},t.value,{layout:At({},Ae(t.value.layout))}),a=wt(n),r=Object(J.layoutGetDimensionItems)(a,J.DIMENSION_ID_DATA),i=Object(J.layoutReplaceDimension)(a,J.DIMENSION_ID_DATA,[r[0]]);return At({},e,Object(x.a)({},"type",n.type),i,{},_t(n))},Ct=function(e,t){var n=At({},t.value,{layout:At({},xe(t.value.layout))});return At({},e,Object(x.a)({},"type",n.type),wt(n),{},_t(n))},Pt=function(e,t){var n,a=t.value,r=a.itemsByDimension[J.DIMENSION_ID_DATA]?[a.itemsByDimension[J.DIMENSION_ID_DATA][0]]:[];return At({},e,(n={},Object(x.a)(n,"type",a.type),Object(x.a)(n,J.AXIS_ID_COLUMNS,[Object(J.dimensionCreate)(J.DIMENSION_ID_DATA,r)]),Object(x.a)(n,J.AXIS_ID_ROWS,[Object(J.dimensionCreate)(J.DIMENSION_ID_PERIOD,a.yearOverYearCategory)]),Object(x.a)(n,J.AXIS_ID_FILTERS,wt(a).filters.filter((function(e){return![J.DIMENSION_ID_DATA,J.DIMENSION_ID_PERIOD].includes(e.dimension)}))),Object(x.a)(n,["yearlySeries"],a.yearOverYearSeries),n),_t(a))};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Rt="SET_CURRENT",Lt="SET_CURRENT_FROM_UI",Ut="CLEAR_CURRENT",Mt=null,Vt=function(e,t){var n=wt(t.value),a=_t(t.value),r=Tt(t.value);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(x.a)({},"type",t.value.type),n,{},a,{seriesItems:r})},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Rt:return t.value;case Lt:switch(t.value.type){case J.VIS_TYPE_PIE:return Ct(e,t);case J.VIS_TYPE_SINGLE_VALUE:case J.VIS_TYPE_GAUGE:return Nt(e,t);case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return Pt(e,t);default:return Vt(e,t)}case Ut:return Mt;default:return e}},Bt=function(e){return e.current},Gt=function(e){var t=e.ui;switch(t.type){case J.VIS_TYPE_PIE:return Ct(e,{value:t});case J.VIS_TYPE_SINGLE_VALUE:case J.VIS_TYPE_GAUGE:return Nt(e,{value:t});case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return Pt(e,{value:t});default:return Vt(e,{value:t})}};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt="SET_DIMENSIONS",Wt="SET_SELECTED_DIMENSION",qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.FIXED_DIMENSIONS,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case zt:return Ht({},J.FIXED_DIMENSIONS,{},t.value);default:return e}},Xt=function(e){return e.dimensions},Qt="SET_RECOMMENDED_IDS",Kt=[],Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt:return t.value||Kt;default:return e}},Jt=function(e){return e.recommendedIds};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn={},nn=function(e){return e.metadata};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var on="SET_SETTINGS",ln="ADD_SETTINGS",cn={keyDateFormat:"yyyy-MM-dd",keyAnalysisRelativePeriod:"LAST_12_MONTHS",keyAnalysisDigitGroupSeparator:"SPACE",displayNameProperty:"displayName",uiLocale:"en",rootOrganisationUnit:{}},sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case on:return Object.assign({},t.value);case ln:return rn({},e,{},t.value);default:return e}},un=function(e){return e.settings},dn=function(e){return un(e).displayNameProperty},pn=function(e){return un(e).rootOrganisationUnit},mn=function(e){return un(e).keyAnalysisRelativePeriod},fn=function(e){return un(e).uiLocale},bn={id:"",username:"",uiLocale:"",isSuperuser:!1};function hn(e){return{id:e.id,username:e.username,uiLocale:e.settings.keyUiLocale,isSuperuser:e.authorities.has("ALL")}}var yn=n(856),On=n.n(yn),gn=n(857),En=n.n(gn),vn=n(529),In=n.n(vn),jn=n(389),Sn=n.n(jn),xn="name,displayName,displayShortName",Dn="dimensionItem~rename(".concat("id",")"),An="".concat("id",",").concat(xn),wn="".concat(xn,",userCredentials[username]"),_n="".concat(Dn,",").concat(xn,",dimensionItemType"),Tn="dimension,filter,legendSet[".concat(An,"],items[").concat(_n,"]"),Nn={columns:Tn,rows:Tn,filters:Tn,user:wn,interpretations:"id,created",legendSet:An},Cn=function(e){return"".concat(e).concat(Nn[e]?"[".concat(Nn[e],"]"):"")},Pn=function(e){return Se(e).map(Ie).map(ve).sort().reduce(je,null).map(Cn).join(",")},kn=function(e,t,n){var a={visualization:{resource:"".concat(t,"s"),id:n,params:{fields:Pn(t)}}};return e.query(a)},Rn=function(e,t,n){var a={type:"create",resource:"".concat(t,"s"),data:n,params:{skipTranslations:"true",skipSharing:"true"}};return n.id&&(a.type="update",a.id=n.id),e.mutate(a,{onError:function(e){return console.error(e)}})},Ln=function(e){return{type:W,value:e}},Un=function(){return{type:q}},Mn=function(e){return{type:Rt,value:e}},Vn=function(){return{type:Ut}},Yn=function(e){return{type:Lt,value:e}},Bn=function(){return function(){var e=Object(w.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Yn(rt(n())));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Gn=n(2352),Fn=n(2350),Hn=function(e){return{type:zt,value:Object(Gn.a)(Object(Fn.a)(e,[function(e){return e.name.toLowerCase()}]),"id")}},zn=function(e){return function(){var t=Object(w.a)(A.a.mark((function t(n,a){var r,i,o,l;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){n(Hn(e))},i=function(e){return console.log("Error (apiFetchDimensions): ",e),e},t.prev=2,o=dn(a()),t.next=6,Object(J.apiFetchDimensions)(e,o);case 6:return l=t.sent,t.abrupt("return",r(l));case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",i(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()},Wn=function(e){return{type:Re,value:e}},qn=function(e){return{type:Ke,value:e}},Xn=function(e){return{type:Le,value:e}},Qn=function(e){return{type:Ue,value:e}},Kn=function(e){return{type:Me,value:e}},Zn=function(e){return{type:Ve,value:e}},Jn=function(e){return{type:Ye,value:e}},$n=function(e){return{type:Be,value:e}},ea=function(e){return{type:Ge,value:e}},ta=function(e){return{type:Fe,value:e}},na=function(e){return{type:He,value:e}},aa=function(e){return{type:Xe,value:e}},ra=function(e){return{type:Qe,value:e}},ia=function(e){return{type:We,value:e}},oa=function(e){return{type:ze,value:e}},la=function(e){return{type:qe,value:e}},ca=function(){return{type:Ze}},sa=function(){return{type:Je}},ua=function(e){return{type:$e,value:e}},da=function(){return{type:et}},pa=function(e){return{type:tt,value:e}},ma=function(e){return{type:"ADD_METADATA",value:e}},fa=function(){var e="".concat("/systemSettings","?").concat(T.map((function(e){return"key=".concat(e)})).join("&"));return Object(_.getInstance)().then((function(t){return t.Api.getApi().get(e)})).catch(C)};function ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ba(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ba(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ya=function(e){return{type:on,value:e}},Oa=function(e){return{type:ln,value:e}},ga=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){var e=Object(w.a)(A.a.mark((function e(n){var a,r,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){n(Oa(Object.assign.apply(Object,[{},e].concat(t))))},r=function(e){return console.log("Error (apiFetchSystemSettings): ",e),e},e.prev=2,e.next=5,fa();case 5:return i=e.sent,e.next=8,P();case 8:return o=e.sent,e.abrupt("return",a(ha({},i,{rootOrganisationUnit:o})));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",r(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},Ea=function(e){return{type:"RECEIVED_USER",value:e}},va=function(e){return e.chart},Ia=function(e){return{type:Ya,value:e}},ja=function(){return{type:Ba}};function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Da={isLoading:!1,loadingError:null},Aa=function(e){return e.loader.loadingError},wa=function(e){return{type:"SET_LOAD_ERROR",value:e}},_a=function(){return{type:"CLEAR_LOAD_ERROR"}};function Ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ta(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ta(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ca=function(e,t){return console.log("Error in action ".concat(e,": ").concat(t)),t},Pa=function(e){var t=e.type,n=e.id,a=e.interpretationId,r=e.ouLevels;return function(){var e=Object(w.a)(A.a.mark((function e(i,o,l){var c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){var e=Object(w.a)(A.a.mark((function e(t){var n,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=_e(r,t.visualization)).type||(console.log("type not in AO, set to ".concat(J.VIS_TYPE_PIVOT_TABLE)),n.type=J.VIS_TYPE_PIVOT_TABLE),a&&(o=n.interpretations.find((function(e){return e.id===a})))&&(i(ua(o)),i(sa())),i(Ln(n)),i(Mn(n)),i(Xn(n)),i({type:"CLEAR_LOAD_ERROR"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.prev=1,e.t0=c,e.next=5,kn(l,t,n);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:return e.prev=9,e.t2=e.catch(1),ka(i,o,e.t2),e.abrupt("return",Ca("tDoLoadVisualization",e.t2));case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,a){return e.apply(this,arguments)}}()},ka=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(n?wa(n):{type:"CLEAR_LOAD_ERROR"}),e(Un()),e(Vn());var a=pn(t()),r=mn(t());e(qn({rootOrganisationUnit:a,relativePeriod:r}))},Ra=n(2),La={container:{display:"flex",alignItems:"center"},icon:{marginRight:8},closeIcon:{marginLeft:8,width:18,height:18,cursor:"pointer"},warning:{backgroundColor:Ra.a.yellow500,color:Ra.a.black},error:{backgroundColor:Ra.a.red500,color:Ra.a.white}},Ua=Object(g.connect)((function(e){var t=Fa(e),n=t.variant,a=t.message,r=t.duration;return{variant:n,open:t.open,message:a,duration:r}}),(function(e){return{onClose:function(){return e((function(e){e(Ia({open:!1})),setTimeout((function(){return e(ja())}),250)}))}}}))(Object(v.withStyles)(La)((function(e){var t=e.classes,n=e.variant,a=e.open,r=e.message,i=e.duration,o=e.onClose;return O.a.createElement(On.a,{open:a,autoHideDuration:i,onClose:o},O.a.createElement(En.a,{className:t[n],message:O.a.createElement("span",{className:t.container},"error"===n?O.a.createElement(In.a,{className:t.icon}):null,r,"warning"===n?O.a.createElement(Sn.a,{className:t.closeIcon,onClick:o}):null)}))})));function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ya="RECEIVED_SNACKBAR_MESSAGE",Ba="CLOSE_SNACKBAR",Ga={message:null,duration:null,open:!1,variant:"information"},Fa=function(e){return e.snackbar};function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var za=Object(z.c)({visualization:Q,current:Yt,dimensions:qt,recommendedIds:Zt,ui:at,metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_METADATA":return en({},e,{},t.value);default:return e}},settings:sn,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVED_USER":return hn(t.value);default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ya:return Va({},e,{},t.value);case Ba:return Ga;default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOAD_ERROR":return xa({},e,{loadingError:t.value});case"CLEAR_LOAD_ERROR":return xa({},e,{loadingError:Da.loadingError});case"SET_LOADING":return xa({},e,{isLoading:t.value});default:return e}},chart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHART":return t.value;default:return e}}}),Wa=function(e){return gt(e).map((function(t){var n=nn(e)[t.id];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{name:n?n.name:""})}))},qa=function(e){var t="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"data-visualizer-app"}):z.d;return window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Object(z.e)(za,t(z.a.apply(void 0,Object(H.a)(e))))},Xa=function(e){var t=e.dispatch;return function(e){return function(n){"object"===typeof n.metadata&&!Array.isArray(n.metadata)&&t(ma(n.metadata)),e(n)}}},Qa=n(8),Ka=n(12),Za=n(14),Ja=n(11),$a=n(6),er=n(13),tr=n(463),nr=n(9),ar=n.n(nr),rr=n(1677),ir=n.n(rr),or=n(203),lr=function(e){var t=e.onClick,n=Object(S.a)(e,["onClick"]);return O.a.createElement(or.a,Object.assign({"data-test":"update-button"},n,{onClick:t,type:"button",primary:!0}),se.a.t("Update"))},cr=n(250),sr=n.n(cr),ur=n(369),dr=n.n(ur),pr=n(300),mr=n.n(pr),fr=n(243),br=n.n(fr),hr=n(294),yr=n.n(hr),Or=n(288),gr=n.n(Or),Er=n(2105),vr=n.n(Er),Ir=n(2110),jr=n.n(Ir),Sr=n(2107),xr=n.n(Sr),Dr=n(2108),Ar=n.n(Dr),wr=n(2109),_r=n.n(wr),Tr=n(2111),Nr=n.n(Tr),Cr={arrowIcon:{marginLeft:"auto"},menuAnchorOrigin:{vertical:"bottom",horizontal:"left"},submenuAnchorOrigin:{vertical:"top",horizontal:"right"}},Pr=function(){var e=Object(w.a)(A.a.mark((function e(t,n){var a,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.getInstance)();case 2:return a=e.sent,r=a.Api.getApi(),i="".concat(r.baseUrl,"/svg.").concat(t),e.abrupt("return",r.fetch(i,{method:"POST",body:n,headers:new Headers(r.defaultHeaders)}).then((function(e){return e.blob()})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kr=function(){var e=Object(w.a)(A.a.mark((function e(t){var n,a,r,i,o,l,c,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.current,a=t.format,r=t.idScheme,i=t.path,e.next=3,Object(_.getInstance)();case 3:return o=e.sent,l=o.Api.getApi(),c=(new o.analytics.request).fromModel(n,"dataValueSet"===i).withFormat(a),i&&(c=c.withPath(i)),r&&(c=c.withOutputIdScheme(r)),s=new URL("".concat(l.baseUrl,"/").concat(c.buildUrl()),"".concat(window.location.origin).concat(window.location.pathname)),Object.entries(c.buildQuery()).forEach((function(e){var t=Object(j.a)(e,2),n=t[0],a=t[1];return s.searchParams.append(n,a)})),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lr=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),Rr(Object($a.a)(n),"toggleMenu",(function(e){return n.setState({anchorEl:e||null})})),Rr(Object($a.a)(n),"toggleSubmenu",(function(e,t,a){var r="".concat(e,"Submenu"),i={anchorEl:t||null};"scheme"===e&&(i.dataType=a||null),n.setState(Object(x.a)({},r,i))})),Rr(Object($a.a)(n),"downloadImage",(function(e){return Object(w.a)(A.a.mark((function t(){var a,r,i,o,l,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.props,r=a.current,i=a.chart,(o=new URLSearchParams).append("filename",r.name),i&&o.append("svg",i),t.next=6,Pr(e,o);case 6:l=t.sent,c=URL.createObjectURL(l),n.toggleMenu(),window.open(c,"_blank");case 10:case"end":return t.stop()}}),t)})))})),Rr(Object($a.a)(n),"downloadData",(function(e,t,a){return Object(w.a)(A.a.mark((function r(){var i,o;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=n.props.current,r.next=3,kr({current:i,format:e,idScheme:t,path:a});case 3:o=r.sent,t?n.toggleSubmenu("scheme"):n.toggleSubmenu("advanced"),n.toggleMenu(),window.open(o,e.match(/(xls|csv)/)?"_top":"_blank");case 7:case"end":return r.stop()}}),r)})))})),n.state={anchorEl:null,schemeSubmenu:{anchorEl:null,dataType:null},advancedSubmenu:{anchorEl:null}},n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this;return O.a.createElement(y.Fragment,null,O.a.createElement(sr.a,{className:this.props.className,onClick:function(t){return e.toggleMenu(t.currentTarget)},disableRipple:!0,disableFocusRipple:!0,disabled:!this.props.current},se.a.t("Download")),O.a.createElement(mr.a,{open:Boolean(this.state.anchorEl),anchorEl:this.state.anchorEl,anchorOrigin:Cr.menuAnchorOrigin,getContentAnchorEl:null,onClose:function(){return e.toggleMenu()}},O.a.createElement(vr.a,{component:"div"},se.a.t("Graphics")),O.a.createElement(br.a,{onClick:this.downloadImage("png")},O.a.createElement(yr.a,null,O.a.createElement(xr.a,null)),O.a.createElement(gr.a,null,se.a.t("Image (.png)"))),O.a.createElement(br.a,{onClick:this.downloadImage("pdf")},O.a.createElement(yr.a,null,O.a.createElement(Ar.a,null)),O.a.createElement(gr.a,null,se.a.t("PDF (.pdf)"))),O.a.createElement(dr.a,null),O.a.createElement(vr.a,{component:"div"},se.a.t("Plain data source")),O.a.createElement(br.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"json")}},O.a.createElement(yr.a,null,O.a.createElement(_r.a,null)),O.a.createElement(gr.a,null,"JSON"),O.a.createElement(jr.a,{style:Cr.arrowIcon})),O.a.createElement(br.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"xml")}},O.a.createElement(yr.a,null,O.a.createElement(_r.a,null)),O.a.createElement(gr.a,null,"XML"),O.a.createElement(jr.a,{style:Cr.arrowIcon})),O.a.createElement(br.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"xls")}},O.a.createElement(yr.a,null,O.a.createElement(_r.a,null)),O.a.createElement(gr.a,null,"Excel"),O.a.createElement(jr.a,{style:Cr.arrowIcon})),O.a.createElement(br.a,{onClick:function(t){return e.toggleSubmenu("scheme",t.currentTarget,"csv")}},O.a.createElement(yr.a,null,O.a.createElement(_r.a,null)),O.a.createElement(gr.a,null,"CSV"),O.a.createElement(jr.a,{style:Cr.arrowIcon})),O.a.createElement(br.a,{onClick:function(t){return e.toggleSubmenu("advanced",t.currentTarget)}},O.a.createElement(yr.a,null,O.a.createElement(Nr.a,null)),O.a.createElement(gr.a,null,se.a.t("Advanced")),O.a.createElement(jr.a,{style:Cr.arrowIcon}))),O.a.createElement(mr.a,{open:Boolean(this.state.schemeSubmenu.anchorEl),anchorEl:this.state.schemeSubmenu.anchorEl,anchorOrigin:Cr.submenuAnchorOrigin,onClose:function(){return e.toggleSubmenu("scheme")}},O.a.createElement(vr.a,{component:"div"},se.a.t("Metadata ID scheme")),O.a.createElement(br.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"UID")},"ID"),O.a.createElement(br.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"CODE")},"Code"),O.a.createElement(br.a,{onClick:this.downloadData(this.state.schemeSubmenu.dataType,"NAME")},"Name")),O.a.createElement(mr.a,{open:Boolean(this.state.advancedSubmenu.anchorEl),anchorEl:this.state.advancedSubmenu.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(){return e.toggleSubmenu("advanced")}},O.a.createElement(vr.a,{component:"div"},se.a.t("Data value set")),O.a.createElement(br.a,{onClick:this.downloadData("json",null,"dataValueSet")},"JSON"),O.a.createElement(br.a,{onClick:this.downloadData("xml",null,"dataValueSet")},"XML"),O.a.createElement(dr.a,null),O.a.createElement(vr.a,{component:"div"},se.a.t("Other formats")),O.a.createElement(br.a,{onClick:this.downloadData("jrxml")},"JRXML"),O.a.createElement(br.a,{onClick:this.downloadData("sql",null,"debug/sql")},"Raw data SQL")))}}]),t}(y.Component),Ur=Object(g.connect)((function(e){return{current:Bt(e),chart:va(e)}}),{})(Lr),Mr=n(2113),Vr=n.n(Mr),Yr=n(2112),Br=n.n(Yr),Gr=Object(g.connect)((function(e){return{rightSidebarOpen:mt(e),id:(Bt(e)||{}).id}}),(function(e){return{onClick:function(){return e(ca())}}}))(Object(v.withStyles)((function(e){return{icon:{marginRight:e.spacing.unit,marginTop:2}}}))((function(e){return O.a.createElement(sr.a,{className:e.className,size:"small",disabled:!e.id,disableRipple:!0,disableFocusRipple:!0,onClick:e.onClick},e.rightSidebarOpen?O.a.createElement(Br.a,{className:e.classes.icon}):O.a.createElement(Vr.a,{className:e.classes.icon}),se.a.t("Interpretations"))}))),Fr=n(210),Hr=n(205),zr=n(206),Wr=n(208),qr=n(2361),Xr=function(e){var t=e.onClick,n=Object(S.a)(e,["onClick"]);return O.a.createElement(or.a,Object.assign({},n,{type:"button",secondary:!0,onClick:t}),se.a.t("Hide"))},Qr=J.FIXED_DIMENSIONS[J.DIMENSION_ID_DATA].name,Kr={defaultSeries:se.a.t("Please add at least one {{series}} dimension",{series:Object(J.getAxisName)(J.AXIS_ID_COLUMNS)}),defaultCategory:se.a.t("Please add at least one {{category}} dimension",{category:Object(J.getAxisName)(J.AXIS_ID_ROWS)}),defaultPe:se.a.t("Please add at least one period as {{series}}, {{category}} or {{filter}}",{series:Object(J.getAxisName)(J.AXIS_ID_COLUMNS),category:Object(J.getAxisName)(J.AXIS_ID_ROWS),filter:Object(J.getAxisName)(J.AXIS_ID_FILTERS)}),pie:{dx:se.a.t("Please add {{data}} as {{category}} or {{filter}}",{data:Qr,category:Object(J.getAxisName)(J.AXIS_ID_ROWS),filter:Object(J.getAxisName)(J.AXIS_ID_FILTERS)}),pe:se.a.t("Please add at least one period as {{series}} or {{filter}}",{series:Object(J.getAxisName)(J.AXIS_ID_COLUMNS),filter:Object(J.getAxisName)(J.AXIS_ID_FILTERS)}),filter:se.a.t("Please add at least one {{filter}} dimension",{filter:Object(J.getAxisName)(J.AXIS_ID_FILTERS)})},yearOverYear:{seriesPeriod:se.a.t("Please add at least one period as a {{series}} dimension",{series:Object(J.getAxisName)(J.AXIS_ID_COLUMNS)}),categoryPeriod:se.a.t("Please add at least one period as a {{category}} dimension",{category:Object(J.getAxisName)(J.AXIS_ID_ROWS)}),dx:se.a.t("Please add {{data}} as a filter dimension",{data:Qr})},singleValue:{dx:se.a.t("Please add one {{series}} dimension",{series:Object(J.getAxisName)(J.AXIS_ID_COLUMNS)}),pe:se.a.t("Please add at least one period as {{filter}}",{filter:Object(J.getAxisName)(J.AXIS_ID_FILTERS)})}},Zr=function(e,t){if(!e||!Object(J.dimensionIsValid)(e,{requireItems:!0}))throw new Error(t)},Jr=function(e,t){if(!function(e){return J.AXIS.isValid(e)&&Object(J.dimensionIsValid)(e[0],{requireItems:!0})}(e))throw new Error(t)},$r=function(e){switch(e.type){case J.VIS_TYPE_PIE:return function(e){Jr(e.columns,Kr.defaultSeries),Jr(e.filters,Kr.pie.filter),Zr(Object(J.layoutGetDimension)(e,J.DIMENSION_ID_PERIOD),Kr.pie.pe)}(e);case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:return function(e){if(!Array.isArray(e.yearlySeries)||"string"!==typeof e.yearlySeries[0])throw new Error(Kr.yearOverYear.seriesPeriod);Jr(e.rows,Kr.yearOverYear.categoryPeriod),Jr(e.columns,Kr.yearOverYear.dx)}(e);case J.VIS_TYPE_SINGLE_VALUE:case J.VIS_TYPE_GAUGE:return function(e){Jr(e.columns,Kr.singleValue.dx),Zr(Object(J.layoutGetDimension)(e,J.DIMENSION_ID_PERIOD),Kr.singleValue.pe)}(e);default:return function(e){Jr(e.columns,Kr.defaultSeries),Jr(e.rows,Kr.defaultCategory),Zr(Object(J.layoutGetDimension)(e,J.DIMENSION_ID_PERIOD),Kr.defaultPe)}(e)}},ei="currentAnalyticalObject",ti=function(){var e=Object(w.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.currentUser.dataStore.has("analytics");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ni=function(){var e=Object(w.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,t.currentUser.dataStore.get("analytics");case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,t.currentUser.dataStore.create("analytics");case 8:e.t0=e.sent;case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ai=function(){var e=Object(w.a)(A.a.mark((function e(t,n,a){var r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.getInstance)();case 3:if(r=e.sent,e.t0=a,e.t0){e.next=14;break}return e.t1=ni,e.t2=r,e.next=10,ti(r);case 10:return e.t3=e.sent,e.next=13,(0,e.t1)(e.t2,e.t3);case 13:e.t0=e.sent;case 14:return i=e.t0,e.abrupt("return",i.set(n,t));case 18:return e.prev=18,e.t4=e.catch(0),e.abrupt("return",C(e.t4));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ri=function(){var e=Object(w.a)(A.a.mark((function e(t,n){var a,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(_.getInstance)();case 3:if(a=e.sent,e.t0=n,e.t0){e.next=14;break}return e.t1=ni,e.t2=a,e.next=10,ti(a);case 10:return e.t3=e.sent,e.next=13,(0,e.t1)(e.t2,e.t3);case 13:e.t0=e.sent;case 14:return r=e.t0,e.abrupt("return",r.get(t));case 18:return e.prev=18,e.t4=e.catch(0),e.abrupt("return",C(e.t4));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),ii=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei;return ai(e,t)},oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei;return ri(e)},li={getCurrent:function(){return function(e,t){return Bt(t())}},getCurrentFromUi:function(){return function(e,t){return Gt(t())}},onUpdate:u.tSetCurrentFromUi,acSetLoadError:wa,acClearLoadError:_a},ci=Object(g.connect)(null,li)((function(e){var t=e.renderComponent,n=e.getCurrent,a=e.getCurrentFromUi,r=e.onUpdate,i=e.acSetLoadError,o=e.acClearLoadError;return t((function(){try{$r(a()),o()}catch(c){i(c&&c.message?c.message:se.a.t("Error validating layout"))}r();var e=L.location.pathname==="/"+ei,t=n(),l=t&&t.id?"/".concat(t.id):"/";e||L.location.pathname===l||L.push(l)}))})),si=n(2114),ui=n(2115),di=n(2363),pi=n(2360),mi=n(3),fi=n.n(mi),bi={styles:O.a.createElement(fi.a,{id:"3577720839"},["div.jsx-3577720839{position:-webkit-sticky;position:sticky;top:0;}"]),className:"jsx-3577720839"},hi={styles:O.a.createElement(fi.a,{id:"700214593"},["div.jsx-700214593{padding:".concat(Ra.c.dp16," 0;}")]),className:"jsx-700214593"},yi=(O.a.createElement(fi.a,{id:"1655721637"},["div.jsx-1655721637{overflow-y:auto;}"]),{styles:O.a.createElement(fi.a,{id:"4244804206"},["span.jsx-4244804206{display:inline-block;padding-bottom:".concat(Ra.c.dp16,";font-size:").concat(Ra.c.dp16,";color:").concat(Ra.a.grey900,";}")]),className:"jsx-4244804206"}),Oi={styles:O.a.createElement(fi.a,{id:"1665807213"},["div.jsx-1665807213:not(:last-child):not(.inline){padding-bottom:".concat(Ra.c.dp16,";}")]),className:"jsx-1665807213"},gi={styles:O.a.createElement(fi.a,{id:"2983019948"},["div.jsx-2983019948:not(:last-child){padding-bottom:".concat(Ra.c.dp8,";}")]),className:"jsx-2983019948"},Ei={styles:O.a.createElement(fi.a,{id:"3717686981"},["p.jsx-3717686981{font-size:".concat(Ra.c.dp14,";padding-bottom:").concat(Ra.c.dp16,";}")]),className:"jsx-3717686981"},vi={styles:O.a.createElement(fi.a,{id:"684239008"},["div.jsx-684239008{margin:".concat(Ra.c.dp4," 0 0 23px;}")]),className:"jsx-684239008"},Ii={styles:O.a.createElement(fi.a,{id:"3576615552"},["div.jsx-3576615552{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]),className:"jsx-3576615552"},ji=n(2366),Si=n(2357),xi=n(2358),Di=Object(g.connect)((function(e,t){return{value:ot(e)[t.option.name],enabled:void 0!==ot(e)[t.option.name]}}),(function(e,t){return{onChange:function(n){return e(Kn(Object(x.a)({},t.option.name,n)))},onToggle:function(n){return e(Kn(Object(x.a)({},t.option.name,n?t.option.defaultValue:void 0)))}}}))((function(e){var t=e.option,n=e.label,a=e.helpText,r=e.enabled,i=e.toggleable,o=e.value,l=e.onChange,c=e.onToggle,s=t.items.find((function(e){return e.id===String(o)}));return O.a.createElement("div",{className:!i||r?"":gi.className},i?O.a.createElement(ji.a,{checked:r,label:n,name:"".concat(t.name,"-toggle"),onChange:function(e){var t=e.checked;return c(t)},dense:!0}):null,!i||r?O.a.createElement("div",{className:i?vi.className:""},O.a.createElement(Si.a,{name:t.name,label:i?"":n,onChange:function(e){var t=e.selected;return l(t.value)},selected:{value:s.id,label:s.label},helpText:a,inputWidth:"280px",dense:!0},t.items.map((function(e){var t=e.id,n=e.label;return O.a.createElement(xi.a,{key:t,value:String(t),label:n})})))):null)})),Ai=function(){return O.a.createElement(Di,{label:se.a.t("Aggregation type"),helpText:se.a.t("Determines how the values in the pivot table are aggregated. Learn more"),option:{name:"aggregationType",items:[{id:"DEFAULT",label:se.a.t("By data element")},{id:"COUNT",label:se.a.t("Count")},{id:"AVERAGE",label:se.a.t("Average")},{id:"AVERAGE_SUM_ORG_UNIT",label:se.a.t("Average (sum in org unit hierarchy)")},{id:"SUM",label:se.a.t("Sum")},{id:"LAST",label:se.a.t("Last value")},{id:"LAST_AVERAGE_ORG_UNIT",label:se.a.t("Last value (average in org unit hierarchy)")},{id:"MIN",label:se.a.t("Min")},{id:"MAX",label:se.a.t("Max")},{id:"STDDEV",label:se.a.t("Standard deviation")},{id:"VARIANCE",label:se.a.t("Variance")}]}})},wi=Object(g.connect)((function(e,t){return{value:ot(e)[t.option.name]||!1}}),(function(e,t){return{onChange:function(n){return e(Kn(Object(x.a)({},t.option.name,n)))}}}))((function(e){var t=e.option,n=e.label,a=e.value,r=e.onChange;return O.a.createElement("div",{className:Oi.className},O.a.createElement(ji.a,{checked:a,label:n,name:t.name,onChange:function(e){var t=e.checked;return r(t)},dense:!0}))})),_i=function(){return O.a.createElement(wi,{label:se.a.t("Dimension labels"),option:{name:"showDimensionTotals"}})},Ti=function(){return O.a.createElement(wi,{label:se.a.t("Skip rounding"),option:{name:"skipRounding"}})},Ni=function(){return O.a.createElement(wi,{label:se.a.t("Columns totals"),option:{name:"colTotals"}})},Ci=function(){return O.a.createElement(wi,{label:se.a.t("Column sub-totals"),option:{name:"colSubTotals"}})},Pi=function(){return O.a.createElement(wi,{label:se.a.t("Row totals"),option:{name:"rowTotals"}})},ki=function(){return O.a.createElement(wi,{label:se.a.t("Row sub-totals"),option:{name:"rowSubTotals"}})},Ri=function(){return O.a.createElement(wi,{label:se.a.t("Hide empty columns"),option:{name:"hideEmptyColumns"}})},Li=function(){return O.a.createElement(wi,{label:se.a.t("Hide empty rows"),option:{name:"hideEmptyRows"}})},Ui=function(){return O.a.createElement(Di,{label:se.a.t("Number type"),helpText:se.a.t("Display the value of percentages of the total"),option:{name:"numberType",items:[{id:"VALUE",label:se.a.t("Value")},{id:"ROW_PERCENTAGE",label:se.a.t("Percentage of row")},{id:"COLUMN_PERCENTAGE",label:se.a.t("Percentage of column")}]}})},Mi=n(2365),Vi=n(2364),Yi=Object(g.connect)((function(e,t){return{value:ot(e)[t.option.name]}}),(function(e,t){return{onChange:function(n){return e(Kn(Object(x.a)({},t.option.name,n)))}}}))((function(e){var t=e.option,n=e.label,a=e.value,r=e.onChange;return O.a.createElement(Mi.a,{name:t.name,value:String(a),onChange:function(e){var t=e.value;return r(t)},label:n,dense:!0},t.items.map((function(e){var t=e.id,n=e.label;return O.a.createElement(Vi.a,{key:t,label:n,value:String(t)})})))})),Bi=function(){return O.a.createElement(Yi,{option:{name:"legendDisplayStyle",items:[{id:"FILL",label:se.a.t("Legend changes background color")},{id:"TEXT",label:se.a.t("Legend changes text color")}]}})},Gi=function(){return O.a.createElement(Yi,{option:{name:"legendDisplayStrategy",items:[{id:"FIXED",label:se.a.t("Apply a legend to entire table")},{id:"BY_DATA_ITEM",label:se.a.t("Assign a unique legend to data elements")}]}})},Fi=function(e){var t=e.value,n=e.options,a=e.onFocus,r=e.onChange,i=t?{value:t.id,label:t.displayName}:{};return O.a.createElement(Si.a,{name:"legendSet-legendSelect",label:se.a.t("Select a legend"),selected:i,inputWidth:"280px",placeholder:se.a.t("Select from predefined legends"),dense:!0,onFocus:a,onChange:function(e){var t=e.selected;return r({legendSet:{id:t.value,displayName:t.label}})}},n.map((function(e){var t=e.id,n=e.label;return O.a.createElement(xi.a,{key:t,value:String(t),label:n})})))},Hi=function(e){var t=e.value,n=e.onChange;console.log("legendSetup value",t);var a=Object(I.c)(),r=Object(y.useState)([]),i=Object(j.a)(r,2),o=i[0],l=i[1],c=Object(y.useState)(!1),s=Object(j.a)(c,2),u=s[0],d=s[1];t&&(o.find((function(e){return e.id===t.id}))||l([].concat(Object(H.a)(o),[{id:t.id,label:t.displayName}])));var p=function(){var e=Object(w.a)(A.a.mark((function e(){var t,n,r,i;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("select focus"),u){e.next=9;break}return t={legendSets:{resource:"legendSets.json",params:function(){return{fields:"id,displayName~rename(name),legends[id,displayName~rename(name),startValue,endValue,color]",paging:!1}}}},e.next=5,a.query(t);case 5:n=e.sent,(r=n.legendSets)&&(console.log("legendSets",r),i=r.legendSets.map((function(e){return{id:e.id,label:e.name}})),console.log("set option",i),l(i)),d(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return O.a.createElement(Fi,{value:t,options:o,onChange:n,onFocus:p})},zi=Object(g.connect)((function(e){return{value:ot(e).legendSet,legendDisplayStrategy:ot(e).legendDisplayStrategy}}),(function(e){return{onChange:function(t){return e(Kn(t))}}}))((function(e){var t=e.value,n=e.legendDisplayStrategy,a=e.onChange,r=Object(y.useState)(Boolean(t)),i=Object(j.a)(r,2),o=i[0],l=i[1];return O.a.createElement(y.Fragment,null,O.a.createElement(ji.a,{checked:o,label:se.a.t("Display legend"),onChange:function(e){var t=e.checked;l(t),a(t&&!n?{legendDisplayStrategy:"FIXED"}:{legendSet:void 0,legendDisplayStrategy:void 0})},dense:!0}),o?O.a.createElement(y.Fragment,null,O.a.createElement("div",{className:hi.className},O.a.createElement(si.a,null,O.a.createElement(ui.a,null,O.a.createElement("span",{className:yi.className},se.a.t("Legend type"))),O.a.createElement("div",{className:Oi.className},O.a.createElement(Gi,null)))),O.a.createElement("div",{className:hi.className},O.a.createElement(si.a,null,O.a.createElement(ui.a,null,O.a.createElement("span",{className:yi.className},se.a.t("Legend setup"))),"FIXED"===n?O.a.createElement("div",{className:Oi.className},O.a.createElement(Hi,{value:t,onChange:a})):null,O.a.createElement(Bi,null)))):null)})),Wi=n(36),qi=n(207),Xi=Object(g.connect)((function(e,t){return{value:ot(e)[t.option.name]||"",enabled:void 0!==ot(e)[t.option.name]}}),(function(e,t){return{onChange:function(n){return e(Kn(Object(x.a)({},t.option.name,n)))},onToggle:function(n){return e(Kn(Object(x.a)({},t.option.name,n?"":void 0)))}}}))((function(e){var t=e.type,n=e.label,a=e.placeholder,r=e.helpText,i=e.width,o=e.option,l=e.value,c=e.onChange,s=e.onToggle,u=e.toggleable,d=e.enabled,p=e.inline;return O.a.createElement("div",{className:!u||d||p?"":Oi.className},u?O.a.createElement(ji.a,{checked:d,label:n,name:"".concat(o.name,"-toggle"),onChange:function(e){var t=e.checked;return s(t)},dense:!0}):null,!u||d?O.a.createElement("div",{className:u?vi.className:""},p?O.a.createElement(Wi.a,{type:t,onChange:function(e){var t=e.value;return c(t)},name:o.name,value:l,placeholder:a,width:i,dense:!0}):O.a.createElement(qi.a,{type:t,label:u?"":n,onChange:function(e){var t=e.value;return c(t)},name:o.name,value:l,helpText:r,placeholder:a,inputWidth:i,dense:!0})):null)})),Qi=function(e){var t=e.label,n=e.inline;return O.a.createElement(Xi,{type:"text",width:"280px",label:t,placeholder:se.a.t("Add a title"),option:{name:"title"},inline:n})};Qi.defaultProps={inline:!1};var Ki=Qi,Zi=function(){return O.a.createElement(Di,{label:se.a.t("Display density"),option:{name:"displayDensity",items:[{id:"COMFORTABLE",label:se.a.t("Comfortable")},{id:"NORMAL",label:se.a.t("Normal")},{id:"COMPACT",label:se.a.t("Compact")}]}})},Ji=function(){return O.a.createElement(Di,{label:se.a.t("Font size"),option:{name:"fontSize",items:[{id:"LARGE",label:se.a.t("Large")},{id:"NORMAL",label:se.a.t("Normal")},{id:"SMALL",label:se.a.t("Small")}]}})},$i=function(){return O.a.createElement(Di,{label:se.a.t("Digit group separator"),option:{name:"digitGroupSeparator",items:[{id:"NONE",label:se.a.t("None")},{id:"SPACE",label:se.a.t("Space")},{id:"COMMA",label:se.a.t("Comma")}]}})},eo=n(2348),to=n(40),no=n(37);function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ro=function(e){var t=e.name,n=e.value,a=e.onChange,r=[{id:"EQ",label:"="},{id:"GT",label:">"},{id:"GE",label:">="},{id:"LT",label:"<"},{id:"LE",label:"<="}],i=r.find((function(e){return e.id===n}));return O.a.createElement("div",{style:{width:"112px"}},O.a.createElement(eo.a,{name:t,onChange:function(e){var t=e.selected;a(t.value)},selected:i?{value:i.id,label:i.label}:void 0,tabIndex:"0",inputMaxWidth:"106px",dense:!0},r.map((function(e){var t=e.id,n=e.label;return O.a.createElement(xi.a,{key:t,value:t,label:n})}))))},io=function(e){var t=e.name,n=e.value,a=e.onChange;return O.a.createElement(Wi.a,{name:t,value:n,type:"number",onChange:function(e){var t=e.value;return a(t)},width:"72px",dense:!0})},oo=function(e){function t(e){var n;Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),ao(Object($a.a)(n),"onClear",(function(){return n.setState(n.defaultState,n.props.onChange(""))})),ao(Object($a.a)(n),"onChange",(function(e){return function(t){n.setState(Object(x.a)({},e,t),(function(){var e=n.state,t=e.op1,a=e.v1,r=e.op2,i=e.v2,o=[];t&&a&&o.push("".concat(t,":").concat(a)),r&&i&&o.push("".concat(r,":").concat(i)),n.props.onChange(o.length>0?o.join(";"):"")}))}}));var a=e.value.split(/[;:]/),r=Object(j.a)(a,4),i=r[0],o=void 0===i?"":i,l=r[1],c=void 0===l?"":l,s=r[2],u=void 0===s?"":s,d=r[3],p=void 0===d?"":d;return n.state=n.defaultState={op1:o,v1:c,op2:u,v2:p},n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.state,t=e.op1,n=e.v1,a=e.op2,r=e.v2;return O.a.createElement("div",{className:Oi.className},O.a.createElement("p",{className:Ei.className},se.a.t("You can set a minimum or maximum value. This will apply to the entire table, all values outside of the minimum/maximum range will not be displayed")),O.a.createElement("div",{className:Ii.className},O.a.createElement("div",{style:{width:"250px",paddingBottom:"16px"}},O.a.createElement(to.a,null,se.a.t("Minimum data value")),O.a.createElement("div",{className:Ii.className},O.a.createElement(ro,{name:"op1",value:t,onChange:this.onChange("op1")}),O.a.createElement(io,{name:"v1",value:n,onChange:this.onChange("v1")}))),O.a.createElement(no.a,null,O.a.createElement("div",{style:{width:"250px"}},O.a.createElement(to.a,null,se.a.t("Maximum data value")),O.a.createElement("div",{className:Ii.className},O.a.createElement(ro,{name:"op2",value:a,onChange:this.onChange("op2")}),O.a.createElement(io,{name:"v2",value:r,onChange:this.onChange("v2")}))))),O.a.createElement(or.a,{onClick:this.onClear},se.a.t("Clear min/max limits")))}}]),t}(y.Component),lo=Object(g.connect)((function(e){return{value:ot(e).measureCriteria||""}}),(function(e){return{onChange:function(t){return e(Kn({measureCriteria:t}))}}}))(oo),co=function(){return O.a.createElement(wi,{label:se.a.t("Reporting period"),option:{name:"paramReportingPeriod"}})},so=function(){return O.a.createElement(wi,{label:se.a.t("Organisation unit"),option:{name:"paramOrganisationUnit"}})},uo=function(){return O.a.createElement(wi,{label:se.a.t("Parent organisation unit"),option:{name:"paramParentOrganisationUnit"}})},po=function(){return O.a.createElement(wi,{label:se.a.t("Include regression"),option:{name:"regression"}})},mo=function(){return O.a.createElement(wi,{label:se.a.t("Include cumulative"),option:{name:"cumulative"}})},fo=ne.sortOrder.defaultValue,bo=function(){return O.a.createElement(Di,{toggleable:!0,label:se.a.t("Custom sort order"),option:{name:"sortOrder",defaultValue:fo,items:[{id:"-1",label:se.a.t("Low to high")},{id:"1",label:se.a.t("High to low")},{id:"0",label:se.a.t("None")}]}})},ho=function(){return O.a.createElement(Di,{label:se.a.t("Top limit"),option:{name:"topLimit",items:[{id:"0",label:se.a.t("None")},{id:"5",label:"5"},{id:"10",label:"10"},{id:"20",label:"20"},{id:"50",label:"50"},{id:"100",label:"100"}]}})},yo=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-section-1",content:O.a.Children.toArray([O.a.createElement(_i,null),O.a.createElement(Ti,null)])},{key:"data-display-totals",label:se.a.t("Display totals"),content:O.a.Children.toArray([O.a.createElement(Ni,null),O.a.createElement(Ci,null),O.a.createElement(Pi,null),O.a.createElement(ki,null)])},{key:"data-display-empty-data",label:se.a.t("Display empty data"),content:O.a.Children.toArray([O.a.createElement(Ri,null),O.a.createElement(Li,null)])},{key:"data-advanced",label:se.a.t("Advanced"),content:O.a.Children.toArray([O.a.createElement(Ai,null),O.a.createElement(Ui,null)])}]},{key:"legend-tab",label:se.a.t("Legend"),content:[{key:"legend-section-1",content:O.a.Children.toArray([O.a.createElement(zi,null)])}]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-section-1",content:O.a.Children.toArray([O.a.createElement(Ki,{label:se.a.t("Table title")}),O.a.createElement(Zi,null),O.a.createElement(Ji,null),O.a.createElement($i,null)])}]},{key:"limitValues-tab",label:se.a.t("Limit values"),content:[{key:"limitValues-limit-min-max",label:se.a.t("Limit minimum/maximum values"),content:O.a.Children.toArray([O.a.createElement(lo,null)])}]},{key:"parameters-tab",label:se.a.t("Parameters"),content:[{key:"parameters-section-1",content:O.a.Children.toArray([O.a.createElement(co,null),O.a.createElement(so,null),O.a.createElement(uo,null),O.a.createElement(po,null),O.a.createElement(mo,null),O.a.createElement(bo,null),O.a.createElement(ho,null)])}]}],Oo=function(){return O.a.createElement(wi,{label:se.a.t("Cumulative values"),option:{name:"cumulativeValues"}})},go=function(){return O.a.createElement(wi,{label:se.a.t("Value labels"),option:{name:"showData"}})},Eo=ne.hideEmptyRowItems.defaultValue,vo=function(){return O.a.createElement(Di,{label:se.a.t("Hide empty categories"),toggleable:!0,option:{name:"hideEmptyRowItems",defaultValue:Eo,items:[{id:"NONE",label:se.a.t("None")},{id:"BEFORE_FIRST",label:se.a.t("Before first")},{id:"AFTER_LAST",label:se.a.t("After last")},{id:"BEFORE_FIRST_AFTER_LAST",label:se.a.t("Before first and after last")},{id:"ALL",label:se.a.t("All")}]}})},Io=ne.regressionType.defaultValue,jo=function(){return O.a.createElement(Di,{toggleable:!0,label:se.a.t("Trend line"),option:{name:"regressionType",defaultValue:Io,items:[{id:"NONE",label:se.a.t("None")},{id:"LINEAR",label:se.a.t("Linear")},{id:"POLYNOMIAL",label:se.a.t("Polynomial")},{id:"LOESS",label:se.a.t("Loess")}]}})},So=function(){return O.a.createElement(Xi,{type:"number",width:"72px",label:se.a.t("Value"),placeholder:se.a.t("Number"),option:{name:"targetLineValue"},inline:!0})},xo=function(){return O.a.createElement(Xi,{type:"text",width:"280px",label:se.a.t("Title"),placeholder:se.a.t("Target line title"),option:{name:"targetLineLabel"},inline:!0})},Do=Object(g.connect)((function(e){return{enabled:ot(e).targetLine}}),(function(e){return{onChange:function(t){return e(Kn({targetLine:t}))}}}))((function(e){var t=e.enabled,n=e.onChange;return O.a.createElement("div",{className:Oi.className},O.a.createElement(ji.a,{checked:t,label:se.a.t("Target line"),onChange:function(e){var t=e.checked;return n(t)},dense:!0}),t?O.a.createElement("div",{className:"".concat(vi.className," ").concat(Ii.className)},O.a.createElement(So,null),O.a.createElement(xo,null)):null)})),Ao=function(){return O.a.createElement(Xi,{type:"number",width:"72px",label:se.a.t("Value"),placeholder:se.a.t("Number"),option:{name:"baseLineValue"},inline:!0})},wo=function(){return O.a.createElement(Xi,{type:"text",width:"280px",label:se.a.t("Title"),placeholder:se.a.t("Base line title"),option:{name:"baseLineLabel"},inline:!0})},_o=Object(g.connect)((function(e){return{enabled:ot(e).baseLine}}),(function(e){return{onChange:function(t){return e(Kn({baseLine:t}))}}}))((function(e){var t=e.enabled,n=e.onChange;return O.a.createElement("div",{className:Oi.className},O.a.createElement(ji.a,{checked:t,label:se.a.t("Base line"),name:"baseLine-toggle",onChange:function(e){var t=e.checked;return n(t)},dense:!0}),t?O.a.createElement("div",{className:"".concat(vi.className," ").concat(Ii.className)},O.a.createElement(Ao,null),O.a.createElement(wo,null)):null)})),To=n(23),No=function(){return O.a.createElement(Xi,{type:"number",width:"72px",placeholder:se.a.t("Min"),option:{name:"rangeAxisMinValue"},inline:!0})},Co=function(){return O.a.createElement(Xi,{type:"number",width:"72px",placeholder:se.a.t("Max"),option:{name:"rangeAxisMaxValue"},inline:!0})},Po=function(){return O.a.createElement(no.a,null,O.a.createElement("label",null,se.a.t("Axis range")),O.a.createElement("div",{className:Ii.className},O.a.createElement(No,null),"\xa0\u2013\xa0",O.a.createElement(Co,null)),O.a.createElement(To.a,null,se.a.t("Values outside of the range will not be displayed")))},ko=function(){return O.a.createElement(Xi,{type:"number",width:"72px",helpText:se.a.t("The number of axis steps between the min and max values"),label:se.a.t("Steps"),placeholder:se.a.t("Auto"),option:{name:"rangeAxisSteps"}})},Ro=function(){return O.a.createElement(Xi,{type:"number",width:"72px",label:se.a.t("Decimals"),placeholder:se.a.t("Auto"),option:{name:"rangeAxisDecimals"}})},Lo=ne.rangeAxisLabel.defaultValue,Uo=function(){return O.a.createElement(Xi,{type:"text",width:"280px",label:se.a.t("Axis title"),placeholder:se.a.t("Add a title"),option:{name:"rangeAxisLabel",defaultValue:Lo},toggleable:!0})},Mo=ne.domainAxisLabel.defaultValue,Vo=function(){return O.a.createElement(Xi,{type:"text",width:"280px",label:se.a.t("Axis title"),placeholder:se.a.t("Add a title"),option:{name:"domainAxisLabel",defaultValue:Mo},toggleable:!0})},Yo=function(){return O.a.createElement(wi,{label:se.a.t("No space between bars/columns"),option:{name:"noSpaceBetweenColumns"}})},Bo=function(){return O.a.createElement(wi,{label:se.a.t("Legend key"),option:{name:"hideLegend"}})},Go=n(2359);var Fo=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Object($a.a)(n),"onChange",(function(e){var t=e.value;n.setState({value:t}),n.props.onChange("NONE"===t)})),n.defaultState={value:"AUTO"},n.state=e.value?{value:e.value}:n.defaultState,n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return O.a.createElement("div",{className:Oi.className},O.a.createElement(to.a,null,t===J.VIS_TYPE_PIVOT_TABLE?se.a.t("Table title"):se.a.t("Chart title")),O.a.createElement(Go.a,{name:"hideTitle-selector",onChange:this.onChange,value:e,dense:!0},[{id:"AUTO",label:se.a.t("Auto generated")},{id:"NONE",label:se.a.t("None")},{id:"CUSTOM",label:se.a.t("Custom")}].map((function(e){var t=e.id,n=e.label;return O.a.createElement(Vi.a,{key:t,label:n,value:t,dense:!0})}))),"CUSTOM"===e?O.a.createElement("div",{className:vi.className},O.a.createElement(Ki,{inline:!0})):null)}}]),t}(y.Component),Ho=Object(tr.a)([ot],(function(e){return e.hideTitle?"NONE":void 0===e.title?"AUTO":"CUSTOM"})),zo=Object(g.connect)((function(e){return{visualizationType:it(e),value:Ho(e)}}),(function(e){return{onChange:function(t){return e(Kn({hideTitle:t}))}}}))(Fo),Wo=function(){return O.a.createElement(Xi,{type:"text",width:"280px",placeholder:se.a.t("Add a subtitle"),option:{name:"subtitle"}})};var qo=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Object($a.a)(n),"onChange",(function(e){var t=e.value;n.setState({value:t}),n.props.onChange("NONE"===t)})),n.defaultState={value:"NONE"},n.state=e.value?{value:e.value}:n.defaultState,n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.state.value,t=this.props.visualizationType;return O.a.createElement("div",{className:Oi.className},O.a.createElement(to.a,null,t===J.VIS_TYPE_PIVOT_TABLE?se.a.t("Table subtitle"):se.a.t("Chart subtitle")),O.a.createElement(Go.a,{name:"hideSubtitle-selector",onChange:this.onChange,value:e,dense:!0},[{id:"NONE",label:se.a.t("None")},{id:"CUSTOM",label:se.a.t("Custom")}].map((function(e){var t=e.id,n=e.label;return O.a.createElement(Vi.a,{key:t,label:n,value:t,dense:!0})}))),"CUSTOM"===e?O.a.createElement("div",{className:vi.className},O.a.createElement(Wo,{inline:!0})):null)}}]),t}(y.Component),Xo=Object(g.connect)((function(e){return{visualizationType:it(e),value:ot(e).hideSubtitle?"NONE":"CUSTOM"}}),(function(e){return{onChange:function(t){return e(Kn({hideSubtitle:t}))}}}))(qo),Qo=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-display",label:se.a.t("Display"),content:O.a.Children.toArray([O.a.createElement(Oo,null),O.a.createElement(vo,null),O.a.createElement(bo,null)])},{key:"data-lines",label:se.a.t("Lines"),content:O.a.Children.toArray([O.a.createElement(jo,null),O.a.createElement(Do,null),O.a.createElement(_o,null)])},{key:"data-advanced",label:se.a.t("Advanced"),content:O.a.Children.toArray([O.a.createElement(Ai,null)])}]},{key:"axes-tab",label:se.a.t("Axes"),content:[{key:"axes-vertical-axis",label:se.a.t("Vertical (y) axis"),content:O.a.Children.toArray([O.a.createElement(Uo,null),O.a.createElement(Po,null),O.a.createElement(ko,null),O.a.createElement(Ro,null)])},{key:"axes-horizontal-axis",label:se.a.t("Horizontal (x) axis"),content:O.a.Children.toArray([O.a.createElement(Vo,null)])}]},{key:"colors-legends",label:se.a.t("Colors & Legends"),content:[]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-chart-style",label:se.a.t("Chart style"),content:O.a.Children.toArray([O.a.createElement(go,null),O.a.createElement(Yo,null),O.a.createElement(Bo,null)])},{key:"style-titles",label:se.a.t("Titles"),content:O.a.Children.toArray([O.a.createElement(zo,null),O.a.createElement(Xo,null)])}]}],Ko=function(){return O.a.createElement(wi,{label:se.a.t("Stacked values add up to 100%"),option:{name:"percentStackedValues"}})},Zo=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-display",label:se.a.t("Display"),content:O.a.Children.toArray([O.a.createElement(go,null),O.a.createElement(Ko,null),O.a.createElement(Oo,null),O.a.createElement(vo,null),O.a.createElement(bo,null)])},{key:"data-lines",label:se.a.t("Lines"),content:O.a.Children.toArray([O.a.createElement(jo,null),O.a.createElement(Do,null),O.a.createElement(_o,null)])},{key:"data-advanced",label:se.a.t("Advanced"),content:O.a.Children.toArray([O.a.createElement(Ai,null)])}]},{key:"axes-tab",label:se.a.t("Axes"),content:[{key:"axes-vertical-axis",label:se.a.t("Vertical (y) axis"),content:O.a.Children.toArray([O.a.createElement(Uo,null),O.a.createElement(Po,null),O.a.createElement(ko,null),O.a.createElement(Ro,null)])},{key:"axes-horizontal-axis",label:se.a.t("Horizontal (x) axis"),content:O.a.Children.toArray([O.a.createElement(Vo,null)])}]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-chart-style",label:se.a.t("Chart style"),content:O.a.Children.toArray([O.a.createElement(Yo,null),O.a.createElement(Bo,null)])},{key:"style-titles",label:se.a.t("Titles"),content:O.a.Children.toArray([O.a.createElement(zo,null),O.a.createElement(Xo,null)])}]}],Jo=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-section-1",content:O.a.Children.toArray([O.a.createElement(go,null),O.a.createElement(Oo,null),O.a.createElement(vo,null),O.a.createElement(jo,null),O.a.createElement(Do,null),O.a.createElement(_o,null),O.a.createElement(bo,null),O.a.createElement(Ai,null)])}]},{key:"axes-tab",label:se.a.t("Axes"),content:[{key:"axes-section-1",content:O.a.Children.toArray([O.a.createElement(No,null),O.a.createElement(Co,null),O.a.createElement(ko,null),O.a.createElement(Ro,null),O.a.createElement(Uo,null),O.a.createElement(Vo,null)])}]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-section-1",content:O.a.Children.toArray([O.a.createElement(Bo,null),O.a.createElement(Ki,null),O.a.createElement(zo,null),O.a.createElement(Wo,null),O.a.createElement(Xo,null)])}]}],$o=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-section-1",content:O.a.Children.toArray([O.a.createElement(go,null),O.a.createElement(Ko,null),O.a.createElement(Oo,null),O.a.createElement(vo,null),O.a.createElement(jo,null),O.a.createElement(Do,null),O.a.createElement(_o,null),O.a.createElement(bo,null),O.a.createElement(Ai,null)])}]},{key:"axes-tab",label:se.a.t("Axes"),content:[{key:"axes-section-1",content:O.a.Children.toArray([O.a.createElement(No,null),O.a.createElement(Co,null),O.a.createElement(ko,null),O.a.createElement(Ro,null),O.a.createElement(Uo,null),O.a.createElement(Vo,null)])}]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-section-1",content:O.a.Children.toArray([O.a.createElement(Bo,null),O.a.createElement(Ki,null),O.a.createElement(zo,null),O.a.createElement(Wo,null),O.a.createElement(Xo,null)])}]}],el=[{key:"data-tab",label:se.a.t("Data"),content:[{key:"data-advanced",label:se.a.t("Advanced"),content:O.a.Children.toArray([O.a.createElement(Ai,null)])}]},{key:"style-tab",label:se.a.t("Style"),content:[{key:"style-titles",label:se.a.t("Titles"),content:O.a.Children.toArray([O.a.createElement(zo,null),O.a.createElement(Xo,null)])}]}];function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),tl(Object($a.a)(n),"state",{activeTabKey:void 0}),tl(Object($a.a)(n),"selectTab",(function(e){n.setState({activeTabKey:e})})),tl(Object($a.a)(n),"generateTabContent",(function(e){return e.map((function(e){var t=e.key,n=e.label,a=e.content;return O.a.createElement("div",{key:t,className:hi.className},O.a.createElement(si.a,null,n?O.a.createElement(ui.a,null,O.a.createElement("span",{className:yi.className},n)):null,a))}))})),tl(Object($a.a)(n),"generateTabs",(function(e){return e.map((function(e){var t=e.key,a=e.label,r=e.content;return{key:t,label:a,content:n.generateTabContent(r)}}))})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this,t=function(e){switch(e){case J.VIS_TYPE_COLUMN:case J.VIS_TYPE_BAR:case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return Qo;case J.VIS_TYPE_STACKED_COLUMN:case J.VIS_TYPE_STACKED_BAR:return Zo;case J.VIS_TYPE_LINE:case J.VIS_TYPE_RADAR:return Jo;case J.VIS_TYPE_AREA:return $o;case J.VIS_TYPE_PIE:case J.VIS_TYPE_GAUGE:case J.VIS_TYPE_SINGLE_VALUE:return el;case J.VIS_TYPE_PIVOT_TABLE:return yo;default:return Zo}}(this.props.visualizationType),n=this.generateTabs(t),a=n.findIndex((function(t){return t.key===e.state.activeTabKey}));return a<0&&(a=0),O.a.createElement(y.Fragment,null,O.a.createElement("div",{className:bi.className},O.a.createElement(di.a,null,n.map((function(t,n){var r=t.key,i=t.label;return O.a.createElement(pi.a,{key:r,onClick:function(){return e.selectTab(r)},selected:n===a},i)}))),bi.styles),n[a].content,hi.styles,yi.styles,Oi.styles,gi.styles,vi.styles,Ii.styles,Ei.styles)}}]),t}(y.Component),al=Object(g.connect)((function(e){return{visualizationType:it(e)}}))(nl);function rl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var il=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),rl(Object($a.a)(n),"onClose",(function(){n.toggleVisualizationOptionsDialog()})),rl(Object($a.a)(n),"toggleVisualizationOptionsDialog",(function(){n.setState({dialogIsOpen:!n.state.dialogIsOpen})})),rl(Object($a.a)(n),"getPrimaryOnClick",(function(e){return function(){e(),n.onClose()}})),n.state={dialogIsOpen:!1},n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this;return O.a.createElement(y.Fragment,null,O.a.createElement(sr.a,{className:this.props.className,onClick:this.toggleVisualizationOptionsDialog},se.a.t("Options")),this.state.dialogIsOpen&&O.a.createElement(Fr.a,{onClose:this.onClose,large:!0},O.a.createElement(Hr.a,null,se.a.t("Options")),O.a.createElement(zr.a,null,O.a.createElement(al,null)),O.a.createElement(Wr.a,null,O.a.createElement(qr.a,null,O.a.createElement(Xr,{onClick:this.onClose}),O.a.createElement(ci,{renderComponent:function(t){return O.a.createElement(lr,{onClick:e.getPrimaryOnClick(t)})}})))))}}]),t}(y.Component),ol=function(e){var t="/".concat(e);L.location.pathname===t?L.replace(t):L.push(t)},ll=function(){return L.push("/")},cl=function(e){return function(t){return e.onRenameVisualization(t,!1)}},sl=function(e){return function(t){return e.onSaveVisualization(t,!1)}},ul=function(e){return function(t){return e.onSaveVisualization(t,!0)}},dl=function(e){return function(){return e.onDeleteVisualization()}},pl=function(e){return function(t){return e.onError(t)}},ml=function(e,t){var n=e.classes,a=Object(S.a)(e,["classes"]);return O.a.createElement("div",{className:n.menuBar},O.a.createElement(ci,{renderComponent:function(e){return O.a.createElement(lr,{className:n.updateButton,small:!0,onClick:e})}}),O.a.createElement(ir.a,{d2:t.d2,fileId:a.id||null,fileType:a.apiObjectName,onOpen:ol,onNew:ll,onRename:cl(a),onSave:sl(a),onSaveAs:ul(a),onDelete:dl(a),onError:pl(a)}),O.a.createElement(il,{className:n.label}),O.a.createElement(Ur,{className:n.label}),O.a.createElement("div",{className:n.grow}),O.a.createElement(Gr,{className:n.label}))};ml.contextTypes={d2:ar.a.object};var fl=Object(g.connect)((function(e){return{id:(Bt(e)||{}).id}}),(function(e,t){return{onRenameVisualization:function(n){return e(function(e,t){var n=t.name,a=t.description;return function(e,t){var r=t(),i=K(r),o=Bt(r),l=Na({},i),c=Na({},o);n&&(l.name=c.name=n),a&&(l.description=c.description=a),e(Ln(l)),e(Mn(i===o?l:c)),e(Ia({message:se.a.t("Rename successful"),open:!0,duration:2e3}))}}(t.apiObjectName,n))},onSaveVisualization:function(n,a){return e(function(e,t,n){var a=t.name,r=t.description;return function(){var t=Object(w.a)(A.a.mark((function t(i,o,l){var c,s;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(e){"OK"===e.status&&e.response.uid&&(n?L.push("/".concat(e.response.uid)):L.replace("/".concat(e.response.uid)))},t.prev=1,s=Na({},Bt(o())),n&&delete s.id,a&&(s.name=a),r&&(s.description=r),t.t0=c,t.next=9,Rn(l,e,s);case 9:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 13:return t.prev=13,t.t2=t.catch(1),t.abrupt("return",Ca("tDoSaveVisualization",t.t2));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,n,a){return t.apply(this,arguments)}}()}(t.apiObjectName,n,a))},onDeleteVisualization:function(){return e((function(e,t){var n=Bt(t());e(Ia({message:se.a.t('"{{what}}" successfully deleted.',{what:n.name}),open:!0,duration:2e3})),L.push("/")}))},onError:function(t){var n=function(e){var t=e.message,n=e.httpStatusCode;return{message:t,type:String(n).match(/50\d/)?"error":"warning"}}(t),a=n.type,r=n.message;e(h.acReceivedSnackbarMessage({variant:a,message:r,open:!0}))}}}))(Object(v.withStyles)((function(e){return{menuBar:{background:Ra.a.white,display:"flex",alignItems:"center",padding:"0 ".concat(e.spacing.unit,"px"),height:"38px"},updateButton:{marginRight:e.spacing.unit},label:{fontSize:"15px",fontWeight:400,textTransform:"none"},grow:{flex:"1 1 0%"}}}))(ml)),bl=n(2116),hl=function(){return O.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{id:"2---Home-+-Selected-Intp.",transform:"translate(-522.000000, -169.000000)"},O.a.createElement("rect",{fill:"#F4F6F8",x:"0",y:"0",width:"1280",height:"850"}),O.a.createElement("g",{id:"title-area",transform:"translate(298.000000, 165.000000)"},O.a.createElement("g",{id:"name-badge",transform:"translate(220.000000, 0.000000)"},O.a.createElement("rect",{id:"Rectangle-4",fill:"#FFFFFF",opacity:"0.700613839",x:"0",y:"0",width:"260",height:"24",rx:"4"}),O.a.createElement("g",{id:"undo",transform:"translate(4.000000, 4.000000)"},O.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),O.a.createElement("polyline",{id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round",points:"2.375 2.374 2.375 6.124 6.125 6.124"}),O.a.createElement("path",{d:"M8,13.624 C10.8610015,13.6256787 13.2674888,11.4795583 13.5919996,8.63701982 C13.9165103,5.79448132 12.0556517,3.16119082 9.2678875,2.51799333 C6.48012327,1.87479584 3.65366782,3.42662163 2.7,6.124",id:"Path",stroke:"#494949",strokeLinecap:"round",strokeLinejoin:"round"}),O.a.createElement("path",{d:"M9,7.29289322 L11.1819805,9.47487373 C11.3772427,9.67013588 11.3772427,9.98671837 11.1819805,10.1819805 C10.9867184,10.3772427 10.6701359,10.3772427 10.4748737,10.1819805 L8.01023174,7.71733852 L8,7.7144165 L8,5.5 C8,5.22385763 8.22385763,5 8.5,5 C8.77614237,5 9,5.22385763 9,5.5 L9,7.29289322 Z",id:"Combined-Shape",fill:"#494949"})))))))},yl={titleBar:{display:"flex",justifyContent:"center"},cell:{display:"flex",alignItems:"center",background:Ra.a.white,padding:"6px",borderRadius:"5px",margin:"4px"},title:{fontSize:"14px"},suffix:{paddingLeft:"4px"},interpretation:{fontSize:"12px",color:Ra.a.grey700},interpretationIcon:{display:"flex",alignItems:"center",height:"14px",width:"14px",marginRight:"3px"},titleUnsaved:{color:Ra.a.grey500,fontStyle:"italic"},titleDirty:{color:Ra.a.grey700}};function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var El=se.a.t("Unsaved chart"),vl=se.a.t("Edited"),Il=gl({},yl.cell,{},yl.title),jl=gl({},yl.cell,{},yl.interpretation),Sl=function(e,t){switch(e){case"UNSAVED":return El;case"SAVED":case"DIRTY":return t.name;default:return""}},xl=Object(g.connect)((function(e){return{visualization:K(e),current:Bt(e),interpretation:ft(e),uiLocale:fn(e)}}),null,(function(e,t,n){var a=e.visualization,r=e.current,i=e.interpretation,o=e.uiLocale,l=function(e,t){return t===Mt?"EMPTY":e===X?"UNSAVED":t===e?"SAVED":"DIRTY"}(a,r);return gl({},t,{},n,{titleState:l,titleText:Sl(l,a),interpretationDate:i&&i.created?Object(bl.a)(i.created,o):null})}))((function(e){var t=e.titleState,n=e.titleText,a=e.interpretationDate,r=gl({},Il,{},function(e){switch(e){case"UNSAVED":return yl.titleUnsaved;default:return null}}(t));return n?O.a.createElement("div",{"data-test":"chart-title",style:yl.titleBar},O.a.createElement("div",{style:r},n,function(e){switch(e){case"DIRTY":return O.a.createElement("div",{style:gl({},yl.suffix,{},yl.titleDirty)},"- ".concat(vl));default:return""}}(t)),a&&O.a.createElement("div",{style:jl},O.a.createElement("div",{style:yl.interpretationIcon},O.a.createElement(hl,null)),O.a.createElement("div",null,se.a.t("Viewing interpretation from {{interpretationDate}}",{interpretationDate:a})))):null})),Dl=n(997),Al=n.n(Dl);function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tl=function(e,t){if(void 0!==t[e.id])return""===t[e.id]?"/"+e.id:"/"+t[e.id]+"/"+e.id},Nl=function(e,t,n){return function(e,t){var n=t.parentGraphMap;return _l({},e,{parentGraphMap:_l({},e.parentGraphMap,{},n)})}(function(e,t){var n=Object(J.layoutGetAxisIdDimensionIdsObject)(e),a=fe(n)[J.DIMENSION_ID_ORGUNIT],r=t.parentGraphMap;return a?_l({},e,Object(x.a)({},a,e[a].map((function(e){return _l({},e,{items:e.items.map((function(e){return _l({},e,{path:Tl(e,r)})}))})})))):e}(function(e,t){var n=function(e){return _l({},e,{items:e.items.map((function(e){return _l({},e,{name:t[e.id]?t[e.id].name:void 0})}))})};return _l({},e,{columns:e.columns.map(n),filters:e.filters.map(n),rows:e.rows.map(n)})}(function(e){return _l({},e,{id:void 0,name:void 0,displayName:void 0})}(e),t),n),n)},Cl=n(743),Pl=n.n(Cl),kl=n(858),Rl=n.n(kl),Ll=n(859),Ul=n.n(Ll),Ml=n(255),Vl=n.n(Ml),Yl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),O.a.createElement("rect",{fill:"#1976D2",x:"20",y:"24",width:"10",height:"22"}),O.a.createElement("rect",{fill:"#004BA0",x:"36",y:"4",width:"10",height:"42"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},Bl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("rect",{fill:"#63A4FF",x:"6",y:"14",width:"10",height:"32"}),O.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(11.000000, 16.500000) scale(1, -1) translate(-11.000000, -16.500000) ",x:"6",y:"7",width:"10",height:"19"}),O.a.createElement("rect",{fill:"#1976D2",x:"20",y:"20",width:"10",height:"26"}),O.a.createElement("rect",{fill:"#63A4FF",transform:"translate(25.000000, 15.500000) scale(1, -1) translate(-25.000000, -15.500000) ",x:"20",y:"11",width:"10",height:"9"}),O.a.createElement("rect",{fill:"#004BA0",x:"36",y:"33",width:"10",height:"13"}),O.a.createElement("rect",{fill:"#1976D2",transform:"translate(41.000000, 23.500000) scale(1, -1) translate(-41.000000, -23.500000) ",x:"36",y:"14",width:"10",height:"19"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},Gl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),O.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),O.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},Fl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("rect",{fill:"#63A4FF",x:"2",y:"4",width:"17",height:"10"}),O.a.createElement("rect",{fill:"#9EC6FF",transform:"translate(23.500000, 9.000000) scale(-1, 1) translate(-23.500000, -9.000000) ",x:"19",y:"4",width:"9",height:"10"}),O.a.createElement("rect",{fill:"#1976D2",x:"2",y:"18",width:"34",height:"10"}),O.a.createElement("rect",{fill:"#63A4FF",x:"13",y:"18",width:"23",height:"10"}),O.a.createElement("rect",{fill:"#004BA0",x:"2",y:"32",width:"40",height:"10"}),O.a.createElement("rect",{fill:"#1976D2",x:"33",y:"32",width:"9",height:"10"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"})))},Hl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("defs",null,O.a.createElement("mask",{id:"mask-4",fill:"white"},O.a.createElement("circle",{cx:"24",cy:"24",r:"24"}))),O.a.createElement("g",{stroke:"none",strokeWidth:"0",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{transform:"translate(24.000000, 24.000000) rotate(-135.000000) translate(-24.000000, -24.000000) "},O.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"30.17142857142857,240",mask:"url(#mask-4)",strokeWidth:"48"},O.a.createElement("path",{stroke:"#63A4FF",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),O.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"82.97142857142858,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-72.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},O.a.createElement("path",{stroke:"#1976D2",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})),O.a.createElement("g",{stroke:"none",fill:"none",strokeDasharray:"37.71428571428572,240",mask:"url(#mask-4)",transform:"translate(24.000000, 24.000000) rotate(-270.000000) translate(-24.000000, -24.000000) ",strokeWidth:"48"},O.a.createElement("path",{stroke:"#004BA0",d:"M24 48C37.254834 48 48 37.254834 48 24 48 10.745166 37.254834 0 24 0 10.745166 0 0 10.745166 0 24 0 37.254834 10.745166 48 24 48Z"})))))},zl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{transform:"translate(0.000000, -12.000000)"},O.a.createElement("path",{d:"M2,36 C2,23.8497355 11.8497355,14 24,14 C36.1502645,14 46,23.8497355 46,36 L48,36 C48,22.745166 37.254834,12 24,12 C10.745166,12 0,22.745166 0,36 L2,36 Z",fill:"#9E9E9E",fillRule:"nonzero"}),O.a.createElement("path",{d:"M39.5630877,20.4405157 C39.0656993,19.9377314 38.5441136,19.4570095 38,19 C34.2678935,15.9151064 29.3575953,14 24,14 C11.8497355,14 2,23.8497355 2,36 L8,36 C8,27.163444 15.163444,20 24,20 C27.7876065,20 31.3827316,21.3146632 34.1773496,23.6246453 C34.5775703,23.9608232 34.9595684,24.3130995 35.3225781,24.6801975 L39.5630877,20.4405157 Z",fill:"#63A4FF",fillRule:"nonzero"}))))},Wl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",null,O.a.createElement("mask",{id:"mask-2",fill:"white"},O.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),O.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},ql=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",null,O.a.createElement("mask",{id:"mask-2",fill:"white"},O.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),O.a.createElement("g",null),O.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",fill:"#63A4FF",mask:"url(#mask-2)",points:"4 28 16 16 26.7935166 26.7935166 33.0558406 20.5311926 53 36 53 51 0 51 0 28"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},Xl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"23"}),O.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"15"}),O.a.createElement("circle",{stroke:"#9E9E9E",strokeWidth:"2",cx:"24",cy:"24",r:"5"}),O.a.createElement("circle",{fill:"#1976D2",cx:"24",cy:"9",r:"2"}),O.a.createElement("circle",{fill:"#1976D2",cx:"11",cy:"31",r:"2"}),O.a.createElement("circle",{fill:"#63A4FF",cx:"24",cy:"39",r:"2"}),O.a.createElement("circle",{fill:"#004BA0",cx:"39",cy:"24",r:"2"}),O.a.createElement("circle",{fill:"#004BA0",cx:"40",cy:"40",r:"2"})))},Ql=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",null,O.a.createElement("mask",{id:"mask-2",fill:"white"},O.a.createElement("rect",{x:"0",y:"0",width:"48",height:"48"})),O.a.createElement("polygon",{stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"1 28 10 35 18 16 34 35 50 36 50 51 -3 51 -3 28"}),O.a.createElement("polygon",{stroke:"#004BA0",strokeWidth:"2",mask:"url(#mask-2)",points:"1 20 8 20 19 29 36 17 50 28 50 51 -3 51 -3 20"}),O.a.createElement("polygon",{stroke:"#63A4FF",strokeWidth:"2",mask:"url(#mask-2)",points:"1 35 19 39 28 31 38 28 50 43 50 66 -3 66 -3 35"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"0",width:"2",height:"48"}),O.a.createElement("rect",{fill:"#9E9E9E",x:"0",y:"46",width:"48",height:"2"}))))},Kl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",null,O.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),O.a.createElement("polygon",{fill:"#63A4FF",points:"6 14 11 14 11 46 6 46"}),O.a.createElement("polygon",{fill:"#63A4FF",points:"20 23 25 23 25 46 20 46"}),O.a.createElement("polygon",{fill:"#63A4FF",points:"34 30 39 30 39 46 34 46"}),O.a.createElement("polygon",{fill:"#004BA0",points:"11 26 16 26 16 46 11 46"}),O.a.createElement("polygon",{fill:"#004BA0",points:"25 16 30 16 30 46 25 46"}),O.a.createElement("polygon",{fill:"#004BA0",points:"39 9 44 9 44 46 39 46"}),O.a.createElement("polygon",{fill:"#9E9E9E",points:"0 0 2 0 2 48 0 48"}),O.a.createElement("polygon",{fill:"#9E9E9E",points:"0 46 48 46 48 48 0 48"}))))},Zl=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("path",{d:"M45,9.59a2,2,0,0,1,2,2v25a2,2,0,0,1-2,2H3a2,2,0,0,1-2-2v-25a2,2,0,0,1,2-2H45m0-1H3a3,3,0,0,0-3,3v25a3,3,0,0,0,3,3H45a3,3,0,0,0,3-3v-25a3,3,0,0,0-3-3Z",fill:"#9e9e9e"}),O.a.createElement("path",{d:"M13.06,31H10.82V20.16L7.51,21.29V19.4l5.26-1.94h.29Z",fill:"#1976d2"}),O.a.createElement("path",{d:"M27,31H18V29.46l4.5-4.91a10.45,10.45,0,0,0,1.38-1.81,2.91,2.91,0,0,0,.42-1.46,2.2,2.2,0,0,0-.55-1.56,1.86,1.86,0,0,0-1.46-.59,2.2,2.2,0,0,0-1.7.66,2.65,2.65,0,0,0-.6,1.83H17.69a4.36,4.36,0,0,1,.56-2.22,3.9,3.9,0,0,1,1.6-1.54,5.19,5.19,0,0,1,2.41-.54,4.54,4.54,0,0,1,3.1,1A3.41,3.41,0,0,1,26.5,21a4.66,4.66,0,0,1-.57,2.12,11.88,11.88,0,0,1-1.87,2.52l-3.3,3.53H27Z",fill:"#1976d2"}),O.a.createElement("path",{d:"M32.68,23.23h1.38a2.47,2.47,0,0,0,1.64-.54,1.9,1.9,0,0,0,.61-1.53,2.1,2.1,0,0,0-.51-1.5,2,2,0,0,0-1.54-.53,2.13,2.13,0,0,0-1.49.52A1.76,1.76,0,0,0,32.18,21H29.93a3.39,3.39,0,0,1,.55-1.89A3.74,3.74,0,0,1,32,17.79a5.15,5.15,0,0,1,2.21-.47,4.68,4.68,0,0,1,3.18,1,3.57,3.57,0,0,1,1.15,2.83A2.87,2.87,0,0,1,38,22.87a3.53,3.53,0,0,1-1.49,1.21,3.28,3.28,0,0,1,1.69,1.2,3.24,3.24,0,0,1,.58,1.95,3.63,3.63,0,0,1-1.25,2.89,4.82,4.82,0,0,1-3.28,1.08,4.82,4.82,0,0,1-3.19-1,3.44,3.44,0,0,1-1.24-2.77h2.25a1.88,1.88,0,0,0,.6,1.45,2.29,2.29,0,0,0,1.61.56,2.34,2.34,0,0,0,1.65-.56,2.09,2.09,0,0,0,.6-1.61,2.13,2.13,0,0,0-.63-1.65A2.7,2.7,0,0,0,34,25H32.68Z",fill:"#1976d2"}))},Jl=function(e){var t=e.style,n=void 0===t?{width:24,height:24,paddingRight:"8px"}:t;return O.a.createElement(Vl.a,{viewBox:"0 0 48 48",style:n},O.a.createElement("title",null,"icon_chart_GIS"),O.a.createElement("desc",null,"Created with Sketch."),O.a.createElement("defs",null,O.a.createElement("rect",{id:"path-1",x:"0",y:"0",width:"48",height:"48"})),O.a.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{id:"Icon/48x48/chart_GIS"},O.a.createElement("g",{id:"icon_chart_GIS"},O.a.createElement("mask",{id:"mask-2",fill:"white"},O.a.createElement("use",{xlinkHref:"#path-1"})),O.a.createElement("g",{id:"Bounds"}),O.a.createElement("circle",{id:"Oval-4",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",cx:"24",cy:"24",r:"23"}),O.a.createElement("polyline",{id:"Path-6",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"1 21 4 24 8 26 9 24 6 19 11 18 18 12 14 9 16 6 15 3"}),O.a.createElement("polyline",{id:"Path-7",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"47 25 45 21 43 19 40 18 37 18 34 17 32 18 30 23 33 27 37 27 38 30 38 38 38.5 42"}),O.a.createElement("polyline",{id:"Path-5",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"38 6 37 7 34 6 32 8 34 10 33 12 33 15 37 14 39 15 43 12"}),O.a.createElement("polyline",{id:"Path-8",stroke:"#1976D2",strokeWidth:"2",mask:"url(#mask-2)",points:"18 46 16 41 15 36 13 34 10 31 11 28 14 26 18 27 20 29 23 30 25 32 25 36 23 40 21 47"})))))},$l=function(e){var t=e.style,n=void 0===t?{paddingRight:"8px",width:24,height:24}:t;return O.a.createElement(Vl.a,{viewBox:"0,0,48,48",style:n},O.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("polygon",{points:"0 0 48 0 48 48 0 48"}),O.a.createElement("rect",{stroke:"#4A5768",strokeWidth:"2",x:"7",y:"11",width:"34",height:"26"}),O.a.createElement("rect",{fill:"#4A5768",x:"8",y:"18",width:"32",height:"2"}),O.a.createElement("rect",{fill:"#4A5768",x:"19",y:"11",width:"2",height:"26"}),O.a.createElement("rect",{fill:"#4A5768",x:"8",y:"24",width:"32",height:"2"}),O.a.createElement("rect",{fill:"#4A5768",x:"8",y:"30",width:"32",height:"2"})))},ec=function(e){var t=e.iconType,n=e.style;switch(t){case J.VIS_TYPE_STACKED_COLUMN:return O.a.createElement(Bl,{style:n});case J.VIS_TYPE_BAR:return O.a.createElement(Gl,{style:n});case J.VIS_TYPE_STACKED_BAR:return O.a.createElement(Fl,{style:n});case J.VIS_TYPE_PIE:return O.a.createElement(Hl,{style:n});case J.VIS_TYPE_GAUGE:return O.a.createElement(zl,{style:n});case J.VIS_TYPE_LINE:return O.a.createElement(Wl,{style:n});case J.VIS_TYPE_AREA:return O.a.createElement(ql,{style:n});case J.VIS_TYPE_RADAR:return O.a.createElement(Xl,{style:n});case J.VIS_TYPE_YEAR_OVER_YEAR_LINE:return O.a.createElement(Ql,{style:n});case J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN:return O.a.createElement(Kl,{style:n});case J.VIS_TYPE_SINGLE_VALUE:return O.a.createElement(Zl,{style:n});case"MAP":return O.a.createElement(Jl,{style:n});case J.VIS_TYPE_PIVOT_TABLE:return O.a.createElement($l,{style:n});case J.VIS_TYPE_COLUMN:default:return O.a.createElement(Yl,{style:n})}},tc=function(e){var t=e.iconType,n=e.styles,a=e.label,r=e.isSelected,i=Object(S.a)(e,["iconType","styles","label","isSelected"]);return O.a.createElement(Pl.a,Object.assign({selected:Boolean(r),style:n.menuItem,disableRipple:!0},i),O.a.createElement(Rl.a,{style:n.listItemIcon},O.a.createElement(ec,{iconType:t,style:n.listItemSvg})),O.a.createElement(Ul.a,{primary:a,disableTypography:!0,style:n.listItemText}))},nc={button:{padding:"6px",color:Ra.a.black,fontSize:"15px",textTransform:"none",fontWeight:"normal",backgroundColor:Ra.a.white,justifyContent:"flex-start"},dropDownArrow:{marginLeft:"auto"},menu:{maxWidth:"600px",padding:0},menuDivider:{border:"none",borderBottom:"1px solid",borderColor:Ra.a.grey300},menuItem:{height:120,width:126,margin:"8px",padding:"0 4px",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"8px",float:"left"},listItemIcon:{margin:0,marginBottom:15},listItemSvg:{width:48,height:48},listItemText:{fontSize:14,flex:"none",padding:0,whiteSpace:"normal",textAlign:"center"},clearFix:{clear:"both"}};function ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rc="dhis-web-maps",ic={anchorEl:null},oc=function(e){function t(e,n){var a;return Object(Qa.a)(this,t),a=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),ac(Object($a.a)(a),"handleButtonClick",(function(e){a.setState({anchorEl:e.currentTarget})})),ac(Object($a.a)(a),"handleMenuItemClick",(function(e){return function(){a.props.onTypeSelect(e),a.handleClose()}})),ac(Object($a.a)(a),"handleOpenAsMapClick",Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Nl(a.props.current,a.props.metadata,a.props.ui),e.next=3,ii(t);case 3:window.location.href="".concat(a.baseUrl,"/").concat(rc,"?").concat(ei,"=true");case 4:case"end":return e.stop()}}),e)})))),ac(Object($a.a)(a),"handleClose",(function(){a.setState({anchorEl:null})})),ac(Object($a.a)(a),"getVisTypes",(function(){return Object.keys(J.visTypeDisplayNames)})),a.state=ic,a.baseUrl=n.baseUrl,a}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,n=this.props.visualizationType;return O.a.createElement(y.Fragment,null,O.a.createElement(sr.a,{onClick:this.handleButtonClick,disableRipple:!0,disableFocusRipple:!0,fullWidth:!0,size:"small",style:nc.button},O.a.createElement(ec,{iconType:n}),J.visTypeDisplayNames[n],O.a.createElement(Al.a,{style:nc.dropDownArrow})),O.a.createElement(mr.a,{open:Boolean(t),anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},onClose:this.handleClose,getContentAnchorEl:null,MenuListProps:{style:nc.menu}},this.getVisTypes().map((function(t){return O.a.createElement(tc,{key:t,iconType:t,label:J.visTypeDisplayNames[t],isSelected:t===n,styles:nc,onClick:e.handleMenuItemClick(t)})})),O.a.createElement("div",{style:nc.clearFix}),O.a.createElement("hr",{style:nc.menuDivider}),O.a.createElement(tc,{key:"MAP",iconType:"MAP",label:se.a.t("Open as Map"),styles:nc,onClick:this.handleOpenAsMapClick,disabled:!this.props.current})))}}]),t}(y.Component);oc.contextTypes={baseUrl:ar.a.string};var lc=Object(g.connect)((function(e){return{visualizationType:it(e),current:Bt(e),metadata:nn(e),ui:rt(e)}}),(function(e){return{onTypeSelect:function(t){return e(Qn(t))}}}))(oc),cc=n(1056),sc=n(612),uc=n(286),dc=n.n(uc),pc=n(287),mc=n.n(pc),fc=n(2117),bc=n.n(fc),hc={arrowDown:{borderRadius:"0px 2px 2px 0px",padding:"0px",height:"36px",minWidth:"40px"},arrowIcon:{fill:Ra.a.white}},yc=Object(v.withStyles)(hc)((function(e){var t=e.classes,n=e.onClick,a=e.open;return O.a.createElement(sr.a,{className:t.arrowDown,color:"primary",variant:"contained",disableRipple:!0,disableFocusRipple:!0,onClick:n},a?O.a.createElement(bc.a,{className:t.arrowIcon}):O.a.createElement(Al.a,{className:t.arrowIcon}))})),Oc=function(e){var t=e.anchorEl,n=e.classes,a=e.onClick,r=e.onClose,i=e.menuItems,o=e.addToButtonRef.offsetWidth-5,l=t&&t.getBoundingClientRect().bottom+100>window.innerHeight,c=l?{vertical:"top",horizontal:"right"}:{vertical:"bottom",horizontal:"right"},s=l?{vertical:"bottom",horizontal:"right"}:{vertical:"top",horizontal:"right"};return O.a.createElement(y.Fragment,null,O.a.createElement(yc,{onClick:a,open:Boolean(t)}),O.a.createElement(mr.a,{open:Boolean(t),onClose:r,anchorEl:t,getContentAnchorEl:null,MenuListProps:{style:{minWidth:o},className:n.menuList},anchorOrigin:c,transformOrigin:s},i))};Oc.defaultProps={anchorEl:null};var gc=Object(v.withStyles)({menuList:{display:"flex",flexDirection:"column"}})(Oc);function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vc=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),Ec(Object($a.a)(n),"state",{anchorEl:null}),Ec(Object($a.a)(n),"onClose",(function(){return n.setState({anchorEl:null})})),Ec(Object($a.a)(n),"onToggle",(function(e){return n.state.anchorEl?n.onClose():n.setState({anchorEl:e.currentTarget})})),Ec(Object($a.a)(n),"onUpdate",(function(e){n.props.onAddDimension(Object(x.a)({},n.props.dialogId,e)),n.props.onClick()})),Ec(Object($a.a)(n),"getAxisMeta",(function(e){return e.map((function(e){return de.find((function(t){return t.axisId===e}))}))})),Ec(Object($a.a)(n),"renderMenuItems",(function(){return n.getAxisMeta(Object(J.getAvailableAxes)(n.props.visType)).slice(1).map((function(e){return O.a.createElement(sr.a,{className:n.props.classes.menuItem,component:"li",key:e.axisId,onClick:function(){return n.onUpdate(e.axisId)}},e.name)}))})),n.buttonRef=O.a.createRef(),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this,t=this.getAxisMeta(Object(J.getAvailableAxes)(this.props.visType));return O.a.createElement("div",{ref:function(t){return e.buttonRef=t}},O.a.createElement(sr.a,{className:this.props.classes.button,variant:"contained",color:"primary",disableRipple:!0,disableFocusRipple:!0,onClick:function(){return e.onUpdate(t[0].axisId)}},t[0].name),t.length>1?O.a.createElement(gc,{onClose:this.onClose,onClick:this.onToggle,anchorEl:this.state.anchorEl,menuItems:this.renderMenuItems(),addToButtonRef:this.buttonRef}):null)}}]),t}(y.Component),Ic=Object(g.connect)((function(e){return{visType:it(e),dialogId:pt(e)}}),{onAddDimension:Jn})(Object(v.withStyles)({button:{borderRadius:"2px 0px 0px 2px",marginLeft:"5px",fontSize:"12px"},menuItem:{fontSize:"15px",textTransform:"initial",whiteSpace:"nowrap",justifyContent:"start",flexWrap:"nowrap",padding:"8px",fontWeight:"400"}})(vc));function jc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),jc(Object($a.a)(n),"state",{onMounted:!1}),jc(Object($a.a)(n),"componentDidUpdate",(function(e){(!Object(sc.a)(e.dxIds,n.props.dxIds)||!Object(sc.a)(e.ouIds,n.props.ouIds))&&n.fetchRecommended(),n.props.dialogId!==J.DIMENSION_ID_ORGUNIT||n.state.ouMounted||n.setState({ouMounted:!0})})),jc(Object($a.a)(n),"fetchRecommended",Object(cc.a)(Object(w.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(J.apiFetchRecommendedIds)(n.context.d2,n.props.dxIds,n.props.ouIds);case 2:t=e.sent,n.props.setRecommendedIds(t);case 4:case"end":return e.stop()}}),e)}))),1e3)),jc(Object($a.a)(n),"selectUiItems",(function(e){var t=e.dimensionId,a=e.items;switch(n.props.setUiItems({dimensionId:t,itemIds:a.map((function(e){return e.id}))}),t){case J.DIMENSION_ID_ORGUNIT:var r={},i={};a.forEach((function(e){var t=J.ouIdHelper.removePrefix(e.id);if(r[t]={id:t,name:e.name||e.displayName,displayName:e.displayName},e.path){var n=Te(e.path);i[e.id]=n==="/".concat(e.id)?"":n.replace(/^\//,"")}})),n.props.addMetadata(r),n.props.addParentGraphMap(i);break;default:n.props.addMetadata(a.reduce((function(e,t){return e[t.id]={id:t.id,name:t.name||t.displayName,displayName:t.displayName},e}),{}))}})),jc(Object($a.a)(n),"closeDialog",(function(){return n.props.closeDialog(null)})),jc(Object($a.a)(n),"getSelectedItems",(function(e){return n.props.selectedItems[e]?n.props.selectedItems[e].filter((function(e){return n.props.metadata[e]})).map((function(e){return{id:e,name:n.props.metadata[e].name}})):[]})),jc(Object($a.a)(n),"getOrgUnitsFromIds",(function(e,t,n){return e.filter((function(e){return void 0!==t[J.ouIdHelper.removePrefix(e)]})).map((function(e){var a=J.ouIdHelper.removePrefix(e);return{id:e,name:t[a].displayName||t[a].name,path:Ne(a,t,n)}}))})),jc(Object($a.a)(n),"renderPersistedContent",(function(e){var t=n.props,a=t.displayNameProperty,r=t.ouIds,i=t.metadata,o=t.parentGraphMap,l=t.dialogId;if(n.state.ouMounted){var c=n.getOrgUnitsFromIds(r,i,o),s=J.DIMENSION_ID_ORGUNIT===l?"block":"none";return O.a.createElement("div",{key:J.DIMENSION_ID_ORGUNIT,style:{display:s}},O.a.createElement(J.OrgUnitDimension,Object.assign({displayNameProperty:a,ouItems:c},e)))}return null})),jc(Object($a.a)(n),"renderDialogContent",(function(){var e=n.props,t=e.displayNameProperty,a=e.dialogId,r=e.type,i=e.dimensions,o=e.removeUiItems,l=e.setUiItems,c={d2:n.context.d2,onSelect:n.selectUiItems,onDeselect:o,onReorder:l};return O.a.createElement(y.Fragment,null,n.renderPersistedContent(c),a&&function(){var e,o=n.getSelectedItems(a),l=n.props.getAxisIdByDimensionId(a),s=r,u=o.length,d=Object(J.getAxisMaxNumberOfItems)(s,l);if(!!d&&u>d&&(e=1===d?se.a.t("'{{visualizationType}}' is intended to show a single data item. Only the first item will be used and saved.",{visualizationType:Object(J.getDisplayNameByVisType)(s)}):se.a.t("'{{visualiationType}}' is intended to show maximum {{maxNumber}} number of items. Only the first {{maxNumber}} items will be used and saved.",{visualiationType:Object(J.getDisplayNameByVisType)(s),maxNumber:d}),o.forEach((function(e,t){e.isActive=t<d}))),a===J.DIMENSION_ID_DATA)return O.a.createElement(J.DataDimension,Object.assign({displayNameProp:t,selectedDimensions:o,infoBoxMessage:e},c));if(a===J.DIMENSION_ID_PERIOD)return O.a.createElement(J.PeriodDimension,Object.assign({selectedPeriods:o},c));if(Object(J.filterOutFixedDimensions)(Object.keys(n.props.dimensions)).includes(a)){var p=i[a]&&i[a].name;return O.a.createElement(J.DynamicDimension,Object.assign({selectedItems:o,dialogId:a,dialogTitle:p},c))}return null}())})),jc(Object($a.a)(n),"renderPrimaryButton",(function(e){return O.a.createElement(ci,{renderComponent:function(t){return n.props.dimensionIdsInLayout.includes(e)?O.a.createElement(lr,{onClick:n.getPrimaryOnClick(t)}):O.a.createElement(Ic,{onClick:n.getPrimaryOnClick(t)})}})})),jc(Object($a.a)(n),"getPrimaryOnClick",(function(e){return function(){e(),n.closeDialog()}})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dialogId,n=e.dimensions,a=!t||t===J.DIMENSION_ID_ORGUNIT;return O.a.createElement(dc.a,{"data-test":"dialog-manager",open:t in n,onClose:this.closeDialog,maxWidth:"lg",disableEnforceFocus:!0,keepMounted:a},this.renderDialogContent(),O.a.createElement(mc.a,null,O.a.createElement(Xr,{onClick:this.closeDialog}),t&&this.renderPrimaryButton(t)))}}]),t}(y.Component);Sc.contextTypes={d2:ar.a.object},Sc.defaultProps={dialogId:null,dxIds:[]};var xc=Object(g.connect)((function(e){return{displayNameProperty:dn(e),dialogId:pt(e),dimensions:Xt(e),metadata:nn(e),parentGraphMap:dt(e),dxIds:yt(e,J.DIMENSION_ID_DATA),ouIds:yt(e,J.DIMENSION_ID_ORGUNIT),selectedItems:ct(e),type:it(e),getAxisIdByDimensionId:function(t){return ht(e,t)},dimensionIdsInLayout:Ot(e)}}),{closeDialog:la,setRecommendedIds:function(e){return{type:Qt,value:e}},setUiItems:ea,addMetadata:ma,addUiItems:ta,removeUiItems:na,addParentGraphMap:ia})(Sc),Dc=function(e,t){e.dataTransfer.setData("text",JSON.stringify({dimensionId:e.target.dataset.dimensionid,source:t}))},Ac=function(e){return JSON.parse(e.dataTransfer.getData("text"))},wc={divContainer:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:Ra.a.grey050}},_c=n(266),Tc=n.n(_c),Nc=n(261),Cc=n.n(Nc),Pc=n(2118),kc=n.n(Pc),Rc=n(863),Lc=n.n(Rc),Uc=n(866),Mc=n.n(Uc),Vc=n(867),Yc=n.n(Vc),Bc=n(579),Gc=n.n(Bc),Fc=n(865),Hc=n.n(Fc),zc={tableContainer:{marginTop:"20px"},nameColumn:{width:"80%"},axisColumn:{width:"10%"},coloredColumn:{backgroundColor:Ra.a.grey100},tableCell:{padding:"4px 24px",borderBottom:"1px solid ".concat(Ra.a.grey300)},head:{borderBottom:"none"},axisRadio:{padding:"0px 10px"},dialogContent:{marginBottom:"0px"},helpText:{lineHeight:"1.5"},dialogActions:{border:"none"}};function Wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wc(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wc(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),Xc(Object($a.a)(n),"state",{items:void 0}),Xc(Object($a.a)(n),"setItems",(function(e){var t=e.reduce((function(e,t){return e[t.id]=t,e}),{});n.setState({items:t})})),Xc(Object($a.a)(n),"onAxisChange",(function(e,t){n.setState({items:qc({},n.state.items,Object(x.a)({},e.id,qc({},e,{axis:t})))})})),Xc(Object($a.a)(n),"getAxes",(function(){var e=Object.keys(n.state.items).reduce((function(e,t){var a=n.state.items[t].axis;return a>0&&(e[t]=a),e}),{});return Object.keys(e).length>0?e:nt.axes})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"componentDidMount",value:function(){this.setItems(this.props.items)}},{key:"componentDidUpdate",value:function(e){var t=e.items,n=this.props.items;Object(sc.a)(t,n)||this.setItems(n)}},{key:"renderTable",value:function(){var e=this,t=this.props.classes;return O.a.createElement(Lc.a,null,O.a.createElement("colgroup",null,O.a.createElement("col",{className:t.nameColumn}),O.a.createElement("col",{className:"".concat(t.axisColumn," ").concat(t.coloredColumn)}),O.a.createElement("col",{className:t.axisColumn})),O.a.createElement(Mc.a,null,O.a.createElement(Yc.a,null,O.a.createElement(Gc.a,{className:t.head}),O.a.createElement(Gc.a,{className:"".concat(t.tableCell," ").concat(t.head),align:"center"},se.a.t("Axis 1")),O.a.createElement(Gc.a,{className:"".concat(t.tableCell," ").concat(t.head),align:"center"},se.a.t("Axis 2")))),O.a.createElement(Hc.a,null,Object.keys(this.state.items).map((function(n){var a=e.state.items[n];return O.a.createElement(Yc.a,{key:"multiaxis-table-row-".concat(n)},O.a.createElement(Gc.a,{className:t.tableCell},a.name),O.a.createElement(Gc.a,{className:t.tableCell,align:"center"},O.a.createElement(kc.a,{onClick:function(){return e.onAxisChange(a,0)},checked:0===a.axis,className:t.axisRadio})),O.a.createElement(Gc.a,{className:t.tableCell,align:"center"},O.a.createElement(kc.a,{onClick:function(){return e.onAxisChange(a,1)},checked:1===a.axis,className:t.axisRadio})))}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.isOpen,r=t.dialogMaxWidth,i=t.onCancelClick;return O.a.createElement(dc.a,{open:a,maxWidth:r,onClose:i,disableEnforceFocus:!0},O.a.createElement(Tc.a,null,se.a.t("Manage axes")),O.a.createElement(Cc.a,{className:n.dialogContent},O.a.createElement("p",{className:n.helpText},se.a.t("A chart can have two axes. Each axis will have its own scale. Set the axis for each data selection below.")),O.a.createElement("div",{className:n.tableContainer},this.state.items&&this.renderTable())),O.a.createElement(mc.a,{className:n.dialogActions},O.a.createElement(sr.a,{color:"primary",disableRipple:!0,disableFocusRipple:!0,onClick:i},se.a.t("Cancel")),O.a.createElement(sr.a,{color:"primary",variant:"contained",onClick:function(){return e.props.onUpdateClick(e.getAxes(),e.props.ui)}},se.a.t("Update"))))}}]),t}(y.Component);Qc.defaultProps={classes:{},isOpen:!1,items:[],onUpdateClick:Function.prototype,onCancelClick:Function.prototype,dialogMaxWidth:"md"};var Kc=Object(g.connect)((function(e){return{isOpen:"axisSetup"===pt(e),items:Wa(e),ui:rt(e)}}),(function(e){return{onUpdateClick:function(t,n){e(pa(t)),e(Yn(qc({},n,{axes:t}))),e(la())},onCancelClick:function(){return e(la())}}}))(Object(v.withStyles)(zc)(Qc));function Zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jc=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),Zc(Object($a.a)(n),"state",{dimensionMenuAnchorEl:null,dimensionId:null}),Zc(Object($a.a)(n),"onDimensionOptionsClick",(function(e,t){e.stopPropagation(),n.setState({dimensionMenuAnchorEl:e.currentTarget,dimensionId:t})})),Zc(Object($a.a)(n),"onDimensionOptionsClose",(function(){return n.setState({dimensionMenuAnchorEl:null,dimensionId:null})})),Zc(Object($a.a)(n),"onDimensionDragStart",(function(e){Dc(e,ue)})),Zc(Object($a.a)(n),"disabledDimension",(function(e){return n.props.disallowedDimensions.includes(e)})),Zc(Object($a.a)(n),"lockedDimension",(function(e){return n.props.lockedDimensions.includes(e)})),Zc(Object($a.a)(n),"getUiAxisId",(function(){var e=St(n.props.ui);return fe(e.layout)[n.state.dimensionId]})),Zc(Object($a.a)(n),"getNumberOfDimensionItems",(function(){return(n.props.itemsByDimension[n.state.dimensionId]||[]).length})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this;return O.a.createElement("div",{style:wc.divContainer},O.a.createElement(J.DimensionsPanel,{dimensions:this.props.dimensions,selectedIds:this.props.selectedIds,disabledDimension:this.disabledDimension,lockedDimension:this.lockedDimension,recommendedDimension:function(t){return e.props.recommendedIds.includes(t)},onDimensionOptionsClick:this.onDimensionOptionsClick,onDimensionDragStart:this.onDimensionDragStart,onDimensionClick:this.props.onDimensionClick}),O.a.createElement(J.DimensionMenu,{dimensionId:this.state.dimensionId,currentAxisId:this.getUiAxisId(),visType:this.props.ui.type,numberOfDimensionItems:this.getNumberOfDimensionItems(),dualAxisItemHandler:this.props.dualAxisItemHandler,axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.dimensionMenuAnchorEl,onClose:this.onDimensionOptionsClose}),O.a.createElement(xc,null))}}]),t}(y.Component),$c=Object(tr.a)([it],(function(e){return Object(J.getDisallowedDimensions)(e)})),es=Object(tr.a)([it],(function(e){return Object(J.getAllLockedDimensionIds)(e)})),ts=Object(g.connect)((function(e){return{ui:r.sGetUi(e),dimensions:o.sGetDimensions(e),selectedIds:r.sGetDimensionIdsFromLayout(e),recommendedIds:l.sGetRecommendedIds(e),layout:r.sGetUiLayout(e),itemsByDimension:r.sGetUiItems(e),disallowedDimensions:$c(e),lockedDimensions:es(e)}}),(function(e){return{onDimensionClick:function(t){return e(p.acSetUiActiveModalDialog(t))},dualAxisItemHandler:function(){return e(la("axisSetup"))},axisItemHandler:function(t,n,a){e(Jn(Object(x.a)({},t,n))),a>0&&e(la(t))},removeItemHandler:function(t){e($n(t))}}}))(Jc),ns=n(2122),as=n.n(ns),rs={wrapper:{position:"relative",width:"380px"},container:{position:"absolute",height:"100%",width:"100%"}};var is=function(e){function t(){var e,n,a,r,i;Object(Qa.a)(this,t);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(l))),a=Object($a.a)(n),i=function(e){if(e){var t="/".concat(n.props.id,"/interpretation/").concat(e.id);L.location.pathname!==t&&(L.push(t),n.props.acSetUiInterpretation({id:e.id,created:e.created}))}else L.push("/".concat(n.props.id))},(r="onInterpretationChange")in a?Object.defineProperty(a,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[r]=i,n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,n=e.id,a=e.interpretationId;return n?O.a.createElement("div",{style:rs.wrapper},O.a.createElement("div",{style:rs.container},O.a.createElement(as.a,{d2:this.context.d2,type:t,id:n,currentInterpretationId:a,onCurrentInterpretationChange:this.onInterpretationChange}))):null}}]),t}(y.Component);is.defaultProps={type:"chart"},is.contextTypes={d2:ar.a.object};var os=Object(g.connect)((function(e){return{interpretationId:ft(e).id||null}}),{acSetUiInterpretation:ua,acClearUiInterpretation:da})(is),ls={chartCanvas:{display:"flex",justifyContent:"center",height:"100%"}},cs=n(211),ss=n.n(cs),us=n(213),ds=n.n(us),ps=n(220),ms=n.n(ps),fs=n(362),bs=n.n(fs),hs=n(222),ys=n.n(hs),Os=n(2256);function gs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Es(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vs(e,t,n){return t&&Es(e.prototype,t),n&&Es(e,n),e}function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function js(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?js(Object(n),!0).forEach((function(t){Is(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):js(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xs(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&As(e,t)}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function As(e,t){return(As=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ws(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _s(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?ws(e):t}function Ts(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],a=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ns="yearlySeries",Cs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ss(Is({},"name",e),t)},Ps={reportTable:[Cs("cumulative",{option:!0}),Cs("hideEmptyColumns",{option:!0}),Cs("legendDisplayStyle",{option:!0}),Cs("measureCriteria",{option:!0}),Cs("numberType",{option:!0}),Cs("regression",{option:!0}),Cs("reportParams",{option:!0}),Cs("skipRounding",{option:!0})],chart:[Cs("category",{excluded:!0}),Cs("series",{excluded:!0}),Cs(Ns)],eventReport:[Cs("dataType")],reportTable_eventReport:[Cs("colSubTotals",{option:!0}),Cs("colTotals",{option:!0}),Cs("displayDensity",{option:!0}),Cs("fontSize",{option:!0}),Cs("hideEmptyRows",{option:!0}),Cs("rowSubTotals",{option:!0}),Cs("rowTotals",{option:!0}),Cs("showDimensionLabels",{option:!0}),Cs("showHierarchy",{option:!0})],chart_eventChart:[Cs("baseLineLabel",{option:!0}),Cs("baseLineValue",{option:!0}),Cs("colorSet",{option:!0}),Cs("cumulativeValues",{option:!0}),Cs("domainAxisLabel",{option:!0}),Cs("hideEmptyRowItems",{option:!0}),Cs("hideLegend",{option:!0}),Cs("noSpaceBetweenColumns",{option:!0}),Cs("percentStackedValues",{option:!0}),Cs("rangeAxisDecimals",{option:!0}),Cs("rangeAxisLabel",{option:!0}),Cs("rangeAxisMaxValue",{option:!0}),Cs("rangeAxisMinValue",{option:!0}),Cs("rangeAxisSteps",{option:!0}),Cs("regressionType",{option:!0}),Cs("showData",{option:!0}),Cs("targetLineLabel",{option:!0}),Cs("targetLineValue",{option:!0}),Cs("type",{option:!0})],eventReport_eventChart:[Cs("attributeValueDimension"),Cs("collapseDataDimensions"),Cs("dataElementValueDimension"),Cs("endDate"),Cs("eventStatus",{option:!0}),Cs("hideNaData",{option:!0}),Cs("outputType",{option:!0}),Cs("program"),Cs("programStage"),Cs("programStatus",{option:!0}),Cs("startDate"),Cs("value")],reportTable_chart_eventReport:[Cs("legendDisplayStrategy",{option:!0}),Cs("legendSet",{option:!0})],reportTable_eventReport_eventChart:[Cs("columnDimensions",{excluded:!0}),Cs("rowDimensions",{excluded:!0})],reportTable_chart_eventReport_eventChart:[Cs("access"),Cs("aggregationType",{option:!0}),Cs("attributeDimensions",{excluded:!0}),Cs("attributeValues",{excluded:!0}),Cs("categoryDimensions",{excluded:!0}),Cs("categoryOptionGroupSetDimensions",{excluded:!0}),Cs("code",{excluded:!0}),Cs("columns"),Cs("completedOnly",{option:!0}),Cs("created"),Cs("dataDimensionItems",{excluded:!0}),Cs("dataElementDimensions",{excluded:!0}),Cs("dataElementGroupSetDimensions",{excluded:!0}),Cs("description"),Cs("digitGroupSeparator"),Cs("displayDescription"),Cs("displayName"),Cs("displayShortName"),Cs("externalAccess",{excluded:!0}),Cs("favorite"),Cs("favorites"),Cs("filterDimensions",{excluded:!0}),Cs("filters"),Cs("hideSubtitle",{option:!0}),Cs("hideTitle",{option:!0}),Cs("href",{excluded:!0}),Cs("id"),Cs("interpretations"),Cs("itemOrganisationUnitGroups",{excluded:!0}),Cs("lastUpdated"),Cs("lastUpdatedBy"),Cs("name"),Cs("organisationUnitGroupSetDimensions",{excluded:!0}),Cs("organisationUnitLevels",{excluded:!0}),Cs("organisationUnits",{excluded:!0}),Cs("parentGraphMap"),Cs("periods",{excluded:!0}),Cs("programIndicatorDimensions",{excluded:!0}),Cs("publicAccess"),Cs("relativePeriods",{excluded:!0}),Cs("rows"),Cs("shortName"),Cs("sortOrder",{option:!0}),Cs("subscribed"),Cs("subscribers"),Cs("subtitle",{option:!0}),Cs("timeField"),Cs("title",{option:!0}),Cs("topLimit",{option:!0}),Cs("translations"),Cs("user"),Cs("userAccesses"),Cs("userGroupAccesses"),Cs("userOrganisationUnit",{excluded:!0}),Cs("userOrganisationUnitChildren",{excluded:!0}),Cs("userOrganisationUnitGrandChildren",{excluded:!0})]},ks=function(e){return e.name},Rs=function(e){return!0===e.excluded?Ss({},e,Is({},"name","!".concat(e.name))):e},Ls=function(e,t,n,a){return!e&&(e=a.slice()),"!"===t.charAt(0)&&e.push(e.shift()),e},Us="name,displayName,displayShortName",Ms="dimensionItem~rename(".concat("id",")"),Vs="legendSet[".concat("id",",").concat(Us,"]"),Ys="user[".concat(Us,",userCredentials[username]]"),Bs="items[".concat(Ms,",").concat(Us,",dimensionItemType]"),Gs="comments[".concat("id",",").concat(Ys,",lastUpdated,text"),Fs="dimension,filter,".concat(Vs,",").concat(Bs),Hs={columns:Fs,rows:Fs,filters:Fs,user:Ys,comments:Gs,interpretations:"id,created"},zs=function(e){return"".concat(e).concat(Hs[e]?"[".concat(Hs[e],"]"):"")},Ws=function(e){return function(e){return Object.entries(Ps).reduce((function(t,n){var a=Ts(n,2),r=a[0],i=a[1];return r.includes(e)?t.concat(i):t}),[])}(e).map(Rs).map(ks).sort().reduce(Ls,null).map(zs).join(",")},qs=function(e,t,n){return e.models[t].get(n,{fields:Ws(t)})},Xs=function(e,t,n){var a,r;return A.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=(new e.analytics.request).fromModel(t).withParameters(n),i.next=3,A.a.awrap(e.analytics.aggregate.get(a));case 3:return r=i.sent,i.abrupt("return",[new e.analytics.response(r)]);case 5:case"end":return i.stop()}}))},Qs=function(e,t,n){var a,r,i,o,l,c,s;return A.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return a=(new e.analytics.request).addPeriodDimension(t.yearlySeries).withSkipData(!0).withSkipMeta(!1).withIncludeMetadataDetails(!0),n.relativePeriodDate&&(a=a.withRelativePeriodDate(n.relativePeriodDate)),u.next=4,A.a.awrap(e.analytics.aggregate.fetch(a));case 4:return r=u.sent,i=[],o=[],l=new Date,c=(""+l.getDate()).padStart(2,0),s=(""+(l.getMonth()+1)).padStart(2,0),r.metaData.dimensions.pe.forEach((function(a){o.push(r.metaData.items[a].name);var l="".concat(a,"-").concat(s,"-").concat(c),u=(new e.analytics.request).fromModel(t).withParameters(n).withRelativePeriodDate(l);i.push(e.analytics.aggregate.get(u))})),u.abrupt("return",Promise.all(i).then((function(t){return{responses:t.map((function(t){return new e.analytics.response(t)})),yearlySeriesLabels:o}})));case 12:case"end":return u.stop()}}))},Ks={baseLineLabel:{defaultValue:void 0,requestable:!1},baseLineValue:{defaultValue:void 0,requestable:!1},cumulativeValues:{defaultValue:!1,requestable:!1},domainAxisLabel:{defaultValue:void 0,requestable:!1},hideEmptyRowItems:{defaultValue:"NONE",requestable:!1},hideLegend:{defaultValue:!1,requestable:!1},noSpaceBetweenColumns:{defaultValue:!1,requestable:!1},percentStackedValues:{defaultValue:!1,requestable:!1},rangeAxisDecimals:{defaultValue:void 0,requestable:!1},rangeAxisLabel:{defaultValue:void 0,requestable:!1},rangeAxisMaxValue:{defaultValue:void 0,requestable:!1},rangeAxisMinValue:{defaultValue:void 0,requestable:!1},rangeAxisSteps:{defaultValue:void 0,requestable:!1},regressionType:{defaultValue:"NONE",requestable:!1},showData:{defaultValue:!0,requestable:!1},targetLineLabel:{defaultValue:void 0,requestable:!1},targetLineValue:{defaultValue:void 0,requestable:!1},aggregationType:{defaultValue:"DEFAULT",requestable:!0},completedOnly:{defaultValue:!1,requestable:!0},hideSubtitle:{defaultValue:!1,requestable:!1},hideTitle:{defaultValue:!1,requestable:!1},sortOrder:{defaultValue:0,requestable:!1},subtitle:{defaultValue:void 0,requestable:!1},title:{defaultValue:void 0,requestable:!1}},Zs=function(){return Object.entries(Ks).filter((function(e){return e[1].requestable}))},Js=function(e){var t=e.reduce((function(e,t){return e.metaData?t.metaData.dimensions.pe.length>e.metaData.dimensions.pe.length&&(e=t):e=t,e}),{}).metaData;return t.dimensions.pe.reduce((function(e,n){var a=t.items[n].name;return e.push(a.replace(/\s+\d{4}$/,"")),e}),[])};function $s(e){var t=e.classes;return ss.a.createElement("div",{className:t.outer},ss.a.createElement(bs.a,{className:t.progress}))}$s.propTypes={classes:ds.a.object.isRequired};var eu=Object(v.withStyles)((function(e){return{progress:{margin:2*e.spacing.unit,maxWidth:200,textAlign:"center",alignSelf:"center"},outer:{display:"flex",justifyContent:"center",height:"100%"}}}))($s),tu=function(e){function t(e){var n;return gs(this,t),Is(ws(n=_s(this,Ds(t).call(this,e))),"getRequestOptions",(function(e,t){var n=Zs().reduce((function(t,n){var a=Ts(n,2),r=a[0],i=a[1];return void 0!==e[r]&&e[r]!==i.defaultValue&&(t[r]=e[r]),t}),{});if(t.relativePeriodDate&&(n.relativePeriodDate=t.relativePeriodDate),t.userOrgUnit&&t.userOrgUnit.length){var a=t.userOrgUnit.map((function(e){return e.split("/").slice(-1)[0]}));n.userOrgUnit=a.join(";")}return n})),Is(ws(n),"getConfigById",(function(e){return qs(n.props.d2,"chart",e)})),Is(ws(n),"renderChart",(function(){var e,t,a,r,i,o,l,c,s,u,d,p,m;return A.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=n.props,t=e.config,a=e.filters,r=e.forDashboard,i=e.onResponsesReceived,o=e.onChartGenerated,l=e.onError,f.prev=1,1!==Object.keys(t).length||!t.id){f.next=8;break}return f.next=5,A.a.awrap(n.getConfigById(t.id));case 5:f.t0=f.sent,f.next=9;break;case 8:f.t0=t;case 9:if(c=f.t0,s=n.getRequestOptions(c,a),u={dashboard:r,noData:{text:ms.a.t("No data")}},d=[],!Object(J.isYearOverYear)(c.type)){f.next=24;break}return p=[],f.next=17,A.a.awrap(Qs(n.props.d2,c,s));case 17:m=f.sent,d=m.responses,p=m.yearlySeriesLabels,u[Ns]=p,u.xAxisLabels=Js(d),f.next=27;break;case 24:return f.next=26,A.a.awrap(Xs(n.props.d2,c,s));case 26:d=f.sent;case 27:d.length&&i(d),n.recreateVisualization=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.animation,t=Object(J.createVisualization)(d,c,n.canvasRef.current,Ss({},u,{animation:e}),void 0,void 0,Object(J.isSingleValue)(c.type)?"dhis":"highcharts");Object(J.isSingleValue)(c.type)?o(t.visualization):o(t.visualization.getSVGForExport({sourceHeight:768,sourceWidth:1024}))},n.recreateVisualization(),n.setState({isLoading:!1}),f.next=36;break;case 33:f.prev=33,f.t1=f.catch(1),l(f.t1);case 36:case"end":return f.stop()}}),null,null,[[1,33]])})),n.canvasRef=ss.a.createRef(),n.recreateVisualization=Function.prototype,n.state={isLoading:!0},n}return xs(t,e),vs(t,[{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e){Object(sc.a)(this.props.config,e.config)&&Object(sc.a)(this.props.filters,e.filters)?this.props.id===e.id&&Object(sc.a)(this.props.style,e.style)||this.recreateVisualization(0):this.renderChart()}},{key:"render",value:function(){return ss.a.createElement(cs.Fragment,null,this.state.isLoading?ss.a.createElement(eu,null):null,ss.a.createElement("div",{ref:this.canvasRef,style:this.props.style}))}}]),t}(cs.Component);tu.defaultProps={config:{},filters:{},forDashboard:!1,style:{},animation:200,onError:Function.prototype,onChartGenerated:Function.prototype,onResponsesReceived:Function.prototype},tu.propTypes={config:ds.a.object.isRequired,d2:ds.a.object.isRequired,onError:ds.a.func.isRequired,animation:ds.a.number,filters:ds.a.object,forDashboard:ds.a.bool,id:ds.a.number,style:ds.a.object,onChartGenerated:ds.a.func,onResponsesReceived:ds.a.func};var nu=[".pivot td{border:1px solid #b2b2b2;padding:5px;}",".pivot-empty{background-color:#cddaed;}",".pivot-dim{background-color:#dae6f8;text-align:center;}",".pivot-dim-total{background-color:#bac6d8;text-align:center;}",".pivot-value{background-color:#fff;text-align:right;}",".pivot-value-total-subgrandtotal{background-color:#d8d8d8;white-space:nowrap;text-align:right;}",".pointer{cursor:pointer;}"];nu.__hash="3856634977";var au=function(e){function t(e){var n;return gs(this,t),Is(ws(n=_s(this,Ds(t).call(this,e))),"getRequestOptions",(function(e,t){var n=Zs().reduce((function(t,n){var a=Ts(n,2),r=a[0],i=a[1];return void 0!==e[r]&&e[r]!==i.defaultValue&&(t[r]=e[r]),t}),{});if(t.relativePeriodDate&&(n.relativePeriodDate=t.relativePeriodDate),t.userOrgUnit&&t.userOrgUnit.length){var a=t.userOrgUnit.map((function(e){return e.split("/").slice(-1)[0]}));n.userOrgUnit=a.join(";")}return n})),Is(ws(n),"getConfigById",(function(e){return qs(n.props.d2,"reportTable",e)})),Is(ws(n),"renderTable",(function(){var e,t,a,r,i,o,l,c,s,u,d,p,m;return A.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(e=n.props,t=e.config,a=e.filters,r=e.onResponsesReceived,i=e.onError,o={get:function(e){return ms.a.t(e)}},l={getLegendSetById:function(){return""},getApiPath:function(){return""}},c={},(s=new Os.config.OptionConfig).setI18nManager(o),s.init(),u={api:Os.api,appManager:l,uiManager:c,i18nManager:o,optionConfig:s},f.prev=8,1!==Object.keys(t).length||!t.id){f.next=15;break}return f.next=12,A.a.awrap(n.getConfigById(t.id));case 12:f.t0=f.sent,f.next=16;break;case 15:f.t0=t;case 16:return d=f.t0,p=n.getRequestOptions(d,a),f.next=20,A.a.awrap(Xs(n.props.d2,d,p));case 20:(m=f.sent).length&&r(m),n.recreateVisualization=function(){var e={showColTotals:d.colTotals,showRowTotals:d.rowTotals,showColSubTotals:d.colSubTotals,showRowSubTotals:d.rowSubTotals,numberType:d.numberType||"VALUE"},t=new Os.Layout(u,d,e),a=new Os.table.PivotTable(u,t,new Os.Response(u,m[0].response),{renderLimit:1e5,trueTotals:!0});a.initialize(),a.build(),n.canvasRef.current.innerHTML=a.render()},n.recreateVisualization(),n.setState({isLoading:!1}),f.next=30;break;case 27:f.prev=27,f.t1=f.catch(8),i(f.t1);case 30:case"end":return f.stop()}}),null,null,[[8,27]])})),n.canvasRef=ss.a.createRef(),n.recreateVisualization=Function.prototype,n.state={isLoading:!0},n}return xs(t,e),vs(t,[{key:"componentDidMount",value:function(){this.renderTable()}},{key:"componentDidUpdate",value:function(e){Object(sc.a)(this.props.config,e.config)&&Object(sc.a)(this.props.filters,e.filters)?this.props.id===e.id&&Object(sc.a)(this.props.style,e.style)||this.recreateVisualization(0):this.renderTable()}},{key:"render",value:function(){return ss.a.createElement(cs.Fragment,null,this.state.isLoading?ss.a.createElement(eu,null):null,ss.a.createElement("div",{ref:this.canvasRef,style:this.props.style,className:"jsx-".concat(nu.__hash)},ss.a.createElement(ys.a,{id:nu.__hash},nu)))}}]),t}(cs.Component);au.defaultProps={config:{},filters:{},style:{},animation:200,onError:Function.prototype,onResponsesReceived:Function.prototype},au.propTypes={config:ds.a.object.isRequired,d2:ds.a.object.isRequired,onError:ds.a.func.isRequired,filters:ds.a.object,id:ds.a.number,style:ds.a.object,onResponsesReceived:ds.a.func};var ru=function(e){return e.config.type&&e.config.type!==J.VIS_TYPE_PIVOT_TABLE?ss.a.createElement(tu,e):ss.a.createElement(au,e)};function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lu={fontWeight:"bold",marginTop:"30px",lineHeight:"22px"},cu={outer:{display:"flex",justifyContent:"center",height:"100%"},inner:{maxWidth:500,textAlign:"center",alignSelf:"center",position:"relative",top:"-20%"},title:ou({},lu,{color:Ra.a.grey700}),description:ou({},lu,{color:Ra.a.grey500})},su=n(2342),uu=n.n(su),du=se.a.t("Create a new visualization by adding dimensions to the layout"),pu=function(e){return O.a.createElement("p",{style:cu.title},e)},mu=Object(g.connect)((function(e){return{error:Aa(e)}}))((function(e){var t=e.error,n=t?O.a.createElement("div",null,O.a.createElement("img",{src:uu.a,alt:se.a.t("Chart error")}),pu(t)):pu(du);return O.a.createElement("div",{style:cu.outer},O.a.createElement("div",{style:cu.inner},n))}));function fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bu=function(e){function t(e){var n;return Object(Qa.a)(this,t),n=Object(Za.a)(this,Object(Ja.a)(t).call(this,e)),fu(Object($a.a)(n),"onError",(function(e){var t=e&&e.message||se.a.t("Error generating chart, please try again");n.props.acSetLoadError(t)})),fu(Object($a.a)(n),"onChartGenerated",(function(e){return n.props.acSetChart(e)})),fu(Object($a.a)(n),"onResponsesReceived",(function(e){var t={};e.forEach((function(e){return Object.entries(e.metaData.items).forEach((function(e){var n=Object(j.a)(e,2),a=n[0],r=n[1];t[a]={id:a,name:r.name||r.displayName,displayName:r.displayName}}))})),n.props.acAddMetadata(t)})),fu(Object($a.a)(n),"getNewRenderId",(function(){return n.setState({renderId:"number"===typeof n.state.renderId?n.state.renderId+1:1})})),fu(Object($a.a)(n),"addResizeHandler",(function(){window.addEventListener("resize",Object(cc.a)((function(){n.getNewRenderId()}),300))})),n.state={renderId:null},n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"componentDidMount",value:function(){this.addResizeHandler()}},{key:"componentDidUpdate",value:function(e){this.props.rightSidebarOpen!==e.rightSidebarOpen&&this.getNewRenderId()}},{key:"render",value:function(){var e=this.props,t=e.visConfig,n=e.visFilters,a=e.error,r=this.state.renderId;return!t||a?O.a.createElement(mu,null):O.a.createElement(ru,{id:r,d2:this.context.d2,config:t,filters:n,onChartGenerated:this.onChartGenerated,onResponsesReceived:this.onResponsesReceived,onError:this.onError,style:ls.chartCanvas})}}]),t}(y.Component);bu.contextTypes={d2:ar.a.object};var hu=Object(tr.a)([Bt,K,ft],(function(e,t,n){return n.id?t:e})),yu=Object(tr.a)([ft],(function(e){return e.created?{relativePeriodDate:e.created}:{}})),Ou=Object(g.connect)((function(e){return{visConfig:hu(e),visFilters:yu(e),rightSidebarOpen:mt(e),error:Aa(e)}}),{acAddMetadata:ma,acSetChart:function(e){return{type:"SET_CHART",value:e}},acSetLoadError:wa})(bu),gu=n(1047),Eu=n.n(gu),vu=n(574),Iu=n.n(vu),ju=n(283),Su=n.n(ju);function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Du(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Au=function(e){var t=e.style;return O.a.createElement("svg",{style:Du({},t),xmlns:"http://www.w3.org/2000/svg",width:"22",height:"24",viewBox:"0 0 24 24"},O.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),O.a.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))},wu={icon:{width:22,height:22,background:"none",color:Ra.a.black,padding:0}};function _u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tu=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),_u(Object($a.a)(n),"state",{anchorEl:null}),_u(Object($a.a)(n),"handleClick",(function(e){e.stopPropagation(),n.setState({anchorEl:e.currentTarget})})),_u(Object($a.a)(n),"handleClose",(function(){n.setState({anchorEl:null})})),_u(Object($a.a)(n),"getMenuId",(function(){return"menu-for-".concat(n.props.id)})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(Su.a,{"aria-owns":this.state.anchorEl?this.getMenuId():null,"aria-haspopup":"true",onClick:this.handleClick,style:wu.icon},O.a.createElement(Au,{style:wu.icon})),O.a.createElement(J.DimensionMenu,{dimensionId:this.props.dimensionId,currentAxisId:this.props.currentAxisId,visType:this.props.visType,numberOfDimensionItems:this.props.numberOfDimensionItems,dualAxisItemHandler:this.props.dualAxisItemHandler,axisItemHandler:this.props.axisItemHandler,removeItemHandler:this.props.removeItemHandler,anchorEl:this.state.anchorEl,onClose:this.handleClose}))}}]),t}(O.a.Component),Nu=Object(g.connect)(null,(function(e){return{dualAxisItemHandler:function(){return e(la("axisSetup"))},axisItemHandler:function(t,n){e(Jn(Object(x.a)({},t,n)))},removeItemHandler:function(t){e($n(t))}}}))(Tu),Cu=n(322),Pu=n.n(Cu),ku=n(282),Ru=n.n(ku),Lu={tooltip:{fontFamily:"roboto",padding:"7px 9px",color:Ra.a.white,fontSize:"12px",backgroundColor:Ra.a.grey900,boxShadow:"none",borderRadius:"3px",position:"relative",top:"5px"},list:{listStyleType:"none",margin:"0px",marginBottom:"-3px",padding:"0px"},item:{marginBottom:"3px"},icon:{fontSize:"13px",marginRight:"6px"},iconWrapper:{display:"flex",alignItems:"center",marginBottom:"5px"}};function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mu={noneSelected:se.a.t("None selected"),onlyOneInUse:function(e){return se.a.t("Only '{{- name}}' in use",{name:e})},onlyLimitedNumberInUse:function(e){return se.a.t("Only '{{number}}' in use",{number:e})}},Vu=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),Uu(Object($a.a)(n),"getWarningLabel",(function(){var e=n.props,t=e.itemIds,a=e.metadata,r=e.displayLimitedAmount,i=1===t.length?Mu.onlyOneInUse(a[t[0]]?a[t[0]].name:t[0]):Mu.onlyLimitedNumberInUse(t.length);return r?i:null})),Uu(Object($a.a)(n),"getItemDisplayNames",(function(){var e=n.props,t=e.itemIds,a=e.metadata,r=e.displayLimitedAmount;return t.length&&!r?t.map((function(e){return a[e]?a[e].name:e})):[]})),Uu(Object($a.a)(n),"renderWarningLabel",(function(e){return O.a.createElement("li",{style:Lu.item},O.a.createElement("div",{style:Lu.iconWrapper},O.a.createElement(Eu.a,{style:Lu.icon}),O.a.createElement("span",null,e)))})),Uu(Object($a.a)(n),"renderItems",(function(e){return e.map((function(e){return O.a.createElement("li",{key:"".concat(n.props.dimensionId,"-").concat(e),style:Lu.item},e)}))})),Uu(Object($a.a)(n),"renderLockedLabel",(function(){return O.a.createElement("li",{style:Lu.item},O.a.createElement("div",{style:Lu.iconWrapper},O.a.createElement(Iu.a,{style:Lu.icon}),O.a.createElement("span",null,n.props.lockedLabel)))})),Uu(Object($a.a)(n),"renderNoItemsLabel",(function(){return O.a.createElement("li",{key:"".concat(n.props.dimensionId,"-").concat(Mu.noneSelected),style:Lu.item},Mu.noneSelected)})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this.getItemDisplayNames(),t=this.getWarningLabel(),n=!e.length&&!t;return O.a.createElement(Pu.a,{anchorEl:this.props.anchorEl,open:this.props.open,placement:"bottom-start"},O.a.createElement(Ru.a,{style:Lu.tooltip},O.a.createElement("ul",{style:Lu.list},t&&this.renderWarningLabel(t),this.props.lockedLabel&&this.renderLockedLabel(),e&&this.renderItems(e),n&&this.renderNoItemsLabel())))}}]),t}(O.a.Component),Yu=Object(g.connect)((function(e){return{metadata:nn(e)}}))(Vu),Bu=function(){return O.a.createElement("svg",{width:"16px",height:"16px",viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},O.a.createElement("g",{id:"Exp",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},O.a.createElement("g",{id:"Artboard",transform:"translate(-80.000000, -9.000000)"},O.a.createElement("g",{id:"icon_dimension_new",transform:"translate(80.000000, 9.000000)"},O.a.createElement("rect",{id:"frame",x:"0",y:"0",width:"16",height:"16"}),O.a.createElement("g",{id:"module",transform:"translate(4.000000, 4.000000)",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round"},O.a.createElement("path",{d:"M0.33209728,1.1742111 L3.16308174,0.0641666694 C3.37911767,-0.0213888898 3.61963794,-0.0213888898 3.83567387,0.0641666694 L6.66665833,1.1742111 C6.87300668,1.26220739 7.00497003,1.467 6.99984343,1.69127776 L6.99984343,5.30887771 C7.00517859,5.53285411 6.87376309,5.73756106 6.66790272,5.82594437 L3.83691826,6.93629991 C3.62076407,7.02123336 3.38048032,7.02123336 3.16432613,6.93629991 L0.333341668,5.82594437 C0.126993317,5.73794808 -0.00497002591,5.53315547 0.000156574133,5.30887771 L0.000156574133,1.69127776 C-0.00517858533,1.46730136 0.126236906,1.26259441 0.33209728,1.1742111 Z",id:"Shape"}),O.a.createElement("path",{d:"M3.5,2.72795833 L0.322,1.48195833",id:"Shape"}),O.a.createElement("path",{d:"M3.5,2.72795833 L6.678,1.48195833",id:"Shape"}),O.a.createElement("path",{d:"M3.5,6.78125 L3.5,2.72795833",id:"Shape"}))))))},Gu=Ra.a.grey300,Fu=Ra.a.white,Hu=Ra.a.grey900;function zu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zu(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qu={chipWrapper:{display:"flex",margin:"4px",backgroundColor:Ra.d.secondary200,borderRadius:"2px",alignItems:"center"},chip:{padding:"1px 6px",fontSize:"14px",fontWeight:400,color:Hu,cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minHeight:24,userSelect:"none"},chipEmpty:{backgroundColor:Ra.a.grey300},fixedDimensionIcon:{paddingRight:"6px"},iconWrapper:{paddingRight:"6px",display:"flex",alignItems:"center"},warningIcon:{fontSize:"14px"},warningIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"},lockIcon:{fontSize:"14px"},lockIconWrapper:{paddingLeft:"6px",display:"flex",alignItems:"center"}};function Xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}qu.chipLeft=Wu({},qu.chip,{display:"flex",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",alignItems:"center"}),qu.chipRight=Wu({},qu.chip,{paddingLeft:"0px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"});var Ku=500,Zu=O.a.createElement("div",{style:qu.lockIconWrapper},O.a.createElement(Iu.a,{style:qu.lockIcon})),Ju=O.a.createElement("div",{style:qu.warningIconWrapper},O.a.createElement(Eu.a,{style:qu.warningIcon})),$u=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),Qu(Object($a.a)(n),"state",{tooltipOpen:!1}),Qu(Object($a.a)(n),"id",Math.random().toString(36)),Qu(Object($a.a)(n),"timeout",null),Qu(Object($a.a)(n),"isLocked",Object(J.getAxisPerLockedDimension)(n.props.type,n.props.dimensionId)===n.props.axisId),Qu(Object($a.a)(n),"axisMaxNumberOfItems",Object(J.getAxisMaxNumberOfItems)(n.props.type,n.props.axisId)),Qu(Object($a.a)(n),"handleMouseOver",(function(){null===n.timeout&&(n.timeout=setTimeout((function(){return n.setState({tooltipOpen:!0})}),Ku))})),Qu(Object($a.a)(n),"handleMouseOut",(function(){"number"===typeof n.timeout&&(clearTimeout(n.timeout),n.timeout=null,n.setState({tooltipOpen:!1}))})),Qu(Object($a.a)(n),"handleClick",(function(e){n.props.onClick(e),n.handleMouseOut()})),Qu(Object($a.a)(n),"getDragStartHandler",(function(){return function(e){n.handleMouseOut(),Dc(e,n.props.axisId)}})),Qu(Object($a.a)(n),"getAnchorEl",(function(){return document.getElementById(n.id)})),Qu(Object($a.a)(n),"getWrapperStyles",(function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xu(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xu(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},qu.chipWrapper,{},n.props.items.length?{}:qu.chipEmpty)})),Qu(Object($a.a)(n),"renderChipLabel",(function(){var e=n.props.items.length,t=n.axisMaxNumberOfItems&&e>n.axisMaxNumberOfItems?se.a.t("{{total}} of {{axisMaxNumberOfItems}} selected",{total:e,axisMaxNumberOfItems:n.axisMaxNumberOfItems}):se.a.t("{{total}} selected",{total:e});return"".concat(n.props.dimensionName).concat(n.props.items.length>0?": ".concat(t):"")})),Qu(Object($a.a)(n),"renderChipIcon",(function(){if(J.FIXED_DIMENSIONS[n.props.dimensionId]){var e=J.FIXED_DIMENSIONS[n.props.dimensionId].icon;return O.a.createElement(e,{style:qu.fixedDimensionIcon})}return O.a.createElement(Bu,{style:qu.dynamicDimensionIcon})})),Qu(Object($a.a)(n),"renderMenu",(function(){return O.a.createElement("div",{style:qu.chipRight},O.a.createElement(Nu,{dimensionId:n.props.dimensionId,currentAxisId:n.props.axisId,visType:n.props.type,numberOfDimensionItems:n.props.items.length}))})),Qu(Object($a.a)(n),"renderTooltip",(function(){var e=n.axisMaxNumberOfItems?n.props.items.slice(0,n.axisMaxNumberOfItems):n.props.items,t=n.isLocked?se.a.t("{{dimensionName}} is locked to {{axisName}} for {{visTypeName}}",{dimensionName:n.props.dimensionName,axisName:Object(J.getAxisName)(n.props.axisId),visTypeName:Object(J.getDisplayNameByVisType)(n.props.type)}):null;return O.a.createElement(Yu,{dimensionId:n.props.dimensionId,itemIds:e,lockedLabel:t,displayLimitedAmount:n.props.items.length>e.length,open:n.state.tooltipOpen,anchorEl:n.getAnchorEl()})})),Qu(Object($a.a)(n),"render",(function(){return O.a.createElement("div",{style:n.getWrapperStyles(),"data-dimensionid":n.props.dimensionId,draggable:!n.isLocked,onDragStart:n.getDragStartHandler()},O.a.createElement("div",{id:n.id,style:qu.chipLeft,onClick:n.handleClick,onMouseOver:n.handleMouseOver,onMouseOut:n.handleMouseOut},O.a.createElement("div",{style:qu.iconWrapper},n.renderChipIcon()),n.renderChipLabel(),Object(J.hasAxisTooManyItems)(n.props.type,n.props.axisId,n.props.items.length)&&Ju,n.isLocked&&Zu),!n.isLocked&&n.renderMenu(),n.getAnchorEl()&&n.renderTooltip())})),n}return Object(er.a)(t,e),t}(O.a.Component);$u.defaultProps={onClick:Function.prototype,items:[]};var ed=Object(g.connect)((function(e,t){return{dimensionName:(Xt(e)[t.dimensionId]||{}).name,items:yt(e,t.dimensionId)||[],type:it(e)}}))($u),td={ct:{display:"flex",minHeight:"78px"},axisGroup:{display:"flex",flexDirection:"column"},axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"},columns:{flexBasis:"50%"},rows:{flexBasis:"50%"},filters:{flexBasis:"100%"}},nd={axisContainer:{display:"flex",backgroundColor:Fu,borderColor:Gu,borderStyle:"solid",borderWidth:"0px 0px 1px 1px",padding:"4px 4px 2px 6px"},axisContainerLeft:{borderLeftWidth:0},label:{minWidth:55,maxWidth:55,padding:"2px 0px 0px 0px",fontSize:11,color:Ra.a.grey700,userSelect:"none",letterSpacing:"0.2px"},content:{display:"flex",alignItems:"flex-start",alignContent:"flex-start",flexWrap:"wrap",minHeight:td.DIMENSION_AXIS_CONTENT_HEIGHT}};function ad(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ad(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ad(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var od=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),id(Object($a.a)(n),"onDragOver",(function(e){e.preventDefault()})),id(Object($a.a)(n),"onDrop",(function(e){e.preventDefault();var t=Ac(e),a=t.dimensionId,r=t.source;n.props.onAddDimension(Object(x.a)({},a,n.props.axisId));var i=n.props.itemsByDimension[a],o=Boolean(!i||!i.length);r===ue&&o&&n.props.onDropWithoutItems(a)})),id(Object($a.a)(n),"isMoveSupported",(function(){return!Object(J.isYearOverYear)(n.props.type)})),id(Object($a.a)(n),"getAxisMenuItems",(function(e){return J.DEFAULT_AXIS_IDS.filter((function(e){return e!==n.props.axisId})).map((function(t){return O.a.createElement(br.a,{key:"".concat(e,"-to-").concat(t),onClick:n.props.getMoveHandler(Object(x.a)({},e,t))},"".concat(se.a.t("Move to")," ").concat(pe[t]))}))})),id(Object($a.a)(n),"isSeries",(function(){return n.props.axisId===J.AXIS_ID_COLUMNS})),id(Object($a.a)(n),"isData",(function(e){return e===J.DIMENSION_ID_DATA})),id(Object($a.a)(n),"getItemsArrayByDimension",(function(e){return n.props.itemsByDimension[e]||[]})),id(Object($a.a)(n),"shouldHaveDualAxis",(function(e){return Boolean(n.isSeries()&&n.isData(e)&&Object(J.isDualAxisType)(n.props.type)&&n.getItemsArrayByDimension(n.props.axis[0]).length>1)})),id(Object($a.a)(n),"getDualAxisItem",(function(e){return O.a.createElement(br.a,{key:"dual-axis-".concat(e),onClick:n.props.onOpenAxisSetup},se.a.t("Manage axes"))})),id(Object($a.a)(n),"getRemoveMenuItem",(function(e){return O.a.createElement(br.a,{key:"remove-".concat(e),onClick:n.props.getRemoveHandler(e)},se.a.t("Remove"))})),id(Object($a.a)(n),"getDividerItem",(function(e){return O.a.createElement(dr.a,{light:!0,key:e})})),id(Object($a.a)(n),"getMenuItems",(function(e){return[n.shouldHaveDualAxis(e)?n.getDualAxisItem(e):null,n.shouldHaveDualAxis(e)?n.getDividerItem("dual-axis-menu-divider"):null].concat(Object(H.a)(n.isMoveSupported()?n.getAxisMenuItems(e):[]),[n.getRemoveMenuItem(e)])})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){var e=this;return O.a.createElement("div",{id:this.props.axisId,style:rd({},nd.axisContainer,{},this.props.style),onDragOver:this.onDragOver,onDrop:this.onDrop},O.a.createElement("div",{style:nd.label},Object(J.getAxisName)(this.props.axisId)),O.a.createElement("div",{style:nd.content},this.props.axis.map((function(t){return O.a.createElement(ed,{key:"".concat(e.props.axisId,"-").concat(t),onClick:e.props.getOpenHandler(t),axisId:e.props.axisId,dimensionId:t})}))))}}]),t}(O.a.Component),ld=Object(g.connect)((function(e){return{ui:rt(e)}}),(function(e){return{onAddDimension:function(t){return e(Jn(t))},onDropWithoutItems:function(t){return e(la(t))},getOpenHandler:function(t){return function(){return e(la(t))}}}}),(function(e,t,n){var a=St(e.ui);return rd({axis:a.layout[n.axisId],itemsByDimension:a.itemsByDimension,type:a.type},t,{},n)}))(od);function cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ud=function(){return O.a.createElement("div",{id:"layout-ct",style:td.ct},O.a.createElement("div",{id:"axis-group-1",style:sd({},td.axisGroup,{},td.axisGroupLeft)},O.a.createElement(ld,{axisId:"columns",style:sd({},td.columns,{},nd.axisContainerLeft)}),O.a.createElement(ld,{axisId:"rows",style:sd({},td.rows,{},nd.axisContainerLeft)})),O.a.createElement("div",{id:"axis-group-2",style:sd({},td.axisGroup,{},td.axisGroupRight)},O.a.createElement(ld,{axisId:"filters",style:td.filters})))};ud.displayName="Layout";var dd=ud,pd={flex:"1 1 0%"};function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bd=Object(g.connect)((function(e){return{yearOverYearSeries:st(e),yearOverYearCategory:ut(e)}}))((function(e){return O.a.createElement("div",{id:e.axisId,style:fd({},nd.axisContainer,{},e.style)},O.a.createElement("div",{className:"label",style:nd.label},Object(J.getAxisName)(e.axisId)),O.a.createElement("div",{className:"content",style:fd({},nd.content,{},pd)},e.children))})),hd=n(276),yd=n.n(hd),Od={displayProps:{background:"transparent",marginLeft:"4px"}};function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ed=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),gd(Object($a.a)(n),"state",{open:!1}),gd(Object($a.a)(n),"handleClose",(function(){n.setState({open:!1})})),gd(Object($a.a)(n),"handleOpen",(function(){n.setState({open:!0})})),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"render",value:function(){return O.a.createElement(yd.a,{disableUnderline:!0,multiple:Boolean(this.props.multiple),open:this.state.open,onChange:this.props.onChange,onClose:this.handleClose,onOpen:this.handleOpen,value:this.props.value,SelectDisplayProps:{style:Od.displayProps}},this.props.options.map((function(e){return O.a.createElement(br.a,{key:e.id,value:e.id},e.name)})))}}]),t}(O.a.Component),vd={axisGroupLeft:{flexBasis:"".concat(100-parseInt("67%",10),"%")},axisGroupRight:{flexBasis:"67%"}},Id=[{id:"THIS_YEAR",name:se.a.t("This year")},{id:"LAST_YEAR",name:se.a.t("Last year")},{id:"LAST_5_YEARS",name:se.a.t("Last 5 years")}].concat(Object(H.a)(function(e){var t=(new Date).getFullYear();return new Array(e).fill(null).map((function(){return{id:String(t),name:t--}}))}(10))),jd=[{id:"LAST_3_DAYS",name:se.a.t("Last 3 days")},{id:"LAST_7_DAYS",name:se.a.t("Last 7 days")},{id:"LAST_14_DAYS",name:se.a.t("Last 14 days")},{id:"LAST_4_WEEKS",name:se.a.t("Last 4 weeks")},{id:"LAST_12_WEEKS",name:se.a.t("Last 12 weeks")},{id:"LAST_52_WEEKS",name:se.a.t("Last 52 weeks")},{id:"WEEKS_THIS_YEAR",name:se.a.t("Weeks per year")},{id:"LAST_3_MONTHS",name:se.a.t("Last 3 months")},{id:"LAST_6_MONTHS",name:se.a.t("Last 6 months")},{id:"LAST_12_MONTHS",name:se.a.t("Last 12 months")},{id:"MONTHS_THIS_YEAR",name:se.a.t("Months per year")},{id:"LAST_6_BIMONTHS",name:se.a.t("Last 6 bimonths")},{id:"BIMONTHS_THIS_YEAR",name:se.a.t("Bimonths per year")},{id:"LAST_4_QUARTERS",name:se.a.t("Last 4 quarters")},{id:"QUARTERS_THIS_YEAR",name:se.a.t("Quarters per year")},{id:"LAST_2_SIXMONTHS",name:se.a.t("Last 2 six-months")}];function Sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dd=function(e){return O.a.createElement("div",{id:"layout-ct",style:td.ct},O.a.createElement("div",{id:"axis-group-1",style:xd({},td.axisGroup,{},vd.axisGroupLeft)},O.a.createElement(bd,{axisId:"yearOverYearSeries",style:xd({},td.columns,{},nd.axisContainerLeft)},O.a.createElement(Ed,{multiple:"true",value:e.yearOverYearSeries,onChange:e.onSeriesChange,options:Id})),O.a.createElement(bd,{axisId:"yearOverYearCategory",style:xd({},td.rows,{},nd.axisContainerLeft)},O.a.createElement(Ed,{value:e.yearOverYearCategory[0],onChange:e.onCategoryChange,options:jd}))),O.a.createElement("div",{id:"axis-group-2",style:xd({},td.axisGroup,{},vd.axisGroupRight)},O.a.createElement(ld,{axisId:J.AXIS_ID_FILTERS,style:td.filters})))};Dd.displayName="Layout";var Ad=Object(g.connect)((function(e){return{yearOverYearSeries:st(e),yearOverYearCategory:ut(e)}}),(function(e){return{onSeriesChange:function(t){t.target.value.length&&e(aa(t.target.value))},onCategoryChange:function(t){return e(ra(t.target.value))}}}))(Dd);function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Td,Nd=function(){return O.a.createElement("div",{id:"layout-ct",style:td.ct},O.a.createElement("div",{id:"axis-group-1",style:_d({},td.axisGroup,{},td.axisGroupLeft)},O.a.createElement(ld,{axisId:J.AXIS_ID_COLUMNS,style:_d({},td.filters,{},nd.axisContainerLeft)})),O.a.createElement("div",{id:"axis-group-2",style:_d({},td.axisGroup,{},td.axisGroupRight)},O.a.createElement(ld,{axisId:J.AXIS_ID_FILTERS,style:td.filters})))},Cd=(Td={},Object(x.a)(Td,J.VIS_TYPE_COLUMN,dd),Object(x.a)(Td,J.VIS_TYPE_STACKED_COLUMN,dd),Object(x.a)(Td,J.VIS_TYPE_BAR,dd),Object(x.a)(Td,J.VIS_TYPE_STACKED_BAR,dd),Object(x.a)(Td,J.VIS_TYPE_LINE,dd),Object(x.a)(Td,J.VIS_TYPE_AREA,dd),Object(x.a)(Td,J.VIS_TYPE_PIE,Nd),Object(x.a)(Td,J.VIS_TYPE_RADAR,dd),Object(x.a)(Td,J.VIS_TYPE_GAUGE,Nd),Object(x.a)(Td,J.VIS_TYPE_YEAR_OVER_YEAR_LINE,Ad),Object(x.a)(Td,J.VIS_TYPE_YEAR_OVER_YEAR_COLUMN,Ad),Object(x.a)(Td,J.VIS_TYPE_SINGLE_VALUE,Nd),Object(x.a)(Td,J.VIS_TYPE_PIVOT_TABLE,dd),Td),Pd=Object(g.connect)((function(e){return{type:it(e)}}))((function(e){return function(e,t){var n=Cd[e];return O.a.createElement(n,t)}(e.type)}));function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ld={TODAY:se.a.t("Today"),YESTERDAY:se.a.t("Yesterday"),LAST_3_DAYS:se.a.t("Last 3 days"),LAST_7_DAYS:se.a.t("Last 7 days"),LAST_14_DAYS:se.a.t("Last 14 days"),THIS_WEEK:se.a.t("This week"),LAST_WEEK:se.a.t("Last week"),LAST_4_WEEKS:se.a.t("Last 4 weeks"),LAST_12_WEEKS:se.a.t("Last 12 weeks"),LAST_52_WEEKS:se.a.t("Last 52 weeks"),WEEKS_THIS_YEAR:se.a.t("Weeks this year"),THIS_MONTH:se.a.t("This month"),LAST_MONTH:se.a.t("Last month"),LAST_3_MONTHS:se.a.t("Last 3 months"),LAST_6_MONTHS:se.a.t("Last 6 months"),LAST_12_MONTHS:se.a.t("Last 12 months"),MONTHS_THIS_YEAR:se.a.t("Months this year"),THIS_BIMONTH:se.a.t("This bimonth"),LAST_BIMONTH:se.a.t("Last bimonth"),LAST_6_BIMONTHS:se.a.t("Last 6 bimonths"),BIMONTHS_THIS_YEAR:se.a.t("Bimonths this year"),THIS_QUARTER:se.a.t("This quarter"),LAST_QUARTER:se.a.t("Last quarter"),LAST_4_QUARTERS:se.a.t("Last 4 quarters"),QUARTERS_THIS_YEAR:se.a.t("Quarters this year"),THIS_SIX_MONTH:se.a.t("This six-month"),LAST_SIX_MONTH:se.a.t("Last six-month"),LAST_2_SIXMONTHS:se.a.t("Last 2 six-months"),THIS_FINANCIAL_YEAR:se.a.t("This financial year"),LAST_FINANCIAL_YEAR:se.a.t("Last financial year"),LAST_5_FINANCIAL_YEARS:se.a.t("Last 5 financial years"),THIS_YEAR:se.a.t("This year"),LAST_YEAR:se.a.t("Last year"),LAST_5_YEARS:se.a.t("Last 5 years")},Ud={USER_ORGUNIT:se.a.t("User org unit"),USER_ORGUNIT_CHILDREN:se.a.t("User org unit children"),USER_ORGUNIT_GRANDCHILDREN:se.a.t("User org unit grand children")},Md=Object.entries(Rd({},Ld,{},Ud)).reduce((function(e,t){var n=Object(j.a)(t,2),a=n[0],r=n[1];return Rd({},e,Object(x.a)({},a,{name:r}))}),{});n(2343),n(2344);function Vd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gd=function(e){function t(){var e,n;Object(Qa.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=Object(Za.a)(this,(e=Object(Ja.a)(t)).call.apply(e,[this].concat(r))),Bd(Object($a.a)(n),"unlisten",null),Bd(Object($a.a)(n),"state",{previousLocation:null}),Bd(Object($a.a)(n),"refetch",(function(e){return!n.state.previousLocation||(e.pathname.slice(1).split("/")[0]!==n.state.previousLocation.slice(1).split("/")[0]||n.state.previousLocation===e.pathname)})),Bd(Object($a.a)(n),"loadVisualization",function(){var e=Object(w.a)(A.a.mark((function e(t){var a,r,i,o,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.context.store,!(t.pathname.length>1)){e.next=20;break}if(r=t.pathname.slice(1).split("/"),i=r[0],o=r[2],!(l=i===ei)){e.next=14;break}return e.next=9,oi();case 9:c=e.sent,n.props.addParentGraphMap(xt(c)),n.props.setVisualization(c),n.props.setUiFromVisualization(c),n.props.setCurrentFromUi(n.props.ui);case 14:if(l||!n.refetch(t)){e.next=17;break}return e.next=17,a.dispatch(Pa({type:n.props.apiObjectName,id:i,interpretationId:o,ouLevels:n.props.ouLevels}));case 17:o||a.dispatch(p.acClearUiInterpretation()),e.next=22;break;case 20:ka(a.dispatch,a.getState),p.acClearUiInterpretation(a.dispatch);case 22:n.setState({previousLocation:t.pathname});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Bd(Object($a.a)(n),"componentDidMount",Object(w.a)(A.a.mark((function e(){var t,a,r,i,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.context.store,a=n.props,r=a.d2,i=a.userSettings,e.next=4,t.dispatch(f.tAddSettings(i));case 4:t.dispatch(b.acReceivedUser(r.currentUser)),t.dispatch(d.tSetDimensions(r)),o=n.props.settings.rootOrganisationUnit,t.dispatch(m.acAddMetadata(Yd({},Md,Object(x.a)({},o.id,Yd({},o,{path:"/".concat(o.id)}))))),n.loadVisualization(n.props.location),n.unlisten=L.listen((function(e){n.loadVisualization(e)})),document.body.addEventListener("keyup",(function(e){return"Enter"===e.key&&!0===e.ctrlKey&&n.props.setCurrentFromUi(n.props.ui)}));case 11:case"end":return e.stop()}}),e)})))),n}return Object(er.a)(t,e),Object(Ka.a)(t,[{key:"componentWillUnmount",value:function(){this.unlisten&&this.unlisten()}},{key:"getChildContext",value:function(){return{baseUrl:this.props.baseUrl,i18n:se.a,d2:this.props.d2}}},{key:"render",value:function(){return O.a.createElement(O.a.Fragment,null,O.a.createElement(Kc,null),O.a.createElement("div",{className:"data-visualizer-app flex-ct flex-dir-col"},O.a.createElement("div",{className:"section-toolbar flex-ct"},O.a.createElement("div",{className:"toolbar-type"},O.a.createElement(lc,null)),O.a.createElement("div",{className:"toolbar-menubar flex-grow-1"},O.a.createElement(fl,{apiObjectName:this.props.apiObjectName}))),O.a.createElement("div",{className:"section-main flex-grow-1 flex-ct"},O.a.createElement("div",{className:"main-left"},O.a.createElement(ts,null)),O.a.createElement("div",{className:"main-center flex-grow-1 flex-basis-0 flex-ct flex-dir-col"},O.a.createElement("div",{className:"main-center-layout"},O.a.createElement(Pd,null)),O.a.createElement("div",{className:"main-center-titlebar"},O.a.createElement(xl,null)),O.a.createElement("div",{className:"main-center-canvas flex-grow-1"},O.a.createElement(Ou,null))),this.props.ui.rightSidebarOpen&&this.props.current&&O.a.createElement("div",{className:"main-right"},O.a.createElement(os,{type:this.props.apiObjectName,id:this.props.current.id})))),O.a.createElement(Ua,null))}}]),t}(y.Component),Fd=Object(tr.a)([it],(function(e){return e===J.VIS_TYPE_PIVOT_TABLE?"reportTable":"chart"}));Gd.contextTypes={store:ar.a.object},Gd.childContextTypes={d2:ar.a.object,baseUrl:ar.a.string,i18n:ar.a.object};var Hd=Object(g.connect)((function(e){return{settings:c.sGetSettings(e),current:i.sGetCurrent(e),interpretations:a.sGetInterpretations(e),ui:r.sGetUi(e),apiObjectName:Fd(e)}}),(function(e){return{setCurrentFromUi:function(t){return e(u.acSetCurrentFromUi(t))},setVisualization:function(t){return e(s.acSetVisualization(t))},setUiFromVisualization:function(t){return e(p.acSetUiFromVisualization(t))},addParentGraphMap:function(t){return e(p.acAddParentGraphMap(t))}}}))(Gd),zd=n(2345);function Wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var qd=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wd(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wd(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.n(zd).a),Xd=Object(v.createMuiTheme)(qd),Qd=["chart","reportTable","organisationUnit","userGroup"];t.default=function(){var e=Object(I.c)(),t=qa([E.default.withExtraArgument(e),Xa]);return window.Cypress&&(window.store=t),O.a.createElement(g.Provider,{store:t},O.a.createElement(v.MuiThemeProvider,{theme:Xd},O.a.createElement(F,{schemas:Qd},(function(e){return O.a.createElement(Hd,e)}))))}}}]);
//# sourceMappingURL=app.f33a1509.chunk.js.map